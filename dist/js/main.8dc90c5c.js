(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+2NO":function(e,t,n){},0:function(e,t){},"0yI3":function(e,t,n){var a=n("LboF"),r=n("MGGy");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},"1prA":function(e,t,n){},"2ViM":function(e,t,n){var a=n("LboF"),r=n("38+I");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},"38+I":function(e,t,n){},"4r2m":function(e,t,n){},"63/5":function(e,t){e.exports={OUTPUT_DIR:"dist",SOURCE_DIR:"src",TEMP_DIR:"./.temp",ENTRY:"src/app.jsx",TEMPLATE:"./public/index.html",API_MOCK:!0,PX2REM:!0,IMAGE_Q1:.6,IMAGE_Q2:.8,RES_PATH:"//yun.duiba.com.cn/spark/v2/temp_base/1647241938157/",RES_PATH_PROD:"//yun.duiba.com.cn/spark/v2/temp_base/1647241938157",JS_PATH_PROD:"https://yun.duiba.com.cn/spark/v2/temp_base/1647248831418/js"}},"8TUu":function(e,t,n){var a=n("LboF"),r=n("Ftvq");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},"9nJz":function(e,t,n){var a=n("LboF"),r=n("XZaq");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},Ahvc:function(e,t,n){var a=n("LboF"),r=n("Eed8");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},BSEa:function(e,t,n){var a=n("LboF"),r=n("m3yN");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},BoQS:function(e,t,n){var a=n("LboF"),r=n("djXm");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},DQNj:function(e,t,n){},E1gr:function(e,t,n){var a=n("LboF"),r=n("JNeu");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},Eed8:function(e,t,n){},Emlq:function(e,t,n){var a=n("LboF"),r=n("T1n8");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},Ftvq:function(e,t,n){},JJ6M:function(e,t,n){var a=n("LboF"),r=n("4r2m");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},JNeu:function(e,t,n){},M3UD:function(e,t,n){var a=n("LboF"),r=n("rnan");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},MGGy:function(e,t,n){},Sy0l:function(e,t,n){var a=n("LboF"),r=n("vG5m");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},T1n8:function(e,t,n){},Ttxw:function(e,t,n){var a=n("LboF"),r=n("wK0R");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},XZaq:function(e,t,n){},YXFd:function(e,t,n){var a=n("LboF"),r=n("kuMG");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},ZCbv:function(e,t,n){var a=n("LboF"),r=n("Zgov");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},ZHvt:function(e,t,n){var a=n("LboF"),r=n("jrk5");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},ZMNk:function(e,t,n){var a=n("LboF"),r=n("mwOi");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},Zgov:function(e,t,n){},aGT1:function(e,t,n){var a=n("LboF"),r=n("ehn5");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},djXm:function(e,t,n){},e8iM:function(e,t,n){var a=n("LboF"),r=n("DQNj");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},ehn5:function(e,t,n){},jWAv:function(e,t,n){},jrk5:function(e,t,n){},k7yg:function(e,t,n){"use strict";n.r(t);var a=n("yXPU"),r=n.n(a),o=n("lwsE"),s=n.n(o),i=n("W8MJ"),c=n.n(i),u=n("7W2i"),l=n.n(u),p=n("a1gu"),f=n.n(p),d=n("Nsbk"),m=n.n(d),h=n("o0o1"),g=n.n(h),y=n("q1tI"),v=n.n(y),b=n("i8i4"),w=n.n(b),E=n("TyAF"),x=(n("mPlr"),n("lSNA")),P=n.n(x),k=n("aFzQ"),_=n("cDf5"),S=n.n(_),N={getRule:"projectRule.query",getFrontVariable:"coop_frontVariable.query",doJoin:{uri:"join.do",method:"post"},index:"home/index.do",accessData:"home/accessData.do",cardList:"home/cardList.do",join:"home/join.do",GET_PHOTOLIST:"home/landscapePhoto.do",gameStart:{uri:"game/start.do",withToken:!0},gameSubmit:{uri:"game/submit.do",withToken:!0},gameIndex:"game/index.do",prizeQuery:"ru_1.query",prizeLottery:{uri:"prize/join.do",withToken:!0},getSceneId:"gameInvite/createItem.do",GET_QR_Content:"/wechat/sceneqrcode/getSceneQrCodeContent",GET_QR_Code:"/customActivity/qrcode/getQrcode",doAssist:{uri:"gameInvite/doAssist.do",withToken:!0},queryTaskList:"home/taskList.do",doReadTask:"home/doTask.do"},T=n("Wgss"),C=n("zgwS"),G=n("cj9Y"),R=n("bCyt");n("J4zp");function O(e,t){Object(G.a)({100020:"自己不能为自己助力",600023:"您的助力次数已用完",600020:"您已为他助力过啦",600021:"您的好友被助力已达上限"}[t]||""||e||"网络异常，请稍后再试~",2e3,{hideOthers:!0})}var I=function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return function(){var r=+new Date;t&&r<t+a?(clearTimeout(n),n=setTimeout((function(){t=r}),a)):(t=r,e.apply(this,arguments))}};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={user_type:R.c?"0":"1",is_from_share:R.b?"0":"1"},j=function(e){var t={},n=function(n){var a=function(e){if("string"==typeof e)return{uri:e,method:"get"};if("object"===S()(e)){var t=e.uri,n=e.method,a=void 0===n?"get":n,r=e.headers,o=e.withToken,s=e.secret,i=e.secretKey,c=e.contentType;return{uri:t,method:a,headers:r,withToken:o,secret:s,secretKey:i,contentType:void 0===c?"form":c}}console.error("getRequestParams: 传参有误")}(e[n]),o=a.method,s=a.uri,i=a.headers,c=a.withToken,u=a.secret,l=a.secretKey,p=a.contentType;t[n]=r()(g.a.mark((function e(){var t,n,a,r,f,d=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:{},n=d.length>1?d[1]:void 0,!t.fromCache||!F[s]){e.next=4;break}return e.abrupt("return",F[s]);case 4:if(!c){e.next=15;break}return e.prev=5,e.next=8,Object(T.a)();case 8:a=e.sent,e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(5),Object(G.a)("网络开小差了，稍后再试"),e.abrupt("return",{success:!1});case 15:return r=L(L({},i),n),c&&a&&(t.token=a),t=L(L({},t),D),console.info("params:",a,c,t),e.next=21,Object(C.c)(s,t,o,r,!1,u,l,p).catch((function(e){Object(G.a)("网络开小差了，稍后再试")}));case 21:if(!(f=e.sent)){e.next=26;break}return f.success||O(f.message,f.code),F[s]=f,e.abrupt("return",f);case 26:return e.abrupt("return",{success:!1});case 27:case"end":return e.stop()}}),e,null,[[5,11]])})))};for(var a in e)n(a);return t}(L({},N));var F={};var B,A=n("RIqP"),Y=n.n(A),z={},U=Object(k.l)({popList:[],pushPop:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.popList.length){var a,r=this.popList.slice();r.push({key:e,data:t,isMulti:n}),r=r.sort((function(e,t){return(z[t.key]?z[t.key]:10)-(z[e.key]?z[e.key]:10)})),this.popList.clear(),(a=this.popList).push.apply(a,Y()(r))}else this.popList.push({key:e,data:t,isMulti:n})},closePop:function(e){if(e){var t,n=this.popList.slice();n=n.filter((function(t){return t.key!=e})),this.popList.clear(),(t=this.popList).push.apply(t,Y()(n))}else this.popList.shift()},closePopAll:function(){this.popList.clear()}}),H=n("rrPc"),q=n("63/5");n("Ttxw");function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var V,X=Object(E.a)(B=function(e){l()(n,e);var t=W(n);function n(e){return s()(this,n),t.call(this,e)}return c()(n,[{key:"render",value:function(){return v.a.createElement("div",{className:"sorrymodal "},v.a.createElement("span",{className:"back",onClick:this.closeModal}),v.a.createElement("span",{className:"confirm md28",onClick:this.closeModal}),v.a.createElement("span",{className:"desc"},"您的金币今日\n已达上限"),v.a.createElement("div",{className:"close-btn",onClick:this.closeModal}))}}]),n}(v.a.Component))||B;function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z,K={lotteryPrizeList:[],onInitLotteryData:function(){var e=this;return r()(g.a.mark((function t(){var n,a,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.prizeQuery();case 2:n=t.sent,a=n.success,r=n.data,a&&(e.lotteryPrizeList=r);case 6:case"end":return t.stop()}}),t)})))()}},$={GameInfo:{gameRule:" 2",targetScore:20,frequency:22,gameTime:100,newUsr:1,coins:22},setGameInfo:function(){var e=this;return r()(g.a.mark((function t(){var n,a,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.gameIndex();case 2:n=t.sent,a=n.success,r=n.data,a&&(e.GameInfo=r);case 6:case"end":return t.stop()}}),t)})))()},reduceFrequency:function(){this.GameInfo.frequency--}},ee=Object(k.l)(Q(Q((V={ruleInfo:"",frontVariable:{},indexInfo:{},curIndex:0},P()(V,"indexInfo",{totalCredits:0,prizeCredits:20,followOfficalAccount:!1,showAnimate:!0,inviteCredits:20}),P()(V,"cardInfo",[]),P()(V,"curPageData",{}),P()(V,"curPage","loading"),P()(V,"setRule",(function(e){this.ruleInfo=e})),P()(V,"changePage",(function(e,t,n){this.curPage=e,this.curPageData=t,document.querySelector("html").scrollTop=0,n&&n()})),P()(V,"reduceIndexInfoOfTotalCredits",(function(){this.indexInfo.totalCredits-=this.indexInfo.prizeCredits})),P()(V,"setIndexInfo",(function(e){this.indexInfo=e})),P()(V,"reduceCredits",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.indexInfo.totalCredits-=e})),P()(V,"setCardInfo",(function(e){this.cardInfo=e})),P()(V,"setCurIndex",(function(e){this.curIndex=e})),P()(V,"initRule",(function(){var e=this;return r()(g.a.mark((function t(){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getRule();case 2:n=t.sent,a=n.data,e.setRule(a);case 5:case"end":return t.stop()}}),t)})))()})),P()(V,"getFrontVariable",(function(){var e=this;return r()(g.a.mark((function t(){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.getFrontVariable();case 2:n=t.sent,a=n.data,e.frontVariable=a||{},CFG.ShareData.thumbnail=e.frontVariable.shareUrl;case 7:case"end":return t.stop()}}),t)})))()})),P()(V,"getIndex",(function(e){var t=this;return r()(g.a.mark((function n(){var a,r,o,s,i,c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.index(e);case 2:if(null==(a=n.sent)||!a.success){n.next=11;break}if(t.setIndexInfo(null==a?void 0:a.data),r=null==a?void 0:a.data,o=r.followOfficalAccount,s=r.newUser,i=r.tagList,c=r.ifLimit,1!==s){n.next=9;break}return n.next=9,j.accessData();case 9:o||U.pushPop("wxcode"),c?H.ModalCtrlIns.showModal(X):null!==i&&""!==i&&i.length&&i.map((function(e,t){switch(e.code){case"assist":U.pushPop("getinvite",{tagList:e});break;case"read":U.pushPop("getread",{tagList:e})}}));case 11:case"end":return n.stop()}}),n)})))()})),P()(V,"getCardInfo",(function(){var e=this;return r()(g.a.mark((function t(){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.cardList();case 2:null!=(n=t.sent)&&n.success&&(a=null!=n&&n.data.length?null==n?void 0:n.data.map((function(e,t){return e})):[],e.setCardInfo(a));case 4:case"end":return t.stop()}}),t)})))()})),V),$),K));n("ZCbv");function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var ne,ae=Object(E.a)(Z=function(e){l()(n,e);var t=te(n);function n(e){return s()(this,n),t.call(this,e)}return c()(n,[{key:"render",value:function(){return v.a.createElement("div",{className:"drawfailmodal"},v.a.createElement("span",{className:"back"}),v.a.createElement("span",{className:"closebtn",onClick:this.closeModal}),v.a.createElement("span",{className:"good md22",onClick:this.closeModal}),v.a.createElement("span",{className:"tips",style:{whiteSpace:"pre-wrap"}},"本次没有中奖哦\n再接再厉吧～"))}}]),n}(v.a.Component))||Z,re=n("PJYZ"),oe=n.n(re);n("M3UD");function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var ie,ce=Object(E.a)(ne=function(e){l()(n,e);var t=se(n);function n(e){var a;return s()(this,n),a=t.call(this,e),P()(oe()(a),"closeModal2",(function(){a.closeModal()})),a}return c()(n,[{key:"render",value:function(){var e=this,t=this.props.prizeInfo,n=t.icon,a=t.name;return v.a.createElement("div",{className:"drawsucmodal"},v.a.createElement("span",{className:"inGroup2"}),v.a.createElement("span",{className:"closebtn",onClick:this.closeModal2}),v.a.createElement("span",{className:"confirmbtn md21",onClick:function(){e.closeModal(),window.location.href=CFG.recordUrl}}),v.a.createElement("span",{className:"prizename lineClamp1"},a),v.a.createElement("div",{className:"prize-img",style:{backgroundImage:"url(".concat(n,")")}}),v.a.createElement("span",{className:"tips tsc"},"*奖品可在【我的奖品】中查看*"))}}]),n}(v.a.Component))||ne;n("Ahvc");function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var le,pe=Object(E.a)(ie=function(e){l()(n,e);var t=ue(n);function n(e){var a;return s()(this,n),a=t.call(this,e),P()(oe()(a),"closeModal4",(function(){a.closeModal()})),a}return c()(n,[{key:"render",value:function(){return v.a.createElement("div",{className:"gamefailmodal"},v.a.createElement("span",{className:"back"}),v.a.createElement("span",{className:"closebtn",onClick:this.closeModal4}),v.a.createElement("span",{className:"confirmbtn md27",onClick:this.closeModal4}),v.a.createElement("span",{className:"t2 "},"- 闯关失败 再接再厉 -"),v.a.createElement("span",{className:"t1 "},"游戏得分：",this.props.score,"分"),v.a.createElement("span",{className:"xixi"}))}}]),n}(v.a.Component))||ie;n("kM94");function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var de,me=Object(E.a)(le=function(e){l()(n,e);var t=fe(n);function n(e){var a;return s()(this,n),a=t.call(this,e),P()(oe()(a),"closeModal3",(function(){a.closeModal()})),a}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.score,n=e.credits;return v.a.createElement("div",{className:"gameovermodal"},v.a.createElement("span",{className:"back"}),v.a.createElement("span",{className:"coin"}),v.a.createElement("span",{className:"count"},n),v.a.createElement("span",{className:"closebtn",onClick:this.closeModal3}),v.a.createElement("span",{className:"confirmbtn md26",onClick:this.closeModal3}),v.a.createElement("span",{className:"desc "},"恭喜获得",n,"个金币"),v.a.createElement("span",{className:"d "},"游戏得分：",t,"分"))}}]),n}(v.a.Component))||le;n("0yI3");function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var ge=Object(E.a)(de=function(e){l()(n,e);var t=he(n);function n(e){var a;return s()(this,n),a=t.call(this,e),P()(oe()(a),"closeModal",(function(){U.closeModal("Gametipsconfirmmodal")})),a}return c()(n,[{key:"render",value:function(){var e=this,t=ee.GameInfo,n=t.gameTime,a=t.targetScore,r=t.coins;return v.a.createElement("div",{className:"gametipsconfirmmodal"},v.a.createElement("span",{className:"desc tsc"},"在".concat(n,"秒内游戏分数达到").concat(a,"分\n即挑战成功\n可获得").concat(r,"个金币！")),v.a.createElement("span",{className:"confirmbtn",onClick:function(){e.closeModal(),e.props.onConfirm()}}))}}]),n}(v.a.Component))||de;n("8TUu"),n("e8iM");function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var ve=function(e){l()(n,e);var t=ye(n);function n(){return s()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){return v.a.createElement("div",{className:"WxcodeModal"},v.a.createElement("img",{src:ee.frontVariable.qrcode,className:"wxcodeImage md29"}))}}]),n}(y.Component);n("BSEa");function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var we=function(e){l()(n,e);var t=be(n);function n(){return s()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){return v.a.createElement("div",{className:"modal-service"},v.a.createElement("div",{className:"btn-box"},v.a.createElement("div",{className:"go",onClick:function(){window.location.href=ee.frontVariable.serviceUrl}}),v.a.createElement("div",{className:"back",onClick:function(){U.closePop("Service")}})),v.a.createElement("div",{className:"close",onClick:function(){U.closePop("Service")}}))}}]),n}(y.Component),Ee=(n("kw2d"),n("tH9X")),xe=(n("JCHc"),n("/IMT")),Pe=n("JWoP"),ke=n("RMBI"),_e={_mute:!0};Object.defineProperty(_e,"mute",{get:function(){return _e._mute},set:function(e){_e._mute=e,e?Re.playSound():Re.stopSound()}});var Se=_e,Ne=n("HlzF"),Te="https://yun.duiba.com.cn/aurora/assets/",Ce=new Map;Ce.set("bg","e173c0cc01efe703300730a47aa2f5e03e276a23");var Ge={},Re={loadSound:function(){return r()(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ce.forEach((function(e,t,n){var a=Te+e+".mp3";Ge[t]||(Ge[t]=new Ne.Howl({src:[a],autoplay:!1,loop:!1}))}));case 1:case"end":return e.stop()}}),e)})))()},playSound:function(e){if(!Se.mute&&e&&Ce.get(e)){var t=Ge[e];t||(t=new Ne.Howl({src:[Te+Ce.get(e)+".mp3"],autoplay:!0,loop:!0}),Ge[e]=t),t.play()}},stopSound:function(e){var t=Ge[e];t&&t.stop()},pauseSound:function(e){var t=Ge[e];t&&t.pause()},changeMute:function(e){if(Se.mute)for(var t in Ge)this.pauseSound(t);else this.pauseSound(e),this.playSound(e)},backPageSound:function(){Se.inpage?this.playSound(Se.nowbgm):this.pauseSound(Se.nowbgm)}};function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}Object(Ee.a)("task_1");var Ie=function(e){l()(n,e);var t=Oe(n);function n(e){var a;return s()(this,n),a=t.call(this,e),P()(oe()(a),"getTaskList",r()(g.a.mark((function e(){var t,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.queryTaskList();case 2:t=e.sent,n=t.success,r=t.data,n&&a.setState({taskList:r});case 6:case"end":return e.stop()}}),e)})))),P()(oe()(a),"doTask",I(function(){var e=r()(g.a.mark((function e(t){var n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,n=null==ee?void 0:ee.indexInfo,r=n.todaySignStatus,e.next=6;break;case 6:if(0!==t.state||r){e.next=9;break}return Object(G.a)("请先完成今日打卡哦！"),e.abrupt("return");case 9:e.t0=t.code,e.next="assist"===e.t0?12:"read"===e.t0?15:"game"===e.t0?23:27;break;case 12:return Object(ke.c)(),document.querySelector("#share_guide_layer .bg").src=q.RES_PATH+"outShare/shareGuide.png",e.abrupt("break",27);case 15:if(0!==t.state){e.next=21;break}return e.next=18,j.doReadTask();case 18:o=e.sent,o.success,o.data;case 21:return window.location.href=ee.indexInfo.readLinkUrl,e.abrupt("break",27);case 23:return Se.mute=!0,Re.pauseSound("bg"),ee.changePage("gamePage"),e.abrupt("break",27);case 27:a.closeModal();case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),a.state={taskList:[]},a}return c()(n,[{key:"componentDidMount",value:function(){this.getTaskList()}},{key:"componentWillUnmount",value:function(){this.setState=function(){}}},{key:"render",value:function(){var e=this,t=this.state.taskList;return v.a.createElement("div",{className:"taskModal"},v.a.createElement("div",{className:"taskmodalclose",onClick:function(){e.closeModal()}}),v.a.createElement("div",{className:"tasklist"},t&&t.map((function(t,n){var a={assist:[14,15],read:[12,13],game:[10,11]};function r(e){return a[e]||[233,233]}return null==t||t.desc,v.a.createElement("div",{className:"taskItem",key:n},v.a.createElement("div",{className:"itemicon"},v.a.createElement("img",{src:null==t?void 0:t.icon})),v.a.createElement("div",{className:"itemtitle"},null==t?void 0:t.taskName,"(",t.completeTimes,"/",t.allTimes,")"),v.a.createElement("div",{className:"itemdesc"},(null==t?void 0:t.desc)||" "),v.a.createElement("div",{className:Object(Pe.c)("itembtn","".concat(t.state?"grey md".concat(r(t.code)[1]):"gobtn md".concat(r(t.code)[0]))),onClick:function(){e.doTask(t)}}))}))))}}]),n}(y.Component),Me=(n("9nJz"),n("FatH"));n("JJ6M");function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var De=function(e){l()(n,e);var t=Le(n);function n(e){var a;return s()(this,n),a=t.call(this,e),P()(oe()(a),"componentDidMount",r()(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),a}return c()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.curIndex,a=t.cardsList;return this.props,v.a.createElement("div",{className:"albumIncludeModal md15"},v.a.createElement("span",{className:"bgAlbum"}),v.a.createElement("span",{className:"albumInclude-close",onClick:function(){e.closeModal()}}),v.a.createElement(Me.a,{className:"imgSvga2",src:"".concat(q.RES_PATH,"svga/").concat(n,".svga"),loop:!1}),(null==a?void 0:a.length)&&v.a.createElement("span",{className:"albumInclude-name"},a[n-1].name,"一游"),v.a.createElement("article",{className:"text",dangerouslySetInnerHTML:{__html:a[n-1].desc}}))}}]),n}(y.Component);function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var Fe=function(e){l()(n,e);var t=je(n);function n(e){var a;return s()(this,n),a=t.call(this,e),P()(oe()(a),"componentDidMount",r()(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.props,e.next=3,a.getAlbumList();case 3:case"end":return e.stop()}}),e)})))),P()(oe()(a),"showPhoto",I((function(e,t){a.closeModal(null,!1),H.ModalCtrlIns.showModal(De,{cardsList:a.props.cardInfo,curIndex:a.state.curIndex},{queue:!0,transitionName:"scale-in-center",fixedBody:!1})}))),P()(oe()(a),"getAlbumList",r()(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.GET_PHOTOLIST();case 2:null!=(t=e.sent)&&t.success&&a.setState({curIndex:parseInt(null==t?void 0:t.data)});case 4:case"end":return e.stop()}}),e)})))),a.state={curIndex:0,cardsList:[]},a}return c()(n,[{key:"transitionMounted",value:function(){this.albumModal.classList.add("aniTitle")}},{key:"render",value:function(){var e=this,t=this.state,n=t.curIndex,a=(t.cardsList,this.props),r=a.credits,o=a.cardInfo;return v.a.createElement("div",{className:"albumModal",ref:function(t){return t&&(e.albumModal=t)}},v.a.createElement("span",{className:"bg"}),v.a.createElement("span",{className:"album-close",onClick:function(){e.closeModal()}}),v.a.createElement("span",{className:"head"},v.a.createElement("div",{className:"head-title"},v.a.createElement("p",null,"打"),v.a.createElement("p",null,"卡"),v.a.createElement("p",null,"成"),v.a.createElement("p",null,"功"))),v.a.createElement(Me.a,{className:"imgSvga",src:"".concat(q.RES_PATH,"svga/").concat(n,".svga"),loop:!1}),0!==n&&v.a.createElement("span",{className:"album-name"},o[n-1].name||"","一游"),v.a.createElement("div",{className:"moneys"},v.a.createElement("span",{className:"icons"},r),v.a.createElement("span",{className:"coin"})),v.a.createElement("span",{className:"btn-albm md9-".concat(ee.indexInfo.currentTaskId),onClick:this.showPhoto}))}}]),n}(H.ModalControllerComponent);n("2ViM");function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var Ae,Ye=function(e){l()(n,e);var t=Be(n);function n(e){return s()(this,n),t.call(this,e)}return c()(n,[{key:"componentDidMount",value:function(){this.props.popData}},{key:"render",value:function(){var e,t,n=this.props.popData,a=n.cardInfo,r=n.index;return v.a.createElement("div",{className:"mdmount".concat(r+1," IntroModal")},v.a.createElement("span",{className:"intro-bg"}),v.a.createElement("span",{className:"intro-close",onClick:function(){U.closePop("intro")}}),v.a.createElement(Me.a,{className:"intro-image",src:"".concat(q.RES_PATH,"svga/").concat(r+1,".svga"),loop:!1}),v.a.createElement("span",{className:"intro-title"},null===(e=a[r])||void 0===e?void 0:e.name,"一游"),v.a.createElement("div",{className:"intro-content",dangerouslySetInnerHTML:{__html:null===(t=a[r])||void 0===t?void 0:t.desc}}))}}]),n}(y.Component);n("o9+P");function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var Ue=Object(E.a)(Ae=function(e){l()(n,e);var t=ze(n);function n(e){var a;return s()(this,n),a=t.call(this,e),P()(oe()(a),"close",(function(){a.closeModal()})),a.state={text:""},a}return c()(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return this.props,v.a.createElement("div",{className:"rule modalbg"},v.a.createElement("span",{className:"background"}),v.a.createElement("span",{className:"redBtn",onClick:this.close}),v.a.createElement("article",{className:"activityRulesActivityRules",dangerouslySetInnerHTML:{__html:this.props.ruleInfo}}))}}]),n}(y.Component))||Ae;n("Emlq");function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var qe=function(e){l()(n,e);var t=He(n);function n(e){var a;return s()(this,n),a=t.call(this,e),P()(oe()(a),"componentDidMount",r()(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),a}return c()(n,[{key:"render",value:function(){var e=this.props.popData.tagList.coinsReward;return v.a.createElement("div",{className:"getread"},v.a.createElement("span",{className:"bgGetRead"}),v.a.createElement("span",{className:"getread-close",onClick:function(){U.closePop("getread")}}),v.a.createElement("span",{className:"getread-name"},"恭喜获得",e,"金币"),v.a.createElement("span",{className:"getread-btn md16",onClick:function(){U.closePop("getread")}}))}}]),n}(y.Component);n("aGT1");function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var Ve,Xe,Je=function(e){l()(n,e);var t=We(n);function n(e){var a;return s()(this,n),a=t.call(this,e),P()(oe()(a),"componentDidMount",r()(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),a}return c()(n,[{key:"render",value:function(){var e=this.props.popData.tagList,t=e.coinsReward,n=e.spReward;return v.a.createElement("div",{className:"getinvite"},v.a.createElement("span",{className:"bggetinvite"}),v.a.createElement("span",{className:"getinvite-close",onClick:function(){U.closePop("getinvite")}}),v.a.createElement("span",{className:"getinvite-name"},"恭喜获得",t,"金币+",n,"次游戏次数"),v.a.createElement("span",{className:"getinvite-btn md18",onClick:function(){U.closePop("getinvite")}}))}}]),n}(y.Component);function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var Ze=(Ve={Rule:Ue,wxcode:ve,Service:we,taskModal:Ie,album:Fe,albumInclude:De,intro:Ye,Gametipsconfirmmodal:ge,Gameovermodal:me,Gamefailmodal:pe,Drawsucmodal:ce,Drawfailmodal:ae},P()(Ve,"Rule",Ue),P()(Ve,"getread",qe),P()(Ve,"getinvite",Je),P()(Ve,"Sorrymodal",X),Ve),Ke=Object(E.a)(Xe=function(e){l()(n,e);var t=Qe(n);function n(e){return s()(this,n),t.call(this,e)}return c()(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t,n,a,r=Object(k.p)(U.popList);if(!r.length)return document.body.style.overflow="auto",v.a.createElement("section",null);if(r.length>1&&1==r[r.length-1].isMulti){var o=r[r.length-1];n=Ze[o.key],a=o.data}var s=r[0];return e=Ze[s.key],t=s.data,(e||n)&&(document.body.style.overflow="hidden"),v.a.createElement("section",{className:"modal-hoc-bg",style:{zIndex:U.popList.length?1e3:-1,display:U.popList.length?"block":"none"}},e&&v.a.createElement(e,{popData:t}),n&&v.a.createElement("section",{className:"modal-hoc-bg",style:{zIndex:U.popList.length?1e3:-1,display:U.popList.length?"block":"none"}},v.a.createElement(n,{popData:a})))}}]),n}(y.Component))||Xe,$e=n("Yb6r"),et=window.CFG,tt=et.appID,nt="202."+et.projectId+".0.0";$e.i.prepare({appId:tt});var at=Array(29).fill(1).map((function(e,t){var n=t+1;return{ele:".md".concat(n),data:{dpm:"".concat(tt,".110.").concat(n,".1"),dcm:nt},logExposure:!0,logClick:!0}})),rt=Array(20).fill(1).map((function(e,t){var n=t+1;return{ele:".md9-".concat(n),data:{dpm:"".concat(tt,".110.9.1"),dcm:nt,dom:n},logExposure:!0,logClick:!0}}));$e.i.registerBuriedPoints(rt),$e.i.registerBuriedPoints(at);n("BoQS");var ot=n("CVxE");function st(e,t,n){return new Promise((function(a){var o=e.length,s=-1,i=0,c={},u=function(){var t=r()(g.a.mark((function t(){var r,l,p;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i>=o)){t.next=5;break}0==o&&n&&n(1),a(c),t.next=18;break;case 5:if(!(++s>=o)){t.next=8;break}return t.abrupt("return");case 8:return r=e[s],l=q.RES_PATH+e[s],t.next=12,it(l);case 12:(p=t.sent)||console.warn("加载异常",l),c[r]=p,i++,n&&n(i/o),u();case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t=t||1;for(var l=0;l<t;l++)u()}))}function it(e){return ct.apply(this,arguments)}function ct(){return(ct=r()(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.split(".").pop(),e.t0=!0,e.next=e.t0===/png|jpg|jpeg/.test(n)?4:e.t0===/svga/.test(n)?7:e.t0===/spi/.test(n)?10:e.t0===/json/.test(n)?13:e.t0===/mp3|wav/.test(n)?16:19;break;case 4:return e.next=6,ut(t);case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,lt(t);case 9:return e.abrupt("return",e.sent);case 10:return e.next=12,pt(t);case 12:return e.abrupt("return",e.sent);case 13:return e.next=15,ft(t);case 15:return e.abrupt("return",e.sent);case 16:return e.next=18,dt(t);case 18:return e.abrupt("return",e.sent);case 19:return console.warn("非法资源",t),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e){return new Promise((function(t){var n=new Image;n.onload=function(){return t(n)},n.onerror=function(n){console.warn("load",e,n),t(!1)},n.crossOrigin="Anonymous",n.src=e}))}function lt(e){return new Promise((function(t){Object(Me.b)(e).then((function(e){return t(e[0])})).catch((function(n){console.warn("load",e,n),t(!1)}))}))}function pt(e){return new Promise((function(t){ot.l(e,(function(e){t(e)}),(function(n){console.warn("load",e,n),t(!1)}))}))}function ft(e){return new Promise((function(t){ot.d.loadJson((function(n,a){n?t(a):(console.warn("load fail",e),t(!1))}),e)}))}function dt(e){return new Promise((function(t){var n=new Ne.Howl({src:e,onload:function(){return t(n)},onloaderror:function(n){console.warn("load fail",e,n),t(!1)}})}))}var mt,ht=n("lo2X");function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var yt=Object(E.a)(mt=function(e){l()(n,e);var t=gt(n);function n(e){var a;return s()(this,n),a=t.call(this,e),P()(oe()(a),"preloadAssetInit",r()(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.onLoadingProgress(.1),e.next=3,ee.getFrontVariable();case 3:return Object($e.q)({bgm:q.RES_PATH+"mp3/bgm.mp3",bell:q.RES_PATH+"mp3/bell.mp3",orange:q.RES_PATH+"mp3/orange.mp3",boom:q.RES_PATH+"mp3/boom.wav"}),e.next=6,Object($e.p)();case 6:return e.next=8,ee.setGameInfo();case 8:return e.next=10,ee.onInitLotteryData();case 10:return a.onLoadingProgress(.3),e.next=13,ee.getIndex();case 13:return e.next=15,st(ht.preLoadImg,3).then((function(){setTimeout((function(){st(ht.asyncLoadImg,1)}),5e3)}));case 15:a.onLoadingProgress(1);case 16:case"end":return e.stop()}}),e)})))),P()(oe()(a),"onLoadingProgress",(function(e){var t=Math.floor(100*e);a.isEvenLoad?a.setEvenProgress(t):a.setProgress(t)})),P()(oe()(a),"setProgress",(function(e){a.progressBar.style.transform="translateX(".concat(e-100,"%)"),100==e&&setTimeout((function(){a.props.changePage&&ee.changePage(a.props.changePage)}),500)})),P()(oe()(a),"setEvenProgress",(function(e){a.intervalId&&clearInterval(a.intervalId);var t=a.state.curPercentage;a.intervalId=setInterval((function(){if(t>=e)return clearInterval(a.intervalId),void(100==e&&ee.changePage("homePage",{fromLoading:!0}));t+=1,a.setState({curPercentage:t}),a.progressBar.style.transform="translateX(".concat(t-100,"%)")}),10)})),a.state={curPercentage:0},a.intervalId="",a.isEvenLoad=!0,a}return c()(n,[{key:"componentDidMount",value:function(){this.preloadAssetInit()}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{className:"loading"},v.a.createElement("span",{className:"bg174"}),v.a.createElement("div",{className:"progressBar"},v.a.createElement("span",{className:"atBottom"}),v.a.createElement("span",{className:"loadingBg"},v.a.createElement("span",{className:"above",ref:function(t){return e.progressBar=t}},v.a.createElement("span",{className:"inLoad"},this.state.curPercentage,"%")))))}}]),n}(v.a.Component))||mt,vt=(n("E1gr"),n("/MKj"),n("Sy0l"),n("JSq2"),n("go4e")),bt=n.n(vt);function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var Et=function(e){l()(n,e);var t=wt(n);function n(e){var a;return s()(this,n),a=t.call(this,e),P()(oe()(a),"componentDidMount",r()(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee.initRule(),e.next=3,a.beginMusic();case 3:document.addEventListener("visibilitychange",(function(){var e=a.state.musicStart;document.hidden?(Se.mute=!0,Re.changeMute("bg")):(console.error(e),!0===e&&indexMusicStatus?(Se.mute=!1,Re.changeMute("bg")):(Se.mute=!0,Re.changeMute("bg")))}));case 4:case"end":return e.stop()}}),e)})))),P()(oe()(a),"audioAutoPlay",(function(e){oe()(a);document.addEventListener("WeixinJSBridgeReady",(function(){Se.mute=!1,Re.playSound("bg")}),!1),document.addEventListener("YixinJSBridgeReady",(function(){Se.mute=!1,Re.playSound("bg")}),!1),document.body.addEventListener("touchstart",(function e(){Se.mute=!1,Re.playSound("bg"),document.body.removeEventListener("touchstart",e)}))})),P()(oe()(a),"beginMusic",r()(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof(t=localStorage.getItem("indexMusicStatus"))){e.next=6;break}return e.next=4,a.setState({musicStart:t});case 4:e.next=14;break;case 6:if("boolean"==typeof t){e.next=12;break}return e.next=10,a.setState({musicStart:!0});case 10:e.next=14;break;case 12:return e.next=14,a.setState({musicStart:t});case 14:a.state.musicStart,"true"==a.state.musicStart||1==a.state.musicStart?a.audioAutoPlay():(Se.mute=!0,Re.pauseSound("bg"));case 16:case"end":return e.stop()}}),e)})))),P()(oe()(a),"signedClick",I((function(){Object(G.a)("今日已打卡，请明天再来吧")}))),P()(oe()(a),"doEnd",I((function(){Object(G.a)("活动已结束")}))),P()(oe()(a),"doPre",I((function(){Object(G.a)("活动未开始")}))),P()(oe()(a),"ready",I((function(){Object(G.a)("今日已打卡")}))),P()(oe()(a),"doStart",I((function(){var e,t=null===(e=a.props)||void 0===e?void 0:e.data,n=t.ifPre,r=t.ifEnd;n?Object(G.a)("活动未开始"):r?Object(G.a)("活动已结束"):a.getStart()}))),P()(oe()(a),"getStart",r()(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bt.a.fire("UPDATE");case 1:case"end":return e.stop()}}),e)})))),P()(oe()(a),"goLottery",I((function(){var e,t=null===(e=a.props)||void 0===e?void 0:e.data,n=t.ifPre,r=t.ifEnd;n?Object(G.a)("活动未开始"):r?Object(G.a)("活动已结束"):(Se.mute=!0,Re.pauseSound("bg"),ee.changePage("lottery"))}))),P()(oe()(a),"goRecord",I((function(){var e,t=null===(e=a.props)||void 0===e?void 0:e.data,n=t.ifPre,r=t.ifPrizeEnd;n?Object(G.a)("活动未开始"):r?window.location.href=CFG.recordUrl:Object(G.a)("活动已结束")}))),P()(oe()(a),"goRule",I((function(){var e;(null===(e=a.props)||void 0===e?void 0:e.data).ifPre?Object(G.a)("活动未开始"):H.ModalCtrlIns.showModal(Ue,{ruleInfo:ee.ruleInfo})}))),P()(oe()(a),"goService",I((function(){var e,t=null===(e=a.props)||void 0===e?void 0:e.data,n=t.ifPre,r=t.ifEnd;n?Object(G.a)("活动未开始"):r?Object(G.a)("活动已结束"):U.pushPop("Service")}))),P()(oe()(a),"goTask",I((function(){var e,t=null===(e=a.props)||void 0===e?void 0:e.data,n=t.ifPre,r=t.ifEnd;t.readLinkUrl;n?Object(G.a)("活动未开始"):r?Object(G.a)("活动已结束"):H.ModalCtrlIns.showModal(Ie,{},{transitionName:"slide-top"})}))),P()(oe()(a),"startMusic",r()(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({musicStart:!a.state.musicStart}),a.state.musicStart?(Se.mute=!0,Re.pauseSound("bg")):(Se.mute=!1,Re.playSound("bg"));case 3:case"end":return e.stop()}}),e)})))),a.state={credits:0,musicStart:null},a}return c()(n,[{key:"componentDidUpdate",value:function(){this.state.musicStart?localStorage.setItem("indexMusicStatus",!0):localStorage.setItem("indexMusicStatus",!1)}},{key:"render",value:function(){var e,t=this,n=null===(e=this.props)||void 0===e?void 0:e.data,a=n.totalCredits,r=n.todaySignStatus,o=n.prizeCredits,s=n.ifPre,i=n.ifEnd,c=n.lastDay,u=n.currentTaskId,l=this.state.musicStart;return v.a.createElement("div",{className:"iconWrap"},v.a.createElement("div",{className:"index-title"},v.a.createElement("span",{className:"bird11"}),v.a.createElement("span",{className:"bird22"})),v.a.createElement("div",{className:"icon-rule md7",onClick:function(){t.goRule()}}),v.a.createElement("div",{className:"icon-prize md8",onClick:function(){t.goRecord()}}),v.a.createElement("div",{className:"icon-kefu md5",onClick:function(){t.goService()}}),""!==u&&v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"md6"},"true"==l||1==l?v.a.createElement("div",{className:"musicOpen",onClick:this.startMusic}):v.a.createElement("div",{className:"musicClose",onClick:this.startMusic})),v.a.createElement("div",{className:"my-credits"},v.a.createElement("span",{className:"credits-count"},"当前金币：",a)),v.a.createElement("div",{className:"icon-lottery md3",onClick:function(){t.goLottery()}},v.a.createElement("div",{className:"lottery-icom"}),v.a.createElement("p",{className:"cost-num"},o,"金币/次")),v.a.createElement("span",{className:"toGetCoins md4",onClick:this.goTask}),20===u||c&&r?v.a.createElement("div",{className:"readybtn md2",onClick:function(){t.ready()}}):i?v.a.createElement("div",{className:"endbtn md2",onClick:function(){t.doEnd()}}):s?v.a.createElement("div",{className:"prebtn md2",onClick:function(){t.doPre()}}):s||i||!r?s||i||r||20===u?"":v.a.createElement("div",{className:"startbtn md1",onClick:function(){t.doStart()}}):v.a.createElement("div",{className:"signedBtn md2",onClick:function(){t.signedClick()}}))||"")}}]),n}(y.Component);function xt(e){return Pt.apply(this,arguments)}function Pt(){return(Pt=r()(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.d)([ke.a],(function(e){t&&t()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(){return CFG.shareDomain+"/wechat/access?apk=31bpesX7LYKiqsCWbTU2AN65kZxT&dbredirect="}function _t(){return St.apply(this,arguments)}function St(){return(St=r()(g.a.mark((function e(){var t,n,a,r,o,s,i,c,u=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(u.length>0&&void 0!==u[0])||u[0],n=!(u.length>1&&void 0!==u[1])||u[1],a=[Object(xe.a)()],t&&(CFG.isShare?a.push(Promise.resolve({data:{sceneId:getUrlParam("sceneId")||""}})):a.push(j.getSceneId())),a.push(xt()),console.info("1111"),r="",e.prev=7,e.next=10,Promise.all(a);case 10:o=e.sent,console.info("2222"),CFG.shareDomain=o[0]||location.origin,r=(r=CFG.shareDomain+"/projectx/"+CFG.projectId+"/share.html?appID="+CFG.appID).replace(/(https{0,1}:\/\/[^\/]*)/g,CFG.shareDomain),r=n?r.replace(/\/([^\/]*)\.html/g,"/share.html"):r.replace(/\/([^\/]*)\.html/g,"/index.html"),t&&(c=(null===(s=o[1])||void 0===s||null===(i=s.data)||void 0===i?void 0:i.sceneId)||"",r=Object(Pe.g)("sceneId",c,r)),r=kt()+encodeURIComponent(r),Object.assign(CFG.ShareData,{url:r}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(7),console.error(e.t0);case 24:console.info("分享连接========",r),console.info("分享配置========",CFG.ShareData),CFG.ShareData.thumbnail="https://yun.duiba.com.cn/aurora/assets/2d6a1386d49779555d2181269041fd3d726c8315.png",Object(ke.e)(CFG.ShareData);case 28:case"end":return e.stop()}}),e,null,[[7,21]])})))).apply(this,arguments)}ke.a.debugMode=CFG.ShareDebug||!1;var Nt;function Tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var Ct,Gt,Rt=Object(E.a)(Nt=function(e){l()(o,e);var t,n,a=Tt(o);function o(e){var t;return s()(this,o),t=a.call(this,e),P()(oe()(t),"update",I(r()(g.a.mark((function e(){var n,a,r,o,s,i,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.info(ee.cardInfo,"=====cards"),e.next=3,j.join();case 3:if(null==(n=e.sent)||!n.success){e.next=17;break}return o=function(){document.querySelector(".wrapper-cont").style.pointerEvents="none"},s=function(){document.querySelector(".wrapper-cont").style.pointerEvents="auto"},t.setState({credits:null==n||null===(a=n.data)||void 0===a?void 0:a.credits}),ee.indexInfo.currentTaskId++,ee.indexInfo.todaySignStatus=!0,i=ee.indexInfo.currentTaskId,c=parseInt(null===(r=getComputedStyle(document.querySelector(".locatpos"+i)))||void 0===r?void 0:r.top),o(),Object(Pe.f)(c-400,500,$e.f?document.body:document.querySelector("html")),e.next=16,new Promise((function(e){setTimeout(e,500)}));case 16:t.setState({showSignAni:!0},(function(){var e;null===(e=document.querySelector(".sign_icon_ani"))||void 0===e||e.addEventListener("animationend",(function(){s(),H.ModalCtrlIns.showModal(Fe,{credits:t.state.credits,cardInfo:t.state.cardInfo},{transitionName:"scale-in-center",fixedBody:!1})}))}));case 17:case"end":return e.stop()}}),e)}))))),P()(oe()(t),"componentDidMount",r()(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setIndex();case 2:return e.next=4,t.getCardInfo();case 4:bt.a.on("UPDATE",t.update,oe()(t)),ee.indexInfo.followOfficalAccount?(_t(),t.onDoHelp()):_t(!1,!1);case 6:case"end":return e.stop()}}),e)})))),P()(oe()(t),"setIndex",r()(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.getIndex({fromCache:t.props.fromLoading});case 2:t.setState({homeInfo:ee.indexInfo});case 3:case"end":return e.stop()}}),e)})))),P()(oe()(t),"getCardInfo",r()(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.cardList();case 2:null!=(n=e.sent)&&n.success&&(t.setState({cardInfo:null!=n&&n.data.length?null==n?void 0:n.data.map((function(e,t){return e})):[]}),ee.setCardInfo(n));case 4:case"end":return e.stop()}}),e)})))),P()(oe()(t),"showDeatil",I((function(e){var n;(null==ee?void 0:ee.indexInfo).ifend;+e+1<=+(null===(n=ee.indexInfo)||void 0===n?void 0:n.currentTaskId)?U.pushPop("intro",{cardInfo:t.state.cardInfo,index:e}):Object(G.a)("该景点未解锁")}))),t.state={cards:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],homeInfo:{},cardInfo:[],showSignAni:!1},t.locateRef=v.a.createRef(),t}return c()(o,[{key:"componentWillUnmount",value:function(){clearInterval(this.timer),bt.a.off("UPDATE",this.update),window.scrollFunc=Pe.f}},{key:"componentDidUpdate",value:(n=r()(g.a.mark((function e(t,n){var a,r,o,s,i,c,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=t&&t.homeInfo||null!==(a=this.props.homeInfo)&&void 0!==a&&a.firstJoin||n.pageShow||this.state.pageShow||this.setState({pageShow:!0}),!(null!=t&&null!==(r=t.homeInfo)&&void 0!==r&&r.currentTaskId)!==(null===(o=this.props.homeInfo)||void 0===o?void 0:o.currentTaskId)&&null!==(s=this.props.homeInfo)&&void 0!==s&&s.currentTaskId&&(u=null===(i=this.locateRef.current)||void 0===i?void 0:i.children[+(null===(c=this.props.homeInfo)||void 0===c?void 0:c.currentTaskId)-1].offsetTop,window.scrollTo(0,u-250));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"onDoHelp",value:(t=r()(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=Object(Pe.d)("shareCode").replace("#",""))&&"#"!==t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,j.doAssist({assistItemId:t});case 5:n=e.sent,a=n.success,n.data,a&&O("恭喜为好友助力成功"),history&&history.replaceState(null,null,Object(Pe.g)("shareCode",""));case 10:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"getAllCoin",value:function(){var e=(null==ee?void 0:ee.indexInfo).totalCredits;this.setState({totalCredits:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.cards,a=t.cardInfo,r=t.showSignAni,o=(ee.indexInfo.totalCredits,ee.indexInfo);return v.a.createElement("div",{className:"wrapper-cont"},v.a.createElement("div",{className:"homepage"},n.length&&v.a.createElement(Et,{data:ee.indexInfo}),v.a.createElement("div",{className:"locateWrap",ref:this.locateRef},null==a?void 0:a.map((function(t,n){return v.a.createElement("div",{className:"locatpos".concat(+n+1),key:n,onClick:function(){e.showDeatil(n)}},+n+1>+(null==o?void 0:o.currentTaskId)?"":v.a.createElement("div",{className:"signedTag"},v.a.createElement("div",{className:r&&n+1===+(null==o?void 0:o.currentTaskId)&&null!=o&&o.todaySignStatus?"sign_icon sign_icon_ani":"sign_icon"})))}))),v.a.createElement("div",{className:"bgalls"},v.a.createElement("span",{className:"bgall"}),v.a.createElement("span",{className:"top"}),v.a.createElement("span",{className:"liu"}),v.a.createElement("span",{className:"liu2"})),v.a.createElement("div",{className:"longjingwencha"},v.a.createElement("span",{className:"bglongjing"}),v.a.createElement("span",{className:"yanzilongjing"})),v.a.createElement("div",{className:"liulangwenyan"},v.a.createElement("span",{className:"yanziliulang"}),v.a.createElement("span",{className:"bgliuliang"})),v.a.createElement("div",{className:"yuhuangfeiyun"},v.a.createElement("span",{className:"yun1yuhuang"}),v.a.createElement("span",{className:"shanhou"}),v.a.createElement("span",{className:"yun2yuhuang"}),v.a.createElement("span",{className:"shanqian"}),v.a.createElement("span",{className:"yunyouyuhuang"}),v.a.createElement("span",{className:"yun3yuhuang"}),v.a.createElement("span",{className:"shipyuhuang"}),v.a.createElement("span",{className:"liushuyuhuang"})),v.a.createElement("div",{className:"nanpingwanzhong"},v.a.createElement("span",{className:"people"}),v.a.createElement("span",{className:"yun"}),v.a.createElement("span",{className:"clock"}),v.a.createElement("span",{className:"dayan"}),v.a.createElement("span",{className:"house"}),v.a.createElement("span",{className:"shipnanping"})),v.a.createElement("div",{className:"huanglongtucui"},v.a.createElement("span",{className:"bghuanglong"}),v.a.createElement("span",{className:"shiphuanglong"}),v.a.createElement("span",{className:"liuye"})),v.a.createElement("div",{className:"wushantianfeng"},v.a.createElement("span",{className:"bgwushan"}),v.a.createElement(Me.a,{className:"wushansvga",src:"".concat(q.RES_PATH,"homeSvga/吴山天风.svga")})),v.a.createElement("div",{className:"hupaimengquan"},v.a.createElement("span",{className:"bghupao"})),v.a.createElement("div",{className:"jiuxiyanshu"},v.a.createElement("span",{className:"bgjiuquan"})),v.a.createElement("div",{className:"ruandunhuanbi"},v.a.createElement("span",{className:"bghuanbi"}),v.a.createElement("span",{className:"yanziyou"}),v.a.createElement("span",{className:"yanzizuo"}),v.a.createElement("span",{className:"yanziwhite"})),v.a.createElement("div",{className:"pinghuqiuyue"},v.a.createElement("span",{className:"bgpinghu"}),v.a.createElement("span",{className:"light"})),v.a.createElement("div",{className:"duanqiaocanxue"},v.a.createElement("span",{className:"bgduanqiao"}),v.a.createElement(Me.a,{className:"snow",src:"".concat(q.RES_PATH,"homeSvga/雪花.svga")})),v.a.createElement("div",{className:"manlongguiyu"},v.a.createElement("span",{className:"bg_guiyu"}),v.a.createElement("span",{className:"swallowguiyu"}),v.a.createElement("span",{className:"shipguiyu"}),v.a.createElement(Me.a,{className:"flowers",src:"".concat(q.RES_PATH,"homeSvga/花.svga")})),v.a.createElement("div",{className:"sudichunwan"},v.a.createElement("span",{className:"bg_shudi"}),v.a.createElement("span",{className:"ship"}),v.a.createElement("span",{className:"swallow"}),v.a.createElement("span",{className:"kite"})),v.a.createElement("div",{className:"yunxizhujing"},v.a.createElement("span",{className:"shan"}),v.a.createElement("span",{className:"zhuzihou"}),v.a.createElement("span",{className:"yuntop_1"}),v.a.createElement("span",{className:"zhuziqian"}),v.a.createElement("span",{className:"yun2"})),v.a.createElement("div",{className:"santanyingyue"},v.a.createElement("span",{className:"bgsantan"}),v.a.createElement("span",{className:"yanzizuo_1"}),v.a.createElement("span",{className:"yanziyou_1"}),v.a.createElement("span",{className:"yanzi1"})),v.a.createElement("div",{className:"huagangguanyu"},v.a.createElement("span",{className:"bghuagang"}),v.a.createElement(Me.a,{className:"fish",src:"".concat(q.RES_PATH,"homeSvga/鱼.svga")}),v.a.createElement("span",{className:"yunhuagang"})),v.a.createElement("div",{className:"leifengxizhao"},v.a.createElement("span",{className:"yun2_1"}),v.a.createElement("span",{className:"yun_1"}),v.a.createElement("span",{className:"bgleifeng"}),v.a.createElement("span",{className:"shipleifeng"}),v.a.createElement("span",{className:"shuye"}),v.a.createElement("span",{className:"dayan_1"})),v.a.createElement("div",{className:"shuangfengchayun"},v.a.createElement("span",{className:"shan1"}),v.a.createElement("span",{className:"yun1"}),v.a.createElement("span",{className:"shan2"}),v.a.createElement("span",{className:"yun2_2"}),v.a.createElement("span",{className:"shan3"}),v.a.createElement("span",{className:"yun3"}),v.a.createElement("span",{className:"yun4"}),v.a.createElement("span",{className:"yan"})),v.a.createElement("div",{className:"quyuanfenghe"},v.a.createElement("span",{className:"zu103"}),v.a.createElement("span",{className:"zu1033"}),v.a.createElement(Me.a,{className:"heye",src:"".concat(q.RES_PATH,"homeSvga/荷花.svga")})),v.a.createElement("div",{className:"baoshiliuxia"},v.a.createElement("span",{className:"bgliuxia"}),v.a.createElement("span",{className:"yunliuxiayou"}),v.a.createElement("span",{className:"yunliuxiazuo"}),v.a.createElement("span",{className:"birdbao"})),v.a.createElement("div",{className:"button"},v.a.createElement("span",{className:"yunzuo"}),v.a.createElement("span",{className:"mzuo"}),v.a.createElement("span",{className:"mhou"}),v.a.createElement("span",{className:"yunyou"}),v.a.createElement("span",{className:"mqian"})),v.a.createElement("div",{className:"titles"},n.map((function(e,t){return v.a.createElement("div",{key:t},v.a.createElement("span",{className:"_".concat(t+1)}))})))))}}]),o}(v.a.Component))||Nt,Ot=n("U+yc"),It=n.n(Ot),Mt=(n("ZMNk"),n("t/yt"));function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var Dt,jt,Ft="GAME_START",Bt="GAME_OVER",At="GAME_BGM",Yt=function(e){l()(n,e);var t=Lt(n);function n(){var e;s()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),P()(oe()(e),"GameScene",null),P()(oe()(e),"onPageVisibilityChange",(function(e){e?Object($e.s)():Object($e.k)()})),e}return c()(n,[{key:"componentDidMount",value:function(){Object($e.s)();var e=document.getElementById("canvas");e.width=document.body.clientWidth*(window.devicePixelRatio||1),e.height=document.body.clientHeight*(window.devicePixelRatio||1);var t=this.GameScene=new Mt.Main(e,{isNewGuy:ee.GameInfo.newUsr,countDownNum:ee.GameInfo.gameTime,musicStatus:"true"===localStorage.getItem("musicStatus")}),n=t.stage.onMouseEvent.bind(t.stage);e.addEventListener("touchstart",n,!1),e.addEventListener("touchmove",n,!1),e.addEventListener("touchend",n,!1),Object($e.w)(this.onPageVisibilityChange)}},{key:"componentWillUnmount",value:function(){Object($e.s)(),this.GameScene&&this.GameScene.destroy(),Object($e.t)(this.onPageVisibilityChange)}},{key:"componentDidUpdate",value:function(){if(this.props.gaming){var e,t=localStorage.getItem("musicStatus");null===(e=this.GameScene)||void 0===e||e.changeGamePageConfig({isNewGuy:ee.GameInfo.newUsr,countDownNum:ee.GameInfo.gameTime,musicStatus:"true"===t||null===t}),Object($e.s)()}else Object($e.k)(),Mt.GDispatcher.dispatchEvent(At,{isOn:!1,store:!1})}},{key:"render",value:function(){return v.a.createElement("div",{className:"Game-scene"},v.a.createElement("div",{id:"cusEngine",style:{lineHeight:0,fontSize:0,position:"absolute"}},v.a.createElement("canvas",{id:"canvas",style:{width:"100%",height:"100%"}})))}}]),n}(v.a.Component),zt=Object(E.a)((Gt=function(e){l()(o,e);var t,n,a=Lt(o);function o(e){var t;return s()(this,o),t=a.call(this,e),P()(oe()(t),"startId",0),P()(oe()(t),"onGameStart",(function(){ee.GameInfo.newUsr,t.onGameRealStart()})),t.state={startGameFlag:!1},t}return c()(o,[{key:"componentDidMount",value:function(){this.initEvents()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"onGameRealStart",value:(n=r()(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee.GameInfo.frequency){e.next=3;break}return O("游戏次数不足"),e.abrupt("return");case 3:return e.next=5,j.gameStart();case 5:if(t=e.sent,n=t.success,a=t.data,!n){e.next=16;break}return this.startId=a.startId,this.setState({startGameFlag:!0}),ee.reduceFrequency(),this.holdGameScene,e.next=15,this.holdGameScene.GameScene.gameSceneInitPromise;case 15:Mt.GDispatcher.dispatchEvent(Ft);case 16:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"initEvents",value:function(){Mt.GDispatcher.addEventListener(Bt,this.onGameOver,this),Mt.GDispatcher.addEventListener(At,this.onGameBgm,this)}},{key:"onGameBgm",value:function(e){var t="object"===S()(e.data)?e.data:{isOn:e.data,store:!0},n=t.isOn,a=t.store,r=void 0!==a&&a,o=t.key,s=void 0===o?"bgm":o,i=t.loop,c=void 0===i||i;r&&localStorage.setItem("musicStatus",n),n?Object($e.o)(s,{loop:c}):Object($e.r)(s)}},{key:"removeEvents",value:function(){Mt.GDispatcher.removeEventListener(Bt,this.onGameOver),Mt.GDispatcher.removeEventListener(At,this.onGameBgm)}},{key:"onGameOver",value:(t=r()(g.a.mark((function e(t){var n,a,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(G.c)(),n=t.data.score,e.next=4,j.gameSubmit({startId:this.startId,score:n,sign:Object($e.j)("startId=".concat(this.startId,"&score=").concat(n,"&key=posf3usrjjnd9sd4w21ln3p"))});case 4:if(a=e.sent,r=a.success,o=a.data,Object(G.b)(),r){e.next=10;break}return e.abrupt("return");case 10:if(this.setState({startGameFlag:!1}),ee.GameInfo.newUsr=!1,null==o||!o.ifLimit){e.next=15;break}return H.ModalCtrlIns.showModal(X),e.abrupt("return");case 15:t.data,o&&o.credits?H.ModalCtrlIns.showModal(me,{credits:o.credits,score:o.score}):H.ModalCtrlIns.showModal(pe,{score:o.score});case 17:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state.startGameFlag,n=ee.GameInfo,a=n.frequency,r=n.targetScore,o=n.newUsr,s=n.gameTime,i=n.coins,c=n.gameRule;return v.a.createElement("div",{className:Object(Pe.c)("main-game-page",{gaming:t})},v.a.createElement("div",{className:"gamepage"},v.a.createElement("span",{className:"back"}),v.a.createElement("div",{className:"groupcont"},v.a.createElement("span",{className:"groupback"}),v.a.createElement("span",{className:"titledesc"},"目标分数：".concat(r,"分\n闯关成功获得").concat(i,"个金币")),v.a.createElement("span",{className:"smalltips tsc"},"剩余次数：",a,"次"),v.a.createElement("span",{className:"startbtn md23",onClick:this.onGameStart}),v.a.createElement("span",{className:"lucky"})),v.a.createElement("span",{className:"goback md24",onClick:function(){ee.changePage("homePage")}}),v.a.createElement("span",{className:"rulebtn md25",onClick:function(){H.ModalCtrlIns.showModal(Ue,{ruleInfo:c})}})),v.a.createElement("div",{className:"game-scene-container"},v.a.createElement(Yt,{ref:function(t){t&&(e.holdGameScene=t)},gaming:t,isNewGuy:o,countDownNum:s})))}}]),o}(H.ModalControllerComponent),It()(Gt.prototype,"onGameRealStart",[Pe.a],Object.getOwnPropertyDescriptor(Gt.prototype,"onGameRealStart"),Gt.prototype),It()(Gt.prototype,"onGameOver",[Pe.a],Object.getOwnPropertyDescriptor(Gt.prototype,"onGameOver"),Gt.prototype),Ct=Gt))||Ct;n("ZHvt");function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var Ht,qt=Object(E.a)((jt=function(e){l()(a,e);var t,n=Ut(a);function a(e){var t;return s()(this,a),t=n.call(this,e),P()(oe()(t),"latticeBoxList",[]),P()(oe()(t),"prizeHandledList",[]),P()(oe()(t),"doLottery",function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},r={startTime:400,dt:40,rt:-50,finalt:300,miniSpt:60,endStepTime:800},o=!1,s=7,i=e,c=r.startTime,u=r.dt,l=(r.rt,!1),p=r.finalt,f=u,d=0,m=null,h=null,g=[],y=[],v=!0,b=8;function w(){Object(Pe.e)(i[s],"active"),s=(s+1)%b,Object(Pe.b)(i[s],"active"),n&&n()}var E={doTurn:function(){o||a()&&(o=!0,function e(){v&&(w(),c<=r.miniSpt&&!l?(h=Date.now(),l=!0,f=0,g.forEach((function(e){return e()}))):c-=f,c>=p&&l&&(f=0,s===d&&(v=!1,setTimeout((function(){y.forEach((function(e){return e()})),E.reset()}),r.endStepTime))),m=setTimeout((function(){e()}),c))}(),t&&t())},reset:function(){v=!0,l=!1,c=r.startTime,f=r.dt,o=!1,clearTimeout(m),h=null,g.splice(0),y.splice(0),Object(Pe.e)(i[s],"active")},setPrizeIndex:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;d=e;var n=t;if(h){var a=Date.now(),o=a-h;n=t-o,setTimeout((function(){f=r.rt}),n)}else g.push((function(){setTimeout((function(){f=r.rt}),n)}))},addEndFunc:function(e){y.push(e)}};return E}(t.latticeBoxList,t.onRealLottery.bind(oe()(t)),null,t.onJudgeTrun)),t}return c()(a,[{key:"componentWillUnmount",value:function(){this.doLottery.reset()}},{key:"onJudgeTrun",value:function(){return ee.indexInfo.prizeCredits>ee.indexInfo.totalCredits?(O("金币不足哦~"),!1):ee.indexInfo.followOfficalAccount?!!ee.indexInfo.todaySignStatus||(O("请先完成今日打卡哦！"),!1):(O("请先关注公众号哦~"),!1)}},{key:"onRealLottery",value:(t=r()(g.a.mark((function e(){var t,n,a,r,o=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.prizeLottery();case 2:t=e.sent,n=t.success,a=t.data,n?(ee.reduceCredits(ee.indexInfo.prizeCredits),r=this.prizeHandledList.findIndex((function(e){return e.prizeId===a.prizeId})),this.prizeHandledList,this.doLottery.setPrizeIndex(r,2e3),this.doLottery.addEndFunc((function(){var e="thanks"===a.prizeId?ae:ce;H.ModalCtrlIns.showModal(e,{prizeInfo:o.prizeHandledList[r]})}))):this.doLottery.reset();case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=ee.lotteryPrizeList,n=ee.indexInfo,a=n.totalCredits,r=n.prizeCredits,o={3:7,4:3,5:6,6:5,7:4};return v.a.createElement("div",{className:"lukylotteryscene"},v.a.createElement("span",{className:"back"}),v.a.createElement("span",{className:"goback md20",onClick:function(){ee.changePage("homePage")}}),v.a.createElement("div",{className:"coinboard"},v.a.createElement("span",{className:"coinboardback"}),v.a.createElement("span",{className:"num"},a)),v.a.createElement("div",{className:"lotterymaincontainer"},v.a.createElement("span",{className:"lotteryheader"}),v.a.createElement("div",{className:"nineboxcont"},v.a.createElement("span",{className:"lotteryback"}),v.a.createElement("div",{className:"nineLatticeCont"},t&&t.map((function(t,n){return v.a.createElement("div",{className:"col-8-cont",key:"col".concat(n)},v.a.createElement("div",{className:"lattice-cont",ref:function(a){a&&(e.prizeHandledList[o[n]||n]=t,e.latticeBoxList[o[n]||n]=a)}},v.a.createElement("span",{className:"lattice-img",style:{backgroundImage:"url(".concat(t.icon,")")}}),v.a.createElement("p",{className:"lattice-name lineClamp1"},t.name)))})))),v.a.createElement("div",{className:"lotterybtn md19",onClick:function(){return e.doLottery.doTurn()}},v.a.createElement("span",{className:"group1"}),v.a.createElement("span",{className:"tips"},r,"金币/次"))),v.a.createElement("div",{className:"lottery-rule-cont"}))}}]),a}(v.a.Component),It()(jt.prototype,"onRealLottery",[Pe.a],Object.getOwnPropertyDescriptor(jt.prototype,"onRealLottery"),jt.prototype),Dt=jt))||Dt;n("YXFd");function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var Vt,Xt=Object(E.a)(Ht=function(e){l()(n,e);var t=Wt(n);function n(e){var a;return s()(this,n),a=t.call(this,e),P()(oe()(a),"onGetSceneQrcode",function(){var e=r()(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.GET_QR_Content({sceneId:t}).then((function(e){e.success&&(null==e?void 0:e.data)&&a.getQR_Code(encodeURIComponent(e.data))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),P()(oe()(a),"getQR_Code",(function(e){var t={width:245,height:245,content:e};j.GET_QR_Code(t).then((function(e){e.success&&a.setState({QR_code:e.data})}))})),a.state={QR_code:""},a}return c()(n,[{key:"componentDidMount",value:function(){_t(!0,!0),Object(R.a)(506);var e=Object(Pe.d)("sceneId");e?this.onGetSceneQrcode(e):O("场景值获取失败~")}},{key:"render",value:function(){return v.a.createElement("div",{className:"outshare"},v.a.createElement("span",{className:"back"}),v.a.createElement("img",{className:"QR_code md17",src:this.state.QR_code}))}}]),n}(v.a.Component))||Ht;function Jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f()(this,n)}}var Qt={loading:yt,homePage:Rt,gamePage:zt,lottery:qt},Zt=Object(E.a)(Vt=function(e){l()(a,e);var t,n=Jt(a);function a(){return s()(this,a),n.apply(this,arguments)}return c()(a,[{key:"componentDidMount",value:(t=r()(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object($e.w)(this.watchPageVisibilityCallBack);case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"watchPageVisibilityCallBack",value:function(){ee.getIndex()}},{key:"componentWillUnmount",value:function(){Object($e.t)(this.watchPageVisibilityCallBack)}},{key:"render",value:function(){var e,t=ee.curPage,n=ee.curPageData;return v.a.createElement("div",null,CFG.isShare?v.a.createElement(Xt,null):(e=Qt[t],v.a.createElement(e,n)),v.a.createElement(Ke,null))}}]),a}(y.Component))||Vt;w.a.render(v.a.createElement(Zt,null),document.getElementById("root"))},kM94:function(e,t,n){var a=n("LboF"),r=n("1prA");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},kuMG:function(e,t,n){},kw2d:function(e,t,n){var a=n("LboF"),r=n("jWAv");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},lo2X:function(e){e.exports=JSON.parse('{"preLoadImg":["loading/bg174.png","loading/上面.png","loading/底部173.png"],"asyncLoadImg":["DrawFailModal/Good.png","DrawFailModal/back.png","DrawSucModal/confirm-btn.png","DrawSucModal/组2.png","GameFailModal/back.png","GameFailModal/confirm-btn.png","GameFailModal/xixi.png","GameOverModal/back.png","GameOverModal/coin.png","GameOverModal/confirm-btn.png","GamePage/back.png","GamePage/go-back.png","GamePage/group-back.png","GamePage/lucky.png","GamePage/rule-btn.png","GamePage/start-btn.png","GametipsConfirmModal/confirm-btn.png","LukyLotteryScene/back.png","LukyLotteryScene/coin-board-back.png","LukyLotteryScene/extra-rule-cont.png","LukyLotteryScene/go-back.png","LukyLotteryScene/lottery-back.png","LukyLotteryScene/lottery-header.png","LukyLotteryScene/组1.png","SorryModal/back.png","SorryModal/confirm.png","cards/1.png","cards/10.png","cards/11.png","cards/12.png","cards/13.png","cards/14.png","cards/15.png","cards/16.png","cards/17.png","cards/18.png","cards/19.png","cards/2.png","cards/20.png","cards/3.png","cards/4.png","cards/5.png","cards/6.png","cards/7.png","cards/8.png","cards/9.png","common/closebtn.png","homePage/1.png","homePage/10.png","homePage/11.png","homePage/12.png","homePage/13.png","homePage/14.png","homePage/15.png","homePage/16.png","homePage/17.png","homePage/18.png","homePage/19.png","homePage/2.png","homePage/20.png","homePage/3.png","homePage/4.png","homePage/5.png","homePage/6.png","homePage/7.png","homePage/8.png","homePage/9.png","homePage/bg-all.png","homePage/bg-duanqiao.png","homePage/bg-huagang.png","homePage/bg-huanbi.png","homePage/bg-huanglong.png","homePage/bg-hupao.png","homePage/bg-jiuquan.png","homePage/bg-leifeng.png","homePage/bg-liuliang.png","homePage/bg-liuxia.png","homePage/bg-longjing.png","homePage/bg-pinghu.png","homePage/bg-santan.png","homePage/bg-wushan.png","homePage/bg_guiyu.png","homePage/bg_shudi.png","homePage/clock.png","homePage/dayan.png","homePage/fish.png","homePage/house.png","homePage/kite.png","homePage/light.png","homePage/liushu-yuhuang.png","homePage/liuye.png","homePage/m-hou.png","homePage/m-qian.png","homePage/m-zuo.png","homePage/shan-hou.png","homePage/shan-qian.png","homePage/shan.png","homePage/shan1.png","homePage/shan2.png","homePage/shan3.png","homePage/ship-guiyu.png","homePage/ship-huanglong.png","homePage/ship-leifeng.png","homePage/ship-nanping.png","homePage/ship-yuhuang.png","homePage/ship.png","homePage/shuye.png","homePage/snow.png","homePage/swallow-guiyu.png","homePage/swallow.png","homePage/title.png","homePage/top.png","homePage/yan-wushan.png","homePage/yan.png","homePage/yanzi-liulang.png","homePage/yanzi-longjing.png","homePage/yanzi-white.png","homePage/yanzi-you.png","homePage/yanzi-zuo.png","homePage/yanzi1.png","homePage/yun-button.png","homePage/yun-huagang.png","homePage/yun-liuxia-you.png","homePage/yun-liuxia-zuo.png","homePage/yun-top.png","homePage/yun-you.png","homePage/yun-youyuhuang.png","homePage/yun-zuo.png","homePage/yun.png","homePage/yun1-yuhuang.png","homePage/yun1.png","homePage/yun2-yuhuang.png","homePage/yun2.png","homePage/yun2_2.png","homePage/yun3-yuhuang.png","homePage/yun3.png","homePage/yun4.png","homePage/zhuzi-hou.png","homePage/zhuzi-qian.png","homePage/人.png","homePage/做任务得金币.png","homePage/喇叭_音乐关.png","homePage/喇叭_音乐开.png","homePage/客服.png","homePage/已签到.png","homePage/当前金币.png","homePage/抽奖.png","homePage/明日再来.png","homePage/柳条.png","homePage/柳条2.png","homePage/活动为开始.png","homePage/活动奖品.png","homePage/活动已结束.png","homePage/活动未开始.png","homePage/燕子 拷贝.png","homePage/燕子.png","homePage/签到打卡.png","homePage/组 1033.png","homePage/组103.png","homePage/风筝线.png","homePage/鸟.png","homeSvga/吴山天风.svga","homeSvga/水流.svga","homeSvga/水滴.svga","homeSvga/花.svga","homeSvga/荷花.svga","homeSvga/雪花.svga","homeSvga/鱼.svga","mp3/bell.mp3","mp3/bgm.mp3","mp3/boom.wav","mp3/orange.mp3","outShare/back.png","outShare/share.png","outShare/shareGuide.png","pop/关注公众号.png","pop/关闭-按钮.png","pop/头部背景.png","pop/客服弹窗.png","pop/打卡成功.png","pop/按钮.png","pop/确 定.png","pop/确认按钮.png","pop/返回按钮.png","pop/邀请成功-获得金币.png","pop/阅读成功-获得金币 .png","rule/关闭_m.png","rule/活动规则.png","svga/1.svga","svga/10.svga","svga/11.svga","svga/12.svga","svga/13.svga","svga/14.svga","svga/15.svga","svga/16.svga","svga/17.svga","svga/18.svga","svga/19.svga","svga/2.svga","svga/20.svga","svga/3.svga","svga/4.svga","svga/5.svga","svga/6.svga","svga/7.svga","svga/8.svga","svga/9.svga","taskModal/close.png","taskModal/goqa.png","taskModal/greybtn.png","taskModal/invitebtn.png","taskModal/previewbtn.png","taskModal/taskbg.png","taskModal/white.png"]}')},m3yN:function(e,t,n){},mPlr:function(e,t,n){var a=n("LboF"),r=n("+2NO");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},mwOi:function(e,t,n){},"o9+P":function(e,t,n){var a=n("LboF"),r=n("xwXZ");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},rnan:function(e,t,n){},"t/yt":function(e,t,n){(function(e){var a,r,o,s,i=n("cDf5");window,s=function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===i(e)&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/Main.ts")}({"./module/RES.ts":
/*!***********************!*\
        !*** ./module/RES.ts ***!
        \***********************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RES=void 0,function(e){var t,n,a={},r={},o={},s={},i={},c={};function u(e){if(s[e])return new Promise((function(e){e()}));if(i[e])return i[e];var t=function(e){var t=d(e);if(!t)return null;if(t.atlas){var n=[e+".json"];return t.keys&&(n=n.concat(t.keys.split(",").filter((function(e){return".png"!=e.substr(-4)})))),n}return t.keys?t.keys.split(","):null}(e);if(!t||!t.length)return s[e]=!0,new Promise((function(e){e()}));var n=new Promise((function(n,a){!function(e,t,n){var a=0,r=t.length;r||e(!0);for(var o=!0,s=0;s<r;s++)l(t[s],(function(t,n){t||(o=!1),++a==r&&e(o)}),this,n)}((function(t){delete i[e],t?(s[e]=!0,n()):a()}),t,e)}));return i[e]=n,n}function l(t,n,o,s){var i,u=t.substring(t.lastIndexOf(".")+1,t.length);if("png"==u||"jpg"==u){var p=a[t]||FYGE.TextureCache[t];if(p)return n&&n.call(o,p,t),new Promise((function(e){e(p)}));if(c[t])return m(t,n,o);if((i=s||f(t))&&"jpg"!=u){var h=d(i);if(h&&h.atlas){var g=i+".json";return c[g]?c[g].then((function(e){var r=a[t]||FYGE.TextureCache[t];return n&&n.call(o,r,t),r}),(function(){return n&&n.call(o,null,t),null})):l(g).then((function(){var e=a[t]||FYGE.TextureCache[t];return n&&n.call(o,e,t),e}),(function(){return n&&n.call(o,null,t),null}))}}var y=i?e.resPath+i+"/"+t:t,v=new Promise((function(e,r){FYGE.GlobalLoader.loadImage((function(s,i){if(delete c[t],s){var u=FYGE.Texture.from(i);a[t]=u,FYGE.Texture.addToCache(u,t),n&&n.call(o,u,t),e(u)}else n&&n.call(o,null,t),r()}),y)}));return c[t]=v,v}return"svga"==u?r[t]?(n&&n.call(o,r[t],t),new Promise((function(e){e(r[t])}))):c[t]?m(t,n,o):(y=(i=f(t))?e.resPath+i+"/"+t:t,v=new Promise((function(e,a){SvgaParser.loadSvga(y,(function(a){delete c[t],r[t]=a,n&&n.call(o,a,t),e(a)}),(function(e){delete c[t],n&&n.call(o,null,t),a(e)}))})),c[t]=v,v):"json"==u?c[t]?m(t,n,o):(y=(i=f(t))?e.resPath+i+"/"+t:t,v=new Promise((function(e,r){var s=d(i).atlas;FYGE.GlobalLoader.loadImage((function(i,u){if(i){var l=FYGE.createTextureSheet(new FYGE.BaseTexture(u),s);for(var p in l)a[p]=l[p];n&&n.call(o,l,t),e(l)}else delete c[t],n&&n.call(o,null,t),r()}),y.replace("json","png"))})),c[t]=v,v):void 0}function p(e){if(!e)return null;var t=e.substring(e.lastIndexOf(".")+1,e.length);return"png"==t||"jpg"==t?a[e]||FYGE.TextureCache[e]||null:"svga"==t?r[e]||null:"mp3"==t?o[e]||null:void 0}function f(e){for(var n=0;n<t.groups.length;n++){var a=t.groups[n],r=a.keys;if(r&&r.split(",").indexOf(e)>-1)return a.name;if(a.atlas&&a.name+".json"==e)return a.name}return null}function d(e){for(var n,a=t.groups,r=0;r<a.length;r++)if(a[r].name===e){n=a[r];break}return n}function m(e,t,n){return c[e].then((function(a){t&&t.call(n,a,e)}),(function(){t&&t.call(n,null,e)})),c[e]}function h(e,t){if(void 0===t&&(t=n),!t||!t.children||!t.children.length)return null;for(var a=0;a<t.children.length;a++){var r=t.children[a];if(r.name==e&&("container"==r.type||"item"==r.type))return r;var o=h(e,r);if(o)return o}return null}function g(e){var t;switch(e.type){case"container":t=new FYGE.Container;break;case"button":t=new FYGE.Button(p(e.props.tUp),e.props.tDown?p(e.props.tDown):null,e.props.tDisable?p(e.props.tDisable):null);break;case"text":for(var n in t=new FYGE.TextField,e.props)t[n]=e.props[n];break;case"sprite":t=new FYGE.Sprite(p(e.props.source));break;case"rect":(t=new FYGE.Shape).beginFill(FYGE.string2hex(e.props.fillColor)),t.drawRect(0,0,e.props.width,e.props.height),t.endFill()}return t.name=e.name,t.alpha=e.alpha||1,t.position.set(e.x,e.y),t}e.loadConfig=function(n){t=n,e.resPath=n.path},e.loadGroup=u,e.getResAsync=l,e.getResByUrl=function(){},e.getRes=p,e.loadAllGroup=function(){var e=t.groups,n=[];return e.forEach((function(e){n.push(u(e.name))})),Promise.all(n)},e.loadSkinConfig=function(e){n=e},e.initSkinDisplay=function e(t,n,a){var r="string"==typeof n?h(n):n;if(r.children&&r.children.length)for(var o=0;o<r.children.length;o++){var s=r.children[o];if("item"!=s.type){var i=t.addChild(g(s));a&&s.id&&(a[s.id]=i),"container"==s.type&&e(i,s,a)}}},e.getSkinDataByName=h,e.destroyGroup=function(e){var t=d(e);if(t){var n=[];t.keys&&(n=t.keys.split(","));for(var r=[],o=0;o<n.length;o++){var s=p(n[o]);s&&(-1==r.indexOf(s.baseTexture)&&(s.baseTexture.destroy(),r.push(s.baseTexture)),s.destroy()),delete a[n[o]]}}}}(t.RES||(t.RES={}))},"./module/ctrls/index.ts":
/*!*******************************!*\
        !*** ./module/ctrls/index.ts ***!
        \*******************************/
/*! no static exports found */
function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.destroyAllCtrls=t.removeTweens=t.clearWait=t.wait=t.showAlert=t.getCurrentScene=t.changeScene=t.closeCurrentPanel=t.closeAllPanels=t.showConfirm=t.showPanel=void 0;var o=n(
/*! ./waitingCtrl */
"./module/ctrls/waitingCtrl.ts"),s=n(
/*! ./panelCtrl */
"./module/ctrls/panelCtrl.ts"),i=n(
/*! ./sceneCtrl */
"./module/ctrls/sceneCtrl.ts"),c=n(
/*! ./toastCtrl */
"./module/ctrls/toastCtrl.ts"),u=n(
/*! ./toastCtrl */
"./module/ctrls/toastCtrl.ts");Object.defineProperty(t,"showToast",{enumerable:!0,get:function(){return u.showToast}}),r(n(
/*! ./waitingCtrl */
"./module/ctrls/waitingCtrl.ts"),t),t.showPanel=function(e,t){return s.default.instance.show(e,t)},t.showConfirm=function(e,t){return s.default.instance.show(e,t).makePromise()},t.closeAllPanels=function(){s.default.instance.closeAll()},t.closeCurrentPanel=function(){s.default.instance.closeCurrent()},t.changeScene=function(e,t){i.default.instance.change(e,t)},t.getCurrentScene=function(){return i.default.instance.currentScene},t.showAlert=function(e,t){my&&my.alert({title:e||"",content:t||""})},t.wait=function(e,t){var n={};return FYGE.Tween.get(n).wait(t).call(e),n},t.clearWait=function(e){e&&FYGE.Tween.removeTweens(e)},t.removeTweens=function e(t,n){void 0===n&&(n=!0),t&&(FYGE.Tween.removeTweens(t),n&&t.children&&t.children.length&&t.children.forEach((function(t){e(t)})))},t.destroyAllCtrls=function(){c.destroyToast(),o.destroyWaiting(),s.default.instance.destroy(),i.default.instance.destroy()}},"./module/ctrls/panelCtrl.ts":
/*!***********************************!*\
        !*** ./module/ctrls/panelCtrl.ts ***!
        \***********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(
/*! ../views/layers */
"./module/views/layers.ts"),r=n(
/*! ./waitingCtrl */
"./module/ctrls/waitingCtrl.ts"),o=n(
/*! ./toastCtrl */
"./module/ctrls/toastCtrl.ts"),s=function(){function e(){this.stacks=[]}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e)},enumerable:!1,configurable:!0}),e.prototype.init=function(e){this._parent=e;var t=new FYGE.Shape;t.beginFill(0),t.drawRect(a.layers.stageOffsetX-e.x,a.layers.stageOffsetY-e.y,a.layers.stageWidth,a.layers.stageHeight),t.endFill(),t.hitTestByPixel=!1,t.visible=!1,this._parent.addChild(t),this._bg=t},e.prototype.closeAll=function(){this.stacks.forEach((function(e){return e.hidePanel()}))},e.prototype.show=function(e,t){var n=this;r.showWaiting();var a=new e(t);return this.add(a),this.stacks.push(a),a.onLoaded=function(){r.hideWaiting(),n.updateView(!1),a.start(t),a.visible&&a.showAni()},a.onLoadError=function(){r.hideWaiting(),o.showToast("资源加载失败"),a.removeEventListener("onDestroy",n.onPanelHide,n),n.remove(a)},a},e.prototype.updateView=function(e){var t=this;void 0===e&&(e=!0),console.info("当前弹窗个数：",this.stacks.length),this.stacks.length?(this._parent.visible=!0,"hide"==this.bgAni&&(this.bgAni="show",FYGE.Tween.removeTweens(this._bg),this._bg.alpha=.7),!1===this._bg.visible&&(this._bg.visible=!0,this._bg.alpha=0,FYGE.Tween.get(this._bg).to({alpha:.7},200,FYGE.Ease.cubicOut))):(console.info(this._bg.visible),this._bg.visible&&(this.bgAni="hide",FYGE.Tween.removeTweens(this._bg),FYGE.Tween.get(this._bg).to({alpha:0},200,FYGE.Ease.cubicOut).call((function(){t._bg.visible=!1,t._current=null,t._parent.visible=!1}))));for(var n=0;n<this.stacks.length;n++)n<this.stacks.length-1?this.stacks[n].visible=!1:(this.stacks[n].visible=!0,e&&this.stacks[n].showAni(),this._current=this.stacks[n])},e.prototype.add=function(e){this._parent.addChild(e),e.addEventListener("onDestroy",this.onPanelHide,this)},e.prototype.remove=function(e){this._parent.removeChild(e),this.stacks=this.stacks.filter((function(t){return t!=e}))},e.prototype.onPanelHide=function(e){var t=e.target;t.removeEventListener("onDestroy",this.onPanelHide,this),this.remove(t),this.updateView()},e.prototype.closeCurrent=function(){this._current&&this._current.hidePanel()},e.prototype.destroy=function(){e._instance=null,this.stacks=null,this._current=null,this._parent=null,FYGE.Tween.removeTweens(this._bg),this._bg=null},e}();t.default=s},"./module/ctrls/sceneCtrl.ts":
/*!***********************************!*\
        !*** ./module/ctrls/sceneCtrl.ts ***!
        \***********************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(
/*! ./waitingCtrl */
"./module/ctrls/waitingCtrl.ts"),r=n(
/*! ./toastCtrl */
"./module/ctrls/toastCtrl.ts"),o=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e)},enumerable:!1,configurable:!0}),e.prototype.init=function(e){this._parent=e},e.prototype.change=function(e,t){var n=this,o=new e(t);o.visible=!1,a.showWaiting();var s=this._currentScene;o.onLoaded=function(){a.hideWaiting(),o.showAni((function(){s&&s.destroy()})),o.visible=!0,o.start(t)},o.onLoadError=function(){a.hideWaiting(),r.showToast("资源加载失败"),n._currentScene=s||null,n._parent.removeChild(o)},this._currentScene=o,this._parent.addChild(o)},Object.defineProperty(e.prototype,"currentScene",{get:function(){return this._currentScene},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){e._instance=null,this._currentScene=null,this._parent=null},e}();t.default=o},"./module/ctrls/toastCtrl.ts":
/*!***********************************!*\
        !*** ./module/ctrls/toastCtrl.ts ***!
        \***********************************/
/*! no static exports found */
function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.destroyToast=t.showToast=void 0;var o,s,i,c,u=n(
/*! ../views/layers */
"./module/views/layers.ts"),l=n(
/*! ../RES */
"./module/RES.ts"),p=!1;t.showToast=function(e){!function(){if(!p){p=!0,o=new f,s=u.layers.toastLayer,o.alpha=0,o.x=u.layers.stageOffsetX-s.x+(u.layers.stageWidth-o.width)/2;var e=o.height,t=u.layers.stageOffsetY-s.y;i=t-e,c=t+(u.layers.stageHeight-e)/2}}(),o.show(e),s.addChild(o),FYGE.Tween.removeTweens(o),FYGE.Tween.get(o).set({y:i,alpha:1}).to({y:c},500,FYGE.Ease.quartOut).wait(800).to({alpha:0},300).call((function(){s.removeChild(o)}))},t.destroyToast=function(){p&&o&&!o.destroyed&&(o.destroy(),o=null,s=null,p=!1)};var f=function(e){function t(){var t=e.call(this)||this;t.PADDING=40,t.mouseChildren=!1,t.mouseEnable=!1;var n=l.RES.getRes("toastBg.png");return t.bg=new FYGE.Sprite(n),t.addChild(t.bg),t.msg=new FYGE.TextField,t.msg.size=28,t.msg.fillColor="0xffffff",t.msg.text="",t.msg.verticalAlign=FYGE.VERTICAL_ALIGN.MIDDLE,t.msg.textHeight=n.height,t.msg.textAlign=FYGE.TEXT_ALIGN.CENTER,t.addChild(t.msg),t}return r(t,e),t.prototype.show=function(e){this.msg.text=e,this.msg.x=(this.bg.width-this.msg.textWidth)/2},t.prototype.destroy=function(){FYGE.Tween.removeTweens(this),e.prototype.destroy.call(this),this.msg=null,this.bg=null},t}(FYGE.Container)},"./module/ctrls/waitingCtrl.ts":
/*!*************************************!*\
        !*** ./module/ctrls/waitingCtrl.ts ***!
        \*************************************/
/*! no static exports found */
function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function s(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.destroyWaiting=t.hideWaiting=t.showWaiting=void 0;var i,c,u=n(
/*! ../RES */
"./module/RES.ts"),l=n(
/*! ../views/layers */
"./module/views/layers.ts"),p=!1;t.showWaiting=function(e){return o(void 0,void 0,void 0,(function(){return s(this,(function(t){return function(){if(!p){p=!0;var e=new f;c=l.layers.topLayer,i=e;var t=(l.layers.stageWidth-160)/2,n=(l.layers.stageHeight-i.height)/2;i.x=l.layers.stageOffsetX-c.x+t,i.y=l.layers.stageOffsetY-c.y+n;var a=(new FYGE.Graphics).beginFill(0).drawRect(-t,-n,l.layers.stageWidth,l.layers.stageHeight).endFill();a.alpha=0,i.addChildAt(a,0)}}(),i.show(e),c.addChild(i),[2]}))}))},t.hideWaiting=function(){c.removeChild(i)},t.destroyWaiting=function(){p&&i&&!i.destroyed&&(i.destroy(),i=null,c=null,p=!1)};var f=function(e){function t(){var t=e.call(this)||this,n=u.RES.getRes("waitingBg.png"),a=new FYGE.Sprite(n);t.addChild(a);var r=u.RES.getRes("waitingRot.png"),o=new FYGE.Sprite(r);o.x=(n.width-r.width)/2,o.y=47,o.anchorX=r.width/2,o.anchorY=r.height/2,t.addChild(o);var s=0;return o.addEventListener(FYGE.Event.ENTER_FRAME,(function(){++s%30==0&&(o.rotation+=45)}),t),t.msg=new FYGE.TextField,t.msg.y=125,t.msg.textWidth=n.width,t.msg.textAlign=FYGE.TEXT_ALIGN.CENTER,t.msg.size=26,t.msg.fillColor="#ffffff",t.addChild(t.msg),t}return r(t,e),t.prototype.show=function(e){void 0===e&&(e="加载中"),this.msg.text=e},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.msg=null},t}(FYGE.Container)},"./module/tools/GPool.ts":
/*!*******************************!*\
        !*** ./module/tools/GPool.ts ***!
        \*******************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPool=void 0;var a=function(){function e(){}return e.takeOut=function(e){return this.pool[e]&&this.pool[e].length?this.pool[e].shift():null},e.takeIn=function(e,t){(this.pool[e]||(this.pool[e]=[])).push(t)},e.recover=function(e,t){this.pool[e]||(this.pool[e]=[]),this.pool[e].push(t)},e.pool={},e}();t.GPool=a},"./module/views/Module.ts":
/*!********************************!*\
        !*** ./module/views/Module.ts ***!
        \********************************/
/*! no static exports found */
function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Module=void 0;var o=n(
/*! ../RES */
"./module/RES.ts"),s=n(
/*! ../ctrls */
"./module/ctrls/index.ts"),i=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n.init(),n}return r(t,e),t.prototype.init=function(){var e=this;this.preLoadRes().then((function(){e.skinName&&o.RES.initSkinDisplay(e,e.skinName,e),e.initUi(),e.onLoaded&&e.onLoaded()}),(function(){e.onLoadError&&e.onLoadError()}))},t.prototype.preLoadRes=function(){var e=this;return new Promise((function(t,n){if(e.groupNames&&e.groupNames.length){for(var a=[],r=0;r<e.groupNames.length;r++)a.push(o.RES.loadGroup(e.groupNames[r]));Promise.all(a).then(t,n)}else t()}))},t.prototype.initUi=function(){},Object.defineProperty(t.prototype,"groupNames",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinName",{get:function(){return null},enumerable:!1,configurable:!0}),t.prototype.start=function(e){this.initEvents()},t.prototype.initEvents=function(){},t.prototype.removeEvents=function(){},t.prototype.enableMouseEvt=function(e){this.mouseEnable=e,this.mouseChildren=e},t.prototype.btnDelay=function(e,t){void 0===t&&(t=2e3),e.mouseEnable=!1,e.mouseChildren=!1,setTimeout((function(){e.mouseEnable=!0,e.mouseChildren=!0}),t)},t.prototype.destroy=function(){s.removeTweens(this),this.removeEvents(),this.dispatchEvent("onDestroy"),e.prototype.destroy.call(this)},t}(FYGE.Container);t.Module=i},"./module/views/Scene.ts":
/*!*******************************!*\
        !*** ./module/views/Scene.ts ***!
        \*******************************/
/*! no static exports found */
function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Scene=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.showAni=function(e){e()},t.prototype.updateScene=function(){},t}(n(
/*! ./Module */
"./module/views/Module.ts").Module);t.Scene=o},"./module/views/layers.ts":
/*!********************************!*\
        !*** ./module/views/layers.ts ***!
        \********************************/
/*! no static exports found */
function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.destroyLayers=t.layers=void 0;var o=n(
/*! ../ctrls/panelCtrl */
"./module/ctrls/panelCtrl.ts"),s=n(
/*! ../ctrls/sceneCtrl */
"./module/ctrls/sceneCtrl.ts"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._adaptH=0,t}return r(t,e),Object.defineProperty(t.prototype,"adaptH",{get:function(){return this._adaptH},enumerable:!1,configurable:!0}),t.prototype.init=function(e){e.addChild(this);for(var t=["_bottomLayer","_sceneLayer","_popupLayer","_toastLayer","_topLayer","_shareLayer"],n=0;n<t.length;n++)this[t[n]]=new FYGE.Container,this.addChild(this[t[n]]);this.shareLayer.y=-this.stageOffsetY,s.default.instance.init(this.sceneLayer),o.default.instance.init(this.popupLayer),this._adaptH=211-this.stageOffsetY/211*211+this.stageOffsetY},Object.defineProperty(t.prototype,"bottomLayer",{get:function(){return this._bottomLayer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneLayer",{get:function(){return this._sceneLayer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupLayer",{get:function(){return this._popupLayer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toastLayer",{get:function(){return this._toastLayer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topLayer",{get:function(){return this._topLayer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shareLayer",{get:function(){return this._shareLayer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stageHeight",{get:function(){return this.stage?this.stage.viewRect.height:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stageWidth",{get:function(){return this.stage?this.stage.viewRect.width:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stageOffsetX",{get:function(){return this.stage?this.stage.viewRect.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stageOffsetY",{get:function(){return this.stage?this.stage.viewRect.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stageCenterX",{get:function(){return this.stage.viewRect.x+this.stage.viewRect.width/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stageCenterY",{get:function(){return this.stage.viewRect.y+this.stage.viewRect.height/2},enumerable:!1,configurable:!0}),t}(FYGE.Container);t.layers=new i,t.destroyLayers=function(){t.layers.removeChildren(),t.layers.parent&&t.layers.parent.removeChild(t.layers)}},"./src/Clock.ts":
/*!**********************!*\
        !*** ./src/Clock.ts ***!
        \**********************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){void 0===e&&(e=!0),this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return e.prototype.start=function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.running=!0},e.prototype.stop=function(){return this.running=!1,this.autoStart=!1,this.getElapsedTime()},e.prototype.st=function(){this.running=!1},e.prototype.reset=function(){this.elapsedTime=0},e.prototype.getElapsedTime=function(){return this.elapsedTime},e.prototype.getDelta=function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e},e}();t.default=a},"./src/Main.ts":
/*!*********************!*\
        !*** ./src/Main.ts ***!
        \*********************/
/*! no static exports found */
function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function s(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Main=t.GDispatcher=void 0;var o=n(
/*! ../module/views/layers */
"./module/views/layers.ts"),s=n(
/*! ../module/RES */
"./module/RES.ts"),i=n(
/*! ../module/ctrls */
"./module/ctrls/index.ts"),c=n(
/*! ./ResJson */
"./src/ResJson.ts"),u=n(
/*! ./TaoBaoNet */
"./src/TaoBaoNet.ts"),l=n(
/*! ./SkinJson */
"./src/SkinJson.ts"),p=n(
/*! ./common/G_EVENT */
"./src/common/G_EVENT.ts"),f=n(
/*! ./Tools */
"./src/Tools.ts"),d=n(
/*! ./scenes/IndexScene */
"./src/scenes/IndexScene.ts");t.GDispatcher=new FYGE.EventDispatcher;var m=function(){function e(e,t){var n;t&&(f.Tools.PAGE=t),window||(FYGE.initedByCanvas(e),n=my.getSystemInfoSync());var a=new FYGE.Stage(e,750,1624,n&&n.windowWidth||document.body.clientWidth,n&&n.windowHeight||document.body.clientHeight,FYGE.RENDERER_TYPE.WEBGL,!0);this.stage=a,this.canvas=e,a.addEventListener(FYGE.Event.INIT_STAGE,this.onAddToStage,this);var r=this;!function t(){r._pause||(FYGE.Tween.flush(),a.flush()),"tb"==FYGE.getEnv()?r.requestID=e.requestAnimationFrame(t):r.requestID=window.requestAnimationFrame(t)}()}return e.prototype.changeGamePageConfig=function(e){e&&(f.Tools.PAGE=e)},e.prototype.run=function(){this._pause=!1,FYGE.Tween._lastTime=null,t.GDispatcher.dispatchEvent({type:p.G_EVENT.ON_SHOW})},e.prototype.pause=function(){t.GDispatcher.dispatchEvent({type:p.G_EVENT.ON_HIDE})},e.prototype.addGlobalEvent=function(e,n,a,r){void 0===r&&(r=!1),r?t.GDispatcher.once(e,n,a):t.GDispatcher.addEventListener(e,n,a)},e.prototype.dispatchGlobalEvent=function(e,n){t.GDispatcher.dispatchEvent(e,n)},e.prototype.removeGlobalEvent=function(e,n,a){t.GDispatcher.removeEventListener(e,n,a)},e.prototype.destroy=function(){return a(this,void 0,void 0,(function(){return r(this,(function(e){return FYGE.Tween.removeAllTweens(),"tb"==FYGE.getEnv()?this.canvas.cancelAnimationFrame(this.requestID):window.cancelAnimationFrame(this.requestID),o.destroyLayers(),i.destroyAllCtrls(),t.GDispatcher.removeAllEventListener(),u.destroyTbNetData(),[2]}))}))},e.prototype.onAddToStage=function(){return a(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return o.layers.init(this.stage),s.RES.loadConfig(c.ResJson),s.RES.loadSkinConfig(l.SkinJson),[4,s.RES.loadGroup("common")];case 1:return t.sent(),"web"==FYGE.getEnv()&&document.getElementById("__loading__")&&(document.getElementById("__loading__").style.display="none"),this.gameSceneInitPromise=new Promise((function(t){e=t})),i.changeScene(d.default,{sceneData:11,gameSceneInitResolve:e}),[2]}}))}))},e}();t.Main=m,String.prototype.repeat||(String.prototype.repeat=function(e){var t=""+this,n=(e>>=0)>1?this.repeat(t,e/2):"";return n+(e%2?n+t:n)})},"./src/ResJson.ts":
/*!************************!*\
        !*** ./src/ResJson.ts ***!
        \************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResJson=void 0,t.ResJson={groups:[{keys:"0.png,1.png,2.png,3.png,4.png,5.png,6.png,7.png,8.png,9.png,back.png,bellSprit.png,boomSprit.png,count-down-back.png,music-off.png,music-on.png,orangeSprit.png,preCountDown1.png,preCountDown2.png,preCountDown3.png,preCountDownGo.png,robotGamer.png,score-board-back.png,step1.png,step2.png,step3.png,step4.png",name:"GameScene",atlas:{"back.png":{x:2,y:2,w:750,h:1624,ox:0,oy:0,sw:750,sh:1624,ro:!1},"step1.png":{x:754,y:2,w:750,h:1624,ox:0,oy:0,sw:750,sh:1624,ro:!1},"step2.png":{x:1506,y:2,w:750,h:1624,ox:0,oy:0,sw:750,sh:1624,ro:!1},"step3.png":{x:2,y:1628,w:750,h:1624,ox:0,oy:0,sw:750,sh:1624,ro:!0},"step4.png":{x:2258,y:2,w:750,h:1624,ox:0,oy:0,sw:750,sh:1624,ro:!1},"preCountDownGo.png":{x:1628,y:1628,w:403,h:242,ox:0,oy:0,sw:403,sh:242,ro:!0},"robotGamer.png":{x:1628,y:2033,w:194,h:353,ox:0,oy:0,sw:194,sh:353,ro:!0},"preCountDown3.png":{x:1872,y:1628,w:175,h:238,ox:0,oy:0,sw:175,sh:238,ro:!1},"preCountDown2.png":{x:1983,y:1868,w:176,h:235,ox:0,oy:0,sw:176,sh:235,ro:!1},"preCountDown1.png":{x:2049,y:1628,w:164,h:231,ox:0,oy:0,sw:164,sh:231,ro:!1},"score-board-back.png":{x:1983,y:2105,w:229,h:58,ox:0,oy:0,sw:229,sh:58,ro:!0},"count-down-back.png":{x:2043,y:2105,w:208,h:58,ox:0,oy:0,sw:208,sh:58,ro:!0},"boomSprit.png":{x:1872,y:1868,w:71,h:89,ox:0,oy:0,sw:71,sh:89,ro:!0},"bellSprit.png":{x:1872,y:1941,w:78,h:85,ox:0,oy:0,sw:78,sh:85,ro:!1},"orangeSprit.png":{x:1628,y:2229,w:83,h:79,ox:0,oy:0,sw:83,sh:79,ro:!0},"music-off.png":{x:2043,y:2315,w:52,h:52,ox:0,oy:0,sw:52,sh:52,ro:!1},"music-on.png":{x:2097,y:2315,w:52,h:52,ox:0,oy:0,sw:52,sh:52,ro:!1},"0.png":{x:1963,y:1868,w:15,h:23,ox:0,oy:0,sw:15,sh:23,ro:!1},"3.png":{x:1963,y:1893,w:15,h:23,ox:0,oy:0,sw:15,sh:23,ro:!1},"5.png":{x:1963,y:1918,w:15,h:23,ox:0,oy:0,sw:15,sh:23,ro:!1},"6.png":{x:1952,y:1943,w:14,h:23,ox:0,oy:0,sw:14,sh:23,ro:!0},"8.png":{x:1952,y:1959,w:15,h:23,ox:0,oy:0,sw:15,sh:23,ro:!0},"9.png":{x:1952,y:1976,w:15,h:23,ox:0,oy:0,sw:15,sh:23,ro:!0},"1.png":{x:1952,y:1993,w:13,h:22,ox:0,oy:0,sw:13,sh:22,ro:!0},"2.png":{x:1952,y:2008,w:15,h:22,ox:0,oy:0,sw:15,sh:22,ro:!1},"4.png":{x:1628,y:2336,w:16,h:22,ox:0,oy:0,sw:16,sh:22,ro:!1},"7.png":{x:1628,y:2360,w:14,h:22,ox:0,oy:0,sw:14,sh:22,ro:!0}}},{keys:"comCloseBtn.png,com_light.png,ruready.png,toastBg.png,waitingBg.png,waitingRot.png",name:"common",atlas:{"com_light.png":{x:2,y:2,w:746,h:756,ox:0,oy:0,sw:746,sh:756,ro:!1},"toastBg.png":{x:750,y:2,w:460,h:130,ox:0,oy:0,sw:460,sh:130,ro:!0},"waitingBg.png":{x:2,y:760,w:160,h:180,ox:0,oy:0,sw:160,sh:180,ro:!0},"ruready.png":{x:184,y:760,w:156,h:38,ox:0,oy:0,sw:156,sh:38,ro:!0},"comCloseBtn.png":{x:750,y:464,w:72,h:72,ox:0,oy:0,sw:72,sh:72,ro:!1},"waitingRot.png":{x:824,y:464,w:56,h:56,ox:0,oy:0,sw:56,sh:56,ro:!1}}}],path:"https://yun.duiba.com.cn/db_games/activity/template/1647225387/resource/"}},"./src/SkinJson.ts":
/*!*************************!*\
        !*** ./src/SkinJson.ts ***!
        \*************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SkinJson=void 0,t.SkinJson={x:0,y:0,type:"container",children:[{name:"LotPrizePanel",x:0,y:0,type:"container",children:[{name:"锦鲤中奖弹框背景",x:73,y:286,type:"sprite",props:{source:"锦鲤中奖弹框背景.png"}},{name:"预置奖品图",x:245,y:599,type:"sprite",props:{source:"预置奖品图.png"},id:"img"},{name:"关闭按钮",x:352,y:1131,type:"button",props:{tUp:"关闭按钮.png"},id:"closeBtn"},{name:"知道啦",x:225,y:939,type:"button",props:{tUp:"知道啦.png"},id:"knowBtn"}]},{name:"LotNoPrizePanel",x:0,y:0,type:"container",children:[{name:"锦鲤未中奖弹框背景",x:112,y:449,type:"sprite",props:{source:"锦鲤未中奖弹框背景.png"}},{name:"关闭按钮",x:352,y:1062,type:"button",props:{tUp:"关闭按钮.png"},id:"closeBtn"},{name:"知道啦",x:225,y:849,type:"button",props:{tUp:"知道啦.png"},id:"knowBtn"}]},{name:"LotPanel",x:0,y:0,type:"container",children:[{name:"抽奖弹框背景",x:73,y:286,type:"sprite",props:{source:"抽奖弹框背景.png"}},{name:"立即抽奖",x:200,y:918,type:"button",props:{tUp:"立即抽奖.png"},id:"lotBtn"},{name:"预置奖品图",x:245,y:618,type:"sprite",props:{source:"预置奖品图.png"},id:"img"},{name:"关闭按钮",x:352,y:1131,type:"button",props:{tUp:"关闭按钮.png"},id:"closeBtn"}]},{name:"NoLotQualifPanel",x:0,y:0,type:"container",children:[{name:"没资格抽奖弹框背景",x:112,y:449,type:"sprite",props:{source:"没资格抽奖弹框背景.png"}},{name:"关闭按钮",x:352,y:1062,type:"button",props:{tUp:"关闭按钮.png"},id:"closeBtn"},{name:"知道啦",x:225,y:849,type:"button",props:{tUp:"知道啦.png"},id:"knowBtn"}]},{name:"RankPrizePanel",x:0,y:0,type:"container",children:[{name:"排行榜中奖弹框背景",x:73,y:286,type:"sprite",props:{source:"排行榜中奖弹框背景.png"}},{name:"开心收下",x:200,y:918,type:"button",props:{tUp:"开心收下.png"},id:"acceptBtn"},{name:"rank",x:425,y:481,type:"text",props:{text:"第2名",size:66.6766,fillColor:"#ef453b",textAlpha:1},id:"rank"},{name:"预置奖品图",x:245,y:561,type:"sprite",props:{source:"预置奖品图.png"},id:"img"},{name:"关闭按钮",x:352,y:1131,type:"button",props:{tUp:"关闭按钮.png"},id:"closeBtn"}]},{name:"RankNoPrizePanel",x:0,y:0,type:"container",children:[{name:"排行榜未中奖弹框背景",x:112,y:449,type:"sprite",props:{source:"排行榜未中奖弹框背景.png"}},{name:"rankTxt",x:304,y:648,type:"text",props:{text:"500",size:60.87863,fillColor:"#ef453b",textAlpha:1},id:"rankTxt"},{name:"关闭按钮",x:352,y:1062,type:"button",props:{tUp:"关闭按钮.png"},id:"closeBtn"},{name:"知道啦",x:225,y:849,type:"button",props:{tUp:"知道啦.png"},id:"knowBtn"}]},{name:"RulePanel",x:0,y:0,type:"container",children:[{name:"ruleBg",x:28,y:248,type:"sprite",props:{source:"ruleBg.png"}},{name:"规则内容",x:74,y:369,type:"text",props:{text:"游戏规则\n",size:74.03529,fillColor:"#000000",textAlpha:1},id:"ruleTxt"},{name:"我知道了",x:164,y:1197,type:"button",props:{tUp:"我知道了.png"},id:"knowBtn"},{name:"关闭按钮2",x:625,y:272,type:"button",props:{tUp:"关闭按钮2.png"},id:"closeBtn"}]},{name:"HelpPanel",x:0,y:0,type:"container",children:[{name:"助力背景",x:86,y:379,type:"sprite",props:{source:"助力背景.png"}},{name:"为他助力",x:229,y:730,type:"button",props:{tUp:"为他助力.png"},id:"helpBtn"},{name:"关闭按钮2",x:583,y:390,type:"button",props:{tUp:"关闭按钮2.png"},id:"closeBtn"}]},{name:"TaskPanel",x:0,y:0,type:"container",children:[{name:"taskBg",x:0,y:560,type:"sprite",props:{source:"taskBg.png"}},{name:"滚动内容",x:25,y:718,type:"container",children:[{name:"购买",x:0,y:0,type:"sprite",props:{source:"购买.png"}},{name:"txt5",x:151,y:710,type:"text",props:{text:"预售商品付定金（0/2）",size:32,fillColor:"#3c3836",textAlpha:1},id:"txt5"},{name:"txt4",x:151,y:545,type:"text",props:{text:"浏览指定页面10s（0/1）",size:32,fillColor:"#3c3836",textAlpha:1},id:"txt4"},{name:"txt2",x:151,y:212,type:"text",props:{text:"每日登陆（0/1）",size:32,fillColor:"#3c3836",textAlpha:1},id:"txt2"},{name:"txt1",x:152,y:44,type:"text",props:{text:"关注店铺（0/1）",size:32,fillColor:"#3c3836",textAlpha:1},id:"txt1"},{name:"goCompleteBtn",x:529,y:707,type:"button",props:{tUp:"goCompleteBtn.png"},id:"btn5"},{name:"receiveBtn",x:530,y:540,type:"button",props:{tUp:"receiveBtn.png"},id:"btn4"},{name:"goCompleteBtn",x:533,y:377,type:"button",props:{tUp:"goCompleteBtn.png"},id:"btn3"},{name:"completeBtn",x:533,y:210,type:"button",props:{tUp:"completeBtn.png"},id:"btn2"},{name:"completeBtn",x:533,y:43,type:"button",props:{tUp:"completeBtn.png"},id:"btn1"}],id:"scrollView"},{name:"关闭按钮1",x:675,y:572,type:"button",props:{tUp:"关闭按钮1.png"},id:"closeBtn"}]},{name:"LotMsgPanel",x:0,y:0,type:"container",children:[{name:"锦鲤提示背景",x:86,y:309,type:"sprite",props:{source:"锦鲤提示背景.png"}},{name:"知道啦",x:225,y:871,type:"button",props:{tUp:"知道啦.png"},id:"knowBtn"},{name:"关闭按钮2",x:583,y:328,type:"button",props:{tUp:"关闭按钮2.png"},id:"closeBtn"},{name:"预置奖品图",x:245,y:566,type:"sprite",props:{source:"预置奖品图.png"},id:"img"}]},{name:"GameOverPanel",x:0,y:0,type:"container",children:[{name:"成绩",x:70,y:287,type:"sprite",props:{source:"成绩.png"}},{name:"creditsCon",x:152,y:697,type:"container",children:[{name:"开心收下",x:48,y:246,type:"button",props:{tUp:"开心收下.png"},id:"acceptBtn"},{name:"恭喜获得文案",x:136,y:0,type:"sprite",props:{source:"恭喜获得文案.png"}},{name:"一万文案替换",x:0,y:100,type:"sprite",props:{source:"一万文案替换.png"},id:"creditsImg"},{name:"积分文案",x:355,y:129,type:"sprite",props:{source:"积分文案.png"},id:"creditsIcon"}],id:"creditsCon"},{name:"rankCon",x:200,y:697,type:"container",children:[{name:"再来一局",x:0,y:246,type:"button",props:{tUp:"再来一局.png"},id:"againBtn"},{name:"当前排名文案",x:91,y:0,type:"sprite",props:{source:"当前排名文案.png"}},{name:"三十文案替换",x:31,y:64,type:"sprite",props:{source:"三十文案替换.png"},id:"rank"}],id:"rankCon"},{name:"totalScore",x:381,y:594,type:"text",props:{text:"28000000分",size:69.57558,fillColor:"#ef453b",textAlpha:1},id:"totalScore"},{name:"curScore",x:120,y:569,type:"text",props:{text:"2800分",size:61.00614,fillColor:"#ef453b",textAlpha:1},id:"curScore"},{name:"关闭按钮",x:345,y:1199,type:"button",props:{tUp:"关闭按钮.png"},id:"closeBtn"}]},{name:"TimesOutPanel",x:0,y:0,type:"container",children:[{name:"TimesOutBg",x:86,y:389,type:"sprite",props:{source:"TimesOutBg.png"}},{name:"去赚次数",x:225,y:780,type:"button",props:{tUp:"去赚次数.png"},id:"goTaskBtn"},{name:"关闭按钮2",x:583,y:408,type:"button",props:{tUp:"关闭按钮2.png"},id:"closeBtn"}]},{name:"RankPanel",x:0,y:0,type:"container",children:[{name:"排行榜背景",x:56,y:284,type:"sprite",props:{source:"排行榜背景.png"}},{name:"RankItem",x:112,y:549,type:"skin",children:[{name:"num3",x:0,y:1,type:"sprite",props:{source:"num3.png"},id:"num3"},{name:"num2",x:0,y:2,type:"sprite",props:{source:"num2.png"},id:"num2"},{name:"num1",x:0,y:0,type:"sprite",props:{source:"num1.png"},id:"num1"},{name:"排名预置图",x:5,y:0,type:"sprite",props:{source:"排名预置图.png"},id:"rank"},{name:"nickName",x:174,y:13,type:"text",props:{text:"一**猛",size:30,fillColor:"#000000",textAlpha:1},id:"nickName"},{name:"score",x:363,y:14,type:"text",props:{text:"29310900分",size:30,fillColor:"#ef3d32",textAlpha:1},id:"score"}]},{name:"RankPrizeItem",x:87,y:1069,type:"skin",children:[{name:"nameTxt",x:38,y:155,type:"text",props:{text:"第一名",size:26,fillColor:"#000000",textAlpha:1},id:"nameTxt"},{name:"奖项预置图",x:0,y:0,type:"sprite",props:{source:"奖项预置图.png"},id:"img"}]},{name:"openTime",x:201,y:1008,type:"text",props:{text:"排行榜奖励X月X日X点开奖",size:30,fillColor:"#fffefe",textAlpha:1},id:"openTime"},{name:"rankNum",x:103,y:474,type:"text",props:{text:"未入榜 ",size:30,fillColor:"#b3640b",textAlpha:1},id:"rankNum"},{name:"nickName",x:289,y:472,type:"text",props:{text:"巴拉巴拉",size:34,fillColor:"#b3640b",textAlpha:1},id:"nickName"},{name:"score",x:502,y:473,type:"text",props:{text:"293109分",size:34,fillColor:"#b3640b",textAlpha:1},id:"score"},{name:"关闭按钮",x:636,y:218,type:"button",props:{tUp:"关闭按钮.png"},id:"closeBtn"}]},{name:"HelpTimesPanel",x:0,y:0,type:"container",children:[{name:"助力次数弹框背景",x:73,y:359,type:"sprite",props:{source:"助力次数弹框背景.png"}},{name:"知道了",x:200,y:809,type:"button",props:{tUp:"知道了.png"},id:"knowBtn"},{name:"关闭按钮",x:352,y:1041,type:"button",props:{tUp:"关闭按钮.png"},id:"closeBtn"},{name:"friendsTxt",x:256,y:550,type:"text",props:{text:"xx为好友为你助力",size:43.48474,fillColor:"#000000",textAlpha:1},id:"friendsTxt"},{name:"gameTimes",x:199,y:612,type:"text",props:{text:"游戏次数+xx",size:43.48474,fillColor:"#ff5555",textAlpha:1},id:"gameTimesTxt"}]},{name:"StartScene",x:0,y:0,type:"container",children:[{name:"startSceneBg",x:0,y:0,type:"sprite",props:{source:"startSceneBg.jpg"}},{name:"底部按钮区",x:0,y:1242,type:"container",children:[{name:"底部按钮区背景",x:0,y:0,type:"sprite",props:{source:"底部按钮区背景.png"}},{name:"icon",x:56,y:35,type:"container",children:[{name:"赚次数按钮",x:547,y:0,type:"button",props:{tUp:"赚次数按钮.png"},id:"taskBtn"},{name:"运动锦鲤按钮",x:258,y:0,type:"button",props:{tUp:"运动锦鲤按钮.png"},id:"lotBtn"},{name:"排行榜按钮",x:0,y:0,type:"button",props:{tUp:"排行榜按钮.png"},id:"rankBtn"}]}]},{name:"timesTxt",x:286,y:1205,type:"text",props:{text:"剩余次数：3次",size:16.00722,fillColor:"#ffffff",textAlpha:1},id:"timesTxt"},{name:"开始游戏",x:171,y:1052,type:"button",props:{tUp:"开始游戏.png"},id:"startBtn"},{name:"规则按钮",x:621,y:212,type:"button",props:{tUp:"规则按钮.png"},id:"ruleBtn"},{name:"奖品按钮",x:11,y:212,type:"button",props:{tUp:"奖品按钮.png"},id:"recordBtn"}]}]}},"./src/TaoBaoNet.ts":
/*!**************************!*\
        !*** ./src/TaoBaoNet.ts ***!
        \**************************/
/*! no static exports found */
function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function s(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.TBPRIZE_TYPE=t.getTbServerTime=t.checkTbDownloadPermission=t.clickLogTb=t.LogTbEnum=t.destroyTbNetData=t.getTbData=t.addData=t.sendTbNet=t.TBBgm=t.TbNetName=void 0;var o,s=n(
/*! ../module/ctrls */
"./module/ctrls/index.ts"),i=n(
/*! ./Main */
"./src/Main.ts");!function(e){e.addData="yoga.addStat",e.getActivityBaseInfoById="yoga.getActivityBaseInfoById",e.getGameInfo="xunzai.getGameInfo",e.receiveInvitePrize="xunzai.receiveInvitePrize",e.startGame="yoga.startGame",e.submitGame="yoga.submitGame",e.drawLotteryPrize="yoga.drawLotteryPrize",e.doHelp="xunzai.doHelp",e.getVipInfo="xunzai.getVipInfo",e.receiveEnamePrize="xunzai.receiveEnamePrize",e.openMember="mine.openMember",e.openTask="mine.openTask",e.authorize="mine.authorize",e.favorShop="mine.favorShop",e.getUserAddress="mine.getUserAddress",e.getAdoptName="mine.getAdoptName",e.getAppData="mine.getAppData",e.navigateToOutside="mine.navigateToOutside",e.navigateTo="mine.navigateTo",e.navigateBack="mine.navigateBack",e.showSharePanel="mine.showSharePanel",e.openDetail="mine.openDetail",e.reportAnalytics="mine.reportAnalytics",e.openMusic="mine.openMusic",e.complteGuidance="yoga.complateGuide",e.addLifiCycleEvent="mine.addLifiCycleEvent",e.showCustomLoading="mine.showCustomLoading",e.closeCustomLoading="mine.closeCustomLoading"}(o=t.TbNetName||(t.TbNetName={})),function(e){e.gameBgm="game_bgm",e.preBgm="pre_game_bgm",e.boxOpen="box_open",e.exchangeSuccess="exchange_success",e.scoreBgm="score_bgm",e.guidanceFill="guidance_fill_bgm"}(t.TBBgm||(t.TBBgm={}));var c={};function u(e,t,n,o,u){return void 0===o&&(o=!1),void 0===u&&(u=!1),new Promise((function(l,p){if(!u&&s.showWaiting(),my)i.GDispatcher.addEventListener(e,(function t(a){!u&&s.hideWaiting(),i.GDispatcher.removeEventListener(e,t);var r=a.data;c[e]=r,o||r.success||s.showToast(r.message||"网络超时"),n&&n(r.success,r),l(r),r.success,r.success,r.success})),i.GDispatcher.dispatchEvent({type:"onMessage"},{netName:e,parameter:t});else{var f=e.split(".");(function(e){return a(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,fetch(e)];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))})("../../mock/miniTb/"+f[0]+"/"+f[1]+".json").then((function(t){!u&&s.hideWaiting(),c[e]=t,o||t.success||s.showToast(t.message||"网络异常"),n&&n(t.success,t),l(t),t.success,t.success,t.success}),(function(){!u&&s.hideWaiting(),l({success:!1,data:null})}))}}))}t.sendTbNet=u,t.addData=function(e){u(o.addData,{type:e},null,!0,!0)},t.getTbData=function(e){return c[e]||null},t.destroyTbNetData=function(){c={}},function(e){e.AD="ad",e.TASK_ICON="taskIcon",e.FOLLOW_SHOP="followShop",e.INVITE_FRIEND="inviteFriend",e.BROWSE_PRODUCT="browseProduct",e.COLLECTION_PRODUCT="collectionProduct",e.BUY_PRODUCT="buyProduct",e.IMPROVE_INFORMATION="improveInformation",e.SECRET_ORDER="secretOrder",e.SIGN_ICON="signIcon",e.BAG_ICON="bagIcon"}(t.LogTbEnum||(t.LogTbEnum={})),t.clickLogTb=function(e){u(o.addData,{params:{elemType:e},type:"click"},(function(){}),!0),u(o.reportAnalytics,{logkey:e},(function(){}),!0)},t.checkTbDownloadPermission=function(e){return a(this,void 0,void 0,(function(){var t,n,a,o;return r(this,(function(r){switch(r.label){case 0:try{t=my}catch(e){}return t?(n=getApp().cloud,a=e,[4,n.file.getTempFileURL({fileId:[a]})]):[2];case 1:return o=r.sent(),a=o[0].url.replace("-internal",""),t.downloadFile({url:a,success:function(e){var n=e.apFilePath;t.getFileSystemManager().readFile({filePath:n,success:function(e){},fail:function(e){}})},fail:function(e){}}),[2]}}))}))},t.getTbServerTime=function(){return new Promise((function(e,t){"tb"==FYGE.getEnv()?my.getServerTime({success:function(t){e(+t.time)},fail:function(t){e(Date.now())}}):e(Date.now())}))},function(e){e[e.ENAME=1]="ENAME",e[e.CREDITS=2]="CREDITS",e[e.OBJECT=3]="OBJECT",e[e.THANKS=5]="THANKS"}(t.TBPRIZE_TYPE||(t.TBPRIZE_TYPE={}))},"./src/Tools.ts":
/*!**********************!*\
        !*** ./src/Tools.ts ***!
        \**********************/
/*! no static exports found */
function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function s(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.prefixInteger=t.getRandomArrayElements=t.Tools=t.myApp=t.sleep=t.goTask=t.goMyPrize=void 0;var o=n(
/*! ../module/ctrls */
"./module/ctrls/index.ts"),s=n(
/*! ../module/RES */
"./module/RES.ts"),i=n(
/*! ../module/views/layers */
"./module/views/layers.ts"),c=n(
/*! ./TaoBaoNet */
"./src/TaoBaoNet.ts"),u=FYGE.Tween,l=FYGE.Ease;function p(e){return a(this,void 0,void 0,(function(){return r(this,(function(t){return[2,new Promise((function(t){u.get(FYGE).wait(e).call(t)}))]}))}))}t.goMyPrize=function(){c.sendTbNet(c.TbNetName.navigateTo,{url:"/pages/myprize/myprize"},null,!0)},t.goTask=function(){c.sendTbNet(c.TbNetName.openTask)},t.sleep=p,t.myApp=getApp();var f=function(){function e(){}return e.getGlobalData=function(){return a(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return[4,c.sendTbNet(c.TbNetName.getAppData)];case 1:return t=n.sent().data,e.globalData=t,[2]}}))}))},e.getActivityBaseInfo=function(){return a(this,void 0,void 0,(function(){var t,n,a;return r(this,(function(r){switch(r.label){case 0:return[4,c.sendTbNet(c.TbNetName.getActivityBaseInfoById)];case 1:return t=r.sent(),n=t.success,(a=t.data)&&(e.activityBaseInfo=a),[2,n]}}))}))},e.getGameInfo=function(){return a(this,void 0,void 0,(function(){var t,n,a;return r(this,(function(r){switch(r.label){case 0:return[4,c.sendTbNet(c.TbNetName.getGameInfo)];case 1:return t=r.sent(),n=t.success,(a=t.data)&&(e.gameInfo=a),[2,n]}}))}))},e.queryVip=function(){return a(this,void 0,void 0,(function(){var e,t,n;return r(this,(function(a){switch(a.label){case 0:return[4,c.sendTbNet(c.TbNetName.getVipInfo)];case 1:return e=a.sent(),t=e.success,n=e.data,[2,t&&n.isVip]}}))}))},e.getPrize=function(e,t){return void 0===t&&(t=function(){return 0}),a(this,void 0,void 0,(function(){var n,s,i,u=this;return r(this,(function(l){switch(l.label){case 0:switch(n=function(){return a(u,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,p(500)];case 1:return e.sent(),t(),[2]}}))}))},s=e.type,i=e.id,s){case 1:return[3,1];case 3:return[3,3];case 2:case 5:return[3,5]}return[3,7];case 1:return[4,c.sendTbNet(c.TbNetName.receiveEnamePrize,{id:i},(function(e,t){return a(u,void 0,void 0,(function(){return r(this,(function(a){switch(a.label){case 0:return e&&t?[3,2]:(o.showToast("奖品发放失败\n请前往我的奖品处进行处理"),[4,n()]);case 1:return a.sent(),[2];case 2:return t.data&&3==t.data.drawStatus?o.showToast("奖品发放成功\n请前往我的奖品处查看"):o.showToast("奖品发放失败\n请前往我的奖品处进行处理"),[4,n()];case 3:return a.sent(),[2]}}))}))}),!0)];case 2:return l.sent(),[3,7];case 3:return[4,c.sendTbNet(c.TbNetName.getUserAddress,{prizeId:i},(function(e,t){return a(u,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return e?(o.showToast("奖品发放成功\n请前往我的奖品处查看"),[4,n()]):[2];case 1:return t.sent(),[2]}}))}))}),!0)];case 4:return l.sent(),[3,7];case 5:return[4,n()];case 6:return l.sent(),[3,7];case 7:return[2]}}))}))},e.getSprite=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0);var a=new FYGE.Sprite(s.RES.getRes(e));return a.x=t,a.y=n,a},e.getCircle=function(e,t,n,a,r){void 0===e&&(e=10),void 0===t&&(t=16711680),void 0===n&&(n=1),void 0===a&&(a=0),void 0===r&&(r=0);var o=new FYGE.Graphics;return o.beginFill(t),o.alpha=n,o.drawCircle(0,0,e),o.endFill(),o.position.set(a,r),o},e.getAdjustHeight=function(e,t,n){void 0===n&&(n="bot");var a="top"==n?0:"bot"==n?2*i.layers.stageOffsetY:i.layers.stageOffsetY;return i.layers.stageHeight<=1206?t+a:(i.layers.stageHeight-1206)/418*(e-t)+t+a},e.changeTextAlign=function(e,t,n){t!=FYGE.TEXT_ALIGN.LEFT&&(e.textAlign=t,n=n||e.textWidth,t==FYGE.TEXT_ALIGN.CENTER&&(e.x-=(n-e.textWidth)/2),t==FYGE.TEXT_ALIGN.RIGHT&&(e.x-=n-e.textWidth),e.textWidth=n)},e.customToast=function(e,t,n,a){void 0===t&&(t=function(){return 0}),void 0===n&&(n=2e3),void 0===a&&(a=300),u.get(e).set({alpha:0,visible:!0}).to({alpha:1},a,l.quadIn).wait(n).to({alpha:0},a,l.quadOut).set({alpha:0,visible:!1}).call((function(){t()}))},e.btnDelay=function(e,t){void 0===t&&(t=2e3),e.mouseEnable=!1,e.mouseChildren=!1,setTimeout((function(){e.mouseEnable=!0,e.mouseChildren=!0}),t)},e.getNumTextures=function(e){for(var t={},n=0;n<=9;n++)t[n]=s.RES.getRes(e+n+".png");return t},e.getAdjustBottomHeight=function(e){return i.layers.stageHeight-i.layers.stageHeight*e+i.layers.stageOffsetY},e.getAdjustTopHeight=function(e){return i.layers.stageHeight*e+i.layers.stageOffsetY},e.PAGE={isNewGuy:!1,countDownNum:30,musicStatus:!1},e.cacheKey="guideThreeSquirrels",e.indexMask={},e.activityBaseInfo={rule:"",startTime:0,endTime:0,showPrizeImg:{image_1:"",image_2:"",image_3:""}},e.gameInfo={maxLevel:1,gameTimes:0,inviteTotalCount:0,invitePrize:[{inviteCount:0,receiveStatus:0,type:"level1"}],inviteRemainTimes:null,accessMaxLevelCount:0,hasAccessMaxLevel:!1,cardTotalCount:0,hasTakeTotalTimesPrize:!1},e}();t.Tools=f,t.getRandomArrayElements=function(e,t){if(e.length<=t)return e;for(var n,a,r=e.slice(0),o=e.length,s=o-t;o-- >s;)n=r[a=(o+1)*Math.random()>>0],r[a]=r[o],r[o]=n;return r.slice(s)},t.prefixInteger=function(e,t){return(Array(t).join("0")+e).slice(-t)}},"./src/UI.ts":
/*!*******************!*\
        !*** ./src/UI.ts ***!
        \*******************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(
/*! ../module/RES */
"./module/RES.ts"),r=FYGE.Container,o=FYGE.Button,s=FYGE.MouseEvent,i=FYGE.Sprite,c=FYGE.TEXT_ALIGN,u=FYGE.TextField,l=FYGE.Shape,p=FYGE.Lottie,f=function(){function e(){}return e.Btn=function(e,t,n,r,i,c,u,l,p,f){void 0===i&&(i=0),void 0===c&&(c=0),void 0===p&&(p=t),void 0===f&&(f=t);var d=new o(a.RES.getRes(t),a.RES.getRes(p),a.RES.getRes(f));return d.addEventListener(s.CLICK,n,r),d.position.set(i,c),void 0!==u&&(d.anchorX=u),void 0!==l&&(d.anchorY=l),e&&e.addChild(d),d},e.Sp=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var o,s=a.RES.getRes(t);return(o=s?new i(s):i.fromUrl(t)).position.set(n,r),e&&e.addChild(o),o},e.Ctn=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0);var a=new r;return a.position.set(t,n),a&&e.addChild(a),a},e.Txt=function(e,t,n,a,r,o,s,i,l){void 0===a&&(a="#000000"),void 0===r&&(r=c.LEFT),void 0===o&&(o=0),void 0===s&&(s=0),void 0===i&&(i=0),void 0===l&&(l=!1);var p=new u;return p.fillColor=a,p.size=n,p.textWidth=o,p.textAlign=r,p.position.set(s,i),p.text=t,p.bold=l,e&&e.addChild(p),p},e.Rect=function(e,t,n,a,r,o,s,i){void 0===a&&(a=16711680),void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===i&&(i=1);var c=new l;return c.beginFill(a),r?c.drawRoundedRect(0,0,t,n,r):c.drawRect(0,0,t,n),c.endFill(),c.alpha=i,c.position.set(o,s),e&&e.addChild(c),c},e.Lottie=function(e,t,n,a){void 0===n&&(n=0),void 0===a&&(a=0);var r=new p(t);return r.x=n,r.y=a,e&&e.addChild(r),r},e}();t.default=f},"./src/common/G_EVENT.ts":
/*!*******************************!*\
        !*** ./src/common/G_EVENT.ts ***!
        \*******************************/
/*! no static exports found */
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.G_EVENT=void 0,function(e){e.ON_SHOW="onShow",e.ON_HIDE="onHide",e.UPDATE_TASK="onUpdateTask",e.UPDATE_SCENE="onUpdateScene"}(t.G_EVENT||(t.G_EVENT={}))},"./src/scenes/IndexScene.ts":
/*!**********************************!*\
        !*** ./src/scenes/IndexScene.ts ***!
        \**********************************/
/*! no static exports found */
function(e,t,n){"use strict";var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function s(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(
/*! ../../module/RES */
"./module/RES.ts"),u=n(
/*! ../../module/views/layers */
"./module/views/layers.ts"),l=n(
/*! ../../module/views/Scene */
"./module/views/Scene.ts"),p=n(
/*! ../Tools */
"./src/Tools.ts"),f=n(
/*! ../UI */
"./src/UI.ts"),d=n(
/*! ../Clock */
"./src/Clock.ts"),m=n(
/*! ../../module/tools/GPool */
"./module/tools/GPool.ts"),h=n(
/*! ../Main */
"./src/Main.ts");function g(e,t){var n=t,a=e;return Math.floor(Math.random()*(n-a))+a}var y="GAME_START",v="GAME_OVER",b="GAME_BGM",w=function(e){function t(t){void 0===t&&(t=30);var n=e.call(this)||this;return n._countDown=3,n._countDownTimerInterval=1e3,n._initCountDownNum=t,n.initUi(),n}return r(t,e),Object.defineProperty(t.prototype,"countDown",{get:function(){return this._countDown},set:function(e){this._countDown=e,this._countDownText.text=e+""},enumerable:!1,configurable:!0}),t.prototype.initUi=function(){f.default.Sp(this,"count-down-back.png"),this._countDownText=this.addChild(new FYGE.BitmapText(p.Tools.getNumTextures(""))),this._countDownText.position.set(135,30),this._countDownText.text=this._initCountDownNum+""},t.prototype.initCountDownNum=function(){this._countDownText.text=this._initCountDownNum+""},t.prototype.restart=function(){this.stopCountDown(),this.countDown=this._initCountDownNum,this.startCountDown()},t.prototype.startCountDown=function(){var e=this;this._countDownTimer=setInterval((function(){e.countDown--,e.countDown<=0&&(clearInterval(e._countDownTimer),e.dispatchEvent("countdown",e.countDown))}),this._countDownTimerInterval)},t.prototype.stopCountDown=function(){this._countDownTimer&&clearInterval(this._countDownTimer)},t}(FYGE.Container),E=function(){function e(){}return e.prototype.draw=function(){},e.prototype.initParent=function(e){this.parent=e,this.globalX=this.x+e.x,this.globalY=this.y+e.y},Object.defineProperty(e.prototype,"pythicPos",{get:function(){return{x:this.x+this.parent.x,y:this.y+this.parent.y}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"commonPythicPos",{get:function(){},enumerable:!1,configurable:!0}),e}(),x=function(e){function t(t,n,a){var r=e.call(this)||this;return r.type="circle",r.x=t,r.y=n,r.radius=a,r}return r(t,e),Object.defineProperty(t.prototype,"commonPythicPos",{get:function(){return o(o({},this.pythicPos),{radius:this.radius,type:this.type})},enumerable:!1,configurable:!0}),t.prototype.draw=function(){this.parent.addChild(new FYGE.Shape).beginFill("#000000").drawCircle(this.x,this.y,this.radius).endFill().alpha=.4},t}(E),P=function(e){function t(t,n,a,r){var o=e.call(this)||this;return o.type="rect",o.x=t,o.y=n,o.w=a,o.h=r,o}return r(t,e),Object.defineProperty(t.prototype,"commonPythicPos",{get:function(){return o(o({},this.pythicPos),{w:this.w,h:this.h,type:this.type})},enumerable:!1,configurable:!0}),t.prototype.draw=function(){this.parent.addChild(new FYGE.Shape).beginFill("#000000").drawRect(this.x,this.y,this.w,this.h).endFill().alpha=.4},t}(E),k=(function(e){function t(){return e.call(this)||this}r(t,e),t.prototype.addPythicCont=function(e,t){void 0===t&&(t=!1),this.pythicCont=e,e.initParent(this),t&&e.draw()}}(FYGE.Container),function(e){function t(t,n){var a=e.call(this,c.RES.getRes(t))||this;return a.resource=t,a.score=n,a}return r(t,e),t.prototype.addPythicCont=function(e,t){void 0===t&&(t=!1),this.pythicCont=e,e.initParent(this),t&&e.draw()},t}(FYGE.Sprite));function _(e,t,n){return n.x>e.x&&n.x<t.x&&n.y>e.y&&n.y<t.y}function S(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function N(e,t){if("circle"===e.type&&"circle"===t.type)return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(e.radius+t.radius,2);if("rect"===e.type&&"rect"===t.type){var n=e,a=t;return Math.abs(n.x+n.w/2-a.x-a.w/2)<(n.w+a.w)/2&&Math.abs(n.y+n.h/2-a.y-a.h/2)<(n.h+a.h)/2}if("circle"===e.type&&"rect"===t.type){a=t;var r=e,o=r.radius;return _({x:a.x-r.radius,y:a.y},{x:a.x+a.w+r.radius,y:a.y+a.h},r)||_({x:a.x,y:a.y-r.radius},{x:a.x+a.w,y:a.y+a.h+r.radius},r)||S(a,r)<o||S({x:a.x+a.w,y:a.y},r)<o||S({x:a.x,y:a.y+a.h},r)<o||S({x:a.x+a.w,y:a.y+a.h},r)<o}if("rect"===e.type&&"circle"===t.type){var s=t;return n=e,Math.pow(s.x-n.x-n.w/2,2)+Math.pow(s.y-n.y-n.h/2,2)<Math.pow(s.radius+n.w/2,2)}}var T=[{resource:"bellSprit.png",probability:30,score:1},{resource:"orangeSprit.png",probability:25,score:2},{resource:"boomSprit.png",probability:10,score:0}],C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._score=0,t.spl=0,t.speed=400,t.clock=new d.default,t.axisX=[50,650],t.gameElesList=[],t.GameStatus=0,t._musicStatus=!1,t._cacheLen=0,t}return r(t,e),Object.defineProperty(t.prototype,"musicStatus",{get:function(){return this._musicStatus},set:function(e){this._musicStatus=e,this.musicBtn.texture=c.RES.getRes(e?"music-on.png":"music-off.png"),h.GDispatcher.dispatchEvent(b,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"score",{get:function(){return this._score},set:function(e){this._score=e,this.scoreBitMapText.text=e+""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currGameEleResource",{get:function(){var e=T.reduce((function(e,t){return e.push(t.probability+(e[e.length-1]||0)),e}),[]),t=g(0,e[e.length-1]);return T[e.findIndex((function(e){return t<e}))]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupNames",{get:function(){return["GameScene"]},enumerable:!1,configurable:!0}),t.prototype.initUi=function(){f.default.Sp(this,"back.png"),this.initCountDown(),this.initScoreBoard(),this.onInitGamer(),this.initMusicBtn(p.Tools.PAGE.musicStatus)},t.prototype.start=function(t){return s(this,void 0,void 0,(function(){return i(this,(function(n){return e.prototype.start.call(this),t.gameSceneInitResolve(),[2]}))}))},t.prototype.initCountDown=function(){this.CountDownCont=this.addChild(new w(p.Tools.PAGE.countDownNum)),this.CountDownCont.position.set(0,u.layers.stageOffsetY+100),this.CountDownCont.addEventListener("countdown",this.onGameOver,this)},t.prototype.initScoreBoard=function(){var e=f.default.Ctn(this);e.position.set(u.layers.stageWidth-229,u.layers.stageOffsetY+100),f.default.Sp(e,"score-board-back.png"),this.scoreBitMapText=e.addChild(new FYGE.BitmapText(p.Tools.getNumTextures(""))),this.scoreBitMapText.position.set(150,28),this.score=0},t.prototype.initMusicBtn=function(e){var t=this;void 0===e&&(e=!1),this.musicBtn=f.default.Btn(this,e?"music-on.png":"music-off.png",(function(){t.musicStatus=!t.musicStatus}),this,660,u.layers.stageOffsetY+200)},t.prototype.onShowPreCountDown=function(){return s(this,void 0,void 0,(function(){var e,t=this;return i(this,(function(n){return e=f.default.Ctn(this),f.default.Rect(e,750,1624,0,0,0,0,.5),[2,new Promise((function(n){return s(t,void 0,void 0,(function(){function t(){return new Promise((function(e){FYGE.Tween.get(a).to({alpha:1},.6),FYGE.Tween.get(a).set({scaleX:0,scaleY:0}).to({scaleX:1.1,scaleY:1.1},400).to({scaleX:1,scaleY:1},200).wait(600).call(e)}))}var a;return i(this,(function(r){switch(r.label){case 0:return(a=f.default.Sp(e,"preCountDown3.png")).anchorTexture.set(.5),a.alpha=0,a.position.set(375,812),[4,t()];case 1:return r.sent(),a.alpha=0,a.texture=c.RES.getRes("preCountDown2.png"),[4,t()];case 2:return r.sent(),a.alpha=0,a.texture=c.RES.getRes("preCountDown1.png"),[4,t()];case 3:return r.sent(),a.alpha=0,a.texture=c.RES.getRes("preCountDownGo.png"),[4,t()];case 4:return r.sent(),n(),e.destroy(),[2]}}))}))}))]}))}))},t.prototype.onShowNewGuySteps=function(){return s(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){return[2,new Promise((function(t){var n=f.default.Ctn(e),a=f.default.Sp(n,"step1.png"),r=1;function o(){r>4&&(n.destroy(),t()),a.texture=c.RES.getRes("step"+r+".png"),r++}o(),n.addEventListener(FYGE.MouseEvent.CLICK,(function(){o()}))}))]}))}))},t.prototype.onGameInit=function(){this.score=0,this.musicStatus=p.Tools.PAGE.musicStatus,this.recoverGameEles(),this.onInitGamer(),this.CountDownCont.initCountDownNum()},t.prototype.onGameStart=function(){return s(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return this.onGameInit(),p.Tools.PAGE.isNewGuy?[4,this.onShowNewGuySteps()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[4,this.onShowPreCountDown()];case 3:return e.sent(),this.GameStatus=1,this.CountDownCont.restart(),[2]}}))}))},t.prototype.onGameOver=function(e){var t=this;void 0===e&&(e=!1),this.GameStatus=0,this.CountDownCont.stopCountDown(),setTimeout((function(){h.GDispatcher.dispatchEvent(v,{score:t.score})}),e?500:0)},t.prototype.onInitGamer=function(){this.RobotGameEle||(this.RobotGameEle=this.addChild(new k("robotGamer.png")),this.RobotGameEle.addPythicCont(new P(50,190,100,60),!1)),this.RobotGameEle.position.set(375-this.RobotGameEle.width/2,1100)},t.prototype.onInitFallGameEle=function(){this.spl=g(80,300);var e=this.currGameEleResource,t=e.resource,n=m.GPool.takeOut(t)||this.addChild(new k(t,e.score));n.position.set(g(this.axisX[0],this.axisX[1]),u.layers.stageOffsetY-100),n.visible=!0,this.gameElesList.push(n),n.pythicCont||("bellSprit.png"===t?n.addPythicCont(new x(36,40,40),!1):"orangeSprit.png"===t?n.addPythicCont(new x(50,48,34),!1):"boomSprit.png"===t&&n.addPythicCont(new x(32,55,34),!1))},t.prototype.initEvents=function(){e.prototype.initEvents.call(this),this.addEventListener(FYGE.Event.ENTER_FRAME,this.frameUpdate,this),this.RobotGameEle.addEventListener(FYGE.MouseEvent.MOUSE_DOWN,this.onMouseDown,this),h.GDispatcher.addEventListener(y,this.onGameStart,this)},t.prototype.removeEvents=function(){e.prototype.removeEvents.call(this),this.removeEventListener(FYGE.Event.ENTER_FRAME,this.frameUpdate,this),this.RobotGameEle.removeEventListener(FYGE.MouseEvent.MOUSE_DOWN,this.onMouseDown,this),h.GDispatcher.removeEventListener(y,this.onGameStart,this)},t.prototype.onMouseDown=function(e){this.startPos={x:e.stageX,y:e.stageY},this.startRobotPos={x:this.RobotGameEle.x,y:this.RobotGameEle.y},this.stage.addEventListener(FYGE.MouseEvent.MOUSE_MOVE,this.onMouseMove,this),this.stage.once(FYGE.MouseEvent.MOUSE_UP,(function(){this.stage.removeEventListener(FYGE.MouseEvent.MOUSE_MOVE,this.onMouseMove)}))},t.prototype.onMouseMove=function(e){if(this.GameStatus){var t=e.stageX;e.stageY,t<100||t>650||this.RobotGameEle.position.set(this.startRobotPos.x+t-this.startPos.x,this.startRobotPos.y)}},t.prototype.recoverGameEles=function(){for(var e=0;e<this.gameElesList.length;e++){var t=this.gameElesList[e];t.visible=!1,m.GPool.takeIn(t.resource,t)}this.gameElesList.length=0},t.prototype.playGameEleSounds=function(e){(this.musicStatus||"boomSprit.png"===e)&&h.GDispatcher.dispatchEvent(b,{isOn:!0,key:{"bellSprit.png":"bell","orangeSprit.png":"orange","boomSprit.png":"boom"}[e],loop:!1})},t.prototype.frameUpdate=function(){if(this.GameStatus){var e=this.clock.getDelta();if(!(e>100)){var t=this.speed*e;this._cacheLen+=t,this._cacheLen>this.spl&&(this._cacheLen=0,this.onInitFallGameEle());for(var n=this.gameElesList.length-1;n>=0;n--){var a=this.gameElesList[n];a.y+=t,a.y>1624&&(a.visible=!1,m.GPool.takeIn(a.resource,a),this.gameElesList.splice(n,1)),N(a.pythicCont.commonPythicPos,this.RobotGameEle.pythicCont.commonPythicPos)&&(a.visible=!1,m.GPool.takeIn(a.resource,a),this.playGameEleSounds(a.resource),this.gameElesList.splice(n,1),0==a.score&&this.onGameOver(!0),this.score+=a.score)}}}},t}(l.Scene);t.default=C}})},"object"===i(t)&&"object"===i(e)?e.exports=s():(r=[],void 0===(o="function"==typeof(a=s)?a.apply(t,r):a)||(e.exports=o))}).call(this,n("YuTi")(e))},vG5m:function(e,t,n){},wK0R:function(e,t,n){},xwXZ:function(e,t,n){}},[["k7yg",1,2]]]);
//# sourceMappingURL=main.8dc90c5c.js.map