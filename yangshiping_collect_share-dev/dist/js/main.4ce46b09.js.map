{"version":3,"sources":["webpack:///./src/components/giveCard/style.less","webpack:///./sparkrc.js","webpack:///./src/modal/modal.less","webpack:///./src/components/singleshare/style.less","webpack:///./src/pages/loading/loading.less","webpack:///./src/components/askcard/style.less","webpack:///./src/pages/homePage/homePage.less","webpack:///./src/api/apicfg.js","webpack:///./src/api/index.js","webpack:///./src/utils/constants.js","webpack:///./src/utils/utils.js","webpack:///./src/store/index.js","webpack:///./src/store/modal.js","webpack:///./src/components/singleshare/Index.jsx","webpack:///./src/components/askcard/Index.jsx","webpack:///./src/modal/modal.jsx","webpack:///./src/components/giveCard/Index.jsx","webpack:///./MD.js","webpack:///./src/utils/preload1.3.js","webpack:///./src/pages/loading/loading.jsx","webpack:///./src/pages/homePage/homePage.jsx","webpack:///./src/app.jsx","webpack:///./src/app.less"],"names":["api","content","__esModule","default","module","i","options","exports","locals","apiCfg","getRule","doJoin","uri","method","mergeData","user_type","newUser","is_from_share","isFromShare","API","apiList","key","value","headers","withToken","secret","secretKey","contentType","console","error","getRequestParams","mHeaders","a","params","getPxToken","token","Toast","mergedHeaders","callApi","e","message","result","success","generateAPI","shareContent","give","title","thumbnail","url","share","ask","getUrlParam","name","search","window","location","matched","slice","match","RegExp","length","store","makeAutoObservable","ruleInfo","curPage","setRule","this","changePage","page","callback","initRule","data","goDeepLink","_params","type","shareCode","spId","spCode","userId","middleLoginUrl","encodeURIComponent","origin","CFG","projectId","appID","obj2query","href","modalIndex","modalStore","popList","pushPop","isMulti","cacheList","push","sort","b","clear","closePop","filter","obj","shift","closePopAll","ShareModal","className","onClick","Component","askcard","props","popData","src","RES_PATH","goUrl","cfg","sharemodal","givecard","Modal","observer","PopUp","PopUpMulti","popUpMultiData","list","toJS","document","body","style","overflow","popObj2","popObj","zIndex","display","appId","dcm","MDList","map","item","index","ele","dpm","domain","once","preloadAsset","urlList","batchNum","onProgress","Promise","resolve","totalNum","assetIndex","loadedNum","loadedData","doLoad","loadOneAsset","warn","fileType","split","pop","test","loadOneImg","loadOneSvga","loadOneSpi","loadOneJson","loadOneAudio","img","Image","onload","onerror","err","crossOrigin","loadSvga","then","FYGE","spineData","loadJson","res","sound","Howl","onloaderror","Loading","assetList","preLoadImg","progress","onLoadingProgress","setTimeout","asyncLoadImg","percentage","Math","floor","isEvenLoad","setEvenProgress","setProgress","progressBar","transform","intervalId","clearInterval","curPercentage","setInterval","preloadAssetInit","ref","el","React","HomePage","start","Weixin","info","_type","updateShare","MD","show","click","pageMap","loading","homePage","App","ReactDOM","render","getElementById"],"mappings":"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","file":"js/main.4ce46b09.js","sourcesContent":["var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--4-1!../../../node_modules/css-loader/dist/cjs.js??ref--4-2!../../../node_modules/postcss-loader/src/index.js??ref--4-3!../../../node_modules/less-loader/dist/cjs.js??ref--4-4!./style.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","module.exports ={\n  \"OUTPUT_DIR\": \"dist\",\n  \"SOURCE_DIR\": \"src\",\n  \"TEMP_DIR\": \"./.temp\",\n  \"ENTRY\": \"src/app.jsx\",\n  \"TEMPLATE\": \"./public/index.html\",\n  \"API_MOCK\": true,\n  \"PX2REM\": true,\n  \"IMAGE_Q1\": 0.6,\n  \"IMAGE_Q2\": 0.8,\n  \"RES_PATH\":\"//yun.duiba.com.cn/spark/v2/temp_base/1642677119263/\",\n  \"RES_PATH_PROD\": \"//yun.duiba.com.cn/spark/v2/temp_base/1642677119263\",\n  \"JS_PATH_PROD\": \"https://yun.duiba.com.cn/spark/v2/temp_base/1643113481092/js\"\n}","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--4-1!../../node_modules/css-loader/dist/cjs.js??ref--4-2!../../node_modules/postcss-loader/src/index.js??ref--4-3!../../node_modules/less-loader/dist/cjs.js??ref--4-4!./modal.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--4-1!../../../node_modules/css-loader/dist/cjs.js??ref--4-2!../../../node_modules/postcss-loader/src/index.js??ref--4-3!../../../node_modules/less-loader/dist/cjs.js??ref--4-4!./style.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--4-1!../../../node_modules/css-loader/dist/cjs.js??ref--4-2!../../../node_modules/postcss-loader/src/index.js??ref--4-3!../../../node_modules/less-loader/dist/cjs.js??ref--4-4!./loading.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--4-1!../../../node_modules/css-loader/dist/cjs.js??ref--4-2!../../../node_modules/postcss-loader/src/index.js??ref--4-3!../../../node_modules/less-loader/dist/cjs.js??ref--4-4!./style.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--4-1!../../../node_modules/css-loader/dist/cjs.js??ref--4-2!../../../node_modules/postcss-loader/src/index.js??ref--4-3!../../../node_modules/less-loader/dist/cjs.js??ref--4-4!./homePage.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","\nconst apiCfg = {\n  getRule:`projectRule.query`,\n  doJoin: {\n    uri: `join.do`,\n    method: \"post\"\n  },\n}\n\nexport default apiCfg;\n","import apiCfg from './apicfg';\nimport {getPxToken} from \"@spark/projectx\";\nimport {callApi} from '@spark/api-base'\nimport {Toast} from '@spark/ui'\n\nimport {isFromShare, newUser} from 'duiba-utils';\n\nlet mergeData = {\n\tuser_type: newUser ? '0' : '1',\n\tis_from_share: isFromShare ? '0' : '1',\n}\n\nconst apiList = {\n\t...apiCfg\n}\n\n\nconst API = generateAPI(apiList);\nexport default API;\n\nfunction getRequestParams(value) {\n\tif (typeof value === 'string') {\n\t\treturn {\n\t\t\turi: value,\n\t\t\tmethod: 'get'\n\t\t}\n\t} else if (typeof value === 'object') {\n\t\tconst {uri, method = 'get', headers, withToken, secret, secretKey, contentType = 'form'} = value;\n\t\treturn {\n\t\t\turi,\n\t\t\tmethod,\n\t\t\theaders,\n\t\t\twithToken,\n\t\t\tsecret,\n\t\t\tsecretKey,\n\t\t\tcontentType,\n\t\t}\n\t} else {\n\t\tconsole.error('getRequestParams: 传参有误');\n\t}\n}\n\n\nfunction generateAPI(apiList) {\n\tconst api = {};\n\tfor (let key in apiList) {\n\t\tlet value = apiList[key];\n\n\t\tconst {method, uri, headers: mHeaders, withToken, secret, secretKey, contentType} = getRequestParams(value);\n\t\tapi[key] = async (params = {}, headers) => {\n\t\t\tlet token;\n\t\t\tif (withToken) {\n\t\t\t\ttry {\n\t\t\t\t\ttoken = await getPxToken();\n\t\t\t\t} catch (e) {\n\t\t\t\t\tToast('星速台token获取失败，***请补全该处理逻辑***');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet mergedHeaders = {...mHeaders, ...headers}\n\t\t\tif (withToken && token) {\n\t\t\t\tparams.token = token;\n\t\t\t}\n\n\t\t\tparams = {...params, ...mergeData};\n\n\t\t\tconst result = await callApi(uri, params, method, mergedHeaders, false, secret, secretKey, contentType)\n\t\t\t\t.catch(e => {\n\t\t\t\t\t//捕获网络异常\n\t\t\t\t\tToast((e.message || '网络异常') + ' ***请补全该处理逻辑***');\n\t\t\t\t});\n\t\t\tif (result) {\n\t\t\t\t//判断接口错误\n\t\t\t\tif (!result.success) {\n\t\t\t\t\tToast((result.message || '接口错误') + ' ***请补全该处理逻辑***');\n\t\t\t\t}\n\t\t\t\t//返回整个结果\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn api;\n}\n","/*\n * @Author: super\n * @Date: 2021-01-20 14:08:27\n * @LastEditTime: 2021-01-20 14:53:39\n * @LastEditors: super\n * @Description: \n */\n// 弹窗优先级 可以是负数， 不写默认是10， 数值越小，层级越高\nexport const MODAL_INDEX = {\n  // rank: 1,\n  // task: 1\n  lastgain: 1,\n  auth: 2,\n  assit: 3,\n  rankprize: 4,\n  // sucwalk: 1\n  // taskfinish: 1\n};\nexport function ERROR_MESSSAGE(errorCode) {\n  let message = \"\";\n  switch (errorCode) {\n    // case 999101:\n    //   message = \"登录已过期\";\n    //   break;\n    case 999002:\n      message = \"活动已结束\";\n    break;\n    case 500021:\n      message = \"没有昨日线下步数\";\n      break;\n    case 500022:\n      message = \"已经领取过了\";\n      break;\n    default:\n      message = \"\";\n      break;\n  }\n  return message;\n}\n//分享文案\nexport const shareContent = {\n  give: {\n    title: \"送你一张雪花卡，一起来助力冬奥！\",\n    content: \"玩转雪花卡 大奖拿不停\",\n    thumbnail:\n      \"https://yun.duiba.com.cn/aurora/assets/59265f2e498bdeb603c2b120e7af2feb68e5b7ef.png\",\n    url: \"\"\n  },\n  share: {\n    title: \"我在集雪花卡，快来助我一臂之力\",\n    content: \"玩转雪花，奖品多多，就差你啦！\",\n    thumbnail:\n      \"https://yun.duiba.com.cn/aurora/assets/59265f2e498bdeb603c2b120e7af2feb68e5b7ef.png\",\n    url: \"\"\n  },\n  ask: {\n    title: \"快送我一张雪花卡 让我赢大奖吧！\",\n    content: \"快送我一张雪花卡 让我赢大奖吧！\",\n    thumbnail:\n      \"https://yun.duiba.com.cn/aurora/assets/59265f2e498bdeb603c2b120e7af2feb68e5b7ef.png\",\n    url: \"\"\n  }\n};","/*\n * @Author: all\n * @Date: 2021-11-01 09:30:00\n * @LastEditTime: 2021-11-02 18:30:00\n * @LastEditors: all\n * @Description: \n */\nimport { Toast } from \"@spark/ui\";\nimport { ERROR_MESSSAGE } from \"./constants\"\nimport { useRef, useEffect, useCallback } from \"react\";\n\nexport {\n  showToast,    //展示Toast\n  _throttle,    //节流\n  useThrottle,  //节流，函数组件\n  _debounce,    //防抖\n  getCookie,    //获取cookie的值\n  getUrlParam,  //获取url参数\n  delUrlParam,  //删除url中的参数\n  subStringCE,   //截取字符串 中2英1\n  check2Object,  //判断两个对象相等\n  getThousandToK, //转换k\n  dateFormatter, //日期格式化\n  dealTime,     //时间格式化\n  second2Date,  //秒转时间对象\n  waitTime,     //等待一段时间再执行\n  randomNum,    //获取区间随机数 [min,max)\n  shuffleArr,   //随机打乱数组\n  flatten,      //数据扁平化\n  onCtrScroll   //控制滚动--兼容ioss\n}\n\n/**\n * @description: 展示Toast\n * @param { string } errCode  错误码\n * @param { message }  message 错误消息\n */\n/**  */\nfunction showToast(errCode, message) {\n  Toast(ERROR_MESSSAGE[errCode] || message || \"网络异常，请稍后再试~\", 2000, {hideOthers:true});\n}\n\n/**\n * @description: 函数节流，普通防连点\n * @param {(Function, number?)}\n * @return {Function}\n */\nconst _throttle = (fun, delay = 2000) => {\n  let last, deferTimer;\n  return function () {\n    let now = +new Date();\n    if (last && now < last + delay) {\n      clearTimeout(deferTimer);\n      deferTimer = setTimeout(() => {\n        last = now;\n      }, delay);\n    } else {\n      last = now;\n      fun.apply(this, arguments);\n    }\n  };\n};\n\n\nfunction useThrottle(fn, delay=2000, dep = []) {\n  const { current } = useRef({ fn, timer: null });\n  useEffect(function () {\n    current.fn = fn;\n  }, [fn]);\n\n  return useCallback(function f(...args) {\n    if (!current.timer) {\n      current.timer = setTimeout(() => {\n        delete current.timer;\n      }, delay);\n      current.fn.call(this, ...args);\n    }\n  }, dep);\n}\n\n/**\n * @description: 函数防抖\n * @param {(Function, number?, boolean? )}\n * @return {Function}\n */\nconst _debounce = (fn, wait=2000, immediate = false) =>{\n  let timer = null\n  return function() {\n    var later = function() {\n      fn.apply(this, arguments)\n    }\n    if (immediate && !timer) {\n      later()\n    }\n    if(timer) clearTimeout(timer)\n    timer = setTimeout(later, wait)\n  }\n}\n\n/**\n * 获取cookie的值\n * @param {*} cookieName\n */\nfunction getCookie(cookieName) {\n  const strCookie = document.cookie;\n  const arrCookie = strCookie.split('; ');\n  for (let i = 0; i < arrCookie.length; i++) {\n    let arr = arrCookie[i].split('=');\n    if (cookieName == arr[0]) {\n      return arr[1];\n    }\n  }\n  return '';\n}\n/**\n * 获取url参数\n * @param {string} name\n */\nfunction getUrlParam(name) {\n  var search = window.location.search;\n  var matched = search\n      .slice(1)\n      .match(new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i'));\n  return search.length ? matched && matched[2] : null;\n}\n/**\n * 删除url中的参数\n * @param {*} url\n * @param {*} arg\n */\nfunction delUrlParam(url, ref) {\n  // 如果不包括此参数\n  if (url.indexOf(ref) == -1) return url;\n\n  let arr_url = url.split('?');\n  let base = arr_url[0];\n  let arr_param = arr_url[1].split('&');\n  let index = -1;\n\n  for (let i = 0; i < arr_param.length; i++) {\n    let paired = arr_param[i].split('=');\n    if (paired[0] == ref) {\n      index = i;\n      break;\n    }\n  }\n  if (index == -1) {\n    return url;\n  } else {\n    arr_param.splice(index, 1);\n    return base + '?' + arr_param.join('&');\n  }\n}\n/**\n * 日期格式化\n * @param date    接收可以被new Date()方法转换的内容\n * @param format  字符串，需要的格式例如：'yyyy/MM/dd hh:mm:ss'\n * @returns {String}\n */\nconst dateFormatter = (date, format = \"yyyy/MM/dd\") => {\n  if (!date) return \"-\";\n  date = new Date(\n      typeof date === \"string\" && isNaN(date)\n          ? date.replace(/-/g, \"/\")\n          : Number(date)\n  );\n  const o = {\n      \"M+\": date.getMonth() + 1,\n      \"d+\": date.getDate(),\n      \"h+\": date.getHours(),\n      \"m+\": date.getMinutes(),\n      \"s+\": date.getSeconds(),\n      \"q+\": Math.floor((date.getMonth() + 3) / 3),\n      S: date.getMilliseconds(),\n  };\n  if (/(y+)/.test(format)) {\n      format = format.replace(\n          RegExp.$1,\n          (date.getFullYear() + \"\").substr(4 - RegExp.$1.length)\n      );\n  }\n  for (const k in o) {\n      if (new RegExp(\"(\" + k + \")\").test(format)) {\n          format = format.replace(\n              RegExp.$1,\n              RegExp.$1.length === 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length)\n          );\n      }\n  }\n  return format;\n};\n\n/** 时间格式化 */\nconst dealTime = (msTime) => {\n  let time = msTime / 1000;\n  let hour = Math.floor(time / 60 / 60) % 24;\n  let minute = Math.floor(time / 60) % 60;\n  let second = Math.floor(time) % 60;\n  hour = hour > 9 ? hour : \"0\" + hour;\n  minute = minute > 9 ? minute : \"0\" + minute;\n  second = second > 9 ? second : \"0\" + second;\n  return `${hour}:${minute}:${second}`;\n}\n\n/**\n * 转换k\n * @param {*} num\n */\nfunction getThousandToK(num) {\n  if (num >= 1000) {\n    let result = num / 1000;\n    result = Math.floor(result * 10) / 10;\n    var s_x = result.toString();\n    var pos_decimal = s_x.indexOf(\".\");\n    if (pos_decimal < 0) {\n      pos_decimal = s_x.length;\n      s_x += \".\";\n    }\n    while (s_x.length <= pos_decimal + 1) {\n      s_x += \"0\";\n    }\n    s_x += \"k\";\n  } else {\n    s_x = num;\n  }\n  return s_x;\n}\n\n/**\n * 截取字符串 中2英1\n * @param {*} str \n * @param {*} sub_length \n */\nfunction subStringCE(str, sub_length) {\n  let temp1 = str.replace(/[^\\x00-\\xff]/g, \"**\");\n  let temp2 = temp1.substring(0, sub_length);\n  let x_length = temp2.split(\"\\*\").length - 1;\n  let hanzi_num = x_length / 2;\n  sub_length = sub_length - hanzi_num;\n  let res = str.substring(0, sub_length);\n  let endStr;\n  if (sub_length < str.length) {\n    endStr = res + \"...\";\n  } else {\n    endStr = res;\n  }\n  return endStr;\n}\n\n/**\n * 随机打乱数组\n * @param {*} arr \n * @returns \n */\nfunction shuffleArr(arr) {\n  for (var i = arr.length - 1; i >= 0; i--) {\n      var randomIndex = Math.floor(Math.random() * (i + 1))\n      var itemAtIndex = arr[randomIndex]\n      arr[randomIndex] = arr[i]\n      arr[i] = itemAtIndex\n  }\n  return arr\n}\n\n/**\n *  获取区间随机数 [min,max)\n * @export\n * @param {*} min\n * @param {*} max\n * @return {*} \n */\nfunction randomNum(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min\n}\n\n/**\n *  数据扁平化\n * @export\n * @param {*} arr\n * @return {*} \n */\nfunction flatten(arr) {\n  return arr.reduce((result, item) => {\n      return result.concat(Array.isArray(item) ? flatten(item) : item)\n  }, [])\n}\n\n/** 判断两个对象相等 */\nconst check2Object = (obj1, obj2) => {\n  var o1 = obj1 instanceof Object\n  var o2 = obj2 instanceof Object\n  if (!o1 || !o2) { /*  判断不是对象  */\n      return obj1 === obj2\n  }\n  if (Object.keys(obj1).length !== Object.keys(obj2).length) {\n      return false\n  }\n  for (var attr in obj1) {\n      var t1 = obj1[attr] instanceof Object\n      var t2 = obj2[attr] instanceof Object\n      if (t1 && t2) {\n          return check2Object(obj1[attr], obj2[attr])\n      } else if (obj1[attr] !== obj2[attr]) {\n          return false\n      }\n  }\n  return true\n}\n\n/**\n * 秒转时间对象\n * @param {Number} totalSecond 总秒数\n * @return {{\n *  day: String,\n *  hour: String,\n *  minute: String,\n *  second: String\n * }}\n */\nconst second2Date = (totalSecond) => {\n  const millisecond = totalSecond % 1000\n  totalSecond = totalSecond / 1000\n\n  // 获得总分钟数\n  const totalMinute = totalSecond / 60\n  // 获得剩余秒数\n  const second = totalSecond % 60\n  // 获得小时数\n  const totalHour = totalMinute / 60\n  // 获得分钟数\n  const minute = totalMinute % 60\n  // 获得天数\n  const day = totalHour / 24\n  // 获得剩余小时数\n  const hour = totalHour % 24\n  // 格式化的键值\n  const includesKey = ['month', 'day', 'hour', 'minute', 'second', 'totalHour', 'totalMinute']\n  // 日期对象\n  const dateObj = { day, hour, minute, second, millisecond, totalHour, totalMinute }\n\n  return Object.entries(dateObj).reduce((preVal, [key, value]) => {\n    // 值取整\n    value = parseInt(value)\n\n    if (includesKey.includes(key) && value < 10) {\n      if (value < 0) {\n        preVal[key] = '00'\n      } else {\n        preVal[key] = '0' + value\n      }\n    } else {\n      if (value.toString() === 'NaN') {\n        preVal[key] = '0'\n      } else {\n        preVal[key] = value.toString()\n      }\n    }\n\n    return preVal\n  }, {})\n}\n\n/**\n * 等待一段时间再执行\n * @param {number} time 等待的时间ms\n */\nfunction waitTime(time) {\n  return new Promise(resolve => setTimeout(resolve, time))\n}\n\n/** 控制滚动--兼容ioss */\nconst bodyScroll = (event) => {\n  event.preventDefault();\n}\nconst onCtrScroll = (flag = true) => {\n  if (flag) { //禁止滚动\n      document.body.addEventListener('touchmove', bodyScroll, { passive: false });\n  } else { //开启滚动\n      document.body.removeEventListener('touchmove', bodyScroll, { passive: false });\n  }\n}","import { makeAutoObservable } from \"mobx\";\nimport API from \"../api/index\";\nimport { obj2query } from \"@spark/utils\";\nimport { getUrlParam } from \"@src/utils/utils\";\nconst store = makeAutoObservable({\n  ruleInfo: \"\",\n  curPage: \"homePage\",\n  setRule(ruleInfo) {\n    this.ruleInfo = ruleInfo;\n  },\n  changePage(page, callback) {\n    this.curPage = page;\n    callback && callback();\n  },\n  async initRule() {\n    // 模拟获取远程的数据\n    const { data } = await API.getRule();\n    this.setRule(data);\n  },\n  goDeepLink() {\n    const _params = {\n      type: getUrlParam(\"type\"),\n      shareCode: getUrlParam(\"shareCode\"),\n      spId: getUrlParam(\"spId\"),\n      spCode: getUrlParam(\"spCode\"),\n      userId: getUrlParam(\"userId\")\n    };\n    //targetUrl为指定页面地址\n     const middleLoginUrl =\n       \"https://m.yangshipin.cn/static/duiba.html?redirect=\" +\n       encodeURIComponent(\n         `${location.origin}/projectx/${CFG.projectId}/index.html?appID=${\n           CFG.appID\n         }&${obj2query(_params)}`\n       );\n     window.location.href = middleLoginUrl;\n    // return;\n    // location.href = url;\n  }\n});\nexport default store;\n","import { makeAutoObservable,toJS } from 'mobx';\n\n//此处配置页面的优先级，越大优先级越高\n// PopIndex:11\nconst modalIndex = {\n\n}\n\nconst modalStore = makeAutoObservable({\n  popList: [],\n  /**\n   * \n   * @param {*} key  弹窗名，一般是类名的字符串\n   * @param {*} data 需要传递的数据，弹窗中使用 const {popData}  = props; 获取\n   * @param {*} isMulti 是否是二级弹窗，在不关闭已有弹窗的基础上，弹出当前弹窗。注意，如果是二级弹窗，关闭时必须传key\n   */\n  pushPop(key, data,isMulti=false) {\n    if (this.popList.length) {\n      let cacheList = this.popList.slice();\n      cacheList.push({ key, data,isMulti });\n      cacheList = cacheList.sort((a, b) => ((modalIndex[b.key] ? modalIndex[b.key] : 10) - (modalIndex[a.key] ? modalIndex[a.key] : 10)))\n      this.popList.clear();\n      this.popList.push(...cacheList);\n    } else {\n      this.popList.push({ key, data,isMulti });\n    }\n    // console.log(\"this.popList:::\",toJS(this.popList));\n  },\n  closePop(key) {\n    if (key) {\n      let cacheList = this.popList.slice();\n      cacheList = cacheList.filter(obj => (obj.key != key));\n      this.popList.clear();\n      this.popList.push(...cacheList);\n    } else {\n      this.popList.shift();\n    }\n  },\n  closePopAll() {\n    this.popList.clear();\n  }\n\n});\nexport default modalStore;\n","import store from \"@src/store\";\nimport React, { Component } from \"react\";\nimport \"./style.less\";\nclass ShareModal extends Component {\n  goDeepLink = () => {\n    store.goDeepLink();\n  };\n  render() {\n    return (\n      <div className=\"shareModal\">\n        <div\n          className=\"helpbtn md24\"\n          onClick={() => {\n            this.goDeepLink();\n          }}\n        ></div>\n      </div>\n    );\n  }\n}\n\nexport default ShareModal;\n","import store from \"@src/store\";\nimport React, { Component } from \"react\";\nimport { RES_PATH } from \"../../../sparkrc\";\nimport \"./style.less\";\nclass askcard extends Component {\n  constructor(props) {\n    super(props);\n  }\n  goUrl = () => {\n    store.goDeepLink();\n  };\n  render() {\n    const { popData } = this.props;\n    return (\n      <div className=\"askcard\">\n        <div className=\"askcardImage\">\n          <img src={RES_PATH + `card/${popData?.spId}.png`} />\n        </div>\n\n        <div\n          className=\"sendbtn md23\"\n          onClick={() => {\n            this.goUrl();\n          }}\n        ></div>\n      </div>\n    );\n  }\n}\n\nexport default askcard;\n","import React, { Component } from \"react\";\n\nimport \"./modal.less\";\nimport { observer } from \"mobx-react\";\nimport modalStore from \"../store/modal\";\nimport { toJS } from \"mobx\";\nimport ShareModal from \"@src/components/singleshare/Index\";\nimport askcard from \"@src/components/askcard/Index\";\nimport giveCard from \"@src/components/giveCard/Index\";\nexport const cfg = {\n  sharemodal: ShareModal,\n  askcard: askcard,\n  givecard: giveCard\n};\n\n@observer\nclass Modal extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {}\n\n  render() {\n    const list = toJS(modalStore.popList);\n\n    if (!list.length) {\n      //TODO:此处根据需要自行修改\n      document.body.style.overflow = \"auto\";\n      return <section></section>;\n    }\n    let PopUp, popData, PopUpMulti, popUpMultiData;\n\n    if (list.length > 1 && list[list.length - 1].isMulti == true) {\n      const popObj2 = list[list.length - 1];\n      PopUpMulti = cfg[popObj2.key];\n      popUpMultiData = popObj2.data;\n    }\n    const popObj = list[0];\n    PopUp = cfg[popObj.key];\n    popData = popObj.data;\n\n    if (PopUp || PopUpMulti) {\n      document.body.style.overflow = \"hidden\";\n    }\n\n    return (\n      <section\n        className=\"modal-hoc-bg\"\n        style={{\n          zIndex: !!modalStore.popList.length ? 1000 : -1,\n          display: !!modalStore.popList.length ? \"block\" : \"none\"\n        }}\n      >\n        {PopUp && <PopUp popData={popData} />}\n        {PopUpMulti && (\n          <section\n            className=\"modal-hoc-bg\"\n            style={{\n              zIndex: !!modalStore.popList.length ? 1000 : -1,\n              display: !!modalStore.popList.length ? \"block\" : \"none\"\n            }}\n          >\n            <PopUpMulti popData={popUpMultiData} />\n          </section>\n        )}\n      </section>\n    );\n  }\n}\n\nexport default Modal;\n","import store from '@src/store';\nimport React, { Component } from 'react';\nimport { RES_PATH } from '../../../sparkrc';\nimport \"./style.less\";\nclass giveCard extends Component {\n  constructor(props) {\n    super(props);\n  }\n  goUrl = () => {\n    store.goDeepLink();\n  }\n  render() {\n    const {popData} = this.props;\n    return (\n      <div className=\"giveCardModal\">\n        <div className=\"givecard\">\n          <img src={RES_PATH + `card/${popData?.spId}.png`} />\n        </div>\n\n        <div className=\"btn md22\" onClick={() => {this.goUrl()}}></div>\n      </div>\n    );\n  }\n}\n\nexport default giveCard;","import MD from \"spark-utils/out/md/index.js\";\n\nlet appId = CFG.appID;\nconst dcm = \"202.\" + CFG.projectId + \".0.0\";\nconst domain = \"//embedlog.duiba.com.cn\";\n\nlet MDList = [22, 23, 24].map((item, index) => {\n  return {\n    ele: `.md${item}`,\n    data: {\n      dpm: `${appId}.110.${item}.1`,\n      dcm,\n      domain,\n      appId\n    },\n    once: false\n  };\n});\n\nexport default () =>\n  MD({\n    show: MDList, // 曝光\n    click: MDList // 点击\n  });\n","import { loadSvga } from '@spark/animation'\nimport * as FYGE from 'fyge';\nimport {Howl, Howler} from 'howler';\nimport { RES_PATH } from '../../sparkrc'\n\n/**\n * 预加载资源（/png|jpg|jpeg|svga|spi|json|mp3|wav/）\n * @param {string[]} urlList 资源地址列表\n * @param {number} batchNum 每批并行加载的资源个数（一般来说该数字越大整体加载速度越快，但加载前期会更卡顿）\n * @param {Function} [onProgress] 加载进度回调，每加载完一个资源回调一次，入参为进度值（0，1]\n * @returns {Promise} 返回一个只会resolve(loadedData)的promise，loadedData保存了所有预加载好的资源，可通过相对路径索引\n * @example \n * //例\n * const loadedData = await PreloadAsset(urlList, 10, onProgress);\n * const image = loadedData['image/fish.png'];\n * const svgaData = loadedData['svga/fish.svga'];\n * const spiData = loadedData['spine/fish.spi'];\n * const lottieData = loadedData['lottie/fish.json'];\n */\nexport function preloadAsset(urlList, batchNum, onProgress) {\n    return new Promise((resolve) => {\n        /** 要加载资源总数 */\n        const totalNum = urlList.length;\n        /** 要加载的资源索引 */\n        let assetIndex = -1;\n        /** 已加载完毕的资源个数 */\n        let loadedNum = 0;\n        /** 存放加载好的数据，用地址索引 */\n        const loadedData = {};\n        /** 加载逻辑 */\n        const doLoad = async () => {\n            if (loadedNum >= totalNum) {\n                totalNum == 0 && onProgress && onProgress(1);  //无加载资源时，即为假loading\n                resolve(loadedData); // 加载完毕\n            } else {\n                assetIndex++;\n                if (assetIndex >= totalNum) return\n                const key = urlList[assetIndex];\n                const url = RES_PATH + urlList[assetIndex];\n                const result = await loadOneAsset(url);\n                if (!result) {\n                    console.warn('加载异常', url);\n                    // Itoast('网络异常，请检查网络状态！');\n                }\n                loadedData[key] = result;\n                loadedNum++;\n                onProgress && onProgress(loadedNum / totalNum);\n                doLoad();\n            }\n        }\n        batchNum = batchNum || 1;\n        for (let index = 0; index < batchNum; index++) {\n            doLoad();\n        }\n    })\n}\n\n/**\n * 加载一个资源\n * @param {string} url 地址\n */\nasync function loadOneAsset(url) {\n    const fileType = url.split('.').pop();\n    switch (true) {\n        case (/png|jpg|jpeg/).test(fileType):\n            return await loadOneImg(url);\n        case (/svga/).test(fileType):\n            return await loadOneSvga(url);\n        case (/spi/).test(fileType):\n            return await loadOneSpi(url);\n        case (/json/).test(fileType):\n            return await loadOneJson(url);\n        case (/mp3|wav/).test(fileType):\n            return await loadOneAudio(url);\n        default:\n            console.warn('非法资源', url);\n            return false;\n    }\n}\n\n/**\n * 加载一张图片\n * @param {string} url 地址\n */\nfunction loadOneImg(url) {\n    return new Promise(resolve => {\n        const img = new Image();\n        img.onload = () => resolve(img);\n        img.onerror = err => {\n            console.warn('load', url, err);\n            resolve(false)\n        };\n        img.crossOrigin = 'Anonymous'\n        img.src = url;\n    })\n}\n\n/**\n * 加载一个svga\n * @param {string} url 地址\n */\nfunction loadOneSvga(url) {\n    return new Promise(resolve => {\n        loadSvga(url).then((data) => resolve(data[0])).catch(err => {\n            console.warn('load', url, err);\n            resolve(false)\n        });\n    })\n}\n\n/**\n * 加载一个spine\n * @param {string} url 地址\n */\nfunction loadOneSpi(url) {\n    return new Promise(resolve => {\n        FYGE.loadSpine(url, spineData => {\n            resolve(spineData);\n        }, err => {\n            console.warn('load', url, err);\n            resolve(false);\n        })\n    })\n}\n\n/**\n * 加载一个Json\n * @param {string} url 地址\n */\nfunction loadOneJson(url) {\n    return new Promise(resolve => {\n        FYGE.GlobalLoader.loadJson((result, res) => {\n            if (result) {\n                resolve(res);\n            } else {\n                console.warn('load fail', url);\n                resolve(false);\n            }\n        }, url)\n    })\n}\n\n/**\n * 加载一个音频\n * @param {string} url 地址\n */\n function loadOneAudio(url) {\n    return new Promise(resolve => {\n        const sound = new Howl({\n            src: url,\n            onload: () => resolve(sound),\n            onloaderror: err => {\n                console.warn('load fail', url, err);\n                resolve(false);\n            },\n        });\n    })\n}\n\n\n\n","\"use strict\";\n\nimport React from \"react\";\nimport { RES_PATH } from \"../../../sparkrc.js\";\nimport { observer } from \"mobx-react\";\nimport store from \"../../store/index\";\nimport modalStore from \"@src/store/modal\";\nimport API from \"../../api\";\nimport \"./loading.less\";\nimport { preloadAsset } from \"@src/utils/preload1.3.js\";\nimport assetList from '@src/assetList.json';\n@observer\nclass Loading extends React.Component {\n  constructor(props) {\n    super(props);\n    this.curPercentage = 0;\n    this.intervalId = \"\";\n    this.isEvenLoad = true;  //是否匀速加载进度条\n  }\n  componentDidMount() {\n    this.preloadAssetInit();\n  }\n  preloadAssetInit = async() => {\n    preloadAsset(assetList.preLoadImg, 3, (progress) => this.onLoadingProgress(progress)).then(()=>{\n      //预加载资源完成\n      setTimeout(() => {\n        //异步加载资源开始\n        preloadAsset(assetList.asyncLoadImg, 1)\n      }, 5000);\n    });\n  }\n  /**\n   * 资源加载进度回调\n   * @param {*} index\n   * @param {*} progress\n   */\n  onLoadingProgress = (progress) => {\n    const percentage = Math.floor(progress * 100);\n    console.log('progress', percentage);\n    if(this.isEvenLoad){  \n      this.setEvenProgress(percentage);\n    }else{\n      this.setProgress(percentage)\n    }\n    \n  };\n  /**\n   * 非匀速加载进度\n   * @param {*} percentage\n   */\n  setProgress = (percentage) => {\n    this.progressBar.style.transform = `translateX(${percentage - 100}%)`;\n    if(percentage == 100){\n      setTimeout(()=>{\n        this.props.changePage && store.changePage(this.props.changePage);  //跳转页面\n      }, 500)\n    }\n  };\n\n  /**\n   * 以1%匀速加载进度\n   * @param {*} percentage\n   */\n  setEvenProgress = (percentage) => {\n    this.intervalId && clearInterval(this.intervalId);\n    let curPercentage = this.curPercentage;\n    this.intervalId = setInterval(() => {\n      if (curPercentage >= percentage) {\n        clearInterval(this.intervalId);\n        percentage == 100 && this.props.changePage && store.changePage(this.props.changePage);  //跳转页面\n        return;\n      }\n      curPercentage += 1;\n      this.curPercentage = curPercentage;\n      this.progressBar.style.transform = `translateX(${curPercentage - 100}%)`;\n    }, 10);\n  };\n\n  render() {\n    return (\n      <div className=\"loading \">\n        <span className=\"bg174\"></span>\n        <div className=\"progressBar\">\n          <span className=\"atBottom\"></span>\n          <span className=\"loadingBg\">\n            <span\n              className=\"above\"\n              ref={(el) => (this.progressBar = el)}\n            ></span>\n          </span>\n        </div>\n        <span className=\"inLoad\">加载中···</span>\n      </div>\n    );\n  }\n}\n\nexport default Loading;\n","\"use strict\";\n\nimport React from \"react\";\nimport { RES_PATH } from \"../../../sparkrc.js\";\nimport { observer } from \"mobx-react\";\nimport store from \"../../store/index\";\nimport modalStore from \"@src/store/modal\";\nimport API from \"../../api\";\nimport \"./homePage.less\";\nimport { getUrlParam } from \"../../utils/utils\";\nimport { start, updateShare, Weixin } from \"@spark/share\";\nimport { shareContent } from \"../../utils/constants\";\n@observer\nclass HomePage extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  async componentDidMount() {\n    await start([Weixin], success => {\n      console.info(\"分享成功\" + success ? \"成功\" : \"失败\");\n    });\n    let _type = getUrlParam(\"type\") || \"share\";\n    updateShare({ ...shareContent[_type], url: location.href });\n    // modalStore.pushPop(\"givecard\");\n    const type = getUrlParam(\"type\") || \"share\";\n    const spId = getUrlParam(\"spId\") || \"\";\n    if (type === \"share\") {\n      modalStore.pushPop(\"sharemodal\");\n    } else if (type === \"give\") {\n      modalStore.pushPop(\"givecard\", { spId: spId });\n    } else if (type === \"ask\") {\n      modalStore.pushPop(\"askcard\", { spId: spId });\n    }\n  }\n  render() {\n    return <div className=\"homePage\"></div>;\n  }\n}\n\nexport default HomePage;\n","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {observer} from 'mobx-react';\nimport \"./app.less\";\nimport store from './store/index';\nimport Modal from './modal/modal';\nimport MD from '../MD';\nMD();\n\n//此处为spark-cli动态生成\nimport Loading from \"@src/pages/loading/loading\";\nimport HomePage from \"@src/pages/homePage/homePage\";\n\nconst pageMap = {\n  loading: <Loading/>,\n  homePage: <HomePage/>,\n}\n@observer\nclass App extends Component {\n  render() {\n    let { curPage } = store;\n    return (\n      <div>\n        {{...pageMap[curPage], props: {changePage: 'homePage'}}}\n        <Modal />\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--4-1!../node_modules/css-loader/dist/cjs.js??ref--4-2!../node_modules/postcss-loader/src/index.js??ref--4-3!../node_modules/less-loader/dist/cjs.js??ref--4-4!./app.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};"],"sourceRoot":""}