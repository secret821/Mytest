(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+I9a":function(t){t.exports=JSON.parse("{}")},"+wdc":function(t,e,r){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n,i,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,h=null,u=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(t){throw setTimeout(u,0),t}},c=Date.now();e.unstable_now=function(){return Date.now()-c},n=function(t){null!==l?setTimeout(n,0,t):(l=t,setTimeout(u,0))},i=function(t,e){h=setTimeout(t,e)},o=function(){clearTimeout(h)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,d=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var v=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)e.unstable_now=function(){return f.now()};else{var y=p.now();e.unstable_now=function(){return p.now()-y}}var g=!1,_=null,b=-1,x=5,w=0;a=function(){return e.unstable_now()>=w},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<t?Math.floor(1e3/t):5};var T=new MessageChannel,S=T.port2;T.port1.onmessage=function(){if(null!==_){var t=e.unstable_now();w=t+x;try{_(!0,t)?S.postMessage(null):(g=!1,_=null)}catch(t){throw S.postMessage(null),t}}else g=!1},n=function(t){_=t,g||(g=!0,S.postMessage(null))},i=function(t,r){b=d((function(){t(e.unstable_now())}),r)},o=function(){m(b),b=-1}}function E(t,e){var r=t.length;t.push(e);t:for(;;){var n=r-1>>>1,i=t[n];if(!(void 0!==i&&0<A(i,e)))break t;t[n]=e,t[r]=i,r=n}}function M(t){return void 0===(t=t[0])?null:t}function C(t){var e=t[0];if(void 0!==e){var r=t.pop();if(r!==e){t[0]=r;t:for(var n=0,i=t.length;n<i;){var o=2*(n+1)-1,a=t[o],s=o+1,l=t[s];if(void 0!==a&&0>A(a,r))void 0!==l&&0>A(l,a)?(t[n]=l,t[s]=r,n=s):(t[n]=a,t[o]=r,n=o);else{if(!(void 0!==l&&0>A(l,r)))break t;t[n]=l,t[s]=r,n=s}}}return e}return null}function A(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}var P=[],k=[],O=1,D=null,I=3,R=!1,F=!1,L=!1;function N(t){for(var e=M(k);null!==e;){if(null===e.callback)C(k);else{if(!(e.startTime<=t))break;C(k),e.sortIndex=e.expirationTime,E(P,e)}e=M(k)}}function B(t){if(L=!1,N(t),!F)if(null!==M(P))F=!0,n(z);else{var e=M(k);null!==e&&i(B,e.startTime-t)}}function z(t,r){F=!1,L&&(L=!1,o()),R=!0;var n=I;try{for(N(r),D=M(P);null!==D&&(!(D.expirationTime>r)||t&&!a());){var s=D.callback;if(null!==s){D.callback=null,I=D.priorityLevel;var l=s(D.expirationTime<=r);r=e.unstable_now(),"function"==typeof l?D.callback=l:D===M(P)&&C(P),N(r)}else C(P);D=M(P)}if(null!==D)var h=!0;else{var u=M(k);null!==u&&i(B,u.startTime-r),h=!1}return h}finally{D=null,I=n,R=!1}}function j(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){F||R||(F=!0,n(z))},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return M(P)},e.unstable_next=function(t){switch(I){case 1:case 2:case 3:var e=3;break;default:e=I}var r=I;I=e;try{return t()}finally{I=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=V,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=I;I=t;try{return e()}finally{I=r}},e.unstable_scheduleCallback=function(t,r,a){var s=e.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:j(t)}else a=j(t),l=s;return t={id:O++,callback:r,priorityLevel:t,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(t.sortIndex=l,E(k,t),null===M(P)&&t===M(k)&&(L?o():L=!0,i(B,l-s))):(t.sortIndex=a,E(P,t),F||R||(F=!0,n(z))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();N(t);var r=M(P);return r!==D&&null!==D&&null!==r&&null!==r.callback&&r.startTime<=t&&r.expirationTime<D.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=I;return function(){var r=I;I=e;try{return t.apply(this,arguments)}finally{I=r}}}},"/2d7":function(t,e,r){"use strict";var n=function(t){return t instanceof HTMLElement?t:"string"==typeof t?document.querySelector(t):void 0},i=(r("nsnv"),r("Wr5T"),function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)}),o={};function a(t,e){return t.split(e)}function s(t){return t?t.dcm?t.dpm||t.dom?t.dpm&&4!==a(t.dpm,".").length?(console.warn("dpm格式不正确。 当前的参数为：",t),!1):t.dom&&4!==a(t.dom,".").length?(console.warn("dom格式不正确。 当前的参数为：",t),!1):4===a(t.dcm,".").length||(console.warn("dcm格式不正确。 当前的参数为：",t),!1):(console.warn("dpm 和 dom 至少有一个。当前的参数为：",t),!1):(console.warn("dcm 必填。当前的参数为：",t),!1):(console.warn("参数MO不能为空，当前的参数为：",t),!1)}function l(t){t.forEach((function(t){"string"==typeof t.ele?h(t):t.ele.map((function(e){return h(i(i({},t),{ele:e}))}))}))}var h=function(t){if(n(t.ele)){if(!t||!s(t.data))return;var e=new IntersectionObserver((function(r){var n=t.once,i=void 0===n||n,a=t.ele,s=t.data,l=void 0===s?{}:s;r.forEach((function(t){if(t.intersectionRatio>0){if(o[a])return;o[a]=!0,e.unobserve(t.target);var r={name:"showLog",uri:l.domain+"/exposure/standard",type:"get",dataType:"jsonp",param:l,callback:null,hideMsg:!0};u(r)}else i||(o[a]=!1)}))}),{}),r=n(t.ele);r&&e.observe(r)}};var u=function(t){var e=t.uri;t.addUrl&&(e+=t.addUrl),window.$.ajax({type:t.type,url:e,dataType:t.dataType,data:t.param,async:!0,success:function(e){t.name,t.param},error:function(t){}})},c={doClickLog:function(t){return function(t){s(t)&&u({name:"clickLog",uri:"/log/click",type:"get",dataType:"json",param:t,callback:null,hideMsg:!0})}(t)},doShowLog:function(t){return function(t){l(t),new MutationObserver((function(){l(t)})).observe(document,{childList:!0,subtree:!0})}(t)}},f=function(){return(f=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},p=new Map,d=function(t){t.forEach((function(t){"string"==typeof t.ele?m(t):t.ele.map((function(e){return m(f(f({},t),{ele:e}))}))}))},m=function(t){var e=n(t.ele);if(e&&!p.get(t.ele)){var r=c.doClickLog.bind(null,t.data);p.set(t.ele,{ele:e,handler:r}),e.addEventListener("click",r)}!e&&p.get(t.ele)&&(p.get(t.ele).ele.removeEventListener("click",p.get(t.ele).handler),p.set(t.ele,null))};e.a=function(t){var e=t.show,r=t.click;(c.doShowLog(e),r&&r.length)&&(d(r),new MutationObserver((function(){d(r)})).observe(document,{attributes:!0,childList:!0,subtree:!0}))}},"16Al":function(t,e,r){"use strict";var n=r("WbBG");function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},"17x9":function(t,e,r){t.exports=r("16Al")()},"1uat":function(t,e,r){var n;t.exports=(n=r("Ib8C"),r("MlIO"),function(){var t=n,e=t.lib.Hasher,r=t.x64,i=r.Word,o=r.WordArray,a=t.algo;function s(){return i.create.apply(i,arguments)}var l=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],h=[];!function(){for(var t=0;t<80;t++)h[t]=s()}();var u=a.SHA512=e.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],u=r[5],c=r[6],f=r[7],p=n.high,d=n.low,m=i.high,v=i.low,y=o.high,g=o.low,_=a.high,b=a.low,x=s.high,w=s.low,T=u.high,S=u.low,E=c.high,M=c.low,C=f.high,A=f.low,P=p,k=d,O=m,D=v,I=y,R=g,F=_,L=b,N=x,B=w,z=T,j=S,V=E,U=M,W=C,H=A,G=0;G<80;G++){var Y,X,q=h[G];if(G<16)X=q.high=0|t[e+2*G],Y=q.low=0|t[e+2*G+1];else{var K=h[G-15],Z=K.high,J=K.low,$=(Z>>>1|J<<31)^(Z>>>8|J<<24)^Z>>>7,Q=(J>>>1|Z<<31)^(J>>>8|Z<<24)^(J>>>7|Z<<25),tt=h[G-2],et=tt.high,rt=tt.low,nt=(et>>>19|rt<<13)^(et<<3|rt>>>29)^et>>>6,it=(rt>>>19|et<<13)^(rt<<3|et>>>29)^(rt>>>6|et<<26),ot=h[G-7],at=ot.high,st=ot.low,lt=h[G-16],ht=lt.high,ut=lt.low;X=(X=(X=$+at+((Y=Q+st)>>>0<Q>>>0?1:0))+nt+((Y+=it)>>>0<it>>>0?1:0))+ht+((Y+=ut)>>>0<ut>>>0?1:0),q.high=X,q.low=Y}var ct,ft=N&z^~N&V,pt=B&j^~B&U,dt=P&O^P&I^O&I,mt=k&D^k&R^D&R,vt=(P>>>28|k<<4)^(P<<30|k>>>2)^(P<<25|k>>>7),yt=(k>>>28|P<<4)^(k<<30|P>>>2)^(k<<25|P>>>7),gt=(N>>>14|B<<18)^(N>>>18|B<<14)^(N<<23|B>>>9),_t=(B>>>14|N<<18)^(B>>>18|N<<14)^(B<<23|N>>>9),bt=l[G],xt=bt.high,wt=bt.low,Tt=W+gt+((ct=H+_t)>>>0<H>>>0?1:0),St=yt+mt;W=V,H=U,V=z,U=j,z=N,j=B,N=F+(Tt=(Tt=(Tt=Tt+ft+((ct+=pt)>>>0<pt>>>0?1:0))+xt+((ct+=wt)>>>0<wt>>>0?1:0))+X+((ct+=Y)>>>0<Y>>>0?1:0))+((B=L+ct|0)>>>0<L>>>0?1:0)|0,F=I,L=R,I=O,R=D,O=P,D=k,P=Tt+(vt+dt+(St>>>0<yt>>>0?1:0))+((k=ct+St|0)>>>0<ct>>>0?1:0)|0}d=n.low=d+k,n.high=p+P+(d>>>0<k>>>0?1:0),v=i.low=v+D,i.high=m+O+(v>>>0<D>>>0?1:0),g=o.low=g+R,o.high=y+I+(g>>>0<R>>>0?1:0),b=a.low=b+L,a.high=_+F+(b>>>0<L>>>0?1:0),w=s.low=w+B,s.high=x+N+(w>>>0<B>>>0?1:0),S=u.low=S+j,u.high=T+z+(S>>>0<j>>>0?1:0),M=c.low=M+U,c.high=E+V+(M>>>0<U>>>0?1:0),A=f.low=A+H,f.high=C+W+(A>>>0<H>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(n+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(u),t.HmacSHA512=e._createHmacHelper(u)}(),n.SHA512)},"3y9D":function(t,e,r){var n,i,o,a,s,l,h,u;t.exports=(u=r("Ib8C"),i=(n=u).lib,o=i.WordArray,a=i.Hasher,s=n.algo,l=[],h=s.SHA1=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],h=0;h<80;h++){if(h<16)l[h]=0|t[e+h];else{var u=l[h-3]^l[h-8]^l[h-14]^l[h-16];l[h]=u<<1|u>>>31}var c=(n<<5|n>>>27)+s+l[h];c+=h<20?1518500249+(i&o|~i&a):h<40?1859775393+(i^o^a):h<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,s=a,a=o,o=i<<30|i>>>2,i=n,n=c}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),n.SHA1=a._createHelper(h),n.HmacSHA1=a._createHmacHelper(h),u.SHA1)},"5hvy":function(t,e,r){var n;t.exports=(n=r("Ib8C"),r("MlIO"),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,a=e.x64.Word,s=e.algo,l=[],h=[],u=[];!function(){for(var t=1,e=0,r=0;r<24;r++){l[t+5*e]=(r+1)*(r+2)/2%64;var n=(2*t+3*e)%5;t=e%5,e=n}for(t=0;t<5;t++)for(e=0;e<5;e++)h[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,c=0,f=0;f<7;f++){if(1&i){var p=(1<<f)-1;p<32?c^=1<<p:s^=1<<p-32}128&i?i=i<<1^113:i<<=1}u[o]=a.create(s,c)}}();var c=[];!function(){for(var t=0;t<25;t++)c[t]=a.create()}();var f=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=t[e+2*i],a=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(A=r[i]).high^=a,A.low^=o}for(var s=0;s<24;s++){for(var f=0;f<5;f++){for(var p=0,d=0,m=0;m<5;m++)p^=(A=r[f+5*m]).high,d^=A.low;var v=c[f];v.high=p,v.low=d}for(f=0;f<5;f++){var y=c[(f+4)%5],g=c[(f+1)%5],_=g.high,b=g.low;for(p=y.high^(_<<1|b>>>31),d=y.low^(b<<1|_>>>31),m=0;m<5;m++)(A=r[f+5*m]).high^=p,A.low^=d}for(var x=1;x<25;x++){var w=(A=r[x]).high,T=A.low,S=l[x];S<32?(p=w<<S|T>>>32-S,d=T<<S|w>>>32-S):(p=T<<S-32|w>>>64-S,d=w<<S-32|T>>>64-S);var E=c[h[x]];E.high=p,E.low=d}var M=c[0],C=r[0];for(M.high=C.high,M.low=C.low,f=0;f<5;f++)for(m=0;m<5;m++){var A=r[x=f+5*m],P=c[x],k=c[(f+1)%5+5*m],O=c[(f+2)%5+5*m];A.high=P.high^~k.high&O.high,A.low=P.low^~k.low&O.low}A=r[0];var D=u[s];A.high^=D.high,A.low^=D.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,l=s/8,h=[],u=0;u<l;u++){var c=a[u],f=c.high,p=c.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),h.push(p),h.push(f)}return new i.init(h,s)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),r=0;r<25;r++)e[r]=e[r].clone();return t}});e.SHA3=o._createHelper(f),e.HmacSHA3=o._createHmacHelper(f)}(Math),n.SHA3)},"7W2i":function(t,e,r){var n=r("SksO");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},"8oxB":function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var l,h=[],u=!1,c=-1;function f(){u&&l&&(u=!1,l.length?h=l.concat(h):c=-1,h.length&&p())}function p(){if(!u){var t=s(f);u=!0;for(var e=h.length;e;){for(l=h,h=[];++c<e;)l&&l[c].run();c=-1,e=h.length}l=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new d(t,e)),1!==h.length||u||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"9OqN":function(t,e,r){var n,i,o;t.exports=(o=r("Ib8C"),r("OLod"),o.mode.CTR=(n=o.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);r.encryptBlock(a,0),o[n-1]=o[n-1]+1|0;for(var s=0;s<n;s++)t[e+s]^=a[s]}}),n.Decryptor=i,n),o.mode.CTR)},"9pWt":function(t){t.exports=JSON.parse("{}")},ALsQ:function(t,e,r){var n;t.exports=(n=r("Ib8C"),r("OLod"),n.mode.CFB=function(){var t=n.lib.BlockCipherMode.extend();function e(t,e,r,n){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,n.encryptBlock(i,0);for(var a=0;a<r;a++)t[e+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize;e.call(this,t,r,i,n),this._prevBlock=t.slice(r,r+i)}}),t.Decryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize,o=t.slice(r,r+i);e.call(this,t,r,i,n),this._prevBlock=o}}),t}(),n.mode.CFB)},Bnag:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},DwoO:function(t){t.exports=JSON.parse("{}")},E4JC:function(t,e,r){var n;t.exports=(n=r("Ib8C"),r("ETIr"),r("cv67"),r("K3mO"),r("OLod"),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=[],o=[],a=[],s=r.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,r=0;r<4;r++)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);var n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,r=0;r<4;r++)l.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(e){var o=e.words,a=o[0],s=o[1],h=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=h>>>16|4294901760&u,f=u<<16|65535&h;for(i[0]^=h,i[1]^=c,i[2]^=u,i[3]^=f,i[4]^=h,i[5]^=c,i[6]^=u,i[7]^=f,r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(t,e){var r=this._X;l.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),t[e+n]^=i[n]},blockSize:4,ivSize:2});function l(){for(var t=this._X,e=this._C,r=0;r<8;r++)o[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],i=65535&n,s=n>>>16,l=((i*i>>>17)+i*s>>>15)+s*s,h=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=l^h}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=e._createHelper(s)}(),n.Rabbit)},ELcG:function(t,e,r){var n;t.exports=(n=r("Ib8C"),
/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,a=e.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),c=i.create([0,1518500249,1859775393,2400959708,2840853838]),f=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,p,b,x,w,T,S,E,M,C,A=this._hash.words,P=c.words,k=f.words,O=s.words,D=l.words,I=h.words,R=u.words;for(w=o=A[0],T=a=A[1],S=p=A[2],E=b=A[3],M=x=A[4],r=0;r<80;r+=1)C=o+t[e+O[r]]|0,C+=r<16?d(a,p,b)+P[0]:r<32?m(a,p,b)+P[1]:r<48?v(a,p,b)+P[2]:r<64?y(a,p,b)+P[3]:g(a,p,b)+P[4],C=(C=_(C|=0,I[r]))+x|0,o=x,x=b,b=_(p,10),p=a,a=C,C=w+t[e+D[r]]|0,C+=r<16?g(T,S,E)+k[0]:r<32?y(T,S,E)+k[1]:r<48?v(T,S,E)+k[2]:r<64?m(T,S,E)+k[3]:d(T,S,E)+k[4],C=(C=_(C|=0,R[r]))+M|0,w=M,M=E,E=_(S,10),S=T,T=C;C=A[1]+p+E|0,A[1]=A[2]+b+M|0,A[2]=A[3]+x+w|0,A[3]=A[4]+o+T|0,A[4]=A[0]+a+S|0,A[0]=C},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function d(t,e,r){return t^e^r}function m(t,e,r){return t&e|~t&r}function v(t,e,r){return(t|~e)^r}function y(t,e,r){return t&r|e&~r}function g(t,e,r){return t^(e|~r)}function _(t,e){return t<<e|t>>>32-e}e.RIPEMD160=o._createHelper(p),e.HmacRIPEMD160=o._createHmacHelper(p)}(Math),n.RIPEMD160)},ETIr:function(t,e,r){var n,i,o;t.exports=(o=r("Ib8C"),i=(n=o).lib.WordArray,n.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var i=[],o=0;o<r;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)i.push(n.charAt(a>>>6*(3-s)&63));var l=n.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(t){var e=t.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var o=0;o<r.length;o++)n[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return function(t,e,r){for(var n=[],o=0,a=0;a<e;a++)if(a%4){var s=r[t.charCodeAt(a-1)]<<a%4*2,l=r[t.charCodeAt(a)]>>>6-a%4*2,h=s|l;n[o>>>2]|=h<<24-o%4*8,o++}return i.create(n,o)}(t,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},o.enc.Base64)},EbDI:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},EtqE:function(t,e,r){"use strict";r.d(e,"a",(function(){return Go}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function o(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))}function a(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var s,l=function(){function t(){this.systemInfo={pixelRatio:window.devicePixelRatio}}return t.prototype.setupCanvas=function(t,e){var r=this._canvas=document.createElement("canvas");r.style.width="100%",r.style.height="100%",t.container.appendChild(r);var n=t.container.getBoundingClientRect(),i=n.width,o=n.height;this.systemInfo.canvasWidth=i,this.systemInfo.canvasHeight=o,r.width=i*(window.devicePixelRatio||1),r.height=o*(window.devicePixelRatio||1),e(r)},t.prototype.bindMouseEvent=function(t){var e=this._canvas,r=t.onMouseEvent.bind(t);e.addEventListener("touchstart",r,!1),e.addEventListener("touchmove",r,!1),e.addEventListener("touchend",r,!1)},t}(),h=navigator&&navigator.userAgent&&(s=navigator.userAgent.toLocaleLowerCase(),/android/.test(s)?"android":/iphone|ipod|ipad/.test(s)?"ios":"pc")||my.getSystemInfoSync().platform.toLowerCase(),u=Math.PI,c=u>>1,f=u+c;function p(t){switch(t){case c:case-f:return 0;case u:case-u:return-1;case f:case-c:return 0;default:return Math.cos(t)}}function d(t){switch(t){case c:case-f:return 1;case u:case-u:return 0;case f:case-c:return-1;default:return Math.sin(t)}}var m,v,y,g,_,b,x,w,T,S,E,M,C,A,P,k=2*u,O=180/u,D=u/180;!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(m||(m={})),function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(v||(v={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(y||(y={})),function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(g||(g={})),function(t){t.CENTER="center",t.LEFT="left",t.RIGHT="right"}(_||(_={})),function(t){t.MIDDLE="middle",t.UP="up",t.DOWN="down"}(b||(b={})),function(t){t.SINGLE="single",t.MULTI="multi"}(x||(x={})),function(t){t[t.middle=.5]="middle",t[t.outter=1]="outter",t[t.inner=0]="inner"}(w||(w={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(T||(T={})),function(t){t.MITER="miter",t.ROUND="round",t.BEVEL="bevel"}(S||(S={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=21]="SRC_OVER",t[t.SRC_IN=22]="SRC_IN",t[t.SRC_OUT=23]="SRC_OUT",t[t.SRC_ATOP=24]="SRC_ATOP",t[t.DST_OVER=25]="DST_OVER",t[t.DST_IN=26]="DST_IN",t[t.DST_OUT=27]="DST_OUT",t[t.DST_ATOP=28]="DST_ATOP",t[t.ERASE=29]="ERASE",t[t.SUBTRACT=30]="SUBTRACT"}(E||(E={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(M||(M={})),function(t){t[t.LINEAR=0]="LINEAR",t[t.NEAREST=1]="NEAREST"}(C||(C={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(A||(A={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(P||(P={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var I=function(t,e){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function R(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}I(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var F=function(){function t(){this._instanceId=0,this._instanceType="HashObject",this._instanceId=t._object_id++}return Object.defineProperty(t.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instanceType",{get:function(){return this._instanceType},enumerable:!0,configurable:!0}),t._object_id=0,t}(),L=function(t){function e(e){var r=t.call(this)||this;return r.type="",r.target=null,r.data=null,r._pd=!1,r._instanceType="Event",r.type=e,r}return R(e,t),e.prototype.stopPropagation=function(){this._pd=!0},e.prototype.destroy=function(){this.target=null,this.data=null},e.prototype.reset=function(t,e){var r=this;r.target=e,r._pd=!1,r.type=t,r.data=null},e.RESIZE="onResize",e.SCROLL_TO_HEAD="onScrollToHead",e.SCROLL_STOP="onScrollStop",e.SCROLL_START="onScrollStart",e.SCROLL_TO_END="onScrollToEnd",e.INIT_STAGE="onInitStage",e.ADDED_TO_STAGE="onAddedToStage",e.REMOVED_FROM_STAGE="onRemovedFromStage",e.ENTER_FRAME="onEnterFrame",e.END_FRAME="onEndFrame",e.CALL_FRAME="onCallFrame",e.COMPLETE="onComplete",e.PROGRESS="onProgress",e.ERROR="onError",e.ABORT="onAbort",e.START="onStart",e.TIMER="onTimer",e.TIMER_COMPLETE="onTimerComplete",e}(F),N=function(t){function e(){var e=t.call(this)||this;return e.eventTypes={},e.eventTypes1={},e._instanceType="EventDispatcher",e}return R(e,t),e.getMouseEventCount=function(t){void 0===t&&(t="");var r=0;if(""==t)for(var n in e._MECO)0==n.indexOf("onMouse")&&(r+=e._MECO[n]);else e._MECO[t]&&(r=e._MECO[t]);return r},e.prototype.addEventListener=function(t,e,r,n){if(void 0===n&&(n=!0),!t)throw new Error("添加侦听的type值为undefined");if(!e)throw new Error("侦听回调函数不能为null");var i=this,o=i.eventTypes;n||(o=i.eventTypes1),o[t]||(o[t]=[]);for(var a=0,s=o[t].length;a<s;a++){var l=o[t][a];if(l.fn===e&&l.context===r)return i}return o[t].unshift(new B(e,r||i)),0==t.indexOf("onMouse")&&i._changeMouseCount(t,!0),i},e.prototype.once=function(t,e,r,n){if(void 0===n&&(n=!0),!t)throw new Error("添加侦听的type值为undefined");if(!e)throw new Error("侦听回调函数不能为null");var i=this,o=i.eventTypes;return n||(o=i.eventTypes1),o[t]||(o[t]=[]),o[t].unshift(new B(e,r||i,!0)),0==t.indexOf("onMouse")&&i._changeMouseCount(t,!0),i},e.prototype._changeMouseCount=function(t,r){var n=r?1:-1;e._MECO[t]||(e._MECO[t]=0),e._MECO[t]+=n,e._MECO[t]<0&&(e._MECO[t]=0),e._totalMEC+=n},e.prototype.dispatchEvent=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=!0);var n=this;"string"==typeof t&&(n._defaultEvent?n._defaultEvent.reset(t,n):n._defaultEvent=new L(t),t=n._defaultEvent);var i=n.eventTypes[t.type];if(r||(i=n.eventTypes1[t.type]),i){var o=i.length;null==t.target&&(t.target=n),null!=e&&(t.data=e);for(var a=o-1;a>=0;a--)if(!t._pd)if(i[a]){var s=i[a],l=t.type;s.fn.call(s.context,t),s.once&&n.removeEventListener(l,s.fn,s.context,r)}else i.splice(a,1);return!0}return!1},e.prototype.hasEventListener=function(t,e){void 0===e&&(e=!0);var r=this;if(e){if(r.eventTypes[t]&&r.eventTypes[t].length>0)return!0}else if(r.eventTypes1[t]&&r.eventTypes1[t].length>0)return!0;return!1},e.prototype.removeAllEventListenerByType=function(t,e){void 0===e&&(e=!0);var r=this;if(e){if(r.eventTypes[t]&&r.eventTypes[t].length>0){if(0==t.indexOf("onMouse"))for(var n=0;n<r.eventTypes[t].length;n++)r._changeMouseCount(t,!1);r.eventTypes[t]=[]}}else if(r.eventTypes1[t]&&r.eventTypes1[t].length>0){if(0==t.indexOf("onMouse"))for(n=0;n<r.eventTypes1[t].length;n++)r._changeMouseCount(t,!1);r.eventTypes1[t]=[]}return r},e.prototype.removeEventListener=function(t,e,r,n){void 0===n&&(n=!0);var i=this,o=i.eventTypes[t];if(n||(o=i.eventTypes1[t]),o)for(var a=r||i,s=o.length-1;s>=0;s--)o[s].fn===e&&o[s].context===a&&(o.splice(s,1),0==t.indexOf("onMouse")&&i._changeMouseCount(t,!1));return i},e.prototype.removeAllEventListener=function(){var t=this;for(var e in t.eventTypes)if(0==e.indexOf("onMouse"))for(var r=0;r<t.eventTypes[e].length;r++)t._changeMouseCount(e,!1);for(var e in t.eventTypes1)if(0==e.indexOf("onMouse"))for(r=0;r<t.eventTypes1[e].length;r++)t._changeMouseCount(e,!1);t.eventTypes1={},t.eventTypes={}},e.prototype.destroy=function(){var t=this;t.removeAllEventListener(),t.eventTypes=null,t.eventTypes1=null},e._MECO={},e._totalMEC=0,e}(F),B=function(t,e,r){void 0===r&&(r=!1),this.fn=t,this.context=e,this.once=r},z=function(t){function e(e,r){void 0===e&&(e=0),void 0===r&&(r=0);var n=t.call(this)||this;n.x=0,n.y=0;var i=n;return i._instanceType="Point",i.x=e,i.y=r,n}return R(e,t),e.prototype.destroy=function(){},e.distance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;return 4==r?Math.sqrt((t[0]-t[2])*(t[0]-t[2])+(t[1]-t[3])*(t[1]-t[3])):2==r?Math.sqrt((t[0].x-t[1].x)*(t[0].x-t[1].x)+(t[0].y-t[1].y)*(t[0].y-t[1].y)):void 0},e.prototype.set=function(t,e){this.x=t,this.y=e},e}(F),j=function(t){function e(e,r,n,i,o,a){void 0===e&&(e=1),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=1),void 0===o&&(o=0),void 0===a&&(a=0);var s=t.call(this)||this;s.a=1,s.b=0,s.c=0,s.d=1,s.tx=0,s.ty=0,s.array=null,s.prepend=function(t){var e=this,r=t.a,n=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,l=e.a,h=e.c,u=e.tx;return e.a=r*l+i*e.b,e.b=n*l+o*e.b,e.c=r*h+i*e.d,e.d=n*h+o*e.d,e.tx=r*u+i*e.ty+a,e.ty=n*u+o*e.ty+s,this};var l=s;return l._instanceType="Matrix",l.a=e,l.b=r,l.c=n,l.d=i,l.tx=o,l.ty=a,s}return R(e,t),e.prototype.clone=function(){var t=this;return new e(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.prototype.copy=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},e.prototype.transformPoint=function(t,e,r){void 0===r&&(r=null);var n=this;return r||(r=new z),r.x=t*n.a+e*n.c+n.tx,r.y=t*n.b+e*n.d+n.ty,r},e.prototype.transformPointInverse=function(t,e,r){void 0===r&&(r=null),r||(r=new z);var n=1/(this.a*this.d+this.c*-this.b);return r.x=this.d*n*t+-this.c*n*e+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*e+-this.b*n*t+(-this.ty*this.a+this.tx*this.b)*n,r},e.prototype.setFrom=function(t){var e=this;e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.tx=t.tx,e.ty=t.ty},e.prototype.identity=function(){var t=this;t.a=t.d=1,t.b=t.c=t.tx=t.ty=0},e.prototype.invert=function(){var t=this,e=t.a,r=t.b,n=t.c,i=t.d,o=t.tx,a=t.ty;if(0==r&&0==n)return 0==e||0==i?t.a=t.d=t.tx=t.ty=0:(e=t.a=1/e,i=t.d=1/i,t.tx=-e*o,t.ty=-i*a),t;var s=e*i-r*n;if(0==s)return t.identity(),t;s=1/s;var l=t.a=i*s;return r=t.b=-r*s,n=t.c=-n*s,i=t.d=e*s,t.tx=-(l*o+n*a),t.ty=-(r*o+i*a),t},e.prototype.createBox=function(t,e,r,n,i,o,a,s,l){var h=this;if(0!=i?o=a=i%360:(o%=360,a%=360),0==o&&0==a)h.a=r,h.b=h.c=0,h.d=n;else{a*=D;var u=p(o*=D),c=d(o);o==a?(h.a=u*r,h.b=c*r):(h.a=p(a)*r,h.b=d(a)*r),h.c=-c*n,h.d=u*n}h.tx=t+s-(s*h.a+l*h.c),h.ty=e+l-(s*h.b+l*h.d)},e.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty},e.isEqual=function(t,e){return t.tx==e.tx&&t.ty==e.ty&&t.a==e.a&&t.b==e.b&&t.c==e.c&&t.d==e.d},e.prototype.concat=function(t){var e=this,r=e.a,n=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,l=t.a,h=t.b,u=t.c,c=t.d,f=t.tx,p=t.ty;e.a=r*l+n*u,e.b=r*h+n*c,e.c=i*l+o*u,e.d=i*h+o*c,e.tx=a*l+s*u+f,e.ty=a*h+s*c+p},e.prototype.rotate=function(t){var e=this,r=Math.sin(t),n=Math.cos(t),i=e.a,o=e.b,a=e.c,s=e.d,l=e.tx,h=e.ty;e.a=i*n-o*r,e.b=i*r+o*n,e.c=a*n-s*r,e.d=a*r+s*n,e.tx=l*n-h*r,e.ty=l*r+h*n},e.prototype.scale=function(t,e){var r=this;r.a*=t,r.d*=e,r.c*=t,r.b*=e,r.tx*=t,r.ty*=e},e.prototype.translate=function(t,e){this.tx+=t,this.ty+=e},e.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},e.prototype.getRotation=function(){return Math.round(Math.atan2(this.b,this.a)*O)},e.prototype.toArray=function(t,e){void 0===t&&(t=!1),this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),a=Math.atan2(r,e),s=Math.abs(o+a);return s<1e-5||Math.abs(k-s)<1e-5?(t.rotation=a,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){},e}(F),V=function(t){function e(e,r,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var o=t.call(this)||this;return o._instanceType="ObservablePoint",o._x=n,o._y=i,o.cb=e,o.scope=r,o}return R(e,t),e.prototype.set=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t);var r=t||0,n=e||0;this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))},e.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){},e}(F),U=function(t){function e(e,r,n,i){void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=0);var o=t.call(this)||this;o.x=0,o.y=0,o.width=0,o.height=0;var a=o;return a._instanceType="Rectangle",a.x=e,a.y=r,a.height=i,a.width=n,o.type=v.RECT,o}return R(e,t),e.prototype.clear=function(){this.x=0,this.y=0,this.width=0,this.height=0},e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),e.prototype.isPointIn=function(t){var e=this;return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},e.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(r-e,0),this.y=n,this.height=Math.max(i-n,0)},e.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},e.createFromRects=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0==t.length)return null;if(1==t.length)return t[0];for(var r=t[0],n=r.x,i=r.y,o=r.width,a=r.height,s=void 0,l=void 0,h=void 0,u=void 0,c=1;c<t.length;c++)(t[c].width||t[c].height)&&(s=n+o,h=i+a,l=t[c].x+t[c].width,u=t[c].y+t[c].height,(n>t[c].x||0==n&&0==o)&&(n=t[c].x),(i>t[c].y||0==i&&0==a)&&(i=t[c].y),s<l&&(s=l),h<u&&(h=u),r.x=n,r.y=i,r.width=s-n,r.height=h-i);return r},e.createFromPoints=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=e[0].x,i=e[0].y,o=e[0].x,a=e[0].y,s=1;s<e.length;s++)null!=e[s]&&(n>e[s].x&&(n=e[s].x),i>e[s].y&&(i=e[s].y),o<e[s].x&&(o=e[s].x),a<e[s].y&&(a=e[s].y));return t.x=n,t.y=i,t.width=o-n,t.height=a-i,t},e.createFromVertexData=function(t,e,r){var n=new z,i=e[0],o=e[1],a=e[0],s=e[1];r&&(r.transformPoint(i,o,n),i=a=n.x,o=s=n.y);for(var l=2;l<e.length;l+=2)null!=e[l]&&(n.set(e[l],e[l+1]),r&&r.transformPoint(n.x,n.y,n),i>n.x&&(i=n.x),o>n.y&&(o=n.y),a<n.x&&(a=n.x),s<n.y&&(s=n.y));return t.x=i,t.y=o,t.width=a-i,t.height=s-o,t},e.createRectfrom2Point=function(t,e,r){var n=e.x,i=e.y,o=e.x,a=e.y;return n>r.x&&(n=r.x),i>r.y&&(i=r.y),o<r.x&&(o=r.x),a<r.y&&(a=r.y),t.x=n,t.y=i,t.width=o-n,t.height=a-i,t},e.testRectCross=function(t,e){var r,n,i,o;return r=t.x+t.width/2,n=t.y+t.height/2,i=e.x+e.width/2,o=e.y+e.height/2,Math.abs(r-i)<=t.width/2+e.width/2&&Math.abs(n-o)<=t.height/2+e.height/2},e.prototype.destroy=function(){},e}(F),W=function(t){function e(){var e=t.call(this)||this;return e._instanceType="Transform",e.worldMatrix=new j,e.localMatrix=new j,e._worldID=0,e._parentID=0,e.position=new V(e.onChange,e,0,0),e.scale=new V(e.onChange,e,1,1),e.anchor=new V(e.onChange,e,0,0),e.skew=new V(e.updateSkew,e,0,0),e._rotation=0,e._cx=1,e._sx=0,e._cy=0,e._sy=1,e._localID=0,e._currentLocalID=0,e}return R(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=p(this._rotation+this.skew._y),this._sx=d(this._rotation+this.skew._y),this._cy=-d(this._rotation-this.skew._x),this._sy=p(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalMatrix=function(){var t=this.localMatrix;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x+this.anchor._x-(this.anchor._x*t.a+this.anchor._y*t.c),t.ty=this.position._y+this.anchor._y-(this.anchor._x*t.b+this.anchor._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateWorldMatrix=function(t){var e=this.localMatrix;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x+this.anchor._x-(this.anchor._x*e.a+this.anchor._y*e.c),e.ty=this.position._y+this.anchor._y-(this.anchor._x*e.b+this.anchor._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldMatrix,n=this.worldMatrix;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++}},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){t!==this._rotation&&(this._rotation=t,this.updateSkew())},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.worldMatrix=null,this.localMatrix=null,this.position=null,this.skew=null,this.scale=null,this.anchor=null},e}(F),H=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],G=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Y=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],X=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],q=[],K=[];function Z(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];K.push(e);for(var r=0;r<16;r++)for(var n=Z(H[t]*H[r]+Y[t]*G[r]),i=Z(G[t]*H[r]+X[t]*G[r]),o=Z(H[t]*Y[r]+Y[t]*X[r]),a=Z(G[t]*Y[r]+X[t]*X[r]),s=0;s<16;s++)if(H[s]===n&&G[s]===i&&Y[s]===o&&X[s]===a){e.push(s);break}}for(t=0;t<16;t++){var l=new j;l.set(H[t],G[t],Y[t],X[t],0,0),q.push(l)}}();var J={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return H[t]},uY:function(t){return G[t]},vX:function(t){return Y[t]},vY:function(t){return X[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return K[t][e]},sub:function(t,e){return K[t][J.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?J.S:J.N:2*Math.abs(e)<=Math.abs(t)?t>0?J.E:J.W:e>0?t>0?J.SE:J.SW:t>0?J.NE:J.NW},matrixAppendRotationInv:function(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=q[J.inv(e)];i.tx=r,i.ty=n,t.append(i)}},$=function(t){function e(){var e=t.call(this)||this;return e.mouseEnable=!0,e._instanceType="DisplayObject",e.tempDisplayObjectParent=null,e.transform=new W,e._alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e._worldAlpha=1,e.filterArea=null,e._filters=null,e._enabledFilters=null,e._localBoundsSelf=new U,e._bounds=new U,e._boundsID=0,e._lastBoundsID=-1,e._mask=null,e.destroyed=!1,e}return R(e,t),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},enumerable:!0,configurable:!0}),e.prototype.updateTransform=function(){this.transform.updateWorldMatrix(this.parent.transform),this._worldAlpha=this.alpha*this.parent._worldAlpha},e.prototype.hitTestPoint=function(t,r){void 0===r&&(r=!1);var n=this;if(!n.visible)return null;if(r&&!n.mouseEnable)return null;if(r){if(n._localBoundsSelf.isPointIn(n.globalToLocal(t,e._bp)))return n}else if(n._localBoundsSelf.isPointIn(t))return n;return null},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateWorldMatrix(this.parent.transform)):this.transform.updateWorldMatrix(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,r){return void 0===t&&(t=!1),void 0===r&&(r=e.temBounds),t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this.calculateBounds(),r.copy(this._bounds)},e.prototype.getLocalBounds=function(t){void 0===t&&(t=e.temBounds);var r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this.getBounds(!1,t);return this.parent=n,this.transform=r,this.parent&&this.updateTransform(),i},e.prototype.calculateBounds=function(){this._lastBoundsID!=this._boundsID&&(this._lastBoundsID=this._boundsID)},e.prototype.globalToLocal=function(t,r){return void 0===r&&(r=null),this.worldMatrix.transformPointInverse(t.x,t.y,r||e._bp)},e.prototype.localToGlobal=function(t,r){void 0===r&&(r=null);var n=this.worldMatrix.transformPoint(t.x,t.y,r||e._bp);return this.stage?this.stage.globalToLocal(n,r||e._bp):n},e.prototype._onDispatchBubbledEvent=function(t){var e=this;(t!=L.REMOVED_FROM_STAGE||e.stage)&&(t==L.REMOVED_FROM_STAGE?(e.dispatchEvent(t),e.stage=null):t==L.ADDED_TO_STAGE&&(e.stage=e.parent.stage,e.dispatchEvent(t)))},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setTransform=function(t,e,r,n,i,o,a,s,l){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.anchor.x=s,this.anchor.y=l,this},e.prototype.destroy=function(){this.removeAllEventListener(),this.parent&&this.parent.removeChild(this),this.transform.destroy(),this.transform=null,this._localBoundsSelf=null,this._bounds=null,this.tempDisplayObjectParent=null,this._mask=null,this.filterArea=null,this._filters=null,this._enabledFilters=null,this.mouseEnable=!1,this.destroyed=!0},Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._alpha!=t&&(this._alpha=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worldMatrix",{get:function(){return this.transform.worldMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localMatrix",{get:function(){return this.transform.localMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.transform.scale.x},set:function(t){this.transform.scale.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.transform.scale.y},set:function(t){this.transform.scale.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this.transform.anchor},set:function(t){this.transform.anchor.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorX",{get:function(){return this.transform.anchor.x},set:function(t){this.transform.anchor.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this.transform.anchor.y},set:function(t){this.transform.anchor.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skewX",{get:function(){return this.transform.skew.x*O},set:function(t){this.transform.skew.x=t*D},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skewY",{get:function(){return this.transform.skew.y*O},set:function(t){this.transform.skew.y=t*D},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation*O},set:function(t){this.transform.rotation=t*D},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask!=t&&(this._mask&&(this._mask.renderable=!0,this._mask.isUsedToMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isUsedToMask=!0,this._boundsID++))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!0,configurable:!0}),e.prototype.update=function(){this.hasEventListener(L.ENTER_FRAME)&&this.dispatchEvent(L.ENTER_FRAME)},e._bp=new z,e._p1=new z,e._p2=new z,e._p3=new z,e._p4=new z,e.temBounds=new U,e}(N);$.prototype.displayObjectUpdateTransform=$.prototype.updateTransform,$.prototype.displayObjectHitTestPoint=$.prototype.hitTestPoint;var Q=function(t){function e(){var e=t.call(this)||this;return e.mouseChildren=!0,e._instanceType="Container",e.children=[],e}return R(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(t){return this.addChildAt(t,this.children.length),t},e.prototype.addChildren=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.forEach((function(e){t.addChild(e)})),e},e.prototype.addChildAt=function(t,e){if(t){var r,n=this,i=n==t.parent;if(t.parent)if(i){r=n.children.length;for(var o=0;o<r;o++)if(n.children[o]==t){n.children.splice(o,1);break}}else t.parent.removeChild(t);return t.parent=n,t.transform._parentID=-1,this._boundsID++,e>=(r=n.children.length)?(n.children[n.children.length]=t,e=r):0==e||e<0?(n.children.unshift(t),e=0):n.children.splice(e,0,t),n.stage&&!i&&t._onDispatchBubbledEvent(L.ADDED_TO_STAGE),this.onChildrenChange(e),t}},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this,n=-1,i=-1,o=r.children.length;if((n="number"==typeof t?t:r.getChildIndex(t))==(i="number"==typeof e?e:r.getChildIndex(e))||n<0||n>=o||i<0||i>=o)return!1;var a=r.children[n];return r.children[n]=r.children[i],r.children[i]=a,this.onChildrenChange(n<i?n:i),!0}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);return-1===e?null:e},e.prototype.setChildIndex=function(t,e){this.addChildAt(t,e)},e.prototype.getChildAt=function(t){return t<0||t>=this.children.length?null:this.children[t]},e.prototype.getChildByName=function(t,r,n){if(void 0===r&&(r=!0),void 0===n&&(n=!1),!t)return null;var i;i="string"==typeof t?new RegExp("^"+t+"$"):t;var o=[];e._getElementsByName(i,this,r,n,o);var a=o.length;return 0==a?null:1==a?o[0]:o},e.prototype.removeChild=function(t){var e=this.children.indexOf(t);return-1===e?null:(this.removeChildAt(e),t)},e.prototype.removeChildAt=function(t){var e,r=this,n=r.children.length-1;if(!(n<0))return(e=t==n?r.children.pop():0==t?r.children.shift():r.children.splice(t,1)[0])._onDispatchBubbledEvent(L.REMOVED_FROM_STAGE),e.parent=null,e.transform._parentID=-1,this._boundsID++,this.onChildrenChange(t),e},e.prototype.removeChildren=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length?(e.forEach((function(e){t.removeChild(e)})),e):this.spliceChildren(0,this.children.length)},e.prototype.removeAllChildren=function(){return this.removeChildren()},e.prototype.removeChildrenAt=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r=t,n="number"==typeof e?e:this.children.length,i=n-r;if(i>0&&i<=n)return this.spliceChildren(r,i);if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: 移除范围有误")},e.prototype.spliceChildren=function(t,e){var r=this.children.splice(t,e);if(!r.length)return[];for(var n=0;n<r.length;++n)r[n].parent=null,r[n].transform&&(r[n].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(n=0;n<r.length;++n)r[n]._onDispatchBubbledEvent(L.REMOVED_FROM_STAGE);return r},e.prototype.updateTransform=function(){t.prototype.updateTransform.call(this);for(var e=0,r=this.children.length;e<r;++e){var n=this.children[e];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function(){if(this._lastBoundsID!=this._boundsID){this._lastBoundsID=this._boundsID,this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e.mask?(e.mask.calculateBounds(),e._bounds.x<e.mask._bounds.x&&(e._bounds.x=e.mask._bounds.x),e._bounds.y<e.mask._bounds.y&&(e._bounds.y=e.mask._bounds.y),e._bounds.width>e.mask._bounds.width&&(e._bounds.width=e.mask._bounds.width),e._bounds.height>e.mask._bounds.height&&(e._bounds.height=e.mask._bounds.height),U.createFromRects(this._bounds,e._bounds)):e.filterArea||U.createFromRects(this._bounds,e._bounds))}}},e.prototype._calculateBounds=function(){},e.prototype.hitTestPoint=function(t,e){if(void 0===e&&(e=!1),!this.visible)return null;if(e&&!this.mouseChildren)return null;for(var r,n,i=this.children,o=i.length-1;o>=0;o--)if(!(r=i[o]).isUsedToMask&&(!r.mask||r.mask.hitTestPoint(t,e))&&(n=r.hitTestPoint(t,e)))return n;return null},e.prototype.renderWebGL=function(t){if(this.visible&&!(this._worldAlpha<=0)&&this.renderable)if(this.mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.batchManager.flush();var e=this.filters;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}var n=this.mask;n&&t.maskManager.pushMask(this,this.mask),this._renderWebGL(t);r=0;for(var i=this.children.length;r<i;r++)this.children[r].renderWebGL(t);t.batchManager.flush(),n&&t.maskManager.popMask(this,this.mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this._worldAlpha<=0)&&this.renderable){this.mask&&t.maskManager.pushMask(this.mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this.mask&&t.maskManager.popMask(t)}},e.prototype._renderCanvas=function(t){},e.prototype.update=function(){if(this.visible){t.prototype.update.call(this);for(var e=this.children.length-1;e>=0;e--){var r=this.children[e];r.visible&&r.update()}}},e.prototype._onDispatchBubbledEvent=function(e){var r=this,n=r.children.length;if(e!=L.REMOVED_FROM_STAGE||r.stage){t.prototype._onDispatchBubbledEvent.call(this,e);for(var i=0;i<n;i++)r.children[i]._onDispatchBubbledEvent(e)}},e.prototype.destroy=function(){for(var e=this.children.length-1;e>=0;e--)this.children[e].destroy();t.prototype.destroy.call(this),this.mouseChildren=!1},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!0,configurable:!0}),e._getElementsByName=function(t,r,n,i,o){var a=r.children.length;if(a>0)for(var s=void 0,l=void 0,h=0;h<a;h++){if((s=(l=r.children[h]).name)&&""!=s&&t.test(s)&&(o[o.length]=l,n))return;i&&null!=l.children&&e._getElementsByName(t,l,n,i,o)}},e}($);Q.prototype.containerUpdateTransform=Q.prototype.updateTransform;var tt=function(t){function e(){var e=t.call(this)||this;e.htmlElement=null,e._isAdded=!1;var r=e;return r._instanceType="FloatDisplay",r.addEventListener(L.REMOVED_FROM_STAGE,(function(t){r.htmlElement&&(r.htmlElement.style.display="none")})),r.addEventListener(L.ADDED_TO_STAGE,(function(t){if(r.htmlElement){var e=r.htmlElement.style;r._isAdded?r.htmlElement&&r.visible&&(e.display="block"):(r._isAdded=!0,r.stage.rootDiv?r.stage.rootDiv.insertBefore(r.htmlElement,r.stage.rootDiv.childNodes[0]):document.body.appendChild(r.htmlElement))}})),e._transformID=-1,e}return R(e,t),e.prototype.init=function(t){var e,r=this;e="string"==typeof t?document.getElementById(t):"Video"==t._instanceType?t.media:t,r.htmlElement&&r.removeHtmlElement();var n=e.style;n.position="absolute",n.display="none",n.transformOrigin=n.WebkitTransformOrigin="0 0 0";var i=r.getStyle(e,"width"),o=r.getStyle(e,"height"),a=0,s=0;i.indexOf("px")&&(a=parseInt(i)),o.indexOf("px")&&(s=parseInt(o)),r._localBoundsSelf.width=a,r._localBoundsSelf.height=s,r.htmlElement=e,r.stage&&(r._isAdded=!0,r.stage.rootDiv?r.stage.rootDiv.insertBefore(r.htmlElement,r.stage.rootDiv.childNodes[0]):document.body.appendChild(r.htmlElement))},e.prototype.getStyle=function(t,e){if(t.style[e])return t.style[e];if(document.defaultView&&document.defaultView.getComputedStyle){e=(e=e.replace(/([A-Z])/g,"-$1")).toLowerCase();var r=document.defaultView.getComputedStyle(t,"");return r&&r.getPropertyValue(e)}return null},e.prototype.updateStyle=function(){var t=this,e=t.htmlElement;if(e){var r=e.style,n=t.visible;if(t.stage||(n=!1),n)for(var i=t.parent;i;){if(!i.visible){n=!1;break}i=i.parent}var o=n?"block":"none";if(o!=r.display&&(r.display=o),n){if(this._transformID!=this.transform._worldID){this._transformID=this.transform._worldID;var a=t.transform.worldMatrix,s=t.stage._dpi||t.stage.dpi;r.transform=r.webkitTransform="matrix("+(a.a/s).toFixed(4)+","+(a.b/s).toFixed(4)+","+(a.c/s).toFixed(4)+","+(a.d/s).toFixed(4)+","+(a.tx/s).toFixed(4)+","+(a.ty/s).toFixed(4)+")"}r.opacity=t._worldAlpha}}},e.prototype.removeHtmlElement=function(){var t=this,e=t.htmlElement;e&&(e.style.display="none",e.parentNode&&e.parentNode.removeChild(e),t._isAdded=!1,t.htmlElement=null)},e.prototype.renderCanvas=function(){this.updateStyle()},e.prototype.renderWebGL=function(){this.updateStyle()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeHtmlElement()},e}($);var et,rt="web";function nt(){return rt}function it(){return document&&document.createElement("canvas")||my._createOffscreenCanvas()}function ot(){return et&&et.createImage()||new Image}window&&(window.my=null);function at(t){return!(t&t-1||!t)}function st(t){var e,r;return t>>>=e=Number(t>65535)<<4,t>>>=r=Number(t>255)<<3,e|=r,t>>>=r=Number(t>15)<<2,e|=r,(e|=r=Number(t>3)<<1)|(t>>>=r)>>1}function lt(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}var ht=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(ht);var ut=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t._worldAlpha,i=t.transform.worldMatrix;r.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),e.setBlendMode(t.blendMode);for(var o=0;o<t.graphicsData.length;o++){var a=t.graphicsData[o],s=a.shape,l=a.fillStyle,h=a.lineStyle,u=l.color,c=h.color;r.lineWidth=h.width;var f=!0;if(a.type===v.POLY){r.beginPath();var p=s.points;r.moveTo(p[0],p[1]);for(var d=1;d<p.length/2;++d)r.lineTo(p[2*d],p[2*d+1]);f=!ft(p)}else if(a.type===v.RECT){if(!a.holes.length){l.visible&&(r.globalAlpha=l.alpha*n,r.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.fillRect(s.x,s.y,s.width,s.height)),h.visible&&(r.globalAlpha=h.alpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.strokeRect(s.x,s.y,s.width,s.height));continue}r.beginPath(),r.moveTo(s.x,s.y),r.lineTo(s.x+s.width,s.y),r.lineTo(s.x+s.width,s.y+s.height),r.lineTo(s.x,s.y+s.height),r.lineTo(s.x,s.y)}else if(a.type===v.CIRC)r.beginPath(),r.arc(s.x,s.y,s.radius,0,2*Math.PI,!1);else if(a.type===v.ELIP){var m=2*s.width,y=2*s.height,g=s.x-m/2,_=s.y-y/2;r.beginPath();var b=m/2*.5522848,x=y/2*.5522848,w=g+m,T=_+y,S=g+m/2,E=_+y/2;r.moveTo(g,E),r.bezierCurveTo(g,E-x,S-b,_,S,_),r.bezierCurveTo(S+b,_,w,E-x,w,E),r.bezierCurveTo(w,E+x,S+b,T,S,T),r.bezierCurveTo(S-b,T,g,E+x,g,E)}else if(a.type===v.RREC){var M=s.x,C=s.y,A=s.width,P=s.height,k=s.radius,O=Math.min(A,P)/2|0;k=k>O?O:k,r.beginPath(),r.moveTo(M,C+k),r.quadraticCurveTo(M,C,M+k,C),r.lineTo(M+A-k,C),r.quadraticCurveTo(M+A,C,M+A,C+k),r.lineTo(M+A,C+P-k),r.quadraticCurveTo(M+A,C+P,M+A-k,C+P),r.lineTo(M+k,C+P),r.quadraticCurveTo(M,C+P,M,C+P-k),r.lineTo(M,C+k)}for(var D=0;D<a.holes.length;D++)ct(a.holes[D],r,f);l.visible&&(r.globalAlpha=l.alpha*n,r.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.fill()),h.visible&&(s.closed&&r.closePath(),r.globalAlpha=h.alpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}},t.prototype.destroy=function(){this.renderer=null},t}();function ct(t,e,r){void 0===r&&(r=!0);var n=t.type,i=t.shape;switch(n){case v.POLY:var o=i.points;if(r==ft(o)){e.moveTo(o[0],o[1]);for(var a=1;a<o.length/2;++a)e.lineTo(o[2*a],o[2*a+1])}else{e.moveTo(o[o.length-2],o[o.length-1]);for(a=o.length/2-2;a>=0;--a)e.lineTo(o[2*a],o[2*a+1])}o[0]===o[o.length-2]&&o[1]===o[o.length-1]||e.closePath();break;case v.RECT:e.moveTo(i.x,i.y),r?(e.lineTo(i.x,i.y+i.height),e.lineTo(i.x+i.width,i.y+i.height),e.lineTo(i.x+i.width,i.y),e.lineTo(i.x,i.y)):(e.lineTo(i.x+i.width,i.y),e.lineTo(i.x+i.width,i.y+i.height),e.lineTo(i.x,i.y+i.height),e.lineTo(i.x,i.y));break;case v.CIRC:e.moveTo(i.x+i.radius,i.y),e.arc(i.x,i.y,i.radius,0,2*Math.PI,r);break;case v.ELIP:var s=2*i.width,l=2*i.height,h=i.x-s/2,u=i.y-l/2,c=s/2*.5522848,f=l/2*.5522848,p=h+s,d=u+l,m=h+s/2,y=u+l/2;e.moveTo(h,y),r?(e.bezierCurveTo(m-c,d,h,y+f,m,d),e.bezierCurveTo(p,y+f,m+c,d,p,y),e.bezierCurveTo(m+c,u,p,y-f,m,u),e.bezierCurveTo(h,y-f,m-c,u,h,y)):(e.bezierCurveTo(h,y-f,m-c,u,m,u),e.bezierCurveTo(m+c,u,p,y-f,p,y),e.bezierCurveTo(p,y+f,m+c,d,m,d),e.bezierCurveTo(m-c,d,h,y+f,h,y));break;case v.RREC:var g=i.x,_=i.y,b=i.width,x=i.height,w=i.radius,T=Math.min(b,x)/2|0;w=w>T?T:w,e.moveTo(g,_+w),r?(e.lineTo(g,_+x-w),e.quadraticCurveTo(g,_+x,g+w,_+x),e.lineTo(g+b-w,_+x),e.quadraticCurveTo(g+b,_+x,g+b,_+x-w),e.lineTo(g+b,_+w),e.quadraticCurveTo(g+b,_,g+b-w,_),e.lineTo(g+w,_),e.quadraticCurveTo(g,_,g,_+w)):(e.quadraticCurveTo(g,_,g+w,_),e.lineTo(g+b-w,_),e.quadraticCurveTo(g+b,_,g+b,_+w),e.lineTo(g+b,_+x-w),e.quadraticCurveTo(g+b,_+x,g+b-w,_+x),e.lineTo(g+w,_+x),e.quadraticCurveTo(g,_+x,g,_+x-w),e.lineTo(g,_+w))}}function ft(t){var e=[];t[0]===t[t.length-2]&&(t[1],t[t.length-1]);for(var r=0;r<t.length-2;r+=2)e.push(t[r+2]-t[r],t[r+3]-t[r+1]);t[0]===t[t.length-2]&&t[1]===t[t.length-1]||e.push(t[0]-t[t.length-2],t[1]-t[t.length-1]);var n=0;for(r=0;r<e.length-2;r+=2)n=n+e[r]*e[r+3]-e[r+1]*e[r+2];return!((n=n+e[e.length-2]*e[1]-e[e.length-1]*e[0])>0)}var pt=function(t){function e(e){var r=t.call(this)||this;return r._instanceType="CanvasMaskManager",r.renderer=e,r}return R(e,t),e.prototype.pushMask=function(t){var e=this.renderer;e.context.save(),e.context.globalAlpha=0;var r=t.transform.worldMatrix;e.context.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),"Shape"==t.instanceType?t._drawShape(e.context):"Graphics"==t.instanceType&&(t.finishPoly(),this.renderGraphicsShape(t)),e.context.clip()},e.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var n=0;n<r;n++){var i=t.graphicsData[n],o=i.shape,a=!0;if(i.type===v.POLY){var s=o.points;e.moveTo(s[0],s[1]);for(var l=1;l<s.length/2;l++)e.lineTo(s[2*l],s[2*l+1]);a=!ft(s),s[0]===s[s.length-2]&&s[1]===s[s.length-1]||e.closePath()}else if(i.type===v.RECT)e.rect(o.x,o.y,o.width,o.height);else if(i.type===v.CIRC)e.arc(o.x,o.y,o.radius,0,2*Math.PI);else if(i.type===v.ELIP){var h=2*o.width,u=2*o.height,c=o.x-h/2,f=o.y-u/2,p=h/2*.5522848,d=u/2*.5522848,m=c+h,y=f+u,g=c+h/2,_=f+u/2;e.moveTo(c,_),e.bezierCurveTo(c,_-d,g-p,f,g,f),e.bezierCurveTo(g+p,f,m,_-d,m,_),e.bezierCurveTo(m,_+d,g+p,y,g,y),e.bezierCurveTo(g-p,y,c,_+d,c,_)}else if(i.type===v.RREC){var b=o.x,x=o.y,w=o.width,T=o.height,S=o.radius,E=Math.min(w,T)/2|0;S=S>E?E:S,e.moveTo(b,x+S),e.quadraticCurveTo(b,x,b+S,x),e.lineTo(b+w-S,x),e.quadraticCurveTo(b+w,x,b+w,x+S),e.lineTo(b+w,x+T-S),e.quadraticCurveTo(b+w,x+T,b+w-S,x+T),e.lineTo(b+S,x+T),e.quadraticCurveTo(b,x+T,b,x+T-S),e.lineTo(b,x+S)}for(l=0;l<i.holes.length;l++)ct(i.holes[n],e,a)}}},e.prototype.popMask=function(t){t.context.restore()},e.prototype.destroy=function(){},e}(F),dt=new j,mt=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,n=e._frame.width,i=e._frame.height,o=t.transform.worldMatrix,a=0,s=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&e.valid){r.setBlendMode(t.blendMode),r.context.globalAlpha=t._worldAlpha,t._anchorTexture?(e.trim?(a=e.trim.width/2+e.trim.x-t._anchorTexture.x*e.orig.width,s=e.trim.height/2+e.trim.y-t._anchorTexture.y*e.orig.height):(a=(.5-t._anchorTexture.x)*e.orig.width,s=(.5-t._anchorTexture.y)*e.orig.height),e.rotate&&(dt.copy(o),o=dt,J.matrixAppendRotationInv(o,e.rotate,a,s),a=0,s=0),a-=n/2,s-=i/2):(a=t.offsetX||0,s=t.offsetY||0),r.context.setTransform(o.a,o.b,o.c,o.d,o.tx,o.ty);var l=r._outerBlend;l&&(r.context.save(),r.context.beginPath(),r.context.rect(a,s,n,i),r.context.clip()),16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=function(t,e){var r="#"+("00000"+(0|(e=function(t){var e=Et(t);return e[0]=Math.min(255,e[0]/8*8),e[1]=Math.min(255,e[1]/8*8),e[2]=Math.min(255,e[2]/8*8),function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}(e)}(e))).toString(16)).substr(-6);t.tintCache=t.tintCache||{};var n,i=t.tintCache[r];if(i){if(i.tintId===t._updateID)return t.tintCache[r];n=t.tintCache[r]}else n=Tt||it();return St(t,e,n),n.tintId=t._updateID,t.tintCache[r]=n,Tt=null,n}(t._texture,t.tint)),r.context.drawImage(t.tintedTexture,0,0,n,i,a,s,n,i)):r.context.drawImage(e.baseTexture.source,e._frame.x,e._frame.y,n,i,a,s,n,i),l&&r.context.restore(),r.setBlendMode(E.NORMAL)}},t.prototype.destroy=function(){this.renderer=null},t}(),vt=function(t){function e(){var e=t.call(this)||this;return e.transparent=!0,e._backgroundColor=0,e._backgroundColorRgba=[0,0,0,0],e._backgroundColorString="#000000",e.backgroundColor=e._backgroundColor,e._tempDisplayObjectParent=new Q,e._lastObjectRendered=e._tempDisplayObjectParent,e}return R(e,t),e.prototype.resize=function(t,e){this.width=t,this.height=e},e.prototype.render=function(t,e,r){},e.prototype.destroy=function(){this.type=m.UNKNOWN,this.transparent=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor!==t&&(this._backgroundColor=t,this._backgroundColorString=Rt(t),It(t,this._backgroundColorRgba))},enumerable:!0,configurable:!0}),e}(N),yt=function(){function t(t,e){this.canvas=it(),this.resize(t,e),this.context=this.canvas.getContext("2d"),this.resize(t,e),this.clear()}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!0,configurable:!0}),t}(),gt=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldMatrix;r.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),e.context.globalAlpha=t._worldAlpha,e.setBlendMode(t.blendMode),this._renderTriangles(t)},t.prototype._renderTriangles=function(t){for(var e=t._indices,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],a=2*e[n+2];this._renderDrawTriangle(t,i,o,a)}},t.prototype._renderDrawTriangle=function(t,e,r,n){var i=this.renderer.context,o=t._uvs,a=t._vertices,s=t.texture;if(s.valid){var l=s.baseTexture,h=l.source,u=l.width,c=l.height,f=o[e]*l.width,p=o[r]*l.width,d=o[n]*l.width,m=o[e+1]*l.height,v=o[r+1]*l.height,y=o[n+1]*l.height,g=a[e],_=a[r],b=a[n],x=a[e+1],w=a[r+1],T=a[n+1],S=t.canvasPadding;if(S>0){var E=S/Math.abs(t.worldMatrix.a),M=S/Math.abs(t.worldMatrix.d),C=(g+_+b)/3,A=(x+w+T)/3,P=g-C,k=x-A,O=Math.sqrt(P*P+k*k);g=C+P/O*(O+E),x=A+k/O*(O+M),k=w-A,_=C+(P=_-C)/(O=Math.sqrt(P*P+k*k))*(O+E),w=A+k/O*(O+M),k=T-A,b=C+(P=b-C)/(O=Math.sqrt(P*P+k*k))*(O+E),T=A+k/O*(O+M)}i.save(),i.beginPath(),i.moveTo(g,x),i.lineTo(_,w),i.lineTo(b,T),i.closePath(),i.clip();var D=f*v+m*d+p*y-v*d-m*p-f*y,I=g*v+m*b+_*y-v*b-m*_-g*y,R=f*_+g*d+p*b-_*d-g*p-f*b,F=f*v*b+m*_*d+g*p*y-g*v*d-m*p*b-f*_*y,L=x*v+m*T+w*y-v*T-m*w-x*y,N=f*w+x*d+p*T-w*d-x*p-f*T,B=f*v*T+m*w*d+x*p*y-x*v*d-m*p*T-f*w*y;i.transform(I/D,L/D,R/D,N/D,F/D,B/D),i.drawImage(h,0,0,u,c,0,0,u,c),i.restore()}},t.prototype.destroy=function(){this.renderer=null},t}(),_t=function(t){function e(e,r,n){var i=t.call(this)||this;return i.type=m.CANVAS,i._instanceType="CanvasRenderer",i.rootContext=e,i.maskManager=new pt(i),i.plugins={sprite:null,graphics:null},i.plugins.sprite=new mt(i),i.plugins.graphics=new ut(i),i.plugins.mesh=new gt(i),i.blendModes=function(t){void 0===t&&(t=[]);wt()?(t[E.NORMAL]="source-over",t[E.ADD]="lighter",t[E.MULTIPLY]="multiply",t[E.SCREEN]="screen",t[E.OVERLAY]="overlay",t[E.DARKEN]="darken",t[E.LIGHTEN]="lighten",t[E.COLOR_DODGE]="color-dodge",t[E.COLOR_BURN]="color-burn",t[E.HARD_LIGHT]="hard-light",t[E.SOFT_LIGHT]="soft-light",t[E.DIFFERENCE]="difference",t[E.EXCLUSION]="exclusion",t[E.HUE]="hue",t[E.SATURATION]="saturate",t[E.COLOR]="color",t[E.LUMINOSITY]="luminosity"):(t[E.NORMAL]="source-over",t[E.ADD]="lighter",t[E.MULTIPLY]="source-over",t[E.SCREEN]="source-over",t[E.OVERLAY]="source-over",t[E.DARKEN]="source-over",t[E.LIGHTEN]="source-over",t[E.COLOR_DODGE]="source-over",t[E.COLOR_BURN]="source-over",t[E.HARD_LIGHT]="source-over",t[E.SOFT_LIGHT]="source-over",t[E.DIFFERENCE]="source-over",t[E.EXCLUSION]="source-over",t[E.HUE]="source-over",t[E.SATURATION]="source-over",t[E.COLOR]="source-over",t[E.LUMINOSITY]="source-over");return t[E.NORMAL_NPM]=t[E.NORMAL],t[E.ADD_NPM]=t[E.ADD],t[E.SCREEN_NPM]=t[E.SCREEN],t[E.SRC_OVER]="source-over",t[E.SRC_IN]="source-in",t[E.SRC_OUT]="source-out",t[E.SRC_ATOP]="source-atop",t[E.DST_OVER]="destination-over",t[E.DST_IN]="destination-in",t[E.DST_OUT]="destination-out",t[E.DST_ATOP]="destination-atop",t[E.SUBTRACT]="source-over",t}(),i._activeBlendMode=null,i._outerBlend=!1,i.resize(r,n),i}return R(e,t),e.prototype.render=function(t,e,r){this.dispatchEvent("onPreRender");var n=!e;e?((e=e.baseTexture||e)._canvasRenderTarget?(e._canvasRenderTarget.clear(),e._canvasRenderTarget.resize(e.width,e.height)):(e._canvasRenderTarget=new yt(e.width,e.height),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context):this.context=this.rootContext;var i=this.context;e||(this._lastObjectRendered=t),t.update();var o=t.parent,a=this._tempDisplayObjectParent.transform.worldMatrix;r?(a.copy(r),this._tempDisplayObjectParent.transform._worldID++):a.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o,i.save(),i.setTransform(1,0,0,1,0,0),i.globalAlpha=1,this._activeBlendMode=E.NORMAL,this._outerBlend=!1,i.globalCompositeOperation=this.blendModes[E.NORMAL],n&&(this.transparent?i.clearRect(0,0,this.width,this.height):(i.fillStyle=this._backgroundColorString,i.fillRect(0,0,this.width,this.height))),t.renderCanvas(this),i.restore(),this.dispatchEvent("onPostRender")},e.prototype.setBlendMode=function(t,e){void 0===e&&(e=!1);var r=t===E.SRC_IN||t===E.SRC_OUT||t===E.DST_IN||t===E.DST_ATOP;!e&&r&&(t=E.NORMAL),this._activeBlendMode!==t&&(this._activeBlendMode=t,this._outerBlend=r,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(){this.destroyPlugins(),t.prototype.destroy.call(this),this.context=null,this.maskManager.destroy(),this.maskManager=null},e.prototype.destroyPlugins=function(){this.plugins.sprite.destroy(),this.plugins.graphics.destroy()},e}(vt);new j;var bt=null;function xt(t){var e=it();e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}function wt(){if(null!=bt)return bt;if("undefined"==typeof document)return bt=!1;var t=xt("#ff00ff"),e=xt("#ffff00"),r=it();r.width=6,r.height=1;var n=r.getContext("2d");n.globalCompositeOperation="multiply",n.drawImage(t,0,0),n.drawImage(e,2,0);var i=n.getImageData(2,0,1,1);if(!i)return bt=!1;var o=i.data;return bt=255===o[0]&&0===o[1]&&0===o[2]}var Tt,St=wt()?function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone();r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()}:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone();r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore();for(var o=Et(e),a=o[0],s=o[1],l=o[2],h=n.getImageData(0,0,i.width,i.height),u=h.data,c=0;c<u.length;c+=4)u[c+0]*=a,u[c+1]*=s,u[c+2]*=l;n.putImageData(h,0,0)};function Et(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}var Mt,Ct=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[E.NORMAL_NPM]=E.NORMAL,t[E.ADD_NPM]=E.ADD,t[E.SCREEN_NPM]=E.SCREEN,e[E.NORMAL]=E.NORMAL_NPM,e[E.ADD]=E.ADD_NPM,e[E.SCREEN]=E.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}(),At=0;function Pt(){return++At}function kt(){if(!Mt){var t=it();t.width=1,t.height=1,Mt=t.getContext("2d")}return Mt}function Ot(t,e){var r,n=kt();r=4==t.length?n.createLinearGradient(t[0],t[1],t[2],t[3]):n.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5]);for(var i=0,o=e.length;i<o;i++)r.addColorStop(e[i][0],Nt(e[i][1],e[i][2]));return r}function Dt(t){return kt().createPattern(t,"repeat")}function It(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Rt(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function Ft(t){return 0==t.indexOf("#")&&(t=t.replace("#","0x")),parseInt(t)}function Lt(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}function Nt(t,e){if(0==t.indexOf("0x")&&(t=t.replace("0x","#")),t.length<7&&(t="#000000"),1!=e){var r=parseInt("0x"+t.substr(1,2)),n=parseInt("0x"+t.substr(3,2)),i=parseInt("0x"+t.substr(5,2));t="rgba("+r+","+n+","+i+","+e+")"}return t}function Bt(t){return 0===t?0:t<0?-1:1}var zt=Object.create(null),jt=Object.create(null);Object.create(null);var Vt;function Ut(t,e,r){return Math.max(e,Math.min(r,t))}function Wt(t){for(var e,r,n,i="",o=new Uint8Array(t),a=8*t.byteLength,s=0;s<a;s+=6)r=s%8,n=(o[e=s/8|0]||0)<<r>>2,r>2&&(n|=(o[e+1]||0)>>10-r),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n);return i+=4==r?"=":6==r?"==":""}var Ht=new(function(t){function e(){var e=t.call(this)||this;return e.caches={},e._instanceType="Loader",e}return R(e,t),e.prototype.loadSheet=function(t,e){var r=this,n=e.substring(0,e.lastIndexOf("."))+".png";this.loadImage((function(i,o){i?(r.cache(n,o),r.caches[e]&&(t(!0,{json:r.caches[e],img:o}),r.caches[e]=null,r.caches[n]=null)):t(!1)}),n),this.loadJson((function(i,o){i?(r.cache(e,o),r.caches[n]&&(t(!0,{json:o,img:r.caches[n]}),r.caches[e]=null,r.caches[n]=null)):t(!1)}),e)},e.prototype.loadJson=function(t,e){"tb"!=nt()?this.loadRawWeb((function(e,r){t(e,e?JSON.parse(r):r)}),e,"text"):this.tbLoad((function(e,r){t(e,e?JSON.parse(r):r)}),e,"utf8")},e.prototype.loadAB=function(t,e){"tb"==nt()?Ht.tbLoad(t,e,"ArrayBuffer"):Ht.loadRawWeb(t,e,"arraybuffer")},e.prototype.loadRawWeb=function(t,e,r){var n;void 0===r&&(r="json"),window.XMLHttpRequest?n=new XMLHttpRequest:window.ActiveXObject?n=new window.ActiveXObject:alert("请升级至最新版本的浏览器"),null!=n&&(n.open("GET",e,!0),n.responseType=r,n.send(),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&t(!0,n.response)},n.onerror=function(e){t(!1,e)})},e.prototype.loadImage=function(t,e){var r=ot();r.onload=function(){t(!0,r)},r.onerror=function(){t(!1)},0!==(e=encodeURI(e)).indexOf("data:")&&(r.crossOrigin="anonymous"),r.src=e},e.prototype.loadTexture=function(t,e,r){this.caches[e]||this.loadImage((function(n,i){n?(Xt.addToCache(Xt.from(i),r||e),t(!0,zt[r||e])):t(!1)}),e)},e.prototype.tbLoad=function(t,e,r){var n=this;void 0===r&&(r="ArrayBuffer"),0==e.indexOf("cloud://")?this.getTbTempUrl((function(e){n.downloadReadFile(t,e,r)}),e):this.downloadReadFile(t,e,r)},e.prototype.getTbTempUrl=function(t,e){getApp().cloud.file.getTempFileURL({fileId:[e]}).then((function(e){t(e[0].url.replace("-internal",""))})).catch((function(t){console.error(t)}))},e.prototype.downloadReadFile=function(t,e,r){void 0===r&&(r="ArrayBuffer");var n=my;n.downloadFile({url:e,success:function(e){var i=e.apFilePath;n.getFileSystemManager().readFile({filePath:i,encoding:"ArrayBuffer"===r?"":r,success:function(e){t(!0,e.data)},fail:function(e){t(!1,e)}})},fail:function(e){t(!1,e)}})},e.prototype.cache=function(t,e){this.caches[t],this.caches[t]=e},e.prototype.get=function(t){return this.caches[t]},e}(N)),Gt=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=C.LINEAR);var n=t.call(this)||this;if(n._touchedId=0,n.width=100,n.height=100,n.scaleMode=r,n.hasLoaded=!1,n._isLoading=!1,n.source=null,n.imageType=null,n.premultipliedAlpha=!0,n.imageUrl=null,n.isPowerOfTwo=!1,n.mipmap=!0,n.wrapMode=A.CLAMP,n._glTextures={},n._enabledId=0,n.textureCacheIds=[],e)if(e.data)n._sourceChange(e);else if(e.getContext)n._sourceChange(e);else if(e.complete)n._sourceChange(e),n.dispatchEvent("loaded");else{var i=n;e.onload=function(){i._sourceChange(e),i.dispatchEvent("loaded")}}return n}return R(e,t),e.prototype.update=function(){this.width=this.source.width,this.height=this.source.height,this.hasLoaded=!(!this.width||!this.height),this.isPowerOfTwo=at(this.width)&&at(this.height),this.dispatchEvent("update")},e.prototype._sourceChange=function(t){this.source=t,this.imageUrl=t.src||t.path||null,this.imageType=this.source.type||null,this.hasLoaded=!0,this.update(),this.dispatchEvent("loaded")},e.prototype.destroy=function(){this.imageUrl&&(delete zt[this.imageUrl],this.imageUrl=null),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null},e.prototype.dispose=function(){this.dispatchEvent("dispose")},e.fromUrl=function(t){if(jt[t])return jt[t];var r=new e;return Ht.loadImage((function(n,i){n&&(r._sourceChange(i),0!==t.indexOf("data:")&&e.addToCache(r,t))}),t),r},e.fromData=function(t){return new e(t)},e.fromCanvas=function(t,r){void 0===r&&(r="canvas"),t._canvasId||(t._canvasId=r+"_"+Pt());var n=jt[t._canvasId];return n||(n=new e(t),e.addToCache(n,t._canvasId)),n},e.fromImage=function(t){var r=t.src,n=jt[r];return n||(n=new e(t),r&&0!==r.indexOf("data:")&&e.addToCache(n,r)),n},e.from=function(t){return"string"==typeof t?e.fromUrl(t):t.data?e.fromData(t):t.getContext?e.fromCanvas(t):e.fromImage(t)},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),jt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),jt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=jt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete jt[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete jt[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e}(N),Yt=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4),this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var o=t.width/2/n,a=t.height/2/i,s=t.x/n+o,l=t.y/i+a;r=J.add(r,J.NW),this.x0=s+o*J.uX(r),this.y0=l+a*J.uY(r),r=J.add(r,2),this.x1=s+o*J.uX(r),this.y1=l+a*J.uY(r),r=J.add(r,2),this.x2=s+o*J.uX(r),this.y2=l+a*J.uY(r),r=J.add(r,2),this.x3=s+o*J.uX(r),this.y3=l+a*J.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535,this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),Xt=function(t){function e(r,n,i,o,a,s){var l=t.call(this)||this;return l._instanceType="Texture",l.noFrame=!1,n||(l.noFrame=!0,n=new U(0,0,1,1)),r instanceof e&&(r=r.baseTexture),l.baseTexture=r,l._frame=n,l.trim=o||null,l.valid=!1,l._uvs=null,l.orig=i||n,l._rotate=Number(a||0),r.hasLoaded||r.source&&r.source.getContext?(l.noFrame&&(n=new U(0,0,r.width,r.height),r.addEventListener("update",l.onBaseTextureUpdated,l)),l.frame=n):r.once("loaded",l.onBaseTextureLoaded,l),l.defaultAnchor=s?new z(s.x,s.y):new z(0,0),l._updateID=0,l.transform=null,l.textureCacheIds=[],l}return R(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){var e=t.target;this._updateID++,this.noFrame?(this.frame=new U(0,0,e.width,e.height),this.baseTexture.addEventListener("update",this.onBaseTextureUpdated,this)):this.frame=this._frame,this.dispatchEvent("update"),this.dispatchEvent("loaded")},e.prototype.onBaseTextureUpdated=function(t){var e=t.target;this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.orig.width=this._frame.width,this.orig.height=this._frame.height,this.valid=e.hasLoaded,this.dispatchEvent("update")},e.prototype.destroy=function(){this.baseTexture&&(this.baseTexture.removeEventListener("update",this.onBaseTextureUpdated,this),this.baseTexture.removeEventListener("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs||(this._uvs=new Yt),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,a=r+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",l="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,h="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+s+" "+h)}this.valid=n&&i&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate!=t&&(this._rotate=t,this.valid&&this.updateUvs())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!0,configurable:!0}),e.fromUrl=function(t){var r=zt[t];return r||(r=new e(Gt.fromUrl(t)),e.addToCache(r,t)),r},e.fromCanvas=function(t,r){return void 0===r&&(r="canvas"),new e(Gt.fromCanvas(t,r))},e.fromData=function(t){return new e(Gt.fromData(t))},e.fromImage=function(t){var r=t.src,n=zt[r];return n||(n=new e(Gt.fromImage(t)),r&&0!==r.indexOf("data:")&&e.addToCache(n,r)),n},e.from=function(t){return"string"==typeof t?e.fromUrl(t):t.data?e.fromData(t):t.getContext?e.fromCanvas(t):e.fromImage(t)},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),zt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),zt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=zt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete zt[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)zt[t.textureCacheIds[n]]===t&&delete zt[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e}(N);function qt(t){t.destroy=function(){},t.addEventListener=function(){},t.once=function(){},t.dispatchEvent=function(){}}Xt.EMPTY=new Xt(new Gt),qt(Xt.EMPTY),qt(Xt.EMPTY.baseTexture);var Kt={data:function(){for(var t=[],e=0;e<1024;e++)t.push(255);return new Uint8Array(t)}(),width:16,height:16,type:null,path:null};Xt.WHITE=new Xt(new Gt(Kt)),qt(Xt.WHITE),qt(Xt.WHITE.baseTexture);var Zt=new Uint16Array([0,1,2,0,2,3]),Jt=function(t){function e(e){var r=t.call(this)||this;return r._blendMode=E.NORMAL,r._instanceType="Sprite",r._anchorTexture=new V(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r._cachedTint=16777215,r._uvs=null,r.texture=e||Xt.EMPTY,r._vertexData=new Float32Array(8),r._vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r._indices=Zt,r.pluginName="sprite",r}return R(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){},enumerable:!0,configurable:!0}),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._texture.valid&&(this._uvs=this._texture._uvs.uvsFloat32),this._width&&(this.scale.x=Bt(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Bt(this.scale.y)*this._height/this._texture.orig.height),this.updateLocalBoundsSelf()},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1,this.updateLocalBoundsSelf()},e.prototype.updateLocalBoundsSelf=function(){var t=this._texture.orig.width,e=this._texture.orig.height;this._localBoundsSelf.x=-t*this.anchorTexture.x,this._localBoundsSelf.y=-e*this.anchorTexture.y,this._localBoundsSelf.width=t,this._localBoundsSelf.height=e},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldMatrix,r=e.a,n=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,l=this._vertexData,h=t.trim,u=t.orig,c=this._anchorTexture,f=0,p=0,d=0,m=0;h?(f=(p=h.x-c._x*u.width)+h.width,d=(m=h.y-c._y*u.height)+h.height):(f=(p=-c._x*u.width)+u.width,d=(m=-c._y*u.height)+u.height),l[0]=r*p+i*m+a,l[1]=o*m+n*p+s,l[2]=r*f+i*m+a,l[3]=o*m+n*f+s,l[4]=r*f+i*d+a,l[5]=o*d+n*f+s,l[6]=r*p+i*d+a,l[7]=o*d+n*p+s}},e.prototype.calculateTrimmedVertices=function(){if(this._vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this._vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this._vertexTrimmedData,r=t.orig,n=this._anchorTexture,i=this.transform.worldMatrix,o=i.a,a=i.b,s=i.c,l=i.d,h=i.tx,u=i.ty,c=-n._x*r.width,f=c+r.width,p=-n._y*r.height,d=p+r.height;e[0]=o*c+s*p+h,e[1]=l*p+a*c+u,e[2]=o*f+s*p+h,e[3]=l*p+a*f+u,e[4]=o*f+s*d+h,e[5]=l*d+a*f+u,e[6]=o*c+s*d+h,e[7]=l*d+a*c+u},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.batchManager.setObjectRenderer(t.plugins.batch),t.plugins.batch.render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),U.createFromVertexData(this._bounds,this._vertexData)):(this.calculateTrimmedVertices(),U.createFromVertexData(this._bounds,this._vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(e||(e=$.temBounds),e.copy(this._localBoundsSelf),e):t.prototype.getLocalBounds.call(this,e)},e.prototype.hitTestPoint=function(e,r){return void 0===r&&(r=!1),this.visible?(n=t.prototype.hitTestPoint.call(this,e,r))?n:(n=this.displayObjectHitTestPoint(e,r))||null:null;var n},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._texture.removeEventListener("update",this._onTextureUpdate,this),this._anchorTexture=null,this._texture=null,this._indices=null,this._uvs=null,this._vertexData=null,this._vertexTrimmedData=null,this.tintedTexture&&(this.tintedTexture=null)},Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=Bt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=Bt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorTexture",{get:function(){return this._anchorTexture},set:function(t){this._anchorTexture.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture===Xt.EMPTY?null:this._texture},set:function(t){this._texture!==t&&(this._texture==Xt.EMPTY||null==this._texture||this._texture.baseTexture.hasLoaded||this._texture.removeEventListener("update",this._onTextureUpdate,this),this._texture=t||Xt.EMPTY,this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,t?t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this):this.updateLocalBoundsSelf())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16))},enumerable:!0,configurable:!0}),e.fromUrl=function(t){return new e(Xt.fromUrl(t))},e.fromFrame=function(t){var r=zt[t];return r||console.warn("TextureCache中不存在纹理frameId"),new e(r)},e}(Q),$t=function(t){function e(e){var r=t.call(this,e)||this;return r.clientX=0,r.clientY=0,r.stageX=0,r.stageY=0,r.localX=0,r.localY=0,r.currentTarget=null,r.identifier=0,r._instanceType="MouseEvent",r}return R(e,t),e.prototype.updateAfterEvent=function(){this.target.stage._cp=!0},e.prototype.destroy=function(){this.currentTarget=null,t.prototype.destroy.call(this)},e.MOUSE_DOWN="onMouseDown",e.MOUSE_UP="onMouseUp",e.CLICK="onMouseClick",e.MOUSE_MOVE="onMouseMove",e.MOUSE_OVER="onMouseOver",e.MOUSE_OUT="onMouseOut",e}(L),Qt=function(){this.textures=[],this.blend=0,this.textureCount=0,this.start=0,this.size=0,this.type=M.TRIANGLES},te=function(){function t(t){this.renderer=t,this.renderer.addEventListener("onContextChange",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.flush=function(){},t.prototype.render=function(t){},t.prototype.destroy=function(){this.renderer.removeEventListener("onContextChange",this.onContextChange,this),this.renderer=null},t}();var ee=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function re(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var n=it();n.width=1,n.height=1,e=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}(n)}for(var i=e.createShader(e.FRAGMENT_SHADER);;){var o=ee.replace(/%forloop%/gi,ne(t));if(e.shaderSource(i,o),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t}function ne(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}var ie=function(){function t(t){this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}(),oe=function(){function t(t,e,r,n,i){this.uploadData=function(t,e,r){this.bind();var n=this.gl;if(t instanceof Float32Array){if(!ae){if(!n.getExtension("OES_texture_float"))throw new Error("floating point textures not available");ae=!0}this.type=n.FLOAT}else this.type=this.type||n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE}return t.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n},t.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},t.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},t.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},t.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},t.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},t.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},t.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},t.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},t.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},t.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},t.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},t.fromSource=function(e,r,n){var i=new t(e);return i.premultiplyAlpha=n||!1,i.upload(r),i},t.fromData=function(e,r,n,i){var o=new t(e);return o.uploadData(r,n,i),o},t}(),ae=!1,se=new ArrayBuffer(0),le=function(){function t(t,e,r,n){this.destroy=function(){this.gl.deleteBuffer(this.buffer)},this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=n||t.STATIC_DRAW,this.data=se,r&&this.upload(r),this._updateID=0}return t.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},t.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},t.createVertexBuffer=function(e,r,n){return new t(e,e.ARRAY_BUFFER,r,n)},t.createIndexBuffer=function(e,r,n){return new t(e,e.ELEMENT_ARRAY_BUFFER,r,n)},t.create=function(e,r,n,i){return new t(e,r,n,i)},t}();var he=function(){function t(e,r){if(this.nativeVaoExtension=null,t.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=r,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(n),attribState:new Array(n)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}return t.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},t.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},t.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var n=this.attributes[r];e!==n.buffer&&(n.buffer.bind(),e=n.buffer),n.attribute.pointer(n.type||t.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var a=e[n];t.enableVertexAttribArray(a.attribute.location)}}(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},t.prototype.addAttribute=function(t,e,r,n,i,o,a){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0,name:a}),this.dirty=!0,this},t.prototype.removeAttribute=function(t,e){void 0===e&&(e=!0);for(var r=this.attributes.length-1;r>=0;r--){if(this.attributes[r].name===t&&(this.attributes.splice(r,1),this.dirty=!0,e))break}return this},t.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},t.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},t.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r||0,e||this.getSize()),this},t.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},t.prototype.getSize=function(){var t=this.attributes[0];return(t.buffer.data.length||t.buffer.data.byteLength/4)/(t.stride/4||t.attribute.size)},t.FORCE_NATIVE=!1,t}(),ue=function(){function t(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100}return t.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new oe(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},t.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},t.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},t.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},t.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},t.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},t.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},t.createRGBA=function(e,r,n,i){var o=oe.fromData(e,i||null,r,n);o.enableNearestScaling(),o.enableWrapClamp();var a=new t(e,r,n);return a.enableTexture(o),a.enableStencil(),a.unbind(),a},t.createFloat32=function(e,r,n,i){var o=oe.fromData(e,i,r,n);o.enableNearestScaling(),o.enableWrapClamp();var a=new t(e,r,n);return a.enableTexture(o),a.unbind(),a},t}();var ce=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(t.getShaderInfoLog(n),null)};function fe(t,e){if(!pe){var r=Object.keys(de);pe={};for(var n=0;n<r.length;++n){var i=r[n];pe[t[i]]=de[i]}}return pe[e]}var pe=null,de={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};function me(t){return ve[t]}var ve={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ye(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return ge(2*e);case"bvec3":return ge(3*e);case"bvec4":return ge(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}var ge=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};function _e(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}function be(t,e){var r={data:{}};r.gl=t;for(var n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],a=o.split("."),s=a[a.length-1],l=Ee(a,r),h=e[o];l.data[s]=h,l.gl=t,Object.defineProperty(l,s,{get:xe(s),set:Se(s,h)})}return r}var xe=function(t){return function(){return this.data[t].value}},we={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},Te={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)}};function Se(t,e){return function(r){this.data[t].value=r;var n=this.data[t].location;1===e.size?we[e.type](this.gl,n,r):Te[e.type](this.gl,n,r)}}function Ee(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r}var Me=function(){function t(t,e,r,n,i){this.gl=t,n&&(e=_e(e,n),r=_e(r,n)),this.program=function(t,e,r,n){var i=ce(t,t.VERTEX_SHADER,e),o=ce(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,i),t.attachShader(a,o),n)for(var s in n)t.bindAttribLocation(a,n[s],s);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(i),t.deleteShader(o),a}(t,e,r,i),this.attributes=function(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=t.getActiveAttrib(e,i),a=fe(t,o.type);r[o.name]={type:a,size:me(a),location:t.getAttribLocation(e,o.name),pointer:function(e,r,n,i){void 0===e&&(e=t.FLOAT),void 0===r&&(r=!1),void 0===n&&(n=0),void 0===i&&(i=0),t.vertexAttribPointer(this.location,this.size,e,r,n,i)}}}return r}(t,this.program),this.uniformData=function(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\[.*?\]/,""),s=fe(t,o.type);r[a]={type:s,size:o.size,location:t.getUniformLocation(e,a),value:ye(s,o.size)}}return r}(t,this.program),this.uniforms=be(t,this.uniformData)}return t.prototype.bind=function(){return this.gl.useProgram(this.program),this},t.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t}(),Ce=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n");var Ae=0,Pe=function(t){function e(e){var r=t.call(this,e)||this;r.vertSize=6,r.vertByteSize=4*r.vertSize,r.size=8e3,r.currentSize=0,r.currentIndexSize=0,r.aBuffers={},r.iBuffers={},r.shader=null,r.currentIndex=0,r.groups=[];for(var n=0;n<r.size/4;n++)r.groups[n]=new Qt;return r.elements=[],r.vertexBuffers=[],r.indexBuffers=[],r.vaos=[],r.vaoMax=2,r.vertexCount=0,r.renderer.addEventListener("onPreRender",r.onPreRender,r),r}return R(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),16),this.MAX_TEXTURES=re(this.MAX_TEXTURES,t),this.shader=function(t,e){var r=Ce;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var n=new Me(t,"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;attribute vec4 aColor;attribute float aTextureId;uniform mat3 projectionMatrix;varying vec2 vTextureCoord;varying vec4 vColor;varying float vTextureId;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;vTextureId = aTextureId;vColor = aColor;}",r),i=[],o=0;o<e;o++)i[o]=o;return n.bind(),n.uniforms.uSamplers=i,n}(t,this.MAX_TEXTURES),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=le.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.indexBuffers[r]=le.createIndexBuffer(t,null,t.STREAM_DRAW),o=this.renderer.createVao().addIndex(i).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.FLOAT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,16).addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,20);this.vaos[r]=o}},e.prototype.onPreRender=function(){this.vertexCount=0},e.prototype.render=function(t){t._texture&&t._texture.valid&&(this.currentSize+t._vertexData.length/2>this.size&&this.flush(),this.elements[this.currentIndex++]=t,this.currentSize+=t._vertexData.length/2,this.currentIndexSize+=t._indices.length)},e.prototype.getIndexBuffer=function(t){var e=lt(Math.ceil(t/12)),r=st(e),n=12*e,i=this.iBuffers[r];return i||(this.iBuffers[r]=i=new Uint16Array(n)),i},e.prototype.getAttributeBuffer=function(t){var e=lt(Math.ceil(t/8)),r=(st(e),8*e),n=this.aBuffers[r];return n||(this.aBuffers[r]=n=new ie(r*this.vertByteSize)),n},e.prototype.flush=function(){if(0!==this.currentSize){var t,e,r,n=this.renderer.gl,i=this.MAX_TEXTURES,o=this.getAttributeBuffer(this.currentSize),a=this.getIndexBuffer(this.currentIndexSize),s=this.elements,l=this.groups,h=o.float32View,u=o.uint32View,c=this.renderer.textureGC.count,f=0,p=0,d=1,m=0,v=l[0],y=Ct[s[0]._texture.baseTexture.premultipliedAlpha?1:0][s[0]._blendMode];for(v.textureCount=0,v.start=0,Ae++,r=0;r<this.currentIndex;++r){var g=s[r];s[r]=null,t=g._texture.baseTexture;var _=Ct[t.premultipliedAlpha?1:0][g._blendMode];y!==_&&(y=_,e=null,m=i,Ae++),e!==t&&(e=t,t._enabledId!==Ae&&(m===i&&(Ae++,m=0,v.size=p-v.start,(v=l[d++]).textureCount=0,v.blend=y,v.start=p),t._touchedId=c,t._enabledId=Ae,t._id=m,v.textures[v.textureCount++]=t,m++)),this.packGeometry(g,h,u,a,f,p),f+=g._vertexData.length/2*this.vertSize,p+=g._indices.length}v.size=p-v.start,this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!0),this.indexBuffers[this.vertexCount].upload(a,0,!0);var b=this.renderer.textureManager;for(r=0;r<d;r++){for(var x=l[r],w=x.textureCount,T=0;T<w;T++)x.textures[T]!=b.boundTextures[T]&&b.bindTexture(x.textures[T],T,!0),x.textures[T]=null;this.renderer.setBlendMode(x.blend),n.drawElements(x.type,x.size,n.UNSIGNED_SHORT,2*x.start)}this.currentIndex=0,this.currentSize=0,this.currentIndexSize=0}},e.prototype.packGeometry=function(t,e,r,n,i,o){for(var a=i/this.vertSize,s=t._uvs,l=t._indices,h=t._vertexData,u=t._texture.baseTexture._id,c=null==t._tintRGB?16777215:t._tintRGB,f=Math.min(t._worldAlpha,1),p=f<1&&t._texture.baseTexture.premultipliedAlpha?function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i=i*e+.5|0)}(c,f):c+(255*f<<24),d=0;d<h.length;d+=2)e[i++]=h[d],e[i++]=h[d+1],e[i++]=s[d],e[i++]=s[d+1],r[i++]=p,e[i++]=u;for(d=0;d<l.length;d++)n[o++]=a+l[d]},e.prototype.start=function(){this.renderer.bindShader(this.shader),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind(),this.indexBuffers[this.vertexCount].bind()},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vaos[e]&&this.vaos[e].destroy();this.renderer.removeEventListener("onPreRender",this.onPreRender,this),this.shader&&(this.shader.destroy(),this.shader=null),this.vaos=null,t.prototype.destroy.call(this)},e}(te),ke=function(){function t(t,e,r,n,i){void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=C.LINEAR),void 0===i&&(i=!1),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new U(0,0,1,1),this.projectionMatrix=new j,this.transform=null,this.frame=null,this.defaultFrame=new U,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=n,this.root=i,this.root?(this.frameBuffer=new ue(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=ue.createRGBA(t,100,100),this.scaleMode===C.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(e,r)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width,0|this.destinationFrame.height)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width,0|this.destinationFrame.height)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t,e);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}(),Oe=function(){function t(t){this._nextTextureLocation=0,this.renderer=t,this.gl=t.gl,this._managedTextures=[],this.renderer.addEventListener("onContextChange",this.onContextChange,this)}return t.prototype.onContextChange=function(){var t=this.gl,e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=new Array(e),this.emptyTextures=new Array(e);var r=oe.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.renderer.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new Gt;o._glTextures[this.renderer.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}},t.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t)._touchedId=this.renderer.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.renderer.CONTEXT_UID];return o?(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.boundTextures[e]!==t&&i.bindTexture(i.TEXTURE_2D,o.texture),this.boundTextures[e]=t):this.updateTexture(t,e),e},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){t="Event"===t.instanceType?t.target.baseTexture||t.target:t.baseTexture||t;var r=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var i=this.boundTextures;if(void 0===e){e=0;for(var o=0;o<i.length;++o)if(i[o]===t){e=o;break}}i[e]=t,this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e));var a=t._glTextures[this.renderer.CONTEXT_UID];if(a)n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):t.source.data?a.uploadData(t.source.data,t.width,t.height):a.upload(t.source);else{if(n){var s=new ke(this.gl,t.width,t.height,t.scaleMode,!1);s.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=s,a=s.texture}else(a=new oe(this.gl,null,null,null,null)).premultiplyAlpha=!0,t.source.data?a.uploadData(t.source.data,t.width,t.height):a.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=a,t.addEventListener("update",this.updateTexture,this),t.addEventListener("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&a.enableMipmap(),t.wrapMode===A.CLAMP?a.enableWrapClamp():t.wrapMode===A.REPEAT?a.enableWrapRepeat():a.enableWrapMirrorRepeat()):a.enableWrapClamp(),t.scaleMode===C.NEAREST?a.enableNearestScaling():a.enableLinearScaling()}return a},t.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.renderer.CONTEXT_UID].texture))},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var r=this.renderer.CONTEXT_UID,n=t._glTextures,i=t._glRenderTargets;if(n[r]&&(this.unbindTexture(t),n[r].destroy(),t.removeEventListener("update",this.updateTexture,this),t.removeEventListener("dispose",this.destroyTexture,this),delete n[r],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&function(t,e,r){var n,i=t.length;if(!(e>=i||0===r)){var o=i-(r=e+r>i?i-e:r);for(n=e;n<o;++n)t[n]=t[n+r];t.length=o}}(this._managedTextures,o,1)}i&&i[r]&&(i[r].destroy(),delete i[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0)}this.renderer.removeEventListener("onContextChange",this.onContextChange,this),this.renderer=null,this._managedTextures=null},t}(),De=function(){function t(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=3600,this.checkCountMax=600,this.mode=P.AUTO}return t.prototype.update=function(){this.count++,this.mode!==P.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i._touchedId>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){var o=0;for(n=0;n<e.length;n++)null!==e[n]&&(e[o++]=e[n]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}(),Ie=function(){function t(t){this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=function(t,e){return void 0===e&&(e=[]),e[E.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.ADD]=[t.ONE,t.DST_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.NONE]=[0,0],e[E.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[E.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e[E.SRC_OVER]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[E.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[E.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[E.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[E.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[E.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[E.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[E.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[E.ERASE]=[t.ZERO,t.ONE,t.SRC_ALPHA,0],e[E.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(t=0;t<this.attribState.attribState.length;t++)this.attribState.attribState[t]=0;for(t=1;t<this.maxAttribs;t++)this.gl.disableVertexAttribArray(t)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t.prototype.resetTo3D=function(){this.setDepthTest(1),this.setFrontFace(0),this.setCullFace(1)},t}(),Re=function(){function t(t){this.renderer=t,this.emptyRenderer=new te(t),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t}();function Fe(t){for(var e,r=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),n={},i=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<i.length;o++){var a=i[o].trim();if(a.indexOf("uniform")>-1){var s=a.split(" "),l=s[1],h=s[2],u=1;h.indexOf("[")>-1&&(e=h.split(/\[|]/),h=e[0],u*=Number(e[1])),h.match(r)||(n[h]={value:ye(l,u),name:h,type:l})}}return n}var Le={},Ne=function(){function t(e,r,n){for(var i in this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=E.NORMAL,this.uniformData=n||function(t,e){var r=Fe(t),n=Fe(e);return Object.assign(r,n)}(this.vertexSrc,this.fragmentSrc),this.uniforms={},this.uniformData)this.uniforms[i]=this.uniformData[i].value,this.uniformData[i].type&&(this.uniformData[i].type=this.uniformData[i].type.toLowerCase());this.glShaders={},Le[this.vertexSrc+this.fragmentSrc]||(Le[this.vertexSrc+this.fragmentSrc]=Pt()),this.glShaderKey=Le[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=1,this.enabled=!0,this.autoFit=!0}return Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this._blendMode=t},enumerable:!0,configurable:!0}),t.prototype.apply=function(t,e,r,n){t.applyFilter(this,e,r,n)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")},enumerable:!0,configurable:!0}),t}(),Be=["precision highp float;","varying vec2 v_rgbNW;","varying vec2 v_rgbNE;","varying vec2 v_rgbSW;","varying vec2 v_rgbSE;","varying vec2 v_rgbM;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform vec4 filterArea;","#ifndef FXAA_REDUCE_MIN","#define FXAA_REDUCE_MIN   (1.0/ 128.0)","#endif","#ifndef FXAA_REDUCE_MUL","#define FXAA_REDUCE_MUL   (1.0 / 8.0)","#endif","#ifndef FXAA_SPAN_MAX","#define FXAA_SPAN_MAX     8.0","#endif","vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,","vec2 v_rgbNW, vec2 v_rgbNE,","vec2 v_rgbSW, vec2 v_rgbSE,","vec2 v_rgbM) {","vec4 color;","mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);","vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;","vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;","vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;","vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;","vec4 texColor = texture2D(tex, v_rgbM);","vec3 rgbM  = texColor.xyz;","vec3 luma = vec3(0.299, 0.587, 0.114);","float lumaNW = dot(rgbNW, luma);","float lumaNE = dot(rgbNE, luma);","float lumaSW = dot(rgbSW, luma);","float lumaSE = dot(rgbSE, luma);","float lumaM  = dot(rgbM,  luma);","float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));","float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));","mediump vec2 dir;","dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));","dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));","float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *","(0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);","float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);","dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),","max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),","dir * rcpDirMin)) * inverseVP;","vec3 rgbA = 0.5 * (","texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +","texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);","vec3 rgbB = rgbA * 0.5 + 0.25 * (","texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +","texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);","float lumaB = dot(rgbB, luma);","if ((lumaB < lumaMin) || (lumaB > lumaMax))","color = vec4(rgbA, texColor.a);","else","color = vec4(rgbB, texColor.a);","return color;","}","void main() {","vec2 fragCoord = vTextureCoord * filterArea.xy;","vec4 color;","color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);","gl_FragColor = color;","}"].join("\n"),ze=(function(t){function e(){return t.call(this,"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;varying vec2 v_rgbNW;varying vec2 v_rgbNE;varying vec2 v_rgbSW;varying vec2 v_rgbSE;varying vec2 v_rgbM;uniform vec4 filterArea;varying vec2 vTextureCoord;vec2 mapCoord( vec2 coord ){coord *= filterArea.xy;coord += filterArea.zw;return coord;}vec2 unmapCoord( vec2 coord ){coord -= filterArea.zw;coord /= filterArea.xy;return coord;}void texcoords(vec2 fragCoord, vec2 resolution,out vec2 v_rgbNW, out vec2 v_rgbNE,out vec2 v_rgbSW, out vec2 v_rgbSE,out vec2 v_rgbM) {vec2 inverseVP = 1.0 / resolution.xy;v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;v_rgbM = vec2(fragCoord * inverseVP);}void main(void) {gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;vec2 fragCoord = vTextureCoord * filterArea.xy;texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);}",Be)||this}R(e,t)}(Ne),"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;varying vec2 vTextureCoord;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;}"),je=(function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var n=t.call(this,ze,"precision mediump float;varying vec2 vTextureCoord;varying vec4 vColor;uniform float uNoise;uniform float uSeed;uniform sampler2D uSampler;float rand(vec2 co){return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);}void main(){vec4 color = texture2D(uSampler, vTextureCoord);float randomValue = rand(gl_FragCoord.xy * uSeed);float diff = (randomValue - 0.5) * uNoise;if (color.a > 0.0) {color.rgb /= color.a;}color.r += diff;color.g += diff;color.b += diff;color.rgb *= color.a;gl_FragColor = color;}")||this;return n.noise=e,n.seed=r,n}R(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!0,configurable:!0})}(Ne),function(t){function e(e,r){var n=this,i=new j;return e.renderable=!1,(n=t.call(this,"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;uniform mat3 filterMatrix;varying vec2 vTextureCoord;varying vec2 vFilterCoord;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;vTextureCoord = aTextureCoord;}","precision mediump float;varying vec2 vFilterCoord;varying vec2 vTextureCoord;uniform vec2 scale;uniform sampler2D uSampler;uniform sampler2D mapSampler;uniform vec4 filterArea;uniform vec4 filterClamp;void main(void){vec4 map = texture2D(mapSampler, vFilterCoord);map -= 0.5;map.xy *= scale / filterArea.xy;gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));}")||this).maskSprite=e,n.maskMatrix=i,n.uniforms.mapSampler=e._texture,n.uniforms.filterMatrix=i,n.uniforms.scale={x:1,y:1},null==r&&(r=20),n.scale=new z(r,r),n}R(e,t),e.prototype.apply=function(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,r)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!0,configurable:!0})}(Ne),["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n"));function Ve(t,e){var r,n=Math.ceil(t/2),i=je,o="";r=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var s=r.replace("%index%",a);o+=s=s.replace("%sampleIndex%",a-(n-1)+".0"),o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t)}var Ue={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},We=["precision mediump float;","varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function He(t){for(var e,r=Ue[t],n=r.length,i=We,o="",a=0;a<t;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a+"");e=a,a>=n&&(e=t-a-1),o+=s=s.replace("%value%",r[e]),o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t)}function Ge(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;r>e;)r-=2;return r}var Ye=function(t){function e(e,r,n,i){var o=this,a=Ve(i=i||5,!0),s=He(i);return(o=t.call(this,a,s)||this).resolution=n||1,o._quality=0,o.quality=r||4,o.strength=e||8,o.firstRun=!0,o}return R(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!0,configurable:!0}),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=Ge(t.renderer.gl);this.vertexSrc=Ve(i,!0),this.fragmentSrc=He(i),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var o=t.getRenderTarget(!0),a=e,s=o,l=0;l<this.passes-1;l++){t.applyFilter(this,a,s,!0);var h=s;s=a,a=h}t.applyFilter(this,a,r,n),t.returnRenderTarget(o)}},e}(Ne),Xe=function(t){function e(e,r,n,i){var o=this,a=Ve(i=i||5,!1),s=He(i);return(o=t.call(this,a,s)||this).resolution=n||1,o._quality=0,o.quality=r||4,o.strength=e||8,o.firstRun=!0,o}return R(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!0,configurable:!0}),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=Ge(t.renderer.gl);this.vertexSrc=Ve(i,!1),this.fragmentSrc=He(i),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var o=t.getRenderTarget(!0),a=e,s=o,l=0;l<this.passes-1;l++){t.applyFilter(this,a,s,!0);var h=s;s=a,a=h}t.applyFilter(this,a,r,n),t.returnRenderTarget(o)}},e}(Ne),qe=(function(t){function e(e,r,n,i){var o=t.call(this)||this;return o.blurXFilter=new Ye(e,r,n,i),o.blurYFilter=new Xe(e,r,n,i),o.padding=0,o.resolution=n||1,o.quality=r||4,o.blur=e||8,o}R(e,t),e.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!0,configurable:!0})}(Ne),function(t){function e(e){var r=t.call(this,ze,"precision mediump float;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform float m[20];uniform float uAlpha;void main(void){vec4 c = texture2D(uSampler, vTextureCoord);if (uAlpha == 0.0) {gl_FragColor = c;return;}if (c.a > 0.0) {c.rgb /= c.a;}vec4 result;result.r = (m[0] * c.r);result.r += (m[1] * c.g);result.r += (m[2] * c.b);result.r += (m[3] * c.a);result.r += m[4];result.g = (m[5] * c.r);result.g += (m[6] * c.g);result.g += (m[7] * c.b);result.g += (m[8] * c.a);result.g += m[9];result.b = (m[10] * c.r);result.b += (m[11] * c.g);result.b += (m[12] * c.b);result.b += (m[13] * c.a);result.b += m[14];result.a = (m[15] * c.r);result.a += (m[16] * c.g);result.a += (m[17] * c.b);result.a += (m[18] * c.a);result.a += m[19];vec3 rgb = mix(c.rgb, result.rgb, uAlpha);rgb *= result.a;gl_FragColor = vec4(rgb, result.a);}")||this;return r.uniforms.m=e||[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return R(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),a=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,n,i){var o=((r=r||16770432)>>16&255)/255,a=(r>>8&255)/255,s=(255&r)/255,l=((n=n||3375104)>>16&255)/255,h=(n>>8&255)/255,u=(255&n)/255,c=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,l,h,u,e=e||.15,0,o-l,a-h,s-u,0,0];this._loadMatrix(c,i)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!0,configurable:!0}),e}(Ne));qe.prototype.grayscale=qe.prototype.greyscale;!function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,ze,"precision mediump float;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform float uAlpha;void main(void){gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;}")||this;return r.alpha=e,r.glShaderKey="alpha",r}R(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!0,configurable:!0})}(Ne);var Ke=new j,Ze=function(){function t(t,e){void 0===e&&(e=.5),this._texture=t,this.mapCoord=new j,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=e}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1},enumerable:!0,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(Ke.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(Ke));var o=e.baseTexture,a=this.uClampFrame,s=this.clampMargin,l=this.clampOffset;return a[0]=(e._frame.x+s+l)/o.width,a[1]=(e._frame.y+s+l)/o.height,a[2]=(e._frame.x+e._frame.width-s+l)/o.width,a[3]=(e._frame.y+e._frame.height-s+l)/o.height,this.uClampOffset[0]=l/o.width,this.uClampOffset[1]=l/o.height,!0},t}(),Je=function(t){function e(e){var r=this,n=new j;return r=t.call(this,"attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;uniform mat3 otherMatrix;varying vec2 vMaskCoord;varying vec2 vTextureCoord;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;}","precision mediump float;varying vec2 vMaskCoord;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform sampler2D mask;uniform float alpha;uniform vec4 maskClamp;void main(void){float clip = step(3.5,step(maskClamp.x, vMaskCoord.x) +step(maskClamp.y, vMaskCoord.y) +step(vMaskCoord.x, maskClamp.z) +step(vMaskCoord.y, maskClamp.w));vec4 original = texture2D(uSampler, vTextureCoord);vec4 masky = texture2D(mask, vMaskCoord);original *= (masky.a * alpha * clip);gl_FragColor = original;}")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=n,r}return R(e,t),e.prototype.apply=function(t,e,r){var n=this.maskSprite,i=this.maskSprite.texture;i&&i.valid&&(i.transform||(i.transform=new Ze(i,0)),i.transform.update(),this.uniforms.mask=i,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(i.transform.mapCoord),this.uniforms.alpha=n._worldAlpha,this.uniforms.maskClamp=i.transform.uClampFrame,t.applyFilter(this,e,r))},e}(Ne),$e=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","const float resolution=1024.0;","uniform float radius;","uniform vec2 dir;","void main() {","vec4 sum = vec4(0.0);","vec2 tc = vTextureCoord;","float blur = radius/resolution;","float hstep = dir.x;","float vstep = dir.y;","sum += texture2D(uSampler, vec2(tc.x - 4.0*blur*hstep, tc.y - 4.0*blur*vstep)) * 0.0162162162;","sum += texture2D(uSampler, vec2(tc.x - 3.0*blur*hstep, tc.y - 3.0*blur*vstep)) * 0.0540540541;","sum += texture2D(uSampler, vec2(tc.x - 2.0*blur*hstep, tc.y - 2.0*blur*vstep)) * 0.1216216216;","sum += texture2D(uSampler, vec2(tc.x - 1.0*blur*hstep, tc.y - 1.0*blur*vstep)) * 0.1945945946;","sum += texture2D(uSampler, vec2(tc.x, tc.y)) * 0.2270270270;","sum += texture2D(uSampler, vec2(tc.x + 1.0*blur*hstep, tc.y + 1.0*blur*vstep)) * 0.1945945946;","sum += texture2D(uSampler, vec2(tc.x + 2.0*blur*hstep, tc.y + 2.0*blur*vstep)) * 0.1216216216;","sum += texture2D(uSampler, vec2(tc.x + 3.0*blur*hstep, tc.y + 3.0*blur*vstep)) * 0.0540540541;","sum += texture2D(uSampler, vec2(tc.x + 4.0*blur*hstep, tc.y + 4.0*blur*vstep)) * 0.0162162162;","vec4 cc= texture2D(uSampler,vTextureCoord );","gl_FragColor =vec4(sum.rgb, cc.a);","}"].join("\n"),Qe=(function(t){function e(e){void 0===e&&(e=.5);var r=t.call(this,ze,$e)||this;return r.blur=e,r.uniforms.dir=[1,1],r}R(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur!==t&&(t>1&&(t=1),t<0&&(t=0),this._blur=t,this.uniforms.radius=10*t)},enumerable:!0,configurable:!0})}(Ne),["precision mediump float;","uniform sampler2D uSampler;","varying vec2 vTextureCoord;","uniform float threshold;","void main() {","vec4 color = texture2D(uSampler, vTextureCoord);","float _max = max(max(color.r, color.g), color.b);","float _min = min(min(color.r, color.g), color.b);","float brightness = (_max + _min) * 0.5;","if(brightness > threshold) {","gl_FragColor = color;","} else {","gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);","}","}"].join("\n")),tr=function(t){function e(e){void 0===e&&(e=.5);var r=t.call(this,ze,Qe)||this;return r.threshold=e,r}return R(e,t),Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(t){this.uniforms.threshold=t},enumerable:!0,configurable:!0}),e}(Ne),er=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform vec2 uOffset;","uniform vec4 filterClamp;","void main(void)","{","vec4 color = vec4(0.0);","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));","color *= 0.25;","gl_FragColor = color;","}"].join("\n"),rr=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform vec2 uOffset;","void main(void)","{","vec4 color = vec4(0.0);","color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));","color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));","color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));","color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));","color *= 0.25;","gl_FragColor = color;","}"].join("\n"),nr=function(t){function e(e,r,n){void 0===e&&(e=4),void 0===r&&(r=3),void 0===n&&(n=!1);var i=t.call(this,ze,n?er:rr)||this;return i.uniforms.uOffset=new Float32Array(2),i._pixelSize=new z,i.pixelSize=1,i._clamp=n,i._kernels=null,Array.isArray(e)?i.kernels=e:(i._blur=e,i.quality=r),i}return R(e,t),e.prototype.apply=function(t,e,r,n){var i,o=this.pixelSize.x/e.size.width,a=this.pixelSize.y/e.size.height;if(1===this._quality||0===this._blur)i=this._kernels[0]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,t.applyFilter(this,e,r,n);else{for(var s=t.getRenderTarget(),l=e,h=s,u=void 0,c=this._quality-1,f=0;f<c;f++)i=this._kernels[f]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,t.applyFilter(this,l,h,!0),u=l,l=h,h=u;i=this._kernels[c]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,t.applyFilter(this,l,r,n),t.returnRenderTarget(s)}},e.prototype._generateKernels=function(){var t=this._blur,e=this._quality,r=[t];if(t>0)for(var n=t,i=t/e,o=1;o<e;o++)n-=i,r.push(n);this._kernels=r},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(t){Array.isArray(t)&&t.length>0?(this._kernels=t,this._quality=t.length,this._blur=Math.max.apply(Math,t)):(this._kernels=[0],this._quality=1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(t){"number"==typeof t?(this._pixelSize.x=t,this._pixelSize.y=t):Array.isArray(t)?(this._pixelSize.x=t[0],this._pixelSize.y=t[1]):t instanceof z?(this._pixelSize.x=t.x,this._pixelSize.y=t.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=Math.max(1,Math.round(t)),this._generateKernels()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur=t,this._generateKernels()},enumerable:!0,configurable:!0}),e}(Ne),ir=["precision mediump float;","uniform sampler2D uSampler;","varying vec2 vTextureCoord;","uniform sampler2D bloomTexture;","uniform float bloomScale;","uniform float brightness;","void main() {","vec4 color = texture2D(uSampler, vTextureCoord);","color.rgb *= brightness;","vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);","bloomColor.rgb *= bloomScale;","gl_FragColor = color + bloomColor;","}"].join("\n"),or=(function(t){function e(e){var r=t.call(this,ze,ir)||this;"number"==typeof e&&(e={threshold:e}),e=Object.assign({threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:1},e),r.bloomScale=e.bloomScale,r.brightness=e.brightness;var n=e.kernels,i=e.blur,o=e.quality,a=e.pixelSize,s=e.resolution;return r._extractFilter=new tr(e.threshold),r._extractFilter.resolution=s,r._blurFilter=n?new nr(n):new nr(i,o),r.pixelSize=a,r.resolution=s,r}R(e,t),e.prototype.apply=function(t,e,r,n){var i=t.getRenderTarget();this._extractFilter.apply(t,e,i,!0);var o=t.getRenderTarget();this._blurFilter.apply(t,i,o,!0),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=o,t.applyFilter(this,e,r,n),t.returnRenderTarget(o),t.returnRenderTarget(i)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t,this._extractFilter&&(this._extractFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(t){this._extractFilter.threshold=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(t){this._blurFilter.kernels=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(t){this._blurFilter.blur=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(t){this._blurFilter.quality=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(t){this._blurFilter.pixelSize=t},enumerable:!0,configurable:!0})}(Ne),function(){function t(t){this.renderer=t,this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!0,this.alphaMaskPool=[],this.alphaMaskIndex=0}return t.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(e)},t.prototype.popMask=function(t,e){e.texture?this.popSpriteMask():this.popStencilMask()},t.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new Je(e)]),r[0].resolution=1,r[0].maskSprite=e;var n=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),t.filterArea=n,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(t){this.renderer.batchManager.flush(),this.renderer.stencilManager.pushStencil(t)},t.prototype.popStencilMask=function(){this.renderer.stencilManager.popStencil()},t.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(n.x,r.root?r.size.height-n.y-n.height:n.y,n.width,n.height),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},t.prototype.destroy=function(){this.renderer=null},t}()),ar=function(){function t(t){this.renderer=t,this.stencilMaskStack=null}return t.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},t.prototype.pushStencil=function(t){this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),t.renderable=!0;var n=t._worldAlpha;t._worldAlpha=1,t.renderWebGL(this.renderer),this.renderer.batchManager.flush(),t.renderable=!1,t._worldAlpha=n,this._useCurrent()},t.prototype.popStencil=function(){var t=this.renderer.gl,e=this.stencilMaskStack.pop();if(0===this.stencilMaskStack.length)t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0);else{t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0;var r=e._worldAlpha;e._worldAlpha=1,e.renderWebGL(this.renderer),this.renderer.batchManager.flush(),e.renderable=!1,e._worldAlpha=r,this._useCurrent()}},t.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},t.prototype.destroy=function(){this.renderer=null,this.stencilMaskStack=null},t}();var sr=function(){function t(t,e){this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var r=0;r<4;r++)this.interleaved[4*r]=this.vertices[2*r],this.interleaved[4*r+1]=this.vertices[2*r+1],this.interleaved[4*r+2]=this.uvs[2*r],this.interleaved[4*r+3]=this.uvs[2*r+1];this.indices=function(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}(1),this.vertexBuffer=le.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=le.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new he(t,e)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer),this.gl=null,this.vertices=null,this.uvs=null,this.interleaved=null,this.indices=null,this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.vao.destroy()},t}();var lr=function(){function t(){this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new U,this.destinationFrame=new U,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),hr=function(){function t(t){this.renderer=t,this.gl=this.renderer.gl,this.quad=new sr(this.gl,t.state.attribState),this.shaderCache={},this.pool={},this.filterData=null,this.managedFilters=[],this.renderer.addEventListener("onPreRender",this.onPreRender,this),this._screenWidth=t.width,this._screenHeight=t.height}return t.prototype.pushFilter=function(t,e){var r=this.renderer,n=this.filterData;if(!n){var i=new lr;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index],a=n.stack[0].destinationFrame;o||(o=n.stack[n.index]=new lr);var s=e[0].resolution,l=0|e[0].padding,h=t.filterArea||t.getBounds(!0),u=o.sourceFrame,c=o.destinationFrame;u.x=(h.x*s|0)/s,u.y=(h.y*s|0)/s,u.width=(h.width*s|0)/s,u.height=(h.height*s|0)/s,n.stack[0].renderTarget.transform||e[0].autoFit&&u.fit(a),u.pad(l),c.width=u.width,c.height=u.height;var f=this.getPotRenderTarget(r.gl,u.width,u.height,s);o.target=t,o.filters=e,o.resolution=s,o.renderTarget=f,f.setFrame(c,u),r.bindRenderTarget(f),f.clear()},t.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var a=0;for(a=0;a<n.length-1;++a){n[a].apply(this,i,o,!0,r);var s=i;i=o,o=s}n[a].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}r.clear(),t.index--,0===t.index&&(this.filterData=null)},t.prototype.applyFilter=function(t,e,r,n){var i=this.renderer,o=i.gl,a=t.glShaders[i.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey])||(a=new Me(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a,this.managedFilters.push(t)):(a=t.glShaders[i.CONTEXT_UID]=new Me(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(a)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(a);var s=this.renderer.textureManager.emptyTextures[0];this.renderer.textureManager.boundTextures[0]=s,this.syncUniforms(a,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture),this.renderer.textureManager.currentLocation=-1},t.prototype.syncUniforms=function(t,e){var r,n=e.uniformData,i=e.uniforms,o=1;if(t.uniforms.filterArea){r=this.filterData.stack[this.filterData.index];var a=t.uniforms.filterArea;a[0]=r.renderTarget.size.width,a[1]=r.renderTarget.size.height,a[2]=r.sourceFrame.x,a[3]=r.sourceFrame.y,t.uniforms.filterArea=a}if(t.uniforms.filterClamp){r=r||this.filterData.stack[this.filterData.index];var s=t.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(r.sourceFrame.width-1)/r.renderTarget.size.width,s[3]=(r.sourceFrame.height-1)/r.renderTarget.size.height,t.uniforms.filterClamp=s}for(var l in n){var h=n[l].type;if("sampler2d"===h&&0!==i[l]){if(i[l].baseTexture)t.uniforms[l]=this.renderer.textureManager.bindTexture(i[l].baseTexture,o);else{t.uniforms[l]=o;var u=this.renderer.gl;this.renderer.textureManager.boundTextures[o]=this.renderer.textureManager.emptyTextures[o],u.activeTexture(u.TEXTURE0+o),i[l].texture.bind()}o++}else if("mat3"===h)void 0!==i[l].a?t.uniforms[l]=i[l].toArray(!0):t.uniforms[l]=i[l];else if("vec2"===h)if(void 0!==i[l].x){var c=t.uniforms[l]||new Float32Array(2);c[0]=i[l].x,c[1]=i[l].y,t.uniforms[l]=c}else t.uniforms[l]=i[l];else"float"===h?t.uniforms.data[l].value!==n[l]&&(t.uniforms[l]=i[l]):t.uniforms[l]=i[l]}},t.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},t.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},t.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return function(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n}(t,e.sourceFrame,e.renderTarget.size)},t.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return function(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n}(t,e.sourceFrame,e.renderTarget.size)},t.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return function(t,e,r,n){var i=n._texture.orig,o=t.set(r.width,0,0,r.height,e.x,e.y),a=j.TEMP_MATRIX.copy(n.worldMatrix);return a.invert(),o.prepend(a),o.scale(1/i.width,1/i.height),o.translate(n.anchorTexture.x,n.anchorTexture.y),o}(t,r.sourceFrame,r.renderTarget.size,e)},t.prototype.destroy=function(t){void 0===t&&(t=!1);var e=this.renderer,r=this.managedFilters;e.removeEventListener("onPreRender",this.onPreRender,this),this.renderer=null;for(var n=0;n<r.length;n++)t||r[n].glShaders[e.CONTEXT_UID].destroy(),delete r[n].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},t.prototype.getPotRenderTarget=function(t,e,r,n){var i="screen";r*=n,(e*=n)===this._screenWidth&&r===this._screenHeight||(i=(65535&(e=lt(e)))<<16|65535&(r=lt(r))),this.pool[i]||(this.pool[i]=[]);var o=this.pool[i].pop();if(!o){var a=this.renderer.textureManager.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new ke(t,e,r,void 0),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture),this.renderer.textureManager.currentLocation=-1}return o.resolution=n,o.defaultFrame.width=o.size.width=e/n,o.defaultFrame.height=o.size.height=r/n,o.filterPoolKey=i,o},t.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},t.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},t.prototype.onPreRender=function(){if(this._screenWidth!==this.renderer.width||this._screenHeight!==this.renderer.height){this._screenWidth=this.renderer.width,this._screenHeight=this.renderer.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},t}(),ur=0,cr=function(t){function e(r,n,i){var o=t.call(this)||this;return o.plugins={},o._instanceType="WebglRenderer",o.type=m.WEBGL,o._backgroundColorRgba[3]=o.transparent?0:1,o.gl=r,o.CONTEXT_UID=ur++,o.maskManager=new or(o),o.stencilManager=new ar(o),o.batchManager=new Re(o),o.textureManager=null,o.initPlugins(e.__plugins),o.state=new Ie(o.gl),o.renderingToScreen=!0,o._activeShader=null,o._activeVao=null,o._activeRenderTarget=null,o._initContext(),o.resize(n,i),o}return R(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext(),this._activeShader=null,this._activeVao=null,this.textureManager=new Oe(this),this.filterManager=new hr(this),this.textureGC=new De(this),this.state.resetToDefault(),this.rootRenderTarget=new ke(t,1,1,C.LINEAR,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget),this.dispatchEvent("onContextChange")},e.prototype.render=function(t,e,r){if(this.dispatchEvent("onPreRender"),this.renderingToScreen=!e,this.gl&&!this.gl.isContextLost()){e||(this._lastObjectRendered=t),t.update();var n=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=n,this.bindRenderTexture(e,r),this.batchManager.currentRenderer.start(),this._activeRenderTarget.clear(),t.renderWebGL(this),this.batchManager.currentRenderer.flush(),this.dispatchEvent("onPostRender")}},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this},e.prototype.bindShader=function(t,e){return void 0===e&&(e=!0),this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.createVao=function(){return new he(this.gl,this.state.attribState)},e.prototype.bindVao=function(t,e){return void 0===e&&(e=!1),this._activeVao===t?(e&&t.bind(),this):(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.batchManager.reset(),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.textureManager.boundTextures.length;t++)this.textureManager.boundTextures[t]=this.textureManager.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.bindRenderTexture=function(t,e){var r;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.textureManager.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.rootRenderTarget.resize(e,r),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.destroy=function(){this.destroyPlugins(),this.textureManager.destroy(),t.prototype.destroy.call(this),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.handleContextLost=null,this.handleContextRestored=null},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext(),this.resize(this.width,this.height)},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},e.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(vt);cr.registerPlugin("batch",Pe);var fr=function(t){function e(r,n,i,o,a,s,l,h,u){void 0===n&&(n=750),void 0===i&&(i=1624),void 0===s&&(s=m.CANVAS),void 0===l&&(l=!1),void 0===h&&(h=!1);var c=t.call(this)||this;c.renderObj=null,c.viewRect=new U,c.desWidth=0,c.desHeight=0,c.divHeight=0,c.divWidth=0,c._bgColor=0,c._lastDpList={},c.canvasOffsetTb={x:0,y:0},c._ml=[],c._mp=[],c._mouseDownPoint={},c._mouseEventTypes={mousedown:"onMouseDown",mousemove:"onMouseMove",mouseup:"onMouseUp",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp",touchStart:"onMouseDown",touchMove:"onMouseMove",touchEnd:"onMouseUp"},c.canvas=r;var f=c;if(c._instanceType="Stage",e._stageList.canvas=f,f.stage=c,f.name="stageInstance_"+f.instanceId,f.desWidth=n,f.desHeight=i,f.divWidth=o,f.divHeight=a,u){f._dpi=u;var p=o*u,d=a*u;"tb"==nt()&&(p+=u,d+=u),r.width=p,r.height=d}else console.warn("尝试设置分辨率，内部会根据分辨率设置画布的实际尺寸"),f._dpi=r.width/o;if(s!=m.WEBGL||function(){if("tb"==nt())return!0;if(void 0!==Vt)return Vt;var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=it(),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,Vt=n}catch(t){return Vt=!1}}()||(s=m.CANVAS,console.warn("不支持webgl")),s==m.CANVAS){var v=r.getContext("2d");f.renderObj=new _t(v,r.width,r.height)}else{var y={alpha:!0,antialias:!1,premultipliedAlpha:!0,stencil:!0};v=r.getContext("webgl",y)||r.getContext("experimental-webgl",y);f.renderObj=new cr(v,r.width,r.height),"web"==nt()&&(r.addEventListener("webglcontextlost",f.renderObj.handleContextLost.bind(f.renderObj),!1),r.addEventListener("webglcontextrestored",f.renderObj.handleContextRestored.bind(f.renderObj),!1))}return f._stageCenter=l,f._scaleMode=h?"fixedHeight":"fixedWidth",f._setAlign(),setTimeout((function(){f.dispatchEvent(L.INIT_STAGE)}),100),c}return R(e,t),e.getStage=function(t){return void 0===t&&(t="cusEngine"),e._stageList[t]},Object.defineProperty(e.prototype,"bgColor",{get:function(){return this._bgColor},set:function(t){this._bgColor!==t&&(this._bgColor=t,this.renderObj.backgroundColor=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stageWidth",{get:function(){return this.viewRect.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stageHeight",{get:function(){return this.viewRect.height},enumerable:!0,configurable:!0}),e.prototype._setAlign=function(){var t=this,e=t.canvas;t._stageCenter&&(t.anchorX=t.desWidth>>1,t.anchorY=t.desHeight>>1,t.x=e.width-t.desWidth>>1,t.y=e.height-t.desHeight>>1);var r="fixedHeight"==t._scaleMode?e.height/t.desHeight:e.width/t.desWidth;t.scaleX=r,t.scaleY=r,t.viewRect=t.viewRect||new U,t.viewRect.x=t.desWidth-e.width/r>>1,t.viewRect.y=t.desHeight-e.height/r>>1,t.viewRect.width=t.desWidth-2*t.viewRect.x,t.viewRect.height=t.desHeight-2*t.viewRect.y,t._stageCenter||(t.viewRect.x=t.viewRect.y=0)},e.prototype.resize=function(t,e){if("web"==nt()&&(t=t||document.body.clientWidth,e=e||document.body.clientHeight),t&&t){var r=this,n=r._dpi,i=r.canvas;t==r.divWidth&&e==r.divHeight||(t!=r.divWidth&&(i.width=t*n),e!=r.divHeight&&(i.height=e*n),r.divWidth=t,r.divHeight=e,r._setAlign(),r.renderObj.resize(i.width,i.height),r.dispatchEvent(L.RESIZE))}else console.error("传入的显示尺寸不能为空")},e.prototype._initMouseEvent=function(t,e,r,n){t._pd=!1,t.clientX=e.x,t.clientY=e.y,t.stageX=r.x,t.stageY=r.y,t.identifier=n},e.prototype.flush=function(){this.renderObj.render(this)},e.prototype.onMouseEvent=function(t){"web"==nt()&&(this.webMouseEventPreventDefault&&t.preventDefault(),this.webMouseEventStopPropagation&&t.stopPropagation());var e=this;if(N._totalMEC>0){var r=void 0,n=e._mouseEventTypes[t.type],i=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0;"pc"==h?(t.identifier=0,r=[t]):r=[t.changedTouches[0]];var f=e.canvasOffsetTb,p=f.x,d=f.y;if("web"==nt()){var m=document.documentElement,v=e.canvas.getBoundingClientRect();p=v.left+window.pageXOffset-m.clientLeft,d=v.top+window.pageYOffset-m.clientTop}for(var y=0;y<r.length;y++)if(r[y]&&(u=0,i=[],c="m"+r[y].identifier,(l=e._mp.length>0?e._mp.shift():new z).x=((r[y].pageX||r[y].x||r[y].b)-p)*e._dpi,l.y=((r[y].pageY||r[y].y||r[y].c)-d)*e._dpi,a=e.globalToLocal(l,$._bp),N.getMouseEventCount()>0&&(e._ml[u]?(o=e._ml[u]).type=n:(o=new $t(n),e._ml[u]=o),i[i.length]=o,e._initMouseEvent(o,l,a,c),u++),"onMouseDown"==n?e._mouseDownPoint[c]=l:"onMouseUp"==n&&e._mouseDownPoint[c]&&z.distance(e._mouseDownPoint[c],l)<20&&N.getMouseEventCount("onMouseClick")>0&&(e._ml[u]?(o=e._ml[u]).type="onMouseClick":(o=new $t("onMouseClick"),e._ml[u]=o),i[i.length]=o,e._initMouseEvent(o,l,a,c),u++),u>0)){var g=e.hitTestPoint(l,!0),_=[];if(g)for(;g;)!1===g.mouseChildren&&(_.length=0),_[_.length]=g,g=g.parent;else _[_.length]=e;for(var b=_.length,x=b-1;x>=0;x--){g=_[x];for(var w=0;w<u;w++)i[w]._pd||g.hasEventListener(i[w].type)&&g.mouseEnable&&(i[w].target=g,i[w].currentTarget=_[0],s=g.globalToLocal(l,$._bp),i[w].localX=s.x,i[w].localY=s.y,g.dispatchEvent(i[w]))}_.reverse();for(x=b-1;x>=0;x--){g=_[x];for(w=0;w<u;w++)i[w]._pd||g.hasEventListener(i[w].type,!1)&&g.mouseEnable&&(i[w].target=g,i[w].currentTarget=_[u-1],s=g.globalToLocal(l,$._bp),i[w].localX=s.x,i[w].localY=s.y,g.dispatchEvent(i[w],null,!1))}if("onMouseDown"!=n){if((N.getMouseEventCount("onMouseOver")>0||N.getMouseEventCount("onMouseOut")>0)&&e._lastDpList[c]){var T=e._lastDpList[c].length,S=_.length;b=T>S?T:S;var E=!1,M=void 0,C=void 0;for(x=1;x<b;x++)E||e._lastDpList[c][x]!=_[x]&&(E=!0,e._ml[u]?(M=e._ml[u]).type="onMouseOver":(M=new $t("onMouseOver"),e._ml[u]=M),e._initMouseEvent(M,l,a,c),u++,e._ml[u]?(C=e._ml[u]).type="onMouseOut":(C=new $t("onMouseOut"),e._ml[u]=C),e._initMouseEvent(C,l,a,c)),E&&(e._lastDpList[c][x]&&(C._pd||(g=e._lastDpList[c][x]).hasEventListener("onMouseOut")&&(C.currentTarget=e._lastDpList[c][T-1],C.target=g,s=g.globalToLocal(l,$._bp),C.localX=s.x,C.localY=s.y,g.dispatchEvent(C))),_[x]&&(M._pd||(g=_[x]).hasEventListener("onMouseOver")&&(M.currentTarget=_[S-1],M.target=g,s=g.globalToLocal(l,$._bp),M.localX=s.x,M.localY=s.y,g.dispatchEvent(M))))}e._mp[e._mp.length]=l}"onMouseUp"==n?(delete e._mouseDownPoint[c],delete e._lastDpList[c]):e._lastDpList[c]=_}}},e.prototype.addWebMouseEvent=function(){if("web"===nt()){var t=this.canvas,e=this.onMouseEvent.bind(this);"pc"==h?(t.addEventListener("mousedown",e,!1),t.addEventListener("mousemove",e,!1),t.addEventListener("mouseup",e,!1)):(t.addEventListener("touchstart",e,!1),t.addEventListener("touchmove",e,!1),t.addEventListener("touchend",e,!1))}},e.prototype.getBounds=function(){return this.viewRect},e.prototype.destroy=function(){var e=this;e.renderObj.destroy(),e.renderObj=null,e.viewRect=null,e._lastDpList=null,e._ml=null,t.prototype.destroy.call(this)},e._stageList={},e}(Q),pr=(new N,function(t){function e(e,r,n,i){void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=null);var o=t.call(this)||this;return o._instanceType="GraphicsData",o.shape=e,o.lineStyle=n,o.fillStyle=r,o.matrix=i,o.holes=[],o.type=e.type,o.points=[],o}return R(e,t),e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(F)),dr=function(t){function e(e,r,n){void 0===e&&(e=100),void 0===r&&(r=100),void 0===n&&(n=C.LINEAR);var i=t.call(this,null,n)||this;return i.width=Math.ceil(e),i.height=Math.ceil(r),i.scaleMode=n,i.hasLoaded=!0,i._glRenderTargets={},i._canvasRenderTarget=null,i.valid=!1,i}return R(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.valid&&this.dispatchEvent("update"))},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(Gt),mr=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.valid=!0,n.updateUvs(),n}return R(e,t),e.prototype.resize=function(t,e,r){void 0===r&&(r=!1),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this.updateUvs()},e.create=function(t,r,n){return void 0===n&&(n=C.LINEAR),new e(new dr(t,r,n))},e}(Xt),vr=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=v.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.isPointIn=function(t){if(this.radius<=0)return!1;var e=this.radius*this.radius,r=this.x-t.x,n=this.y-t.y;return(r*=r)+(n*=n)<=e},t.prototype.getBounds=function(){return new U(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),yr=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=r,this.height=n,this.type=v.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.isPointIn=function(t){if(this.width<=0||this.height<=0)return!1;var e=(t.x-this.x)/this.width,r=(t.y-this.y)/this.height;return(e*=e)+(r*=r)<=1},t.prototype.getBounds=function(){return new U(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),gr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(Array.isArray(t[0])&&(t=t[0]),t[0]instanceof z){for(var r=[],n=0,i=t.length;n<i;n++)r.push(t[n].x,t[n].y);t=r}this.closed=!0,this.points=t,this.type=v.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.isPointIn=function(t){for(var e=t.x,r=t.y,n=!1,i=this.points.length/2,o=0,a=i-1;o<i;a=o++){var s=this.points[2*o],l=this.points[2*o+1],h=this.points[2*a],u=this.points[2*a+1];l>r!=u>r&&e<(r-l)/(u-l)*(h-s)+s&&(n=!n)}return n},t}(),_r=function(){function t(t,e,r,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=20),this.x=t,this.y=e,this.width=r,this.height=n;var o=(r<n?r:n)/2;i=(i=i<0?-i:i)>o?o:i,this.radius=i,this.type=v.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.isPointIn=function(t){var e=t.x,r=t.y;if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){if(r>=this.y+this.radius&&r<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var n=e-(this.x+this.radius),i=r-(this.y+this.radius),o=this.radius*this.radius;if(n*n+i*i<=o)return!0;if((n=e-(this.x+this.width-this.radius))*n+i*i<=o)return!0;if(n*n+(i=r-(this.y+this.height-this.radius))*i<=o)return!0;if((n=e-(this.x+this.radius))*n+i*i<=o)return!0}return!1},t}();function br(t,e,r){r=r||2;var n,i,o,a,s,l,h,u=e&&e.length,c=u?e[0]*r:t.length,f=xr(t,0,c,r,!0),p=[];if(!f||f.next===f.prev)return p;if(u&&(f=function(t,e,r,n){var i,o,a,s,l,h=[];for(i=0,o=e.length;i<o;i++)a=e[i]*n,s=i<o-1?e[i+1]*n:t.length,(l=xr(t,a,s,n,!1))===l.next&&(l.steiner=!0),h.push(Or(l));for(h.sort(Ar),i=0;i<h.length;i++)Pr(h[i],r),r=wr(r,r.next);return r}(t,e,f,r)),t.length>80*r){n=o=t[0],i=a=t[1];for(var d=r;d<c;d+=r)(s=t[d])<n&&(n=s),(l=t[d+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);h=0!==(h=Math.max(o-n,a-i))?1/h:0}return Tr(f,p,r,n,i,h),p}function xr(t,e,r,n,i){var o,a;if(i===Ur(t,e,r,n)>0)for(o=e;o<r;o+=n)a=zr(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=zr(o,t[o],t[o+1],a);return a&&Fr(a,a.next)&&(jr(a),a=a.next),a}function wr(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!Fr(n,n.next)&&0!==Rr(n.prev,n,n.next))n=n.next;else{if(jr(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function Tr(t,e,r,n,i,o,a){if(t){!a&&o&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=kr(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,a,s,l,h=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,n=r,s=0,e=0;e<h&&(s++,n=n.nextZ);e++);for(l=h;s>0||l>0&&n;)0!==s&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,h*=2}while(a>1)}(i)}(t,n,i,o);for(var s,l,h=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?Er(t,n,i,o):Sr(t))e.push(s.i/r),e.push(t.i/r),e.push(l.i/r),jr(t),t=l.next,h=l.next;else if((t=l)===h){a?1===a?Tr(t=Mr(t,e,r),e,r,n,i,o,2):2===a&&Cr(t,e,r,n,i,o):Tr(wr(t),e,r,n,i,o,1);break}}}function Sr(t){var e=t.prev,r=t,n=t.next;if(Rr(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Dr(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Rr(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Er(t,e,r,n){var i=t.prev,o=t,a=t.next;if(Rr(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,h=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,c=kr(s,l,e,r,n),f=kr(h,u,e,r,n),p=t.prevZ,d=t.nextZ;p&&p.z>=c&&d&&d.z<=f;){if(p!==t.prev&&p!==t.next&&Dr(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Rr(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,d!==t.prev&&d!==t.next&&Dr(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Rr(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&Dr(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Rr(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&Dr(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Rr(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function Mr(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!Fr(i,o)&&Lr(i,n,n.next,o)&&Nr(i,o)&&Nr(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),jr(n),jr(n.next),n=t=o),n=n.next}while(n!==t);return n}function Cr(t,e,r,n,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ir(a,s)){var l=Br(a,s);return a=wr(a,a.next),l=wr(l,l.next),Tr(a,e,r,n,i,o),void Tr(l,e,r,n,i,o)}s=s.next}a=a.next}while(a!==t)}function Ar(t,e){return t.x-e.x}function Pr(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===a)return r.prev;var l,h=r,u=r.x,c=r.y,f=1/0;n=r.next;for(;n!==h;)i>=n.x&&n.x>=u&&i!==n.x&&Dr(o<c?i:a,o,u,c,o<c?a:i,o,n.x,n.y)&&((l=Math.abs(o-n.y)/(i-n.x))<f||l===f&&n.x>r.x)&&Nr(n,t)&&(r=n,f=l),n=n.next;return r}(t,e)){var r=Br(e,t);wr(r,r.next)}}function kr(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Or(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function Dr(t,e,r,n,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(n-s)-(r-a)*(e-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function Ir(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Lr(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&Nr(t,e)&&Nr(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)}function Rr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Fr(t,e){return t.x===e.x&&t.y===e.y}function Lr(t,e,r,n){return!!(Fr(t,e)&&Fr(r,n)||Fr(t,n)&&Fr(r,e))||Rr(t,e,r)>0!=Rr(t,e,n)>0&&Rr(r,n,t)>0!=Rr(r,n,e)>0}function Nr(t,e){return Rr(t.prev,t,t.next)<0?Rr(t,e,t.next)>=0&&Rr(t,t.prev,e)>=0:Rr(t,e,t.prev)<0||Rr(t,t.next,e)<0}function Br(t,e){var r=new Vr(t.i,t.x,t.y),n=new Vr(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function zr(t,e,r,n){var i=new Vr(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function jr(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Vr(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ur(t,e,r,n){for(var i=0,o=e,a=r-n;o<r;o+=n)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}br.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,a=Math.abs(Ur(t,0,o,r));if(i)for(var s=0,l=e.length;s<l;s++){var h=e[s]*r,u=s<l-1?e[s+1]*r:t.length;a-=Math.abs(Ur(t,h,u,r))}var c=0;for(s=0;s<n.length;s+=3){var f=n[s]*r,p=n[s+1]*r,d=n[s+2]*r;c+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},br.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[i][o][a]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var Wr={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.verts,o=e.indices;if(r.length>=6){for(var a=[],s=0;s<n.length;s++){var l=n[s];a.push(r.length/2),r=r.concat(l.points)}var h=br(r,a,2);if(!h)return;var u=i.length/2;for(s=0;s<h.length;s+=3)o.push(h[s]+u),o.push(h[s+1]+u),o.push(h[s+2]+u);for(s=0;s<r.length;s++)i.push(r[s])}}},Hr={build:function(t){var e,r,n=t.shape,i=t.points,o=n.x,a=n.y;if(i.length=0,t.type===v.CIRC?(e=n.radius,r=n.radius):(e=n.width,r=n.height),0!==e&&0!==r){var s=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height));s/=2.3;for(var l=2*Math.PI/s,h=0;h<s;h++)i.push(o+Math.sin(l*h)*e,a+Math.cos(l*h)*r);i.push(i[0],i[1])}},triangulate:function(t,e){var r=t.points,n=e.verts,i=e.indices,o=n.length/2,a=o;n.push(t.shape.x,t.shape.y);for(var s=0;s<r.length;s+=2)n.push(r[s],r[s+1]),i.push(o++,a,o)}},Gr={build:function(t){var e=t.shape,r=t.points,n=e.x,i=e.y,o=e.width,a=e.height,s=e.radius;r.length=0,r.push(n,i+s),Xr(n,i+a-s,n,i+a,n+s,i+a,r),Xr(n+o-s,i+a,n+o,i+a,n+o,i+a-s,r),Xr(n+o,i+s,n+o,i,n+o-s,i,r),Xr(n+s,i,n,i,n,i+s+1e-10,r)},triangulate:function(t,e){for(var r=t.points,n=e.verts,i=e.indices,o=n.length/2,a=br(r,null,2),s=0,l=a.length;s<l;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(s=0,l=r.length;s<l;s++)n.push(r[s],r[++s])}};function Yr(t,e,r){return t+(e-t)*r}function Xr(t,e,r,n,i,o,a){void 0===a&&(a=[]);for(var s=a,l=0,h=0,u=0,c=0,f=0,p=0,d=0,m=0;d<=20;++d)l=Yr(t,r,m=d/20),h=Yr(e,n,m),u=Yr(r,i,m),c=Yr(n,o,m),f=Yr(l,u,m),p=Yr(h,c,m),s.push(f,p);return s}function qr(t,e){!function(t,e){var r=t.shape,n=t.points||r.points.slice();if(0===n.length)return;var i=t.lineStyle,o=new z(n[0],n[1]),a=new z(n[n.length-2],n[n.length-1]),s=r.type!==v.POLY,l=o.x===a.x&&o.y===a.y;if(l||s){n=n.slice(),l&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));var h=a.x+.5*(o.x-a.x),u=a.y+.5*(o.y-a.y);n.unshift(h,u),n.push(h,u)}var c=e.verts,f=n.length/2,p=n.length,d=c.length/2,m=i.width/2,y=n[0],g=n[1],_=n[2],b=n[3],x=0,w=0,T=-(g-b),S=y-_,E=0,M=0,C=0,A=0,P=Math.sqrt(T*T+S*S);T/=P,S/=P,T*=m,S*=m;var k=i.alignment,O=2*(1-k),D=2*k;c.push(y-T*O,g-S*O),c.push(y+T*D,g+S*D);for(var I=1;I<f-1;++I){y=n[2*(I-1)],g=n[2*(I-1)+1],_=n[2*I],b=n[2*I+1],x=n[2*(I+1)],w=n[2*(I+1)+1],T=-(g-b),S=y-_,P=Math.sqrt(T*T+S*S),T/=P,S/=P,T*=m,S*=m,E=-(b-w),M=_-x,P=Math.sqrt(E*E+M*M),E/=P,M/=P;var R=-S+g-(-S+b),F=-T+_-(-T+y),L=(-T+y)*(-S+b)-(-T+_)*(-S+g),N=-(M*=m)+w-(-M+b),B=-(E*=m)+_-(-E+x),j=(-E+x)*(-M+b)-(-E+_)*(-M+w),V=R*B-N*F;if(Math.abs(V)<.1)V+=10.1,c.push(_-T*O,b-S*O),c.push(_+T*D,b+S*D);else{var U=(F*j-B*L)/V,W=(N*L-R*j)/V;(U-_)*(U-_)+(W-b)*(W-b)>196*m*m?(C=T-E,A=S-M,P=Math.sqrt(C*C+A*A),C/=P,A/=P,C*=m,A*=m,c.push(_-C*O,b-A*O),c.push(_+C*D,b+A*D),c.push(_-C*D*O,b-A*O),p++):(c.push(_+(U-_)*O,b+(W-b)*O),c.push(_-(U-_)*D,b-(W-b)*D))}}y=n[2*(f-2)],g=n[2*(f-2)+1],_=n[2*(f-1)],b=n[2*(f-1)+1],T=-(g-b),S=y-_,P=Math.sqrt(T*T+S*S),T/=P,S/=P,T*=m,S*=m,c.push(_-T*O,b-S*O),c.push(_+T*D,b+S*D);var H=e.indices;for(I=0;I<p-2;++I)H.push(d,d+1,d+2),d++}(t,e)}var Kr=function(){function t(){this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.alphaBlock=this.alphaBlock,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Xt.WHITE,this.matrix=null,this.visible=!1,this.alphaBlock=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),Zr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(Kr);var Jr,$r={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048,segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive)return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};var Qr=new j,tn=new z,en=new Float32Array(3),rn=[],nn={};nn[v.POLY]=Wr,nn[v.CIRC]=Hr,nn[v.ELIP]=Hr,nn[v.RECT]={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,o=e.height,a=t.points;a.length=0,a.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate:function(t,e){var r=t.points,n=e.verts,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},nn[v.RREC]=Gr;var on=function(t){function e(){var e=t.call(this)||this;return e._blendMode=E.NORMAL,e.batchTint=-1,e.hitTestByPixel=!0,e.cacheAsBitmap=!0,e._instanceType="Graphics",e._fillStyle=new Kr,e._lineStyle=new Zr,e.tint=16777215,e.batchTint=-1,e._matrix=null,e._holeMode=!1,e._currentPath=null,e.graphicsData=[],e.isUsedToMask=!1,e.boundsPadding=0,e.dirty=0,e.boundsDirty=-1,e.cacheDirty=-1,e.verts=[],e.indices=[],e.batches=[],e.geoBatches=[],e.uvs=[],e.batchDirty=-1,e.shapeIndex=0,e.vertexData=null,e._transformID=-1,e}return R(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matrix",{get:function(){return this._matrix},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t._fillStyle=this._fillStyle,t._lineStyle=this._lineStyle,t.isUsedToMask=this.isUsedToMask,t.boundsPadding=this.boundsPadding,t.dirty=0;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t._currentPath=null,t.updateLocalBoundsSelf(),t},e.prototype.lineStyle=function(t,e,r,n,i){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=.5),void 0===i&&(i=!1),this.lineTextureStyle(t,Xt.WHITE,e,r,null,n,i),this},e.prototype.lineTextureStyle=function(t,e,r,n,i,o,a){void 0===t&&(t=0),void 0===e&&(e=Xt.WHITE),void 0===r&&(r=16777215),void 0===n&&(n=1),void 0===i&&(i=null),void 0===o&&(o=.5),void 0===a&&(a=!1),this._currentPath&&this.startPoly();var s=t>0&&n>0;return s?(i&&(i=i.clone()).invert(),this._lineStyle.color=r,this._lineStyle.width=t,this._lineStyle.alpha=n,this._lineStyle.matrix=i,this._lineStyle.texture=e,this._lineStyle.alignment=o,this._lineStyle.native=a,this._lineStyle.visible=s):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this._currentPath){var t=this._currentPath.points,e=this._currentPath.points.length;e>2&&(this.drawShape(this._currentPath),this._currentPath=new gr,this._currentPath.closed=!1,this._currentPath.points.push(t[e-2],t[e-1]))}else this._currentPath=new gr,this._currentPath.closed=!1},e.prototype.finishPoly=function(){this._currentPath&&(this._currentPath.points.length>2?(this.drawShape(this._currentPath),this._currentPath=null):this._currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this._currentPath.points[0]=t,this._currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this._currentPath||this.moveTo(0,0);var r=this._currentPath.points,n=r[r.length-2],i=r[r.length-1];return n===t&&i===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._currentPath?0===this._currentPath.points.length&&(this._currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,n){this._initCurve();var i=this._currentPath.points;0===i.length&&this.moveTo(0,0);for(var o=0,a=0,s=i[i.length-2],l=i[i.length-1],h=$r.segmentsCount(function(t,e,r,n,i,o){var a=t-(2*r+i),s=e-(2*n+o),l=(r-2)*t*2,h=(n-2)*e*2,u=4*(a*a+s*s),c=4*(a*l+s*h),f=l*l+h*h,p=2*Math.sqrt(u+c+f),d=Math.sqrt(u),m=2*u*d,v=2*Math.sqrt(f),y=c/d;return(m*p+d*c*(p-v)+(4*f*u-c*c)*Math.log((2*d+y+p)/(y+v)))/(4*m)}(s,l,t,e,r,n)),u=1;u<=h;++u){var c=u/h;o=s+(t-s)*c,a=l+(e-l)*c,i.push(o+(t+(r-t)*c-o)*c,a+(e+(n-e)*c-a)*c)}return this},e.prototype.bezierCurveTo=function(t,e,r,n,i,o){this._initCurve();var a=this._currentPath.points,s=a[a.length-2],l=a[a.length-1];return a.length-=2,function(t,e,r,n,i,o,a,s,l,h){void 0===h&&(h=[]);var u=0,c=0,f=0,p=0,d=0;h.push(t,e);for(var m=1,v=0;m<=l;++m)f=(c=(u=1-(v=m/l))*u)*u,d=(p=v*v)*v,h.push(f*t+3*c*v*r+3*u*p*i+d*a,f*e+3*c*v*n+3*u*p*o+d*s)}(s,l,t,e,r,n,i,o,$r.segmentsCount(function(t,e,r,n,i,o,a,s){for(var l=0,h=0,u=0,c=0,f=0,p=0,d=0,m=0,v=0,y=0,g=0,_=t,b=e,x=1;x<=10;++x)y=_-(m=(d=(p=(f=1-(h=x/10))*f)*f)*t+3*p*h*r+3*f*(u=h*h)*i+(c=u*h)*a),g=b-(v=d*e+3*p*h*n+3*f*u*o+c*s),_=m,b=v,l+=Math.sqrt(y*y+g*g);return l}(s,l,t,e,r,n,i,o)),a),this},e.prototype.arcTo=function(t,e,r,n,i){this._initCurve(t,e);var o=this._currentPath.points,a=o[o.length-2],s=o[o.length-1]-e,l=a-t,h=n-e,u=r-t,c=Math.abs(s*u-l*h);if(c<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=s*s+l*l,p=h*h+u*u,d=s*h+l*u,m=i*Math.sqrt(f)/c,v=i*Math.sqrt(p)/c,y=m*d/f,g=v*d/p,_=m*u+v*l,b=m*h+v*s,x=l*(v+y),w=s*(v+y),T=u*(m+g),S=h*(m+g),E=Math.atan2(w-b,x-_),M=Math.atan2(S-b,T-_);this.arc(_+t,b+e,i,E,M,l*h>u*s)}return this},e.prototype.arc=function(t,e,r,n,i,o){if(void 0===o&&(o=!1),n===i)return this;!o&&i<=n?i+=k:o&&n<=i&&(n+=k);var a=i-n;if(0===a)return this;var s=t+Math.cos(n)*r,l=e+Math.sin(n)*r,h=this._currentPath?this._currentPath.points:null;if(h){var u=Math.abs(h[h.length-2]-s),c=Math.abs(h[h.length-1]-l);u<.001&&c<.001||h.push(s,l)}else this.moveTo(s,l),h=this._currentPath.points;for(var f=$r.segmentsCount(Math.abs(a)*r,40*Math.ceil(Math.abs(a)/k)),p=a/(2*f),d=2*p,m=Math.cos(p),v=Math.sin(p),y=f-1,g=y%1/y,_=0;_<=y;++_){var b=p+n+d*(_+g*_),x=Math.cos(b),w=-Math.sin(b);h.push((m*x+v*w)*r+t,(m*-w+v*x)*r+e)}return this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),"string"==typeof t&&(t=Ft(t)),this.beginTextureFill(Xt.WHITE,t,e)},e.prototype.beginTextureFill=function(t,e,r,n){void 0===t&&(t=Xt.WHITE),void 0===e&&(e=16777215),void 0===r&&(r=1),void 0===n&&(n=null),this._currentPath&&this.startPoly();var i=r>0;return i?(this._fillStyle.color=e,this._fillStyle.alpha=r,this._fillStyle.texture=t,this._fillStyle.matrix=n,this._fillStyle.visible=i):(this._fillStyle.reset(),this._fillStyle.alphaBlock=!0),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.endStroke=function(){return this.finishPoly(),this._lineStyle.reset(),this},e.prototype.closePath=function(){var t=this._currentPath;return this._currentPath&&t.close(),this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new U(t,e,r,n))},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new _r(t,e,r,n,i))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new vr(t,e,r))},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new yr(t,e,r,n))},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof gr&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new gr(e);return i.closed=r,this.drawShape(i),this},e.prototype.drawStar=function(t,e,r,n,i,o){void 0===o&&(o=0),i=i||n/2;for(var a=-1*Math.PI/2+o,s=2*r,l=k/s,h=[],u=0;u<s;u++){var c=u%2?i:n,f=u*l+a;h.push(t+c*Math.cos(f),e+c*Math.sin(f))}return this.drawPolygon(h)},e.prototype.drawShape=function(t){if(this._holeMode){if(!this.graphicsData.length)return this;e=new pr(t,null,null,this._matrix);this.graphicsData[this.graphicsData.length-1].holes.push(e),this.dirty++}else{var e=new pr(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix);this.graphicsData.push(e),this.dirty++}return this},e.prototype.clear=function(){if(this.graphicsData.length>0){this.boundsDirty=-1,this.dirty++,this.graphicsData.length=0,this.verts.length=0,this.uvs.length=0,this.indices.length=0,this.shapeIndex=0;for(var t=0;t<this.geoBatches.length;t++){var e=this.geoBatches[t];e.start=0,e.attribStart=0,e.style=null,rn.push(e)}this.geoBatches.length=0,this.batches.length=0}return this._currentPath=null,this._matrix=null,this._holeMode=!1,this._currentPath=null,this},e.prototype.isFastRect=function(){return!1},e.prototype._renderWebGL=function(t){if(this.finishPoly(),this.updateBatch(),t.batchManager.setObjectRenderer(t.plugins.batch),this.batches.length){this.calculateVertices(),this.calculateTints();for(var e=0;e<this.batches.length;e++){var r=this.batches[e];r._worldAlpha=this._worldAlpha*r.graAlpha,t.plugins.batch.render(r)}}},e.prototype.updateBatch=function(){if(this.batchDirty!==this.dirty&&0!==this.graphicsData.length){this.batchDirty=this.dirty;var t,e=this.uvs;(t=this.geoBatches.pop())||((t=rn.pop()||new an).style=t.style||this.graphicsData[0].fillStyle||this.graphicsData[0].lineStyle);var r=t.style.texture.baseTexture,n=t.style.color+t.style.alpha;this.geoBatches.push(t);for(var i=this.shapeIndex;i<this.graphicsData.length;i++){this.shapeIndex++;var o=this.graphicsData[i],a=nn[o.type],s=o.fillStyle,l=o.lineStyle;a.build(o),o.matrix&&this.transformPoints(o.points,o.matrix);for(var h=0;h<2;h++){var u=0===h?s:l;if(u.visible){var c=u.texture.baseTexture;if(r!==c||u.color+u.alpha!==n){c.wrapMode=A.REPEAT,r=c,n=u.color+u.alpha;var f=this.indices.length,p=this.verts.length/2;t.size=f-t.start,t.attribSize=p-t.attribStart,t.size>0&&(t=rn.pop()||new an,this.geoBatches.push(t)),t.style=u,t.start=f,t.attribStart=p}var d=this.verts.length/2;0===h?o.holes.length?(this.proccessHoles(o.holes),Wr.triangulate(o,this)):a.triangulate(o,this):qr(o,this);var m=this.verts.length/2-d;this.addUvs(this.verts,e,u.texture,d,m,u.matrix)}}}var v=this.indices.length,y=this.verts.length/2;t.size=v-t.start,t.attribSize=y-t.attribStart;for(var g=new Uint16Array(this.indices),_=new Float32Array(this.uvs),b=0;b<this.geoBatches.length;b++){var x=this.geoBatches[b];for(h=0;h<x.size;h++){var w=x.start+h;g[w]=g[w]-x.attribStart}}this._transformID=-1,this.batchTint=-1,this.batches=[],this.vertexData=new Float32Array(this.verts);for(var T=this.blendMode,S=0;S<this.geoBatches.length;S++){var E=this.geoBatches[S],M=E.style.color,C=new Float32Array(this.vertexData.buffer,4*E.attribStart*2,2*E.attribSize),P=new Float32Array(_.buffer,4*E.attribStart*2,2*E.attribSize);x={_vertexData:C,_indices:new Uint16Array(g.buffer,2*E.start,E.size),_uvs:P,_tintRGB:M,_texture:E.style.texture,_worldAlpha:1,_blendMode:T,graAlpha:E.style.alpha,_batchRGB:It(M)};this.batches[S]=x}}},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=It(this.tint,en),e=0;e<this.batches.length;e++){var r=this.batches[e],n=r._batchRGB,i=(t[0]*n[0]*255<<16)+(t[1]*n[1]*255<<8)+(0|t[2]*n[2]*255);r._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldMatrix,e=t.a,r=t.b,n=t.c,i=t.d,o=t.tx,a=t.ty,s=this.verts,l=this.vertexData,h=0,u=0;u<s.length;u+=2){var c=s[u],f=s[u+1];l[h++]=e*c+n*f+o,l[h++]=i*f+r*c+a}}},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var n=t[2*r],i=t[2*r+1];t[2*r]=e.a*n+e.c*i+e.tx,t[2*r+1]=e.b*n+e.d*i+e.ty}},e.prototype._renderCanvas=function(t){if(this.finishPoly(),this.cacheAsBitmap){if(this.cacheDirty!=this.dirty){this.cacheDirty=this.dirty;var e=this.mask;this.mask=null,this.cacheAsBitmap=!1;var r=this.alpha;this.alpha=1;var n=this.children;this.children=[],this.generateCanvasTexture(),this.mask=e,this.alpha=r,this.cacheAsBitmap=!0,this.children=n,this.transform._parentID=-1,this.parent&&this.updateTransform()}t.plugins.sprite.render(this)}else t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.updateLocalBoundsSelf();var t=this._localBoundsSelf,e=this.transform.worldMatrix;e.transformPoint(t.x,t.y,$._p1),e.transformPoint(t.x+t.width,t.y,$._p2),e.transformPoint(t.x+t.width,t.y+t.height,$._p3),e.transformPoint(t.x,t.y+t.height,$._p4),U.createFromPoints(this._bounds,$._p1,$._p2,$._p3,$._p4)},e.prototype.hitTestPoint=function(e,r){return void 0===r&&(r=!1),this.visible?(n=t.prototype.hitTestPoint.call(this,e,r))?n:r&&!this.mouseEnable?null:(this.updateLocalBoundsSelf(),(n=this.displayObjectHitTestPoint(e,r))?this.hitTestByPixel?this.hitTestPointAccuratly(e,r):n:null):null;var n},e.prototype.hitTestPointAccuratly=function(t,e){e?this.worldMatrix.transformPointInverse(t.x,t.y,tn):tn.set(t.x,t.y);for(var r=this.graphicsData,n=0;n<r.length;++n){var i=r[n];if((i.fillStyle.visible||i.fillStyle.alphaBlock)&&(i.shape&&i.shape.isPointIn(tn))){if(i.holes)for(var o=0;o<i.holes.length;o++){if(i.holes[o].shape.isPointIn(tn))return null}return this}}return null},e.prototype.updateLocalBoundsSelf=function(){if(this.boundsDirty!=this.dirty){this.boundsDirty=this.dirty;var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=void 0,o=0,a=0,s=0,l=0,h=0;h<this.graphicsData.length;h++){var u=this.graphicsData[h],c=u.type,f=u.lineStyle,p=(u.matrix||j.IDENTITY,0);if(f&&f.visible){var d=f.alignment;p=f.width,c===v.POLY?p*=.5+Math.abs(.5-d):p*=Math.max(0,d)}if(i=u.shape,c===v.RECT||c===v.RREC)o=i.x-p/2,a=i.y-p/2,t=o<t?o:t,e=o+(s=i.width+p)>e?o+s:e,r=a<r?a:r,n=a+(l=i.height+p)>n?a+l:n;else if(c===v.CIRC)o=i.x,a=i.y,t=o-(s=i.radius+p/2)<t?o-s:t,e=o+s>e?o+s:e,r=a-(l=i.radius+p/2)<r?a-l:r,n=a+l>n?a+l:n;else if(c===v.ELIP)o=i.x,a=i.y,t=o-(s=i.width+p/2)<t?o-s:t,e=o+s>e?o+s:e,r=a-(l=i.height+p/2)<r?a-l:r,n=a+l>n?a+l:n;else for(var m=i.points,y=0,g=0,_=0,b=0,x=0,w=0,T=0,S=0,E=0;E+2<m.length;E+=2)o=m[E],a=m[E+1],y=m[E+2],g=m[E+3],_=Math.abs(y-o),b=Math.abs(g-a),l=p,(s=Math.sqrt(_*_+b*b))<1e-9||(t=(T=(y+o)/2)-(x=(l/s*b+_)/2)<t?T-x:t,e=T+x>e?T+x:e,r=(S=(g+a)/2)-(w=(l/s*_+b)/2)<r?S-w:r,n=S+w>n?S+w:n)}else t=0,e=0,r=0,n=0;var M=this.boundsPadding;this._localBoundsSelf.x=t-M,this._localBoundsSelf.y=r-M,this._localBoundsSelf.width=e-t+2*M,this._localBoundsSelf.height=n-r+2*M}},e.prototype.generateCanvasTexture=function(t){void 0===t&&(t=C.LINEAR),this.updateLocalBoundsSelf();var e=this._localBoundsSelf;return this._canvasBuffer?this._canvasBuffer.resize(e.width,e.height):this._canvasBuffer=mr.create(e.width,e.height,t),Jr||(Jr=new _t(null,0,0)),this.transform.updateLocalMatrix(),Qr.copy(this.transform.localMatrix),Qr.invert(),Qr.tx-=e.x,Qr.ty-=e.y,Jr.render(this,this._canvasBuffer,Qr),this._texture||(this._texture=Xt.fromCanvas(this._canvasBuffer.baseTexture._canvasRenderTarget.canvas,"graphics")),this._texture.baseTexture.update(),this.offsetX=e.x,this.offsetY=e.y,this._texture},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this._matrix=null,this._currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.vertexData=null,this.geoBatches.length=0,this.geoBatches=null,this.batches.length=0,this.batches=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateLocalBoundsSelf(),Math.abs(this.scale.x)*this._localBoundsSelf.width},set:function(t){this.updateLocalBoundsSelf();var e=this._localBoundsSelf.width;if(0!==e){var r=Bt(this.scale.x)||1;this.scale.x=r*t/e}else this.scale.x=1;this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateLocalBoundsSelf(),Math.abs(this.scale.y)*this._localBoundsSelf.height},set:function(t){this.updateLocalBoundsSelf();var e=this._localBoundsSelf.height;if(0!==e){var r=Bt(this.scale.y)||1;this.scale.y=r*t/e}else this.scale.y=1;this._height=t},enumerable:!0,configurable:!0}),e.prototype.proccessHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];nn[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.addUvs=function(t,e,r,n,i,o){for(var a=0,s=e.length,l=r.frame;a<i;){var h=t[2*(n+a)],u=t[2*(n+a)+1];if(o){var c=o.a*h+o.c*u+o.tx;u=o.b*h+o.d*u+o.ty,h=c}a++;var f=r.frame;e.push(h/f.width,u/f.height)}var p=r.baseTexture;(l.width<p.width||l.height<p.height)&&this.adjustUvs(e,r,s,i)},e.prototype.adjustUvs=function(t,e,r,n){for(var i=e.baseTexture,o=1e-6,a=r+2*n,s=e.frame,l=s.width/i.width,h=s.height/i.height,u=s.x/s.width,c=s.y/s.height,f=Math.floor(t[r]+o),p=Math.floor(t[r+1]+o),d=r+2;d<a;d+=2)f=Math.min(f,Math.floor(t[d]+o)),p=Math.min(p,Math.floor(t[d+1]+o));u-=f,c-=p;for(d=r;d<a;d+=2)t[d]=(t[d]+u)*l,t[d+1]=(t[d+1]+c)*h},e}(Q),an=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},sn=function(t){function e(){var e=t.call(this)||this;e._command=[],e.hitTestByPixel=!0,e._instanceType="Shape";var r=it();return r.width=3,r.height=3,e.texture=Xt.fromCanvas(r,"shapeCanvas"),Xt.addToCache(e.texture,e.texture.baseTexture.textureCacheIds[0]),e.canvas=r,e.context=r.getContext("2d"),e.dirty=!0,e}return R(e,t),e.prototype.drawRoundedRect=function(t,e,r,n,i,o,a,s){void 0===i&&(i=0);var l=(r<n?r:n)/2,h=0,u=0,c=0,f=0;null==o&&(o=i),null==a&&(a=i),null==s&&(s=i),i<0&&(i*=h=-1),i>l&&(i=l),o<0&&(o*=u=-1),o>l&&(o=l),s<0&&(s*=c=-1),s>l&&(s=l),a<0&&(a*=f=-1),a>l&&(a=l);var p=this._command;return p[p.length]=[1,"moveTo",[t+r-o,e]],p[p.length]=[1,"arcTo",[t+r+o*u,e-o*u,t+r,e+o,o]],p[p.length]=[1,"lineTo",[t+r,e+n-s]],p[p.length]=[1,"arcTo",[t+r+s*c,e+n+s*c,t+r-s,e+n,s]],p[p.length]=[1,"lineTo",[t+a,e+n]],p[p.length]=[1,"arcTo",[t-a*f,e+n+a*f,t,e+n-a,a]],p[p.length]=[1,"lineTo",[t,e+i]],p[p.length]=[1,"arcTo",[t-i*h,e-i*h,t+i,e,i]],p[p.length]=[1,"closePath",[]],this},e.prototype.moveTo=function(t,e){return this._command[this._command.length]=[1,"moveTo",[t,e]],this},e.prototype.lineTo=function(t,e){return this._command[this._command.length]=[1,"lineTo",[t,e]],this},e.prototype.arcTo=function(t,e,r,n,i){return this._command[this._command.length]=[1,"arcTo",[t,e,r,n,i]],this},e.prototype.quadraticCurveTo=function(t,e,r,n){return this._command[this._command.length]=[1,"quadraticCurveTo",[t,e,r,n]],this},e.prototype.bezierCurveTo=function(t,e,r,n,i,o){return this._command[this._command.length]=[1,"bezierCurveTo",[t,e,r,n,i,o]],this},e.prototype.closePath=function(){return this._command[this._command.length]=[1,"closePath",[]],this},e.prototype.drawRect=function(t,e,r,n){var i=this._command;return i[i.length]=[1,"moveTo",[t,e]],i[i.length]=[1,"lineTo",[t+r,e]],i[i.length]=[1,"lineTo",[t+r,e+n]],i[i.length]=[1,"lineTo",[t,e+n]],i[i.length]=[1,"closePath",[]],this},e.prototype.arc=function(t,e,r,n,i,o){return void 0===o&&(o=!1),this._command[this._command.length]=[1,"arc",[t,e,r,n,i,o]],this},e.prototype.drawCircle=function(t,e,r,n){return void 0===n&&(n=!1),this._command[this._command.length]=[1,"arc",[t,e,r,0,2*Math.PI,n]],this},e.prototype.drawEllipse=function(t,e,r,n){var i=.5522848,o=r/2*i,a=n/2*i,s=t+r,l=e+n,h=t+r/2,u=e+n/2,c=this._command;return c[c.length]=[1,"moveTo",[t,u]],c[c.length]=[1,"bezierCurveTo",[t,u-a,h-o,e,h,e]],c[c.length]=[1,"bezierCurveTo",[h+o,e,s,u-a,s,u]],c[c.length]=[1,"bezierCurveTo",[s,u+a,h+o,l,h,l]],c[c.length]=[1,"bezierCurveTo",[h-o,l,t,u+a,t,u]],this},e.prototype.clear=function(){var t=this;return t._command=[],t.dirty=!0,t},e.prototype.beginFill=function(t,e){void 0===t&&(t=0),void 0===e&&(e=1),"string"==typeof t&&(t=Ft(t));var r=Nt(Rt(t),e);return this._fill(r),this},e.prototype.beginGradientFill=function(t,e){return this._fill(Ot(t,e)),this},e.prototype.beginBitmapFill=function(t,e){var r=this;return e&&(r._isBitmapFill=e),r._fill(Dt(t)),r},e.prototype._fill=function(t){var e=this._command;e[e.length]=[0,"fillStyle",t],e[e.length]=[1,"beginPath",[]],this.dirty=!0},e.prototype.beginStroke=function(t,e,r,n,i,o){void 0===e&&(e=1),void 0===r&&(r=T.BUTT),void 0===n&&(n=S.MITER),void 0===i&&(i=0),void 0===o&&(o=1);var a=Nt(Rt(t),o);return this._stroke(a,e,r,n,i),this},e.prototype.beginGradientStroke=function(t,e,r,n,i,o){return void 0===r&&(r=1),void 0===n&&(n=T.BUTT),void 0===i&&(i=S.MITER),void 0===o&&(o=10),this._stroke(Ot(t,e),r,n,i,o),this},e.prototype.beginBitmapStroke=function(t,e,r,n,i,o){void 0===r&&(r=1),void 0===n&&(n=T.BUTT),void 0===i&&(i=S.MITER),void 0===o&&(o=10);var a=this;return e&&(a._isBitmapStroke=e),a._stroke(Dt(t),r,n,i,o),a},e.prototype._stroke=function(t,e,r,n,i){var o=this._command;o[o.length]=[0,"lineWidth",e],o[o.length]=[0,"lineCap",r],o[o.length]=[0,"lineJoin",n],o[o.length]=[0,"miterLimit",i],o[o.length]=[0,"strokeStyle",t],o[o.length]=[1,"beginPath",[]],this.dirty=!0},e.prototype.endFill=function(){var t=this,e=t._command,r=t._isBitmapFill;return r&&(e[e.length]=[2,"setTransform",r]),e[e.length]=[1,"fill",[]],r&&(t._isBitmapFill=null),t},e.prototype.endStroke=function(){var t=this,e=t._command,r=t._isBitmapStroke;return r&&(e[e.length]=[2,"setTransform",r]),e[e.length]=[1,"stroke",[]],r&&(t._isBitmapStroke=null),t},e.prototype.updateShape=function(){var t=this;if(t.visible&&t.dirty){t.dirty=!1,t._boundsID++;var e,r,n,i,o,a,s=t._command.length,l=0,h=0,u=0;for(o=0;o<s;o++)if(1==(a=t._command[o])[0]){if("moveTo"==a[1]||"lineTo"==a[1]||"arcTo"==a[1]||"bezierCurveTo"==a[1])null==e&&(e=a[2][0]),null==r&&(r=a[2][1]),null==n&&(n=a[2][0]),null==i&&(i=a[2][1]),"bezierCurveTo"==a[1]?(e=Math.min(e,a[2][0],a[2][2],a[2][4]),r=Math.min(r,a[2][1],a[2][3],a[2][5]),n=Math.max(n,a[2][0],a[2][2],a[2][4]),i=Math.max(i,a[2][1],a[2][3],a[2][5]),l=a[2][4],h=a[2][5]):(e=Math.min(e,a[2][0]),r=Math.min(r,a[2][1]),n=Math.max(n,a[2][0]),i=Math.max(i,a[2][1]),l=a[2][0],h=a[2][1]);else if("quadraticCurveTo"==a[1]){var c=.5*(l+a[2][0]),f=.5*(h+a[2][1]),p=.5*(a[2][0]+a[2][2]),d=.5*(a[2][1]+a[2][3]);null==e&&(e=c),null==r&&(r=f),null==n&&(n=c),null==i&&(i=f),e=Math.min(e,c,p,a[2][2]),r=Math.min(r,f,d,a[2][3]),n=Math.max(n,c,p,a[2][2]),i=Math.max(i,f,d,a[2][3]),l=a[2][2],h=a[2][3]}else if("arc"==a[1]){var m=a[2][0],v=a[2][1],y=a[2][2],g=m-y,_=v-y,b=m+y,x=v+y;null==e&&(e=g),null==r&&(r=_),null==n&&(n=b),null==i&&(i=x),e=Math.min(e,g),r=Math.min(r,_),n=Math.max(n,b),i=Math.max(i,x)}}else"lineWidth"==a[1]&&u<a[2]&&(u=a[2]);if(null!=e||u>0){null==e&&(e=0,r=0);var w=(n+=20+u>>1)-(e-=20+u>>1),T=(i+=20+u>>1)-(r-=20+u>>1);t.offsetX=e,t.offsetY=r,t._localBoundsSelf.x=e+10,t._localBoundsSelf.y=r+10,t._localBoundsSelf.width=w-20,t._localBoundsSelf.height=T-20;var S=t.canvas,E=t.context;S.width=w,S.height=T,E.clearRect(0,0,w,T),E.setTransform(1,0,0,1,-e,-r),t._drawShape(E),t.anchorTexture.set(-e/w,-r/T)}else t.canvas.width=0,t.canvas.height=0,t.offsetX=0,t.offsetY=0,t._localBoundsSelf.clear(),t.anchorTexture.set(0,0);t.texture.update(),t._onTextureUpdate()}},e.prototype._drawShape=function(t){for(var e,r=this,n=r._command,i=n.length,o=r.offsetX,a=r.offsetY,s=0;s<i;s++)if((e=n[s])[0]>0){var l=e[2].length;if(0==l)t[e[1]]();else if(2==l)t[e[1]](e[2][0],e[2][1]);else if(4==l)t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3]);else if(5==l)t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3],e[2][4]);else if(6==l){var h=e[2][4],u=e[2][5];2==e[0]&&(h-=o,u-=a),t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3],h,u)}}else t[e[1]]=e[2]},e.prototype.hitTestPoint=function(e,r){void 0===r&&(r=!1);var n=this;this.updateShape();var i=t.prototype.hitTestPoint.call(this,e,r);if(!i)return null;if(i!=n)return i;if(!n.hitTestByPixel)return n;var o=e;r&&(o=n.globalToLocal(e));var a=n._texture;if(!a||0==a.width||0==a.height)return null;o.x-=n.offsetX,o.y-=n.offsetY;var s=kt();s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,1,1),s.setTransform(1,0,0,1,-o.x,-o.y),s.drawImage(n.canvas,0,0);var l=s.getImageData(0,0,1,1);return l&&l.data?l.data[3]>0?n:null:n},e.prototype.changeColor=function(t){for(var e=this,r=e._command.length,n=e._command,i=0;i<r;i++)0==n[i][0]&&("fillStyle"==n[i][1]&&t.fillColor&&n[i][2]!=t.fillColor&&(n[i][2]=t.fillColor,e.dirty=!0),"strokeStyle"==n[i][1]&&t.strokeColor&&n[i][2]!=t.strokeColor&&(n[i][2]=t.strokeColor,e.dirty=!0),"lineWidth"==n[i][1]&&t.lineWidth&&n[i][2]!=t.lineWidth&&(n[i][2]=t.lineWidth,e.dirty=!0))},e.prototype.calculateBounds=function(){this.updateShape(),t.prototype.calculateBounds.call(this)},e.prototype._renderCanvas=function(e){this.updateShape(),t.prototype._renderCanvas.call(this,e)},e.prototype._renderWebGL=function(e){this.updateShape(),t.prototype._renderWebGL.call(this,e)},e.prototype.destroy=function(){var e=this;e._command=null,e._isBitmapStroke=null,e._isBitmapFill=null,t.prototype.destroy.call(this)},e}(Jt),ln=new z,hn=new gr,un=function(t){function e(e,r,n,i){var o=t.call(this)||this;return o._blendMode=E.NORMAL,o._texture=e||Xt.EMPTY,o._uvs=n||new Float32Array([0,0,1,0,1,1,0,1]),o._vertices=r||new Float32Array([0,0,100,0,100,100,0,100]),o._indices=i||new Uint16Array([0,1,3,2]),o._vertexDirty=0,o._vertexId=-1,o._localBoundsSelfId=-1,o.blendMode=E.NORMAL,o.canvasPadding=0,o._tint=null,o._tintRGB=null,o.tint=16777215,o._uvTransform=new Ze(o._texture),o._needRefresh=!0,o}return R(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){},enumerable:!0,configurable:!0}),e.prototype._renderWebGL=function(t){this.refresh(),this.calculateVertices(),t.batchManager.setObjectRenderer(t.plugins.batch),t.plugins.batch.render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins.mesh.render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this._needRefresh=!0},e.prototype.multiplyUvs=function(){this._uvTransform.multiplyUvs(this._uvs)},e.prototype.refresh=function(t){void 0===t&&(t=!1),this._texture&&this._texture.valid&&(this._uvTransform.update(t)||this._needRefresh||t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype.calculateVertices=function(){if(!(this._vertexId===this._vertexDirty&&this._transformID===this.transform._worldID||(this._vertexId=this._vertexDirty,this._transformID=this.transform._worldID,this._vertices.length<=2))){this._vertexData||(this._vertexData=new Float32Array(this._vertices.length));for(var t=this.transform.worldMatrix,e=t.a,r=t.b,n=t.c,i=t.d,o=t.tx,a=t.ty,s=this._vertexData,l=0;l<s.length/2;l++){var h=this._vertices[2*l],u=this._vertices[2*l+1];s[2*l]=e*h+n*u+o,s[2*l+1]=r*h+i*u+a}}},e.prototype._calculateBounds=function(){this.updateLocalBoundsSelf();var t=this._localBoundsSelf,e=this.transform.worldMatrix;e.transformPoint(t.x,t.y,$._p1),e.transformPoint(t.x+t.width,t.y,$._p2),e.transformPoint(t.x+t.width,t.y+t.height,$._p3),e.transformPoint(t.x,t.y+t.height,$._p4),U.createFromPoints(this._bounds,$._p1,$._p2,$._p3,$._p4)},e.prototype.updateLocalBoundsSelf=function(){this._localBoundsSelfId!=this._vertexDirty&&(this._localBoundsSelfId=this._vertexDirty,this._vertices.length<=2&&this._localBoundsSelf.clear(),U.createFromVertexData(this._localBoundsSelf,this._vertices))},e.prototype.hitTestPoint=function(e,r){return void 0===r&&(r=!1),this.visible?(n=t.prototype.hitTestPoint.call(this,e,r))?n:r&&!this.mouseEnable?null:(this.updateLocalBoundsSelf(),(n=this.displayObjectHitTestPoint(e,r))?this.hitTestPointAccuratly(e,r):null):null;var n},e.prototype.hitTestPointAccuratly=function(t,e){e?this.globalToLocal(t,ln):ln.set(t.x,t.y);for(var r=this._vertices,n=hn.points,i=this._indices,o=this._indices.length,a=0;a+2<o;a+=3){var s=2*i[a],l=2*i[a+1],h=2*i[a+2];if(n[0]=r[s],n[1]=r[s+1],n[2]=r[l],n[3]=r[l+1],n[4]=r[h],n[5]=r[h+1],hn.isPointIn(ln))return this}return null},Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._texture.removeEventListener("update",this._onTextureUpdate,this),this._uvs=null,this._vertices=null,this._indices=null,this._vertexData=null},e}(Q);!function(t){function e(e,r,n){void 0===r&&(r=10),void 0===n&&(n=10);var i=t.call(this,e)||this;return i.verticesX=r||10,i.verticesY=n||10,i.refresh(),i}R(e,t),e.prototype._refresh=function(){for(var t=this.texture,e=this.verticesX*this.verticesY,r=[],n=[],i=this.verticesX-1,o=this.verticesY-1,a=t.width/i,s=t.height/o,l=0;l<e;l++){var h=l%this.verticesX,u=l/this.verticesX|0;r.push(h*a,u*s),n.push(h/i,u/o)}this._vertices=new Float32Array(r),this._uvs=new Float32Array(n),this._indices=cn(this.verticesX,this.verticesY),this._vertexDirty++,this.multiplyUvs()}}(un);function cn(t,e){for(var r=t-1,n=r*(e-1),i=[],o=0;o<n;o++){var a=o%r,s=o/r|0,l=s*t+a,h=s*t+a+1,u=(s+1)*t+a,c=(s+1)*t+a+1;i.push(l,h,u),i.push(h,c,u)}return new Uint16Array(i)}var fn=cn(4,4),pn=(function(t){function e(e,r,n,i,o){void 0===r&&(r=10),void 0===n&&(n=10),void 0===i&&(i=10),void 0===o&&(o=10);var a=t.call(this,e)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=r,a._rightWidth=i,a._topHeight=n,a._bottomHeight=o,a._indices=fn,a._vertices=new Float32Array(32),a._uvs=new Float32Array(32),a.refresh(!0),a}R(e,t),e.prototype.updateHorizontalVertices=function(){var t=this._vertices,e=this._topHeight+this._bottomHeight,r=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this._vertices,e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this._worldAlpha,t.setBlendMode(this.blendMode);var r=this.worldMatrix;e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty);var n=this.texture.baseTexture,i=n.source,o=n.width,a=n.height;this.drawSegment(e,i,o,a,0,1,10,11),this.drawSegment(e,i,o,a,2,3,12,13),this.drawSegment(e,i,o,a,4,5,14,15),this.drawSegment(e,i,o,a,8,9,18,19),this.drawSegment(e,i,o,a,10,11,20,21),this.drawSegment(e,i,o,a,12,13,22,23),this.drawSegment(e,i,o,a,16,17,26,27),this.drawSegment(e,i,o,a,18,19,28,29),this.drawSegment(e,i,o,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,n,i,o,a,s){var l=this._uvs,h=this._vertices,u=(l[a]-l[i])*r,c=(l[s]-l[o])*n,f=h[a]-h[i],p=h[s]-h[o];u<1&&(u=1),c<1&&(c=1),f<1&&(f=1),p<1&&(p=1),t.drawImage(e,l[i]*r,l[o]*n,u,c,h[i],h[o],f,p)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),e.prototype._refresh=function(){var t=this._uvs,e=this.texture;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,n=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=n*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this._vertexDirty++,this.multiplyUvs()}}(un),function(t){function e(e,r){var n=t.call(this,e)||this;return n.points=r,n._vertices=new Float32Array(4*r.length),n._uvs=new Float32Array(4*r.length),n._indices=new Uint16Array(6*(r.length-1)),n.textureHeight=e.height,n.refresh(!0),n.refreshVertices(),n}R(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this.texture._uvs){this._vertices.length/4!==t.length&&(this._vertices=new Float32Array(4*t.length),this._uvs=new Float32Array(4*t.length),this._indices=new Uint16Array(6*(t.length-1)));var e=this._uvs,r=this._indices;e[0]=0,e[1]=0,e[2]=0,e[3]=1;for(var n=t.length,i=1;i<n;i++){var o=i/(n-1);e[s=4*i]=o,e[s+1]=0,e[s+2]=o,e[s+3]=1}var a=0;for(i=0;i<n-1;i++){var s=2*i;r[a++]=s,r[a++]=s+1,r[a++]=s+2,r[a++]=s+2,r[a++]=s+1,r[a++]=s+3}this.multiplyUvs()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1)){if(this._vertices.length/4!==t.length)return this._refresh(),void this.refreshVertices();for(var e,r=t[0],n=0,i=0,o=this._vertices,a=t.length,s=0;s<a;s++){var l=t[s],h=4*s;i=-((e=s<t.length-1?t[s+1]:l).x-r.x),n=e.y-r.y;var u=Math.sqrt(n*n+i*i),c=this.textureHeight/2;n/=u,i/=u,n*=c,i*=c,o[h]=l.x+n,o[h+1]=l.y+i,o[h+2]=l.x-n,o[h+3]=l.y-i,r=l}this._vertexDirty++}},e.prototype.update=function(){t.prototype.update.call(this),(this.autoUpdateVertices||this.textureHeight!==this.texture.height)&&(this.textureHeight=this.texture.height,this.refreshVertices())}}(un),function(t){function e(){var e=t.call(this)||this;e._textAlpha=1,e._textAlign=_.LEFT,e._verticalAlign=b.UP,e._textWidth=0,e._textHeight=0,e._lineSpacing=14,e._lineType=x.SINGLE,e._text="",e._font="Arial",e._size=12,e._fillColor="#ffffff",e._strokeColor="#ffffff",e._stroke=0,e._italic=!1,e._bold=!1,e._border=!1,e.realLines=[],e._instanceType="TextField";var r=it();return r.width=r.height=3,e.texture=Xt.fromCanvas(r,"textCanvas"),e.canvas=r,e.context=r.getContext("2d"),Xt.addToCache(e.texture,e.texture.baseTexture.textureCacheIds[0]),e.dirty=!0,e}return R(e,t),Object.defineProperty(e.prototype,"textAlpha",{get:function(){return this._textAlpha},set:function(t){this._textAlpha!=t&&(this._textAlpha=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign!=t&&(this._textAlign=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this._textWidth?this._textWidth:(this.updateText(),this.width-20)},set:function(t){this._textWidth!=t&&(this._textWidth=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this._textHeight?this._textHeight:(this.updateText(),this.height-20)},set:function(t){this._textHeight!=t&&(this._textHeight=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(t){this._lineSpacing!=t&&(this._lineSpacing=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineType",{get:function(){return this._lineType},set:function(t){this._lineType!=t&&(this._lineType=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text!=t&&(this._text=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this._font},set:function(t){this._font!=t&&(this._font=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size!=t&&(this._size=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillColor",{get:function(){return this._fillColor},set:function(t){this._fillColor!=t&&(this._fillColor=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._strokeColor!=t&&(this._strokeColor=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke!=t&&(this._stroke=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"italic",{get:function(){return this._italic},set:function(t){this._italic!=t&&(this._italic=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bold",{get:function(){return this._bold},set:function(t){this._bold!=t&&(this._bold=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"border",{get:function(){return this._border},set:function(t){this._border!=t&&(this._border=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype._prepContext=function(t){var e=this,r=e.size||12;r+="px ",r+=e.font,e._bold&&(r="bold "+r),e._italic&&(r="italic "+r),t.font=r,t.textAlign=e._textAlign||_.LEFT,t.textBaseline="top",t.fillStyle=Nt(e._fillColor,e._textAlpha)},e.prototype.getTextWidth=function(t){void 0===t&&(t=0);var e=this;return e.updateText(),e.context.measureText(e.realLines[t]).width},Object.defineProperty(e.prototype,"lines",{get:function(){return this.realLines.length},enumerable:!0,configurable:!0}),e.prototype._getMeasuredWidth=function(t){if("web"==nt())return this.context.measureText(t).width;for(var e=new RegExp("[一-龥]+"),r=/[\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3008|\u3009|\u3010|\u3011|\u300e|\u300f|\u300c|\u300d|\ufe43|\ufe44|\u3014|\u3015|\u2026|\u2014|\uff5e|\ufe4f|\uffe5]/,n=this.size,i=0,o=0;o<t.length;o++){var a=t[o];e.test(a)||r.test(a)?i+=n:i+=4*n/7}return i},e.prototype.updateText=function(){var t=this;if(t.dirty){if(t.dirty=!1,t._boundsID++,!t._text)return t.canvas.width=0,t.canvas.height=0,t._localBoundsSelf.clear(),t.anchorTexture={x:0,y:0},void t.texture.update();t._text+="";var e=t.canvas,r=t.context,n=t._text.toString().split(/(?:\r\n|\r|\n)/),i=[];t.realLines=i,t._prepContext(r);var o=t._textWidth;if(t._text.indexOf("\n")<0&&t._text.indexOf("\r")<0&&t._text.indexOf("\r\n")<0&&t.lineType==x.SINGLE){i[i.length]=n[0];var a=n[0],s=t._getMeasuredWidth(a);if(s>(o=o||s))for(var l=t._getMeasuredWidth(a[0]),h=a[0],u=0,c=a.length,f=1;f<c;f++){if((l+=u=t._getMeasuredWidth(a[f]))>o){i[0]=h;break}h+=a[f]}}else{if(!o)for(var p=0,d=n.length;p<d;p++){(a=n[p])&&(o=Math.max(t._getMeasuredWidth(a),o))}for(p=0,d=n.length;p<d;p++){if(a=n[p]){for(l=t._getMeasuredWidth(a[0]),h=a[0],u=0,c=a.length,f=1;f<c;f++)(l+=u=t._getMeasuredWidth(a[f]))>o?(i[i.length]=h,h=a[f],l=u):h+=a[f];i[i.length]=h}}}var m=t.size*i.length+t._lineSpacing*(i.length-1),v=t._textHeight||m,y=o,g=0;t._textAlign==_.CENTER?g=.5*y:t._textAlign==_.RIGHT&&(g=y);var w=y+20,T=v+20;e.width=w,e.height=T,r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height),t.border&&(r.beginPath(),r.strokeStyle="#000",r.lineWidth=1,r.strokeRect(10.5,10.5,y,v),r.closePath()),r.setTransform(1,0,0,1,g+10,10),t._prepContext(r);var S=t._lineSpacing+t.size,E=0;t._textHeight&&(t._verticalAlign==b.MIDDLE?E=.5*(t._textHeight-m):t._verticalAlign==b.DOWN&&(E=t._textHeight-m)),"tb"==nt()&&(E-=4);for(p=0;p<i.length;p++){t.stroke&&(r.strokeStyle=t.strokeColor,r.lineWidth=2*t.stroke,r.strokeText(i[p],0,E+p*S)),r.fillText(i[p],0,E+p*S)}t.offsetX=-10,t.offsetY=-10,this.anchorTexture={x:10.5/w,y:10/T},t.texture.update(),t._onTextureUpdate()}},e.prototype.calculateBounds=function(){this.updateText(),t.prototype.calculateBounds.call(this)},e.prototype._renderCanvas=function(e){this.updateText(),t.prototype._renderCanvas.call(this,e)},e.prototype._renderWebGL=function(e){this.updateText(),t.prototype._renderWebGL.call(this,e)},e.prototype.destroy=function(){this.canvas=null,this.context=null,t.prototype.destroy.call(this)},e}(Jt)),dn=(function(t){function e(){var e=t.call(this)||this;e._prompt="",e._promptColor="#eeeeee",e._textColor="#000000",e._instanceType="EditableText";var r=e,n=function(){r.htmlElement&&r.htmlElement.blur(),r.htmlElement.style.display="none",r.htmlElement.value?(r.text=r.htmlElement.value,r.fillColor=r.textColor):(r.text=r.prompt,r.fillColor=r.promptColor),window.scrollTo(0,0)};return e.addEventListener($t.CLICK,(function(t){r.initElement(),r.htmlElement.style.font=r.size+"px "+this.font,r.htmlElement.style.color=r.textColor,r.htmlElement.style.textAlign=r.textAlign,r.htmlElement.style.height=r.textHeight+"px",r.htmlElement.style.width=r.textWidth+"px",r.text!==r.prompt&&(r.htmlElement.value=r.text),r.text="",r.htmlElement.style.display="block",r.htmlElement.focus();var e=r.transform.worldMatrix,i=r.stage._dpi||r.stage.dpi;r.htmlElement.style.transform=r.htmlElement.style.webkitTransform="matrix("+(e.a/i).toFixed(4)+","+(e.b/i).toFixed(4)+","+(e.c/i).toFixed(4)+","+(e.d/i).toFixed(4)+","+(e.tx/i).toFixed(4)+","+(e.ty/i).toFixed(4)+")",r.stage.once($t.MOUSE_UP,n)})),e}R(e,t),Object.defineProperty(e.prototype,"prompt",{get:function(){return this._prompt},set:function(t){this._prompt!=t&&(this._prompt=t,this.dirty=!0,this.htmlElement&&this.htmlElement.value||(this.text=this._prompt))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"promptColor",{get:function(){return this._promptColor},set:function(t){this._promptColor!=t&&(this._promptColor=t,this.dirty=!0,this.htmlElement&&this.htmlElement.value||(this.fillColor=this._promptColor))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._textColor},set:function(t){this._textColor!=t&&(this._textColor=t,this.dirty=!0,this.htmlElement&&this.htmlElement.value&&(this.fillColor=this._textColor))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputValue",{get:function(){return this.htmlElement&&this.htmlElement.value||(this.text!=this._prompt?this.text:"")},set:function(t){this.htmlElement&&(this.htmlElement.value=t),this.text=t,this.fillColor=this.textColor},enumerable:!0,configurable:!0}),e.prototype.initElement=function(){var t=this;if(!t.htmlElement){t.htmlElement=document.createElement("input");var e=t.htmlElement,r=e.style;e.type="input",r.position="absolute",r.display="none",r.transformOrigin=r.WebkitTransformOrigin=r.webkitTransformOrigin="0 0 0",r.outline="none",r.borderWidth="thin",r.borderColor="#000",e.placeholder="",r.borderStyle="none",r.backgroundColor="transparent";var n=t.stage.canvas.parentNode;n?n.insertBefore(e,n.childNodes[0]):document.body.appendChild(e),e.onblur=function(){"ios"==h&&window.scrollTo({top:0,left:0,behavior:"smooth"})}}}}(pn),function(t){function e(r){void 0===r&&(r=0);var n=t.call(this)||this;n.inputType=0,n.isAutoDownKeyBoard=!0;var i=null,o=n;o._instanceType="InputText",r<2?(i=document.createElement("input")).type=e._inputTypeList[r]:((i=document.createElement("textarea")).style.resize="none",i.style.overflow="hidden"),o.inputType=r;var a=function(){o.isAutoDownKeyBoard&&"pc"!=h&&(o.htmlElement&&o.htmlElement.blur(),window.scrollTo(0,0))}.bind(o);return o.addEventListener(L.REMOVED_FROM_STAGE,(function(t){o.stage.removeEventListener($t.MOUSE_UP,a)})),o.addEventListener(L.ADDED_TO_STAGE,(function(t){o.stage.addEventListener($t.MOUSE_UP,a)})),o.init(i),n}R(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e);var r=this;r.htmlElement.style.outline="none",r.htmlElement.style.borderWidth="thin",r.htmlElement.style.borderColor="#000"},e.prototype.initInfo=function(t,e,r,n,i,o,a,s,l){void 0===l&&(l=!1);var h=this;h.htmlElement.placeholder=t,h.htmlElement.style.font=n+"px "+(i||"微软雅黑"),h.htmlElement.style.color=e,h.htmlElement.style.textAlign=r,h.border=l,h.textWidth=o,h.textHeight=a,2==h.inputType&&(h.htmlElement.style.lineHeight=s+"px")},Object.defineProperty(e.prototype,"lineSpacing",{get:function(){return parseInt(this.htmlElement.style.lineHeight)},set:function(t){this.htmlElement.style.lineHeight=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bold",{get:function(){return"bold"==this.htmlElement.style.fontWeight},set:function(t){var e=this.htmlElement.style;e.fontWeight=t?"bold":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"italic",{get:function(){return"italic"==this.htmlElement.style.fontStyle},set:function(t){var e=this.htmlElement.style;e.fontStyle=t?"italic":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return parseInt(this.htmlElement.style.height)},set:function(t){this.htmlElement.style.height=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return parseInt(this.htmlElement.style.width)},set:function(t){this.htmlElement.style.width=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.htmlElement.style.color},set:function(t){this.htmlElement.style.color=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"border",{get:function(){return"none"!=this.htmlElement.style.borderStyle},set:function(t){var e=this;t?(e.htmlElement.style.borderStyle="inset",e.htmlElement.style.backgroundColor="#fff"):(e.htmlElement.style.borderStyle="none",e.htmlElement.style.backgroundColor="transparent")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){if(this.htmlElement)return this.htmlElement.value},set:function(t){this.htmlElement&&(this.htmlElement.value=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxCharacters",{get:function(){var t=this.htmlElement.getAttribute("maxlength");return null===t?0:t},set:function(t){this.htmlElement.setAttribute("maxlength",t)},enumerable:!0,configurable:!0}),e.prototype.convertToTextField=function(t){return this.htmlElement&&this.text?((t=t||new pn).fillColor=this.color,t.text=this.text,t.size=parseInt(this.htmlElement.style.font.split("px")[0]),t.textAlign=this.htmlElement.style.textAlign,t.bold=this.bold,t.italic=this.italic,t.textWidth=this.textWidth,t.lineType=2==this.inputType?x.MULTI:x.SINGLE,t.position.copy(this.position),t.scale.copy(this.scale),t.rotation=this.rotation,t):null},e._inputTypeList=["input","password","textarea"]}(tt),[]),mn=(function(t){function e(e){var r=t.call(this)||this;return r._textAlign=_.CENTER,r._verticalAlign=b.MIDDLE,r._gap=0,r.textures=e,r}R(e,t),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign!==t&&(this._textAlign=t,this.adaptate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!==t&&(this._verticalAlign=t,this.adaptate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap!=t&&(this._gap=t,this.adaptate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){if(t!==this._text){this._text=t;for(var e=t||[],r=0;r<e.length;r++)if(this.children[r])this.children[r].text=e[r];else{var n=dn.shift();n?n.reset(this.textures):n=new mn(this.textures),n.text=e[r],this.addChild(n)}if(this.children.length>e.length)for(r=this.children.length-1;r>=e.length;r--){var i=this.children[r];this.removeChild(i),dn.push(i)}this.adaptate()}},enumerable:!0,configurable:!0}),e.prototype.adaptate=function(){if(this.children.length){for(var t,e=this.children.length,r=0,n=0;n<e;n++)r+=this.children[n].width;r+=(e-1)*this._gap,t=this._textAlign==_.LEFT?0:this._textAlign==_.RIGHT?-r:-r/2;for(var i=0,o=0;o<this.children.length;o++)this.children[o].x=t+i,i+=this.children[o].width+this._gap;var a=0;this._verticalAlign==b.DOWN?a=-1:this._verticalAlign==b.MIDDLE&&(a=-.5),this.children.forEach((function(t){t.y=t.height*a}))}}}(Q),function(t){function e(e){var r=t.call(this)||this;return r.textures=e,r}return R(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t,this.texture=this.textures[this._text]},enumerable:!0,configurable:!0}),e.prototype.reset=function(t){this.textures=t},e}(Jt)),vn=function(){function t(t,e,r){this._target=null,this._useTicks=!1,this.ignoreGlobalPause=!1,this.loop=!1,this.pluginData=null,this._steps=null,this.paused=!1,this.duration=0,this._prevPos=-1,this.position=null,this._prevPosition=0,this._stepPosition=0,this.passive=!1,this.initialize(t,e,r)}return t.get=function(e,r,n,i){return void 0===n&&(n=null),void 0===i&&(i=!1),i&&t.removeTweens(e),new t(e,r,n)},t.removeTweens=function(e){if(e.tween_count){for(var r=t._tweens,n=r.length-1;n>=0;n--)r[n]._target==e&&(r[n].paused=!0,r.splice(n,1));e.tween_count=0}},t.removeTweenSelf=function(e){if(e&&e._target&&e._target.tween_count){e.paused=!0;var r=t._tweens,n=r.indexOf(e);n>-1&&r.splice(n,1),e._target.tween_count--}},t.pauseTweens=function(e){if(e.tween_count)for(var r=t._tweens,n=r.length-1;n>=0;n--)r[n]._target==e&&(r[n].paused=!0)},t.resumeTweens=function(e){if(e.tween_count)for(var r=t._tweens,n=r.length-1;n>=0;n--)r[n]._target==e&&(r[n].paused=!1)},t.tick=function(e,r){void 0===r&&(r=!1);var n=e-t._lastTime;t._lastTime=e;for(var i=t._tweens.concat(),o=i.length-1;o>=0;o--){var a=i[o];r&&!a.ignoreGlobalPause||a.paused||a.$tick(a._useTicks?1:n)}return!1},t.flush=function(){var e=Date.now(),r=t._lastTime?e-t._lastTime:16.67;t._lastTime=e;for(var n=t._tweens.concat(),i=n.length-1;i>=0;i--){var o=n[i];o.paused||o.$tick(o._useTicks?1:r)}},t._register=function(e,r){var n=e._target,i=t._tweens;if(r)n&&(n.tween_count=n.tween_count>0?n.tween_count+1:1),i.push(e),t._inited||(t._inited=!0);else{n&&n.tween_count--;for(var o=i.length;o--;)if(i[o]==e)return void i.splice(o,1)}},t.removeAllTweens=function(){for(var e=t._tweens,r=0,n=e.length;r<n;r++){var i=e[r];i.paused=!0,i._target.tween_count=0}e.length=0},t.prototype.initialize=function(e,r,n){this._target=e,r&&(this._useTicks=r.useTicks,this.ignoreGlobalPause=r.ignoreGlobalPause,this.loop=r.loop,r.onChange?this.onChange=r.onChange.bind(r.onChangeObj):this.onChange=null,r.override&&t.removeTweens(e)),this.pluginData=n||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],r&&r.paused?this.paused=!0:t._register(this,!0),r&&null!=r.position&&this.setPosition(r.position,t.NONE)},t.prototype.setPosition=function(t,e){void 0===e&&(e=1),t<0&&(t=0);var r=t,n=!1;if(r>=this.duration)if(this.loop){var i=r%this.duration;r=r>0&&0===i?this.duration:i}else r=this.duration,n=!0;if(r==this._prevPos)return n;n&&this.setPaused(!0);var o=this._prevPos;if(this.position=this._prevPos=r,this._prevPosition=t,this._target&&this._steps.length>0){for(var a=this._steps.length,s=-1,l=0;l<a&&!("step"==this._steps[l].type&&(s=l,this._steps[l].t<=r&&this._steps[l].t+this._steps[l].d>=r));l++);for(l=0;l<a;l++)if("action"==this._steps[l].type)0!=e&&(this._useTicks?this._runAction(this._steps[l],r,r):1==e&&r<o?(o!=this.duration&&this._runAction(this._steps[l],o,this.duration),this._runAction(this._steps[l],0,r,!0)):this._runAction(this._steps[l],o,r));else if("step"==this._steps[l].type&&s==l){var h=this._steps[s];this._updateTargetProps(h,Math.min((this._stepPosition=r-h.t)/h.d,1))}}return this.onChange&&this.onChange(),n},t.prototype._runAction=function(t,e,r,n){void 0===n&&(n=!1);var i=e,o=r;e>r&&(i=r,o=e);var a=t.t;(a==o||a>i&&a<o||n&&a==e)&&t.f.apply(t.o,t.p)},t.prototype._updateTargetProps=function(e,r){var n,i,o,a,s,l;if(e||1!=r){if(this.passive=!!e.v,this.passive)return;e.e&&(r=e.e(r,0,1,1)),n=e.p0,i=e.p1}else this.passive=!1,n=i=this._curQueueProps;for(var h in this._initQueueProps){null==(a=n[h])&&(n[h]=a=this._initQueueProps[h]),null==(s=i[h])&&(i[h]=s=a),o=a==s||0==r||1==r||"number"!=typeof a?1==r?s:a:a+(s-a)*r;var u=!1;if(l=t._plugins[h])for(var c=0,f=l.length;c<f;c++){var p=l[c].tween(this,h,o,n,i,r,!!e&&n==i,!e);p==t.IGNORE?u=!0:o=p}u||(this._target[h]=o)}},t.prototype.setPaused=function(e){return this.paused==e||(this.paused=e,t._register(this,!e)),this},t.prototype._cloneProps=function(t){var e={};for(var r in t)e[r]=t[r];return e},t.prototype._addStep=function(t){return t.d>0&&(t.type="step",this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},t.prototype._appendQueueProps=function(e){var r,n,i,o,a;for(var s in e)if(void 0===this._initQueueProps[s]){if(n=this._target[s],r=t._plugins[s])for(i=0,o=r.length;i<o;i++)n=r[i].init(this,s,n);this._initQueueProps[s]=this._curQueueProps[s]=void 0===n?null:n}else n=this._curQueueProps[s];for(var s in e){if(n=this._curQueueProps[s],r=t._plugins[s])for(a=a||{},i=0,o=r.length;i<o;i++)r[i].step&&r[i].step(this,s,n,e[s],a);this._curQueueProps[s]=e[s]}return a&&this._appendQueueProps(a),this._curQueueProps},t.prototype._addAction=function(t){return t.t=this.duration,t.type="action",this._steps.push(t),this},t.prototype._set=function(t,e){for(var r in t)e[r]=t[r]},t.prototype.wait=function(t,e){if(null==t||t<=0)return this;var r=this._cloneProps(this._curQueueProps);return this._addStep({d:t,p0:r,p1:r,v:e})},t.prototype.to=function(t,e,r){return void 0===r&&(r=void 0),(isNaN(e)||e<0)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:r,p1:this._cloneProps(this._appendQueueProps(t))}),this.set(t)},t.prototype.by=function(t,e,r){for(var n in void 0===e&&(e=0),void 0===r&&(r=void 0),t)t[n]+=this._curQueueProps[n]||this._target[n];return this.to(t,e,r)},t.prototype.call=function(t,e,r){return void 0===e&&(e=void 0),void 0===r&&(r=void 0),this._addAction({f:t,p:r||[],o:e||this._target})},t.prototype.set=function(t,e){return void 0===e&&(e=null),this._appendQueueProps(t),this._addAction({f:this._set,o:this,p:[t,e||this._target]})},t.prototype.play=function(t){return t||(t=this),this.call(t.setPaused,t,[!1])},t.prototype.pause=function(t){return t||(t=this),this.call(t.setPaused,t,[!0])},t.prototype.$tick=function(t){this.paused||this.setPosition(this._prevPosition+t)},t.NONE=0,t.LOOP=1,t.REVERSE=2,t._tweens=[],t.IGNORE={},t._plugins={},t._inited=!1,t._lastTime=0,t}();(function(t){function e(e,r,n){var i=t.call(this,e)||this;return i._clicked=!1,i._instanceType="Button",i.textureUp=e,i.textureDown=r===e?null:r,i.textureDisable=n||e,i.textureUp&&(i.anchorX=i.textureUp.width/2,i.anchorY=i.textureUp.height/2),i.initButton(),i}R(e,t),e.prototype.changeTexture=function(t,e,r){this.textureUp=t,this.textureDown=e===t?null:e,this.textureDisable=r||t,this.textureUp&&(this.anchorX=this.textureUp.width/2,this.anchorY=this.textureUp.height/2),this._clicked&&this.textureDown?this.texture=this.textureDown:this.mouseEnable||this.textureStatusEnable?this.texture=this.textureUp:this.texture=this.textureDisable},e.prototype._mouseEvent=function(t){var e=this;e._clicked||(t.type==$t.MOUSE_DOWN?e.textureDown?e.texture=e.textureDown:(this.frames=null,vn.removeTweens(this),vn.get(this).to({scaleX:.9,scaleY:.9},50)):e.textureDown?e.texture=e.textureUp:(this.frames=this.framesOri,vn.removeTweens(this),vn.get(this).to({scaleX:1,scaleY:1},50)))},e.prototype.initButton=function(){var t=this;t.mouseChildren=!1,t.addEventListener("onMouseDown",t._mouseEvent,t),t.addEventListener("onMouseUp",t._mouseEvent,t),t.addEventListener("onMouseOut",t._mouseEvent,t),t.texture=t.textureUp},Object.defineProperty(e.prototype,"clicked",{get:function(){return this._clicked},set:function(t){var e=this;t!=e._clicked&&(t&&e._mouseEvent({type:"onMouseDown"}),e._clicked=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textureStatusEnable",{set:function(t){t?this.texture=this.textureUp:this.textureDisable&&(this.texture=this.textureDisable,this.frames=null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{set:function(t){this.mouseEnable=t,this.textureStatusEnable=t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.textureUp=null,this.textureDown=null,this.textureDisable=null,vn.removeTweens(this),t.prototype.destroy.call(this)}})(Jt),function(t){function e(e){var r=t.call(this)||this;return r.loop=1,r.count=0,r.showImage=new Jt,r.showImage.anchorTexture.set(.5,.5),r.addChild(r.showImage),r.texturesAll=e,r.currentFrame=0,r.addEventListener(L.ENTER_FRAME,r.onEnterFrame,r),r.frameRate=30,r}R(e,t),Object.defineProperty(e.prototype,"currentFrame",{set:function(t){this.texturesAll[t]?this.showImage.texture=this.texturesAll[t]:this.showImage.texture=null},enumerable:!0,configurable:!0}),e.prototype.getCurrentFrame=function(){return this.texturesAll.indexOf(this.showImage.texture)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this.texturesAll.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameRate",{get:function(){return this._frameRate},set:function(t){this._frameRate=t,this.allTime=this.texturesAll.length/this._frameRate*1e3},enumerable:!0,configurable:!0}),e.prototype.onEnterFrame=function(){if(this.isPlay){var t=(Date.now()-this.startTime)/this.allTime;t>=1?(this.loop--,0==this.loop?(this.isPlay=!1,this.callback&&this.callback()):(this.startTime=Date.now(),this.currentFrame=0)):this.currentFrame=t*this.texturesAll.length>>0}},e.prototype.play=function(t,e){void 0===t&&(t=1),this.startTime=Date.now(),this.isPlay=!0,this.currentFrame=0,this.loop=t,this.callback=e},e.prototype.reset=function(t){void 0===t&&(t=0),this.isPlay=!1,this.currentFrame=t},e.prototype.resetTexturesAll=function(t){this.texturesAll=t,this.currentFrame=0,this.frameRate=30}}(Q),function(){function t(){}t.get=function(t){return t<-1&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:t<0?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return e<.5?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){var r=2*Math.PI;return function(n){if(0==n||1==n)return n;var i=e/r*Math.asin(1/t);return-t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*r/e)}},t.getElasticOut=function(t,e){var r=2*Math.PI;return function(n){if(0==n||1==n)return n;var i=e/r*Math.asin(1/t);return t*Math.pow(2,-10*n)*Math.sin((n-i)*r/e)+1}},t.getElasticInOut=function(t,e){var r=2*Math.PI;return function(n){var i=e/r*Math.asin(1/t);return(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*r/e)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-i)*r/e)*.5+1}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.backIn=t.getBackIn(1.7),t.backOut=t.getBackOut(1.7),t.backInOut=t.getBackInOut(1.7),t.elasticIn=t.getElasticIn(1,.3),t.elasticOut=t.getElasticOut(1,.3),t.elasticInOut=t.getElasticInOut(1,.3*1.5)}(),function(t){function e(e,r,n,i,o,a,s){void 0===a&&(a=!0),void 0===s&&(s=1);var l=t.call(this,i,o,0,a)||this;l._items=null,l._isInit=0,l.data=[],l.downL=null,l._lastFirstId=-1,l._updateId=-1;var h=l;return h._instanceType="ScrollList",h._itemW=r,h._itemH=n,h._items=[],h._itemClass=e,h._itemCount=0,h._cols=s,h._updateViewRect(),h.addEventListener(L.ENTER_FRAME,h.flushData.bind(h)),l}R(e,t),Object.defineProperty(e.prototype,"loadingView",{get:function(){return this.downL},enumerable:!0,configurable:!0}),e.prototype.updateData=function(t,e){void 0===e&&(e=!0);var r=this;if(!r._isInit||e?r.data=t:r.data=r.data.concat(t),r._isInit=1,r._lastFirstId=-1,r._updateId=-1,r.maxDistance=Math.ceil(r.data.length/r._cols)*r._itemRow,r.downL){r.downL[r.paramXY]=Math.max(r.distance,r.maxDistance);var n=r.downL.getWH();r.maxDistance+="x"==r.paramXY?n.width:n.height}},e.prototype.flushData=function(){var t=this;if(t._isInit>0&&t._updateId!=t.view.transform._localID){t._updateId=t.view.transform._localID;var e=t.view[t.paramXY]>0?0:(Math.abs(Math.floor(t.view[t.paramXY]/t._itemRow))-1)*t._cols;if((e=e<0?0:e)!=t._lastFirstId&&(t._lastFirstId=e,e!=t._items[0].id))for(var r=0;r<t._cols;r++)t.speed>0?t._items.unshift(t._items.pop()):t._items.push(t._items.shift());for(var n=0;n<t._itemCount;n++){var i=t._items[n];1==t._isInit&&(i.sli_id=-1),i.sli_id!=e&&(i.initData(t.data[e]?e:-1,t.data[e]),i[t.paramXY]=Math.floor(e/t._cols)*t._itemRow,i[t._disParam]=e%t._cols*t._itemCol,t.data[e]?(i.sli_id=e,i.visible=!0):(i.sli_id=-1,i.visible=!1)),e++}t._isInit=2}},e.prototype.setViewRect=function(e,r,n){t.prototype.setViewRect.call(this,e,r,n);var i=this;i._itemRow&&i._itemCol&&i._updateViewRect()},e.prototype._updateViewRect=function(){var t=this;t.isVertical?(t._disParam="x",t._itemRow=t._itemH,t._itemCol=t._itemW):(t._disParam="y",t._itemRow=t._itemW,t._itemCol=t._itemH);var e=(Math.ceil(t.distance/t._itemRow)+1)*t._cols;if(e!=t._itemCount){if(e>t._itemCount)for(var r=t._itemCount;r<e;r++){var n=new t._itemClass;n.id=-1,n.data=null,t._items.push(n),t.view.addChild(n)}else for(r=0;r<t._itemCount-e;r++)t.view.removeChild(t._items.pop());t._itemCount=e,t._lastFirstId=-1}},e.prototype.setLoading=function(t){var e=this;if(e.downL){e.view.removeChild(e.downL);var r=e.downL.getWH();e.maxDistance-="x"==e.paramXY?r.width:r.height,e.downL=null}if(t){e.downL=t,e.view.addChild(t),e.downL[e.paramXY]=Math.max(e.distance,e.maxDistance);r=e.downL.getWH();e.maxDistance+="x"==e.paramXY?r.width:r.height}else e.isStop=!1},e.prototype.destroy=function(){var e=this;e._items=null,e._itemClass=null,e.data=null,e.downL=null,t.prototype.destroy.call(this)}}(function(t){function e(e,r,n,i,o){void 0===i&&(i=!0),void 0===o&&(o=!1);var a=t.call(this)||this;a.isVertical=!0,a.viewWidth=0,a.viewHeight=0,a._tweenId=0,a.maxDistance=1040,a.distance=0,a.minDis=2,a.maskObj=new on,a.view=new Q,a.lastValue=0,a.speed=0,a.addSpeed=0,a.isStop=!0,a.maxSpeed=100,a.fSpeed=20,a.paramXY="y",a.stopTimes=-1,a.isMouseDownState=0,a.autoScroll=!1,a.isSpringBack=!0;var s=a;return s._instanceType="ScrollPage",s.addChild(s.maskObj),s.addChild(s.view),o||(s.view.mask=s.maskObj,s.maskObj.isUsedToMask=!1),s.maskObj.alpha=0,s.maxDistance=n,s.setViewRect(e,r,i),s.addEventListener(L.ADDED_TO_STAGE,(function(t){s.stage.addEventListener($t.MOUSE_MOVE,s.onMouseEvent,s),s.stage.addEventListener($t.MOUSE_UP,s.onMouseEvent,s)})),s.addEventListener(L.REMOVED_FROM_STAGE,(function(t){s.stage.removeEventListener($t.MOUSE_MOVE,s.onMouseEvent,s),s.stage.removeEventListener($t.MOUSE_UP,s.onMouseEvent,s)})),s.addEventListener($t.MOUSE_DOWN,s.onMouseEvent,s,!1),s.addEventListener(L.ENTER_FRAME,(function(){var t=s.view;if(!s.autoScroll){if(!s.isSpringBack){if(t[s.paramXY]>0)return s.addSpeed=0,s.speed=0,s.isStop=!0,void(t[s.paramXY]=0);if(t[s.paramXY]<s.distance-s.maxDistance)return s.addSpeed=0,s.speed=0,s.isStop=!0,t[s.paramXY]=s.distance-s.maxDistance,void(s.distance>s.maxDistance&&(t[s.paramXY]=0))}if(s.isStop)s.stopTimes>=0&&(s.stopTimes++,s.stopTimes>=15&&(s.speed=0,(t[s.paramXY]>0||t[s.paramXY]<s.distance-s.maxDistance)&&(s.isStop=!1,s.stopTimes=-1,s.isMouseDownState=0)));else if(Math.abs(s.speed)>0)t[s.paramXY]+=s.speed,t[s.paramXY]>0||t[s.paramXY]<s.distance-s.maxDistance?s.speed+=s.addSpeed*s.fSpeed:s.speed+=s.addSpeed,s.speed*s.addSpeed>0&&(s.dispatchEvent(L.SCROLL_STOP),s.speed=0);else if(0!=s.addSpeed){if(t[s.paramXY]>0||t[s.paramXY]<s.distance-s.maxDistance){var e=0;t[s.paramXY]<s.distance-s.maxDistance&&s.distance<s.maxDistance&&(e=s.distance-s.maxDistance),t[s.paramXY]+=.4*(e-t[s.paramXY]),Math.abs(e-t[s.paramXY])<.1&&(s.isStop=!0,s.addSpeed>0?s.dispatchEvent(L.SCROLL_TO_END):s.dispatchEvent(L.SCROLL_TO_HEAD))}}else s.isStop=!0}})),a}return R(e,t),e.prototype.setViewRect=function(t,e,r){var n=this;n.maskObj.clear(),n.maskObj.beginFill("#000000"),n.maskObj.drawRect(0,0,t,e),n.viewWidth=t,n.viewHeight=e,n.maskObj.endFill(),n.isVertical=r,r?(n.distance=n.viewHeight,n.paramXY="y"):(n.distance=n.viewWidth,n.paramXY="x"),n.isVertical=r},e.prototype.onMouseEvent=function(t){var e=this,r=e.view;if(t.type==$t.MOUSE_DOWN)t.stopPropagation(),e.isStop||(e.isStop=!0),e.autoScroll&&(e.autoScroll=!1,vn.removeTweens(e.view)),e.isVertical?e.lastValue=t.stageY:e.lastValue=t.stageX,e.speed=0,e.isMouseDownState=1;else if(t.type==$t.MOUSE_MOVE){if(0==e.isMouseDownState)return;1==e.isMouseDownState&&e.dispatchEvent(L.SCROLL_START),e.isMouseDownState=2;var n=void 0;if(n=e.isVertical?t.stageY:t.stageX,e.speed=n-e.lastValue,e.speed>e.minDis?(e.addSpeed=-2,e.speed>e.maxSpeed&&(e.speed=e.maxSpeed)):e.speed<-e.minDis?(e.speed<-e.maxSpeed&&(e.speed=-e.maxSpeed),e.addSpeed=2):e.speed=0,0!=e.speed){var i=1;(r[e.paramXY]>0||r[e.paramXY]<e.distance-e.maxDistance)&&(i=.2),r[e.paramXY]+=(n-e.lastValue)*i}e.lastValue=n,e.stopTimes=0}else e.isStop=!1,e.stopTimes=-1,0==e.speed&&2==e.isMouseDownState&&e.dispatchEvent(L.SCROLL_STOP),e.isMouseDownState=0},e.prototype.scrollTo=function(t,e){var r;void 0===e&&(e=0);var n=this,i="x"==n.paramXY?n.viewWidth:n.viewHeight;t<0?t=0:t>n.maxDistance-i&&(t=n.maxDistance-i),Math.abs(n.view[n.paramXY]+t)>2&&(n.autoScroll=!0,n.isStop=!0,n.isMouseDownState=0,vn.get(n.view).to((r={},r[n.paramXY]=-t,r),e).call((function(){n.view[n.paramXY]=-t,n.autoScroll=!1})),0==n.speed&&n.dispatchEvent(L.SCROLL_START))},e.prototype.destroy=function(){vn.removeTweens(this.view);var e=this;e.maskObj.destroy(),e.view.destroy(),e.maskObj=null,e.view=null,t.prototype.destroy.call(this)},e}(Q)),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}R(e,t),e.prototype.playWords=function(t,e,r){var n=this;void 0===e&&(e=100);for(var i=t.split("\n"),o=[],a=0;a<i.length;a++){for(var s=i[a],l="",h=0;h<a;)l+=i[h],l+="\n",h++;for(var u=0;u<s.length;u++){var c=""+l;c+=s.substring(0,u+1),o.push(c)}}for(var f=function(t){var i=o[t];setTimeout((function(){n.text=i,t==o.length-1&&r&&r()}),e*t)},p=0;p<o.length;p++)f(p)}}(pn),function(t){function e(e){var r=t.call(this)||this;r.lockStep=!1,r._curFrame=1,r._isPlaying=!0,r._isFront=!0,r.frameCount=0,r._lastFrame=0,r.commonDeltaTime=1e3/60;var n=r;return n._instanceType="MovieClip",e&&n.init(e),r}R(e,t),Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._curFrame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFront",{get:function(){return this._isFront},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this.rawData&&this.rawData.frames||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoWidth",{get:function(){return this.rawData&&this.rawData.videoSize.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoHeight",{get:function(){return this.rawData&&this.rawData.videoSize.height},enumerable:!0,configurable:!0}),e.prototype.init=function(t){if(t){if(this.removeAllChildren(),this.startAniRangeFun&&this.removeEventListener(L.ENTER_FRAME,this.startAniRangeFun,this),this.rawData=t,this.timeInterval=1e3/t.FPS,this.startTime=Date.now(),this.startFrame=1,this.deltaFrame=60/t.FPS,this.frameCount=this.deltaFrame,this._curFrame=1,t.images&&!t.textures)for(var e in t.textures={},t.images){var r=t.images[e];0!==r.indexOf("iVBO")&&0!==r.indexOf("/9j/2w")||(r="data:image/png;base64,"+r);var n=ot();n.src=r,t.textures[e]=new Xt(new Gt(n))}this.initChildren(t.sprites)}},e.prototype.initChildren=function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];if(n.imageKey){var i=this.addChild(new Jt(this.rawData.textures?this.rawData.textures[n.imageKey]:zt[n.imageKey]||zt[n.imageKey+".png"]||null));i.frames=n.frames,n.frames[0].alpha<.05?i.alpha=0:(i.alpha=n.frames[0].alpha,i.transform.localMatrix.copy(n.frames[0].transform),i.transform._parentID=-1),i.framesOri=n.frames,i.imageKey=n.imageKey}}},e.prototype.setImage=function(t,e){for(var r=[],n=0;n<this.children.length;n++)this.children[n].imageKey==t&&r.push(this.children[n]);if(r.length){var i=r[0].texture,o=i.width,a=i.height,s=ot();s.onload=function(){var t;if(s.width==o&&s.height==a)t=Xt.from(s);else{var e=it();e.width=o,e.height=a;var n=e.getContext("2d"),i=o/a,l=s.width/s.height;i>l?n.drawImage(s,0,0,s.width,s.height,(o-l*a)/2,0,l*a,a):n.drawImage(s,0,0,s.width,s.height,0,(a-o/l)/2,o,o/l),t=Xt.fromCanvas(e)}r.forEach((function(e){e.texture=t}))},s.src=e}},e.prototype.stop=function(){this._isPlaying=!1},e.prototype.nextFrame=function(){var t=this;t._curFrame<t.totalFrames&&t._curFrame++,t._isPlaying=!1},e.prototype.prevFrame=function(){var t=this;t._curFrame>1&&t._curFrame--,t._isPlaying=!1},e.prototype.gotoAndStop=function(t){var e=this;e._isPlaying=!1,t>e.totalFrames&&(t=e.totalFrames),t<1&&(t=1),e._curFrame=t},e.prototype.play=function(t){void 0===t&&(t=!0);var e=this;e.frameCount=e.deltaFrame,e.startTime=Date.now(),e.startFrame=e._curFrame,e._isPlaying=!0,e._isFront=t},Object.defineProperty(e.prototype,"isInTimeFrame",{get:function(){return this.frameCount==this.deltaFrame},enumerable:!0,configurable:!0}),e.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=!0);var r=this;r._isFront=e,r._isPlaying=!0,t>r.totalFrames&&(t=r.totalFrames),t<1&&(t=1),r.frameCount=r.deltaFrame,r.startTime=Date.now(),r._curFrame=t,r.startFrame=r._curFrame},e.prototype.startAniRange=function(t,e,r,n){var i=this;if(void 0===t&&(t=1),void 0===e&&(e=this.totalFrames),void 0===r&&(r=1),t=t||1,e=e||this.totalFrames,r=r||0,r=Math.max(0,r),t<1&&(t=1),t>this.totalFrames&&(t=this.totalFrames),e<1&&(e=1),e>this.totalFrames&&(e=this.totalFrames),t!==e){this._isFront=t<e,this.startAniRangeFun&&this.removeEventListener(L.ENTER_FRAME,this.startAniRangeFun,this),this._curFrame=t,this.frameCount=this.deltaFrame,this.startTime=Date.now(),this.startFrame=this._curFrame,this._isPlaying=!0;var o=r?r+.5>>0:1/0;this.addEventListener(L.ENTER_FRAME,this.startAniRangeFun=function(r){r.target._isFront?(r.target.currentFrame>=e||r.target._endMark)&&(--o<=0?(r.target.gotoAndStop(e),r.target.removeEventListener(L.ENTER_FRAME,i.startAniRangeFun,i),i.startAniRangeFun=null,n&&n()):r.target.gotoAndPlay(t)):(r.target.currentFrame<=t||r.target._endMark)&&(--o<=0?(r.target.gotoAndStop(t),r.target.removeEventListener(L.ENTER_FRAME,i.startAniRangeFun,i),i.startAniRangeFun=null,n&&n()):r.target.gotoAndPlay(e,!1))},this)}else this.gotoAndStop(t)},e.prototype.updateFrame=function(){var t=this;if(0!=t.totalFrames&&1!=t.totalFrames){var e=!1;if(t._lastFrame!=t._curFrame?(e=!0,t._lastFrame=t._curFrame,t.startTime=Date.now(),t.startFrame=t._curFrame,t._endMark=!1):t._isPlaying&&(t.lockStep?e=t.getCurFrameWhenLockStep():0==--t.frameCount&&(t.frameCount=t.deltaFrame,e=!0,t._isFront?(t._curFrame++,t._curFrame>t.totalFrames&&(t._curFrame=1)):(t._curFrame--,t._curFrame<1&&(t._curFrame=t.totalFrames)),t._lastFrame=t._curFrame)),e){for(var r=0,n=t.children.length;r<n;r++){var i=t.children[r];if(i.frames&&i.frames[t._curFrame-1]){var o=i.frames[t._curFrame-1];if(o.alpha<.05)i.alpha=0;else if(i.alpha=o.alpha,j.isEqual(i.transform.localMatrix,o.transform)||(i.transform.localMatrix.copy(o.transform),i.transform._parentID=-1),o.maskPath){i.cusMask||(i.cusMask=new sn),i.mask||(i.mask=i.addChild(i.cusMask));var a=i.mask;this.updateMask(a,o.maskPath)}else i.mask&&(i.removeChild(i.mask),i.mask=null)}}t.lockStep?t._endMark&&t.hasEventListener(L.END_FRAME)&&t.dispatchEvent(L.END_FRAME,{frameIndex:t._curFrame,frameName:"endFrame"}):(1==t._curFrame&&!t._isFront||t._curFrame==t.totalFrames&&t._isFront)&&t.hasEventListener(L.END_FRAME)&&t.dispatchEvent(L.END_FRAME,{frameIndex:t._curFrame,frameName:"endFrame"})}}},e.prototype.getCurFrameWhenLockStep=function(){var t=(Date.now()-this.startTime)/this.timeInterval>>0;return t==this.lastDeltaFrame?(this.frameCount=0,!1):(this._endMark=!1,this.frameCount=this.deltaFrame,this.lastDeltaFrame=t,this._isFront?(this._curFrame=(this.startFrame+t)%this.totalFrames,0==this._curFrame?(this._curFrame=this.totalFrames,this._endMark=!0):this._lastFrame>this._curFrame&&this._lastFrame!=this.totalFrames&&(this._endMark=!0)):(this._curFrame=(this.startFrame-t)%this.totalFrames,0==this._curFrame?this._curFrame=this.totalFrames:this._curFrame<0&&(this._curFrame+=this.totalFrames),(1==this._curFrame||this._lastFrame<this._curFrame&&1!=this._lastFrame)&&(this._endMark=!0)),this._lastFrame=this._curFrame,!0)},e.prototype.update=function(){this.updateFrame(),t.prototype.update.call(this)},e.prototype.destroy=function(){this.rawData=null,t.prototype.destroy.call(this)},e.prototype.updateMask=function(t,e){t.clear(),e._transform;var r={x:0,y:0,x1:0,y1:0,x2:0,y2:0};t.beginFill();e._d.replace(/([a-zA-Z])/g,"|||$1 ").replace(/,/g," ").split("|||").forEach((function(e){if(0!=e.length){var n=e.substr(0,1);if("MLHVCSQRZmlhvcsqrz".indexOf(n)>=0){var i=e.substr(1).trim().split(" ");switch(n){case"M":r.x=Number(i[0]),r.y=Number(i[1]),t.moveTo(r.x,r.y);break;case"m":r.x+=Number(i[0]),r.y+=Number(i[1]),t.moveTo(r.x,r.y);break;case"L":r.x=Number(i[0]),r.y=Number(i[1]),t.lineTo(r.x,r.y);break;case"l":r.x+=Number(i[0]),r.y+=Number(i[1]),t.lineTo(r.x,r.y);break;case"H":r.x=Number(i[0]),t.lineTo(r.x,r.y);break;case"h":r.x+=Number(i[0]),t.lineTo(r.x,r.y);break;case"V":r.y=Number(i[0]),t.lineTo(r.x,r.y);break;case"v":r.y+=Number(i[0]),t.lineTo(r.x,r.y);break;case"C":r.x1=Number(i[0]),r.y1=Number(i[1]),r.x2=Number(i[2]),r.y2=Number(i[3]),r.x=Number(i[4]),r.y=Number(i[5]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y);break;case"c":r.x1=r.x+Number(i[0]),r.y1=r.y+Number(i[1]),r.x2=r.x+Number(i[2]),r.y2=r.y+Number(i[3]),r.x+=Number(i[4]),r.y+=Number(i[5]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y);break;case"S":r.x1&&r.y1&&r.x2&&r.y2?(r.x1=r.x-r.x2+r.x,r.y1=r.y-r.y2+r.y,r.x2=Number(i[0]),r.y2=Number(i[1]),r.x=Number(i[2]),r.y=Number(i[3]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y)):(r.x1=Number(i[0]),r.y1=Number(i[1]),r.x=Number(i[2]),r.y=Number(i[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y));break;case"s":r.x1&&r.y1&&r.x2&&r.y2?(r.x1=r.x-r.x2+r.x,r.y1=r.y-r.y2+r.y,r.x2=r.x+Number(i[0]),r.y2=r.y+Number(i[1]),r.x+=Number(i[2]),r.y+=Number(i[3]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y)):(r.x1=r.x+Number(i[0]),r.y1=r.y+Number(i[1]),r.x+=Number(i[2]),r.y+=Number(i[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y));break;case"Q":r.x1=Number(i[0]),r.y1=Number(i[1]),r.x=Number(i[2]),r.y=Number(i[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y);break;case"q":r.x1=r.x+Number(i[0]),r.y1=r.y+Number(i[1]),r.x+=Number(i[2]),r.y+=Number(i[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y);break;case"A":case"a":break;case"Z":case"z":t.closePath()}}}})),t.endFill()},e.deepCopyFrames=function(t,e,r,n,i,o,a,s){void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=1),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0);var l=[];o*=Math.PI/180;var h={};h.a=Math.cos(o)*n,h.b=Math.sin(o)*n,h.c=-Math.sin(o)*i,h.d=Math.cos(o)*i,h.tx=e+a-(a*h.a+s*h.c),h.ty=r+s-(a*h.b+s*h.d);for(var u=0;u<t.length;u++){var c=t[u],f=c.transform,p={alpha:0,transform:null};p.alpha=c.alpha,p.transform={a:h.a*f.a+h.b*f.c,b:h.a*f.b+h.b*f.d,c:h.c*f.a+h.d*f.c,d:h.c*f.b+h.d*f.d,tx:h.tx*f.a+h.ty*f.c+f.tx,ty:h.tx*f.b+h.ty*f.d+f.ty},l.push(p)}return l}}(Q),function(){var t={};var e="function"==typeof Float32Array;function r(t,e){return 1-3*e+3*t}function n(t,e){return 3*e-6*t}function i(t){return 3*t}function o(t,e,o){return((r(e,o)*t+n(e,o))*t+i(e))*t}function a(t,e,o){return 3*r(e,o)*t*t+2*n(e,o)*t+i(e)}function s(t){this._p=t,this._mSampleValues=e?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}s.prototype={get:function(t){var e=this._p[0],r=this._p[1],n=this._p[2],i=this._p[3];return this._precomputed||this._precompute(),e===r&&n===i?t:0===t?0:1===t?1:o(this._getTForX(t),r,i)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],n=this._p[3];this._precomputed=!0,t===e&&r===n||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],r=0;r<11;++r)this._mSampleValues[r]=o(.1*r,t,e)},_getTForX:function(t){for(var e=this._p[0],r=this._p[2],n=this._mSampleValues,i=0,s=1;10!==s&&n[s]<=t;++s)i+=.1;var l=i+.1*((t-n[--s])/(n[s+1]-n[s])),h=a(l,e,r);return h>=.001?function(t,e,r,n){for(var i=0;i<4;++i){var s=a(e,r,n);if(0===s)return e;e-=(o(e,r,n)-t)/s}return e}(t,l,e,r):0===h?l:function(t,e,r,n,i){var a,s,l=0;do{(a=o(s=e+(r-e)/2,n,i)-t)>0?r=s:e=s}while(Math.abs(a)>1e-7&&++l<10);return s}(t,i,i+.1,e,r)}}}();!function(t){function e(e){var r=t.call(this)||this;return r.deltaFrame=1,r._instanceType="Lottie",e&&r.init(e),r}R(e,t),Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this.rawData&&this.rawData.op-this.rawData.ip||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoWidth",{get:function(){return this.rawData&&this.rawData.w||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoHeight",{get:function(){return this.rawData&&this.rawData.h||0},enumerable:!0,configurable:!0}),e.prototype.init=function(t){t&&(this.rawData=t,this.timeInterval=1e3/t.fr,this.deltaFrame=60/t.fr,this.name=t.nm,t.assets&&!t.textures&&(t.textures={},t.assets.forEach((function(e){var r=ot();r.src=e.p,t.textures[e.id]=new Xt(new Gt(r))}))),this.initChildren())},e.prototype.initChildren=function(){for(var t=this.rawData.layers.slice(),e=t.length-1;e>=0;e--){var r=t[e];this.addChild(new Jt(r.refId?this.rawData.textures?this.rawData.textures[r.refId]:zt[r.refId]||zt[r.refId+".png"]:null)).layerData=r}this.initState()},e.prototype.initState=function(t){void 0===t&&(t=this.children);for(var e=0;e<t.length;e++){var r=t[e];if(r.layerData){var n=r.layerData;r.alpha=n.ks.o.k[0]?n.ks.o.k[0].s[0]/100:n.ks.o.k/100,r.rotation=n.ks.r.k[0]?n.ks.r.k[0].s[0]:n.ks.r.k;var i="number"==typeof n.ks.a.k[0]?n.ks.a.k:n.ks.a.k[0].s;r.anchor.set(i[0],i[1]);i="number"==typeof n.ks.p.k[0]?n.ks.p.k:n.ks.p.k[0].s;r.position.set(i[0]-r.anchorX,i[1]-r.anchorY);i="number"==typeof n.ks.s.k[0]?n.ks.s.k:n.ks.s.k[0].s;r.scale.set(i[0]/100,i[1]/100),r.visible=n.ip<=0}r.children.length&&this.initState(r.children)}},e.prototype.play=function(t,e){void 0===t&&(t=0),this.stop(!0),this.loops=t,this.callback=e,this.addTweens()},e.prototype.stop=function(t){void 0===t&&(t=!1),vn.removeTweens(this),this.children.forEach((function(t){vn.removeTweens(t)})),t&&this.initState()},e.prototype.addTweens=function(t){var e=this;void 0===t&&(t=this.children);for(var r,n,i,o=function(){var e=t[s];if(e.layerData){var o=e.layerData;o.ks.o.k.length&&a.addTween(e,"o"),o.ks.r.k.length&&a.addTween(e,"r"),"number"!=typeof o.ks.p.k[0]&&a.addTween(e,"p"),"number"!=typeof o.ks.s.k[0]&&a.addTween(e,"s"),r=vn.get(e,{loop:!0}),(o.ip>0||o.op<a.rawData.op)&&(n=o.ip<0?0:o.ip,i=o.op>a.rawData.op?a.rawData.op:o.op,r.wait(n*a.timeInterval).call((function(){e.visible=!0})).wait((i-n)*a.timeInterval).call((function(){e.visible=!1})).wait((a.rawData.op-i)*a.timeInterval))}e.children.length&&a.addTweens(e.children)},a=this,s=0;s<t.length;s++)o();vn.get(this,{loop:!0}).wait((this.rawData.op-this.rawData.ip)*this.timeInterval).call((function(){0==--e.loops&&(e.stop(),e.callback&&e.callback())}))},e.prototype.addTween=function(t,e){var r=t.layerData.ks[e].k,n=vn.get(t,{loop:!0}),i=0;if(t.layerData.ks[e].x){var o=t.layerData.ks[e].x,a=+o.replace(/[^0-9]/gi,"");if(o.indexOf("loopOut")>=0){for(var s=[],l=0,h=0;h<r.length;h++){if((T=r[h]).t>t.layerData.op)break;var u=(b=T.t-l)*this.timeInterval,c=E(T);0==h&&T.t>0?(n.wait(u),i+=u):0==h&&0==T.t?(n.set(c),s.push({obj:c,deltaT:b,deltaTime:u,isSet:!0})):T.t-l==1||1===T.h?(n.wait(u).set(c),s.push({obj:c,deltaT:b,deltaTime:u,isSet:!0}),i+=u):(n.to(c,u),s.push({obj:c,deltaT:b,deltaTime:u}),i+=u),l=T.t}if(o.indexOf("pingpong")>=0&&r[r.length-1].t<t.layerData.op){var f=Math.round((t.layerData.op-r[r.length-1].t)/(r[r.length-1].t-r[0].t));l+=f*(r[r.length-1].t-r[0].t);for(var p=!1;--f;){if(p)for(var d=0;d<s.length;d++)n.to(s[d].obj,s[d].deltaTime),i+=s[d].deltaTime;else for(d=s.length-1;d>=1;d--)n.to(s[d-1].obj,s[d].deltaTime),i+=s[d].deltaTime;p=!p}}else if(o.indexOf("cycle")>=0&&r[r.length-1].t<t.layerData.op){for(var m=r.length-1,v=Math.floor((t.layerData.op-r[m].t)/(r[m].t-r[m-(a||m)].t)),y=s.slice(-a);v;){v--;for(d=0;d<y.length;d++)y[d].isSet?n.wait(y[d].deltaTime).set(y[d].obj):n.to(y[d].obj,y[d].deltaTime),i+=y[d].deltaTime}var g=(t.layerData.op-r[m].t)%(r[m].t-r[m-(a||m)].t);for(d=0;d<y.length;d++){if(!(y[d].deltaT<=g)){if(g>0){var _=yn(0==d?gn(y[d].obj,n._initQueueProps):y[d-1].obj,y[d].obj,g/y[d].deltaT);n.to(_,g*this.timeInterval),i+=g*this.timeInterval}break}y[d].isSet?n.wait(y[d].deltaTime).set(y[d].obj):n.to(y[d].obj,y[d].deltaTime),g-=y[d].deltaT,i+=y[d].deltaTime}}}else if(o.indexOf("loopIn")>=0){for(s=[],l=0,h=0;h<r.length;h++){var b;u=(b=(T=r[h]).t-l)*this.timeInterval,c=E(T);T.t-l==1||1===T.h?s.push({obj:c,deltaT:b,deltaTime:u,isSet:!0,timeOri:T.t}):s.push({obj:c,deltaT:b,deltaTime:u,timeOri:T.t}),l=T.t}if(o.indexOf("pingpong")>=0&&r[0].t>0){s=function(t,e,r){var n=t[0].deltaT;e>=t.length&&(e=0);var i=t.slice(0,e?e+1:t.length),o=t[0].deltaTime/t[0].deltaT,a=[],s=!0,l=0,h=0;for(;n>0;){s?l++:l--,l>i.length-1?(s=!1,l-=2):l<0&&(s=!0,l+=2);var u=Math.abs(i[h].timeOri-i[l].timeOri);a.unshift({obj:i[h].obj,deltaT:u,deltaTime:u*o,timeOri:i[h].timeOri,isSet:i[h].isSet}),h=l,n-=u}a.unshift({obj:i[h].obj,deltaT:0,deltaTime:0,timeOri:i[h].timeOri,isSet:!0});for(var c=1;c<t.length&&!(t[c].timeOri>r);c++)a.push(t[c]);return a}(s,a,t.layerData.op);for(d=0;d<s.length;d++)s[d].isSet?n.wait(s[d].deltaTime).set(s[d].obj):n.to(s[d].obj,s[d].deltaTime),i+=s[d].deltaTime}else if(o.indexOf("cycle")>=0&&r[0].t>0){s=function(t,e,r,n){void 0===n&&(n=0);var i=t[0].deltaT-n;e>=t.length&&(e=0);var o=t.slice(0,e?e+1:t.length),a=[],s=0;for(;i>0;)--s<0&&(s=o.length-1),s?(a.unshift(o[s]),i-=o[s].deltaT):a.unshift({obj:o[0].obj,deltaT:0,deltaTime:0,timeOri:o[0].timeOri,isSet:!0});a.unshift({obj:o[0].obj,deltaT:0,deltaTime:0,timeOri:o[0].timeOri,isSet:!0}),a.push({obj:o[0].obj,deltaT:0,deltaTime:0,isSet:!0});for(var l=1;l<t.length&&!(t[l].timeOri>r);l++)a.push(t[l]);return a}(s,a,t.layerData.op,t.layerData.ip),t.layerData.ip&&(n.wait(t.layerData.ip*this.timeInterval),i+=t.layerData.ip*this.timeInterval);for(d=0;d<s.length;d++)s[d].isSet?n.wait(s[d].deltaTime).set(s[d].obj):n.to(s[d].obj,s[d].deltaTime),i+=s[d].deltaTime}var x=Math.min(t.layerData.op,this.rawData.op);if(i<x*this.timeInterval){var w=x*this.timeInterval-i;n.wait(w),i+=w}}t.layerData.op<this.rawData.op&&(n.wait((this.rawData.op-t.layerData.op)*this.timeInterval),i+=(this.rawData.op-t.layerData.op)*this.timeInterval)}else{for(l=0,h=0;h<r.length;h++){var T;c=E(T=r[h]),u=void 0;if(T.t<0){if(!r[h+1]||r[h+1].t<0)break;c=yn(c,E(r[h+1]),-T.t/(r[h+1].t-T.t)),n.set(c),l=0}else if(T.t>this.rawData.op){if(!r[h-1]||r[h-1].t>this.rawData.op)break;var S=this.rawData.op-r[h-1].t;u=S*this.timeInterval,c=yn(E(r[h-1]),c,S/(T.t-r[h-1].t)),n.to(c,u),i+=u,l=this.rawData.op}else u=(T.t-l)*this.timeInterval,0==h&&T.t>0?n.wait(u):0==h&&0==T.t?n.set(c):n.to(c,u),i+=u,l=T.t}this.rawData.op>l&&n.wait((this.rawData.op-l)*this.timeInterval)}function E(r){var n;switch(e){case"r":n={rotation:r.s[0]};break;case"o":n={alpha:r.s[0]/100};break;case"s":n={scaleX:r.s[0]/100,scaleY:r.s[1]/100};break;case"p":n={x:r.s[0]-t.anchorX,y:r.s[1]-t.anchorY}}return n}},e.prototype.updateTransform=function(){var t=this;this.displayObjectUpdateTransform(),this.children.forEach((function(e){t._recursivePostUpdateTransformAA(e)})),this.children.forEach((function(t){t.mark=!1}))},e.prototype.findChildByInd=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].layerData&&this.children[e].layerData.ind===t)return this.children[e];return null},e.prototype._recursivePostUpdateTransformAA=function(t){if(t.layerData&&t.layerData.parent){var e=this.findChildByInd(t.layerData.parent);this._recursivePostUpdateTransformAA(e),t.mark||(t.mark=!0,t.transform.updateWorldMatrix(e.transform),t._worldAlpha=t.alpha*t.parent._worldAlpha)}else t.mark||(t.updateTransform(),t.mark=!0)},e.prototype.startAniRange=function(t,e,r,n){void 0===e&&(e=this.totalFrames),void 0===r&&(r=1),this.play(r,n)},e.prototype.destroy=function(){vn.removeTweens(this),this.children.forEach((function(t){vn.removeTweens(t)})),t.prototype.destroy.call(this)}}(Q);function yn(t,e,r){var n={};for(var i in t)n[i]=(e[i]-t[i])*r+t[i];return n}function gn(t,e){var r={};if(!t)return r;for(var n in t)r[n]=e[n];return r}var _n,bn=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.z=r}return t.prototype.set=function(t,e,r){return this.x=t,this.y=e,this.z=r,this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},t.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this.z+=t,this},t.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},t.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},t.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this.z-=t,this},t.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this},t.prototype.multiplyVectors=function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},t.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},t.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},t.prototype.cross=function(t){return this.crossVectors(this,t)},t.prototype.crossVectors=function(t,e){var r=t.x,n=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z},t.prototype.normalize=function(){var t=1/(this.length()||1);return this.x*=t,this.y*=t,this.z*=t,this},t.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},t.prototype.distanceToSquared=function(t){var e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n},t.prototype.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},t.prototype.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},t.prototype.clamp=function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},t.prototype.clampScalar=function(e,r){return this.clamp(new t(e,e,e),new t(r,r,r))},t.prototype.clampLength=function(t,e){return this.divideScalar(this.length()||1).multiplyScalar(Math.max(t,Math.min(e,length)))},t.prototype.applyMatrix4=function(t){var e=this.x,r=this.y,n=this.z,i=t.elements,o=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*o,this},t.prototype.setFromMatrixPosition=function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},t.prototype.setFromMatrixScale=function(t){var e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=n,this},t.prototype.setFromMatrixColumn=function(t,e){return this.fromArray(t.elements,4*e)},t.prototype.transformDirection=function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()},t.prototype.project=function(t){return this.applyMatrix4(t.worldMatrixInverse).applyMatrix4(t.projectionMatrix)},t.prototype.unproject=function(t){return this.applyMatrix4((new xn).setInverseOf(t.projectionMatrix)).applyMatrix4(t._worldMatrix)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},t}(),xn=function(){function t(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return t.prototype.setIdentity=function(){var t=this.elements;return t[0]=1,t[4]=0,t[8]=0,t[12]=0,t[1]=0,t[5]=1,t[9]=0,t[13]=0,t[2]=0,t[6]=0,t[10]=1,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,this},t.prototype.set=function(t,e,r,n,i,o,a,s,l,h,u,c,f,p,d,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=r,v[12]=n,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=l,v[6]=h,v[10]=u,v[14]=c,v[3]=f,v[7]=p,v[11]=d,v[15]=m,this},t.prototype.copy=function(t){var e,r,n;for(r=t.elements,n=this.elements,e=0;e<16;++e)n[e]=r[e];return this},t.prototype.clone=function(){return(new t).fromArray(this.elements)},t.prototype.equals=function(t){for(var e=this.elements,r=t.elements,n=0;n<16;n++)if(e[n]!==r[n])return!1;return!0},t.prototype.fromArray=function(t,e){void 0===e&&(e=0);for(var r=0;r<16;r++)this.elements[r]=t[r+e];return this},t.prototype.toArray=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t},t.prototype.concat=function(t){var e,r,n,i,o,a,s,l;if(r=this.elements,n=this.elements,r===(i=t.elements))for(i=new Float32Array(16),e=0;e<16;++e)i[e]=r[e];for(e=0;e<4;e++)o=n[e],a=n[e+4],s=n[e+8],l=n[e+12],r[e]=o*i[0]+a*i[1]+s*i[2]+l*i[3],r[e+4]=o*i[4]+a*i[5]+s*i[6]+l*i[7],r[e+8]=o*i[8]+a*i[9]+s*i[10]+l*i[11],r[e+12]=o*i[12]+a*i[13]+s*i[14]+l*i[15];return this},t.prototype.multiply=function(t){return this.multiplyMatrices(this,t)},t.prototype.premultiply=function(t){return this.multiplyMatrices(t,this)},t.prototype.multiplyMatrices=function(t,e){var r=t.elements,n=e.elements,i=this.elements,o=r[0],a=r[4],s=r[8],l=r[12],h=r[1],u=r[5],c=r[9],f=r[13],p=r[2],d=r[6],m=r[10],v=r[14],y=r[3],g=r[7],_=r[11],b=r[15],x=n[0],w=n[4],T=n[8],S=n[12],E=n[1],M=n[5],C=n[9],A=n[13],P=n[2],k=n[6],O=n[10],D=n[14],I=n[3],R=n[7],F=n[11],L=n[15];return i[0]=o*x+a*E+s*P+l*I,i[4]=o*w+a*M+s*k+l*R,i[8]=o*T+a*C+s*O+l*F,i[12]=o*S+a*A+s*D+l*L,i[1]=h*x+u*E+c*P+f*I,i[5]=h*w+u*M+c*k+f*R,i[9]=h*T+u*C+c*O+f*F,i[13]=h*S+u*A+c*D+f*L,i[2]=p*x+d*E+m*P+v*I,i[6]=p*w+d*M+m*k+v*R,i[10]=p*T+d*C+m*O+v*F,i[14]=p*S+d*A+m*D+v*L,i[3]=y*x+g*E+_*P+b*I,i[7]=y*w+g*M+_*k+b*R,i[11]=y*T+g*C+_*O+b*F,i[15]=y*S+g*A+_*D+b*L,this},t.prototype.multiplyVector3=function(t){var e=this.elements;return(new bn).set(t.x*e[0]+t.y*e[4]+t.z*e[8]+e[12],t.x*e[1]+t.y*e[5]+t.z*e[9]+e[13],t.x*e[2]+t.y*e[6]+t.z*e[10]+e[14])},t.prototype.transpose=function(){var t,e;return e=(t=this.elements)[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},t.prototype.setInverseOf=function(t){var e,r,n,i,o;if(r=t.elements,n=this.elements,(i=new Float32Array(16))[0]=r[5]*r[10]*r[15]-r[5]*r[11]*r[14]-r[9]*r[6]*r[15]+r[9]*r[7]*r[14]+r[13]*r[6]*r[11]-r[13]*r[7]*r[10],i[4]=-r[4]*r[10]*r[15]+r[4]*r[11]*r[14]+r[8]*r[6]*r[15]-r[8]*r[7]*r[14]-r[12]*r[6]*r[11]+r[12]*r[7]*r[10],i[8]=r[4]*r[9]*r[15]-r[4]*r[11]*r[13]-r[8]*r[5]*r[15]+r[8]*r[7]*r[13]+r[12]*r[5]*r[11]-r[12]*r[7]*r[9],i[12]=-r[4]*r[9]*r[14]+r[4]*r[10]*r[13]+r[8]*r[5]*r[14]-r[8]*r[6]*r[13]-r[12]*r[5]*r[10]+r[12]*r[6]*r[9],i[1]=-r[1]*r[10]*r[15]+r[1]*r[11]*r[14]+r[9]*r[2]*r[15]-r[9]*r[3]*r[14]-r[13]*r[2]*r[11]+r[13]*r[3]*r[10],i[5]=r[0]*r[10]*r[15]-r[0]*r[11]*r[14]-r[8]*r[2]*r[15]+r[8]*r[3]*r[14]+r[12]*r[2]*r[11]-r[12]*r[3]*r[10],i[9]=-r[0]*r[9]*r[15]+r[0]*r[11]*r[13]+r[8]*r[1]*r[15]-r[8]*r[3]*r[13]-r[12]*r[1]*r[11]+r[12]*r[3]*r[9],i[13]=r[0]*r[9]*r[14]-r[0]*r[10]*r[13]-r[8]*r[1]*r[14]+r[8]*r[2]*r[13]+r[12]*r[1]*r[10]-r[12]*r[2]*r[9],i[2]=r[1]*r[6]*r[15]-r[1]*r[7]*r[14]-r[5]*r[2]*r[15]+r[5]*r[3]*r[14]+r[13]*r[2]*r[7]-r[13]*r[3]*r[6],i[6]=-r[0]*r[6]*r[15]+r[0]*r[7]*r[14]+r[4]*r[2]*r[15]-r[4]*r[3]*r[14]-r[12]*r[2]*r[7]+r[12]*r[3]*r[6],i[10]=r[0]*r[5]*r[15]-r[0]*r[7]*r[13]-r[4]*r[1]*r[15]+r[4]*r[3]*r[13]+r[12]*r[1]*r[7]-r[12]*r[3]*r[5],i[14]=-r[0]*r[5]*r[14]+r[0]*r[6]*r[13]+r[4]*r[1]*r[14]-r[4]*r[2]*r[13]-r[12]*r[1]*r[6]+r[12]*r[2]*r[5],i[3]=-r[1]*r[6]*r[11]+r[1]*r[7]*r[10]+r[5]*r[2]*r[11]-r[5]*r[3]*r[10]-r[9]*r[2]*r[7]+r[9]*r[3]*r[6],i[7]=r[0]*r[6]*r[11]-r[0]*r[7]*r[10]-r[4]*r[2]*r[11]+r[4]*r[3]*r[10]+r[8]*r[2]*r[7]-r[8]*r[3]*r[6],i[11]=-r[0]*r[5]*r[11]+r[0]*r[7]*r[9]+r[4]*r[1]*r[11]-r[4]*r[3]*r[9]-r[8]*r[1]*r[7]+r[8]*r[3]*r[5],i[15]=r[0]*r[5]*r[10]-r[0]*r[6]*r[9]-r[4]*r[1]*r[10]+r[4]*r[2]*r[9]+r[8]*r[1]*r[6]-r[8]*r[2]*r[5],0===(o=r[0]*i[0]+r[1]*i[4]+r[2]*i[8]+r[3]*i[12]))return this;for(o=1/o,e=0;e<16;e++)n[e]=i[e]*o;return this},t.prototype.invert=function(){return this.setInverseOf(this)},t.prototype.setOrtho=function(t,e,r,n,i,o){var a,s,l,h;if(t===e||n===r||i===o)throw"null frustum";return s=1/(e-t),l=1/(r-n),h=1/(o-i),(a=this.elements)[0]=2*s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*l,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=-2*h,a[11]=0,a[12]=-(e+t)*s,a[13]=-(r+n)*l,a[14]=-(o+i)*h,a[15]=1,this},t.prototype.ortho=function(e,r,n,i,o,a){return this.concat((new t).setOrtho(e,r,n,i,o,a))},t.prototype.setFrustum=function(t,e,r,n,i,o){var a,s,l,h;if(t===e||n===r||i===o)throw"null frustum";if(i<=0)throw"near <= 0";if(o<=0)throw"far <= 0";return s=1/(e-t),l=1/(n-r),h=1/(o-i),(a=this.elements)[0]=2*i*s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*i*l,a[6]=0,a[7]=0,a[8]=(e+t)*s,a[9]=(n+r)*l,a[10]=-(o+i)*h,a[11]=-1,a[12]=0,a[13]=0,a[14]=-2*i*o*h,a[15]=0,this},t.prototype.frustum=function(e,r,n,i,o,a){return this.concat((new t).setFrustum(e,r,n,i,o,a))},t.prototype.setPerspective=function(t,e,r,n){var i,o,a,s;if(r===n||0===e)throw"null frustum";if(r<=0)throw"near <= 0";if(n<=0)throw"far <= 0";if(t=Math.PI*t/180/2,0===(a=Math.sin(t)))throw"null frustum";return o=1/(n-r),s=Math.cos(t)/a,(i=this.elements)[0]=s/e,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=s,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=-(n+r)*o,i[11]=-1,i[12]=0,i[13]=0,i[14]=-2*r*n*o,i[15]=0,this},t.prototype.makePerspective=function(t,e,r,n,i,o){var a=this.elements,s=2*i/(e-t),l=2*i/(r-n),h=(e+t)/(e-t),u=(r+n)/(r-n),c=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=l,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=c,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},t.prototype.perspective=function(e,r,n,i){return this.concat((new t).setPerspective(e,r,n,i))},t.prototype.setScale=function(t,e,r){var n=this.elements;return n[0]=t,n[4]=0,n[8]=0,n[12]=0,n[1]=0,n[5]=e,n[9]=0,n[13]=0,n[2]=0,n[6]=0,n[10]=r,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,this},t.prototype.scale=function(t,e,r){var n=this.elements;return n[0]*=t,n[4]*=e,n[8]*=r,n[1]*=t,n[5]*=e,n[9]*=r,n[2]*=t,n[6]*=e,n[10]*=r,n[3]*=t,n[7]*=e,n[11]*=r,this},t.prototype.getMaxScaleOnAxis=function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))},t.prototype.setTranslate=function(t,e,r){var n=this.elements;return n[0]=1,n[4]=0,n[8]=0,n[12]=t,n[1]=0,n[5]=1,n[9]=0,n[13]=e,n[2]=0,n[6]=0,n[10]=1,n[14]=r,n[3]=0,n[7]=0,n[11]=0,n[15]=1,this},t.prototype.translate=function(t,e,r){var n=this.elements;return n[12]+=n[0]*t+n[4]*e+n[8]*r,n[13]+=n[1]*t+n[5]*e+n[9]*r,n[14]+=n[2]*t+n[6]*e+n[10]*r,n[15]+=n[3]*t+n[7]*e+n[11]*r,this},t.prototype.setRotate=function(t,e,r,n){var i,o,a,s,l,h,u,c,f,p,d,m;return t=Math.PI*t/180,i=this.elements,o=Math.sin(t),a=Math.cos(t),0!==e&&0===r&&0===n?(e<0&&(o=-o),i[0]=1,i[4]=0,i[8]=0,i[12]=0,i[1]=0,i[5]=a,i[9]=-o,i[13]=0,i[2]=0,i[6]=o,i[10]=a,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1):0===e&&0!==r&&0===n?(r<0&&(o=-o),i[0]=a,i[4]=0,i[8]=o,i[12]=0,i[1]=0,i[5]=1,i[9]=0,i[13]=0,i[2]=-o,i[6]=0,i[10]=a,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1):0===e&&0===r&&0!==n?(n<0&&(o=-o),i[0]=a,i[4]=-o,i[8]=0,i[12]=0,i[1]=o,i[5]=a,i[9]=0,i[13]=0,i[2]=0,i[6]=0,i[10]=1,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1):(1!==(s=Math.sqrt(e*e+r*r+n*n))&&(e*=l=1/s,r*=l,n*=l),h=1-a,u=e*r,c=r*n,f=n*e,p=e*o,d=r*o,m=n*o,i[0]=e*e*h+a,i[1]=u*h+m,i[2]=f*h-d,i[3]=0,i[4]=u*h-m,i[5]=r*r*h+a,i[6]=c*h+p,i[7]=0,i[8]=f*h+d,i[9]=c*h-p,i[10]=n*n*h+a,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1),this},t.prototype.rotate=function(e,r,n,i){return this.concat((new t).setRotate(e,r,n,i))},t.prototype.setLookAt=function(t,e,r,n,i,o,a,s,l){var h,u,c,f,p,d,m,v,y,g,_,b;return u=n-t,c=i-e,f=o-r,d=(c*=p=1/Math.sqrt(u*u+c*c+f*f))*l-(f*=p)*s,m=f*a-(u*=p)*l,v=u*s-c*a,g=(m*=y=1/Math.sqrt(d*d+m*m+v*v))*f-(v*=y)*c,_=v*u-(d*=y)*f,b=d*c-m*u,(h=this.elements)[0]=d,h[1]=g,h[2]=-u,h[3]=0,h[4]=m,h[5]=_,h[6]=-c,h[7]=0,h[8]=v,h[9]=b,h[10]=-f,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,this.translate(-t,-e,-r)},t.prototype.lookAt=function(t,e,r){var n=new bn,i=new bn,o=new bn,a=this.elements;return o.subVectors(t,e),0===o.lengthSq()&&(o.z=1),o.normalize(),n.crossVectors(r,o),0===n.lengthSq()&&(1===Math.abs(r.z)?o.x+=1e-4:o.z+=1e-4,o.normalize(),n.crossVectors(r,o)),n.normalize(),i.crossVectors(o,n),a[0]=n.x,a[4]=i.x,a[8]=o.x,a[1]=n.y,a[5]=i.y,a[9]=o.y,a[2]=n.z,a[6]=i.z,a[10]=o.z,this},t.prototype.dropShadow=function(e,r){var n=new t,i=n.elements,o=e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3];return i[0]=o-r[0]*e[0],i[1]=-r[1]*e[0],i[2]=-r[2]*e[0],i[3]=-r[3]*e[0],i[4]=-r[0]*e[1],i[5]=o-r[1]*e[1],i[6]=-r[2]*e[1],i[7]=-r[3]*e[1],i[8]=-r[0]*e[2],i[9]=-r[1]*e[2],i[10]=o-r[2]*e[2],i[11]=-r[3]*e[2],i[12]=-r[0]*e[3],i[13]=-r[1]*e[3],i[14]=-r[2]*e[3],i[15]=o-r[3]*e[3],this.concat(n)},t.prototype.dropShadowDirectionally=function(t,e,r,n,i,o,a,s,l){var h=n*t+i*e+o*r;return this.dropShadow([t,e,r,-h],[a,s,l,0])},t.prototype.makeRotationFromQuaternion=function(t){var e=new bn(0,0,0),r=new bn(1,1,1);return this.compose(e,t,r)},t.prototype.compose=function(t,e,r){var n=this.elements,i=e.x,o=e.y,a=e.z,s=e.w,l=i+i,h=o+o,u=a+a,c=i*l,f=i*h,p=i*u,d=o*h,m=o*u,v=a*u,y=s*l,g=s*h,_=s*u,b=r.x,x=r.y,w=r.z;return n[0]=(1-(d+v))*b,n[1]=(f+_)*b,n[2]=(p-g)*b,n[3]=0,n[4]=(f-_)*x,n[5]=(1-(c+v))*x,n[6]=(m+y)*x,n[7]=0,n[8]=(p+g)*w,n[9]=(m-y)*w,n[10]=(1-(c+d))*w,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this},t.prototype.decompose=function(e,r,n){var i=new bn,o=new t,a=this.elements,s=i.set(a[0],a[1],a[2]).length(),l=i.set(a[4],a[5],a[6]).length(),h=i.set(a[8],a[9],a[10]).length();this.determinant()<0&&(s=-s),e.x=a[12],e.y=a[13],e.z=a[14],o.copy(this);var u=1/s,c=1/l,f=1/h;return o.elements[0]*=u,o.elements[1]*=u,o.elements[2]*=u,o.elements[4]*=c,o.elements[5]*=c,o.elements[6]*=c,o.elements[8]*=f,o.elements[9]*=f,o.elements[10]*=f,r.setFromRotationMatrix(o),n.x=s,n.y=l,n.z=h,this},t.prototype.determinant=function(){var t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],o=t[1],a=t[5],s=t[9],l=t[13],h=t[2],u=t[6],c=t[10],f=t[14];return t[3]*(+i*s*u-n*l*u-i*a*c+r*l*c+n*a*f-r*s*f)+t[7]*(+e*s*f-e*l*c+i*o*c-n*o*f+n*l*h-i*s*h)+t[11]*(+e*l*u-e*a*f-i*o*u+r*o*f+i*a*h-r*l*h)+t[15]*(-n*a*h-e*s*u+e*a*c+n*o*u-r*o*c+r*s*h)},t.prototype.extractRotation=function(t){var e=new bn,r=this.elements,n=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r[3]=0,r[4]=n[4]*o,r[5]=n[5]*o,r[6]=n[6]*o,r[7]=0,r[8]=n[8]*a,r[9]=n[9]*a,r[10]=n[10]*a,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},t}(),wn=function(){function t(t,e,r,n){var i,o;this.setFromUnitVectors=(o=new bn,function(t,e){return void 0===o&&(o=new bn),(i=t.dot(e)+1)<1e-6?(i=0,Math.abs(t.x)>Math.abs(t.z)?o.set(-t.y,t.x,0):o.set(0,-t.z,t.y)):o.crossVectors(t,e),this._x=o.x,this._y=o.y,this._z=o.z,this._w=i,this.normalize()}),this._x=t||0,this._y=e||0,this._z=r||0,this._w=void 0!==n?n:1}return t.slerp=function(t,e,r,n){return r.copy(t).slerp(e,n)},t.slerpFlat=function(t,e,r,n,i,o,a){var s=r[n+0],l=r[n+1],h=r[n+2],u=r[n+3],c=i[o+0],f=i[o+1],p=i[o+2],d=i[o+3];if(u!==d||s!==c||l!==f||h!==p){var m=1-a,v=s*c+l*f+h*p+u*d,y=v>=0?1:-1,g=1-v*v;if(g>1e-19){var _=Math.sqrt(g),b=Math.atan2(_,v*y);m=Math.sin(m*b)/_,a=Math.sin(a*b)/_}var x=a*y;if(s=s*m+c*x,l=l*m+f*x,h=h*m+p*x,u=u*m+d*x,m===1-a){var w=1/Math.sqrt(s*s+l*l+h*h+u*u);s*=w,l*=w,h*=w,u*=w}}t[e]=s,t[e+1]=l,t[e+2]=h,t[e+3]=u},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this.onChangeCallback(),this},t.prototype.clone=function(){return new t(this._x,this._y,this._z,this._w)},t.prototype.copy=function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},t.prototype.setFromEuler=function(t,e){var r=t._x,n=t._y,i=t._z,o=t.order,a=Math.cos,s=Math.sin,l=a(r/2),h=a(n/2),u=a(i/2),c=s(r/2),f=s(n/2),p=s(i/2);return"XYZ"===o?(this._x=c*h*u+l*f*p,this._y=l*f*u-c*h*p,this._z=l*h*p+c*f*u,this._w=l*h*u-c*f*p):"YXZ"===o?(this._x=c*h*u+l*f*p,this._y=l*f*u-c*h*p,this._z=l*h*p-c*f*u,this._w=l*h*u+c*f*p):"ZXY"===o?(this._x=c*h*u-l*f*p,this._y=l*f*u+c*h*p,this._z=l*h*p+c*f*u,this._w=l*h*u-c*f*p):"ZYX"===o?(this._x=c*h*u-l*f*p,this._y=l*f*u+c*h*p,this._z=l*h*p-c*f*u,this._w=l*h*u+c*f*p):"YZX"===o?(this._x=c*h*u+l*f*p,this._y=l*f*u+c*h*p,this._z=l*h*p-c*f*u,this._w=l*h*u-c*f*p):"XZY"===o&&(this._x=c*h*u-l*f*p,this._y=l*f*u-c*h*p,this._z=l*h*p+c*f*u,this._w=l*h*u+c*f*p),!1!==e&&this.onChangeCallback(),this},t.prototype.setFromAxisAngle=function(t,e){var r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this.onChangeCallback(),this},t.prototype.setFromRotationMatrix=function(t){var e,r=t.elements,n=r[0],i=r[4],o=r[8],a=r[1],s=r[5],l=r[9],h=r[2],u=r[6],c=r[10],f=n+s+c;return f>0?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(u-l)*e,this._y=(o-h)*e,this._z=(a-i)*e):n>s&&n>c?(e=2*Math.sqrt(1+n-s-c),this._w=(u-l)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+h)/e):s>c?(e=2*Math.sqrt(1+s-n-c),this._w=(o-h)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(l+u)/e):(e=2*Math.sqrt(1+c-n-s),this._w=(a-i)/e,this._x=(o+h)/e,this._y=(l+u)/e,this._z=.25*e),this.onChangeCallback(),this},t.prototype.angleTo=function(t){return 2*Math.acos(Math.abs(Ut(this.dot(t),-1,1)))},t.prototype.rotateTowards=function(t,e){var r=this.angleTo(t);if(0===r)return this;var n=Math.min(1,e/r);return this.slerp(t,n),this},t.prototype.inverse=function(){return this.conjugate()},t.prototype.conjugate=function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},t.prototype.dot=function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},t.prototype.lengthSq=function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},t.prototype.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},t.prototype.normalize=function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},t.prototype.multiply=function(t,e){return void 0!==e?(console.warn(""),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},t.prototype.premultiply=function(t){return this.multiplyQuaternions(t,this)},t.prototype.multiplyQuaternions=function(t,e){var r=t._x,n=t._y,i=t._z,o=t._w,a=e._x,s=e._y,l=e._z,h=e._w;return this._x=r*h+o*a+n*l-i*s,this._y=n*h+o*s+i*a-r*l,this._z=i*h+o*l+r*s-n*a,this._w=o*h-r*a-n*s-i*l,this.onChangeCallback(),this},t.prototype.slerp=function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*t._w+r*t._x+n*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var s=1-a*a;if(s<=1e-13){var l=1-e;return this._w=l*o+e*this._w,this._x=l*r+e*this._x,this._y=l*n+e*this._y,this._z=l*i+e*this._z,this.normalize()}var h=Math.sqrt(s),u=Math.atan2(h,a),c=Math.sin((1-e)*u)/h,f=Math.sin(e*u)/h;return this._w=o*c+this._w*f,this._x=r*c+this._x*f,this._y=n*c+this._y*f,this._z=i*c+this._z*f,this.onChangeCallback(),this},t.prototype.equals=function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},t.prototype.onChange=function(t){return this.onChangeCallback=t,this},t.prototype.onChangeCallback=function(){},t}();!function(t){t.XYZ="XYZ",t.YZX="YZX",t.ZXY="ZXY",t.XZY="XZY",t.YXZ="YXZ",t.ZYX="ZYX"}(_n||(_n={}));var Tn,Sn,En=function(){function t(t,e,r,n){var i,o;void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=_n.XYZ),this._x=t,this._y=e,this._z=r,this._order=n,this.setFromQuaternion=(i=new xn,function(t,e,r){return i.makeRotationFromQuaternion(t),this.setFromRotationMatrix(i,e,r)}),this.reorder=(o=new wn,function(t){return o.setFromEuler(this),this.setFromQuaternion(o,t)})}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._order=n||this._order,this.onChangeCallback(),this},t.prototype.clone=function(){return new t(this._x,this._y,this._z,this._order)},t.prototype.copy=function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},t.prototype.setFromRotationMatrix=function(t,e,r){var n=t.elements,i=n[0],o=n[4],a=n[8],s=n[1],l=n[5],h=n[9],u=n[2],c=n[6],f=n[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(Ut(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-h,f),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(c,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-Ut(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(a,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0)):"ZXY"===e?(this._x=Math.asin(Ut(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,i))):"ZYX"===e?(this._y=Math.asin(-Ut(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(c,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===e?(this._z=Math.asin(Ut(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(a,f))):"XZY"===e?(this._z=Math.asin(-Ut(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(c,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-h,f),this._y=0)):console.warn("Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==r&&this.onChangeCallback(),this},t.prototype.setFromVector3=function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},t.prototype.equals=function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},t.prototype.fromArray=function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},t.prototype.toVector3=function(t){return t?t.set(this._x,this._y,this._z):new bn(this._x,this._y,this._z)},t.prototype.onChange=function(t){return this.onChangeCallback=t,this},t.prototype.onChangeCallback=function(){},t}(),Mn=new bn,Cn=function(t){function e(){var r=t.call(this)||this;r.name=null,r.visible=!0,r.mouseEnable=!0,r.mouseChildren=!0,r.castShadow=!1,r.receiveShadow=!1,r.children=[],r.parent=null,r._worldMatrix=new xn,r._localMatrix=new xn,r.up=e.DefaultUp.clone(),r.position=new bn,r.scale=new bn(1,1,1),r._instanceType="Object3D";var n=new En,i=new wn;return n.onChange((function(){i.setFromEuler(n,!1)})),i.onChange((function(){n.setFromQuaternion(i,void 0,!1)})),r.rotation=n,r.quaternion=i,r}return R(e,t),e.prototype.addChild=function(t){return this.addChildAt(t,this.children.length),t},e.prototype.addChildAt=function(t,e){if(t){var r,n=this,i=n==t.parent;if(t.parent)if(i){r=n.children.length;for(var o=0;o<r;o++)if(n.children[o]==t){n.children.splice(o,1);break}}else t.parent.removeChild(t);return t.parent=n,e>=(r=n.children.length)?(n.children[n.children.length]=t,e=r):0==e||e<0?(n.children.unshift(t),e=0):n.children.splice(e,0,t),n.scene&&!i&&t._onDispatchBubbledEvent("onAddedToScene"),t}},e.prototype.addChildren=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.forEach((function(e){t.addChild(e)})),e},e.prototype.removeChild=function(t){var e=this.children.indexOf(t);return-1!==e&&(t.parent=null,t._onDispatchBubbledEvent("onRemovedFromScene"),this.children.splice(e,1)),t},e.prototype._onDispatchBubbledEvent=function(t){var e=this;if("onRemovedFromScene"!=t||e.scene){"onRemovedFromScene"==t?(e.dispatchEvent(t),e.scene=null):"onAddedToScene"==t&&(e.scene=e.parent.scene,e.dispatchEvent(t));for(var r=e.children.length,n=0;n<r;n++)e.children[n]._onDispatchBubbledEvent(t)}},e.prototype.clone=function(t){return void 0===t&&(t=!0),(new e).copy(this,t)},e.prototype.copy=function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.visible=t.visible,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this._localMatrix.copy(t._localMatrix),this._worldMatrix.copy(t._worldMatrix),this.visible=t.visible,!0===e)for(var r=0;r<t.children.length;r++){var n=t.children[r];this.addChild(n.clone())}return this},e.prototype.lookAt=function(t,e,r){var n=new wn,i=new xn,o=new bn,a=new bn;o.set(t,e,r);var s=this.parent;this.updateWorldMatrix(!0,!1),a.setFromMatrixPosition(this._worldMatrix),"Camera"==this._instanceType||"PerspectiveCamera"==this._instanceType||"OrthographicCamera"==this._instanceType?i.lookAt(a,o,this.up):i.lookAt(o,a,this.up),this.quaternion.setFromRotationMatrix(i),s&&(i.extractRotation(s._worldMatrix),n.setFromRotationMatrix(i),this.quaternion.premultiply(n.inverse()))},e.prototype.applyMatrix=function(t){this._localMatrix.multiplyMatrices(t,this._localMatrix),this._localMatrix.decompose(this.position,this.quaternion,this.scale)},e.prototype.applyQuaternion=function(t){return this.quaternion.premultiply(t),this},e.prototype.localToGlobal=function(t){return t.applyMatrix4(this._worldMatrix)},e.prototype.globalToLocal=function(t){if(t instanceof bn){var e=new xn;return t.applyMatrix4(e.setInverseOf(this._worldMatrix))}return t},Object.defineProperty(e.prototype,"stagePos",{get:function(){if(!this.scene)return null;var t=this.scene;this.localToGlobal(Mn.set(0,0,0)),Mn.project(t.camera);var e=t.viewWidth/2,r=t.viewHeight/2;return{x:Math.round(Mn.x*e+e)+t.viewX,y:Math.round(-Mn.y*r+r)+t.viewY}},enumerable:!0,configurable:!0}),e.prototype.updateLocalMatrix=function(){this._localMatrix.compose(this.position,this.quaternion,this.scale)},e.prototype.updateWorldMatrix=function(t,r){void 0===t&&(t=!1),void 0===r&&(r=!0);var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix&&n.updateWorldMatrix(!0,!1),this.updateLocalMatrix(),null!==this.parent&&this.parent instanceof e?this._worldMatrix.multiplyMatrices(this.parent._worldMatrix,this._localMatrix):this._worldMatrix.copy(this._localMatrix),!0===r)for(var i=this.children,o=0,a=i.length;o<a;o++)i[o].updateWorldMatrix(!1,!0)},e.prototype.update=function(){if(this.visible){this.hasEventListener(L.ENTER_FRAME)&&this.dispatchEvent(L.ENTER_FRAME);for(var t=this.children.length-1;t>=0;t--){var e=this.children[t];e.visible&&e.update()}}},e.prototype.getChildByName=function(t,r,n){if(void 0===r&&(r=!0),void 0===n&&(n=!1),!t)return null;var i;i="string"==typeof t?new RegExp("^"+t+"$"):t;var o=[];e._getElementsByName(i,this,r,n,o);var a=o.length;return 0==a?null:1==a?o[0]:o},e._getElementsByName=function(t,r,n,i,o){var a=r.children.length;if(a>0)for(var s=void 0,l=void 0,h=0;h<a;h++){if((s=(l=r.children[h]).name)&&""!=s&&t.test(s)&&(o[o.length]=l,n))return;i&&null!=l.children&&e._getElementsByName(t,l,n,i,o)}},e.prototype.render=function(t){this._render(t);for(var e=0;e<this.children.length;e++){var r=this.children[e];r.visible&&r.render(t)}},e.prototype._render=function(t){},e.prototype.raycast=function(t,e){},e.prototype.destroy=function(){for(var t=this.children.length-1;t>=0;t--)this.children[t].destroy();this.removeAllEventListener(),this.parent&&this.parent.removeChild(this)},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.position.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.position.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this.position.z},set:function(t){this.position.z=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.scale.x},set:function(t){this.scale.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.scale.y},set:function(t){this.scale.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleZ",{get:function(){return this.scale.z},set:function(t){this.scale.z=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationX",{get:function(){return this.rotation.x*O},set:function(t){this.rotation.x=t*D},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationY",{get:function(){return this.rotation.y*O},set:function(t){this.rotation.y=t*D},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationZ",{get:function(){return this.rotation.z*O},set:function(t){this.rotation.z=t*D},enumerable:!0,configurable:!0}),e.DefaultUp=new bn(0,1,0),e}(N);!function(t){t.ENVMAP_BLENDING_MULTIPLY="ENVMAP_BLENDING_MULTIPLY",t.ENVMAP_BLENDING_MIX="ENVMAP_BLENDING_MIX",t.ENVMAP_BLENDING_ADD="ENVMAP_BLENDING_ADD"}(Tn||(Tn={})),function(t){t[t.FrontSide=0]="FrontSide",t[t.BackSide=1]="BackSide",t[t.DoubleSide=2]="DoubleSide"}(Sn||(Sn={}));var An=function(t){function e(e){var r=t.call(this)||this;if(r._color=16777215,r._colorArr=new Float32Array([1,1,1]),r.alpha=1,r.combine=Tn.ENVMAP_BLENDING_MULTIPLY,r.reflectivity=1,r.morphTargets=!1,r.morphNormals=!1,r.skinning=!1,r.useVertexColor=!1,r.wireframe=!1,r.side=Sn.FrontSide,r.useFog=!0,r._lightAffect=!1,r._instanceType="BaseMaterial",e)for(var n in e)r[n]=e[n];return r}return R(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){if(this._color!==t){this._color=t;var e=It(t);this._colorArr[0]=e[0],this._colorArr[1]=e[1],this._colorArr[2]=e[2]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorArr",{get:function(){return this._colorArr},enumerable:!0,configurable:!0}),e.prototype.copy=function(t){return this.color=t.color,this.map=t.map,this.alpha=t.alpha,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.skinning=t.skinning,this.wireframe=t.wireframe,this.side=t.side,this._lightAffect=t._lightAffect,this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.destroy=function(){this._color=null},e}(F),Pn=function(){function t(t,e){void 0===t&&(t=new bn),void 0===e&&(e=new bn),this.origin=t,this.direction=e}return t.prototype.set=function(t,e){return this.origin.copy(t),this.direction.copy(e),this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},t.prototype.at=function(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)},t.prototype.lookAt=function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},t.prototype.recast=function(t){var e=new bn;return this.origin.copy(this.at(t,e)),this},t.prototype.closestPointToPoint=function(t,e){void 0===e&&(e=new bn),e.subVectors(t,this.origin);var r=e.dot(this.direction);return r<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(r).add(this.origin)},t.prototype.distanceToPoint=function(t){return Math.sqrt(this.distanceSqToPoint(t))},t.prototype.distanceSqToPoint=function(t){var e=new bn,r=e.subVectors(t,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(r).add(this.origin),e.distanceToSquared(t))},t.prototype.intersectSphere=function(t,e){var r=new bn;r.subVectors(t.center,this.origin);var n=r.dot(this.direction),i=r.dot(r)-n*n,o=t.radius*t.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=n-a,l=n+a;return s<0&&l<0?null:s<0?this.at(l,e):this.at(s,e)},t.prototype.intersectsSphere=function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},t.prototype.intersectBox=function(t,e){var r,n,i,o,a,s,l=1/this.direction.x,h=1/this.direction.y,u=1/this.direction.z,c=this.origin;return l>=0?(r=(t.min.x-c.x)*l,n=(t.max.x-c.x)*l):(r=(t.max.x-c.x)*l,n=(t.min.x-c.x)*l),h>=0?(i=(t.min.y-c.y)*h,o=(t.max.y-c.y)*h):(i=(t.max.y-c.y)*h,o=(t.min.y-c.y)*h),r>o||i>n?null:((i>r||r!=r)&&(r=i),(o<n||n!=n)&&(n=o),u>=0?(a=(t.min.z-c.z)*u,s=(t.max.z-c.z)*u):(a=(t.max.z-c.z)*u,s=(t.min.z-c.z)*u),r>s||a>n?null:((a>r||r!=r)&&(r=a),(s<n||n!=n)&&(n=s),n<0?null:this.at(r>=0?r:n,e)))},t.prototype.intersectsBox=function(t){return null!==this.intersectBox(t,new bn)},t.prototype.intersectTriangle=function(t,e,r,n,i){var o=new bn,a=new bn,s=new bn,l=new bn;a.subVectors(e,t),s.subVectors(r,t),l.crossVectors(a,s);var h,u=this.direction.dot(l);if(u>0){if(n)return null;h=1}else{if(!(u<0))return null;h=-1,u=-u}o.subVectors(this.origin,t);var c=h*this.direction.dot(s.crossVectors(o,s));if(c<0)return null;var f=h*this.direction.dot(a.cross(o));if(f<0)return null;if(c+f>u)return null;var p=-h*o.dot(l);return p<0?null:this.at(p/u,i)},t.prototype.applyMatrix4=function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},t.prototype.equals=function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)},t}(),kn=function(){function t(t,e){void 0===t&&(t=new bn(1/0,1/0,1/0)),void 0===e&&(e=new bn(-1/0,-1/0,-1/0)),this.min=t,this.max=e}return t.prototype.set=function(t,e){return this.min.copy(t),this.max.copy(e),this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(t){return this.min.copy(t.min),this.max.copy(t.max),this},t.prototype.makeEmpty=function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},t.prototype.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},t.prototype.getCenter=function(t){return void 0===t&&(t=new bn),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},t.prototype.getSize=function(t){return void 0===t&&(t=new bn),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},t.prototype.setFromArray=function(t){for(var e=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=t.length;s<l;s+=3){var h=t[s],u=t[s+1],c=t[s+2];h<e&&(e=h),u<r&&(r=u),c<n&&(n=c),h>i&&(i=h),u>o&&(o=u),c>a&&(a=c)}return this.min.set(e,r,n),this.max.set(i,o,a),this},t.prototype.setFromCenterAndSize=function(t,e){var r=(new bn).copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this},t.prototype.setFromPoints=function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},t.prototype.setFromObject=function(t){return this.makeEmpty(),this.expandByObject(t)},t.prototype.expandByPoint=function(t){return this.min.min(t),this.max.max(t),this},t.prototype.expandByVector=function(t){return this.min.sub(t),this.max.add(t),this},t.prototype.expandByScalar=function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},t.prototype.expandByObject=function(t){var e=this,r=new bn;return t.updateWorldMatrix(),function t(n){var i=n.geometry;if(void 0!==i&&i._vertices)for(var o=i._vertices,a=0;a<o.length;a+=3)r.set(o[a],o[a+1],o[a+2]).applyMatrix4(n._worldMatrix),e.expandByPoint(r);for(var s=0;s<n.children.length;s++)t(n.children[s])}(t),e},t.prototype.containsPoint=function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},t.prototype.containsBox=function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},t.prototype.intersectsBox=function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},t.prototype.intersectsSphere=function(t){var e=new bn;return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius},t.prototype.clampPoint=function(t,e){return void 0===e&&(e=new bn),e.copy(t).clamp(this.min,this.max)},t.prototype.distanceToPoint=function(t){return(new bn).copy(t).clamp(this.min,this.max).sub(t).length()},t.prototype.getBoundingSphere=function(t){void 0===t&&(t=new On);var e=new bn;return this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t},t.prototype.intersect=function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},t.prototype.union=function(t){return this.min.min(t.min),this.max.max(t.max),this},t.prototype.applyMatrix4=function(t){var e=[new bn,new bn,new bn,new bn,new bn,new bn,new bn,new bn];return this.isEmpty()||(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e)),this},t.prototype.translate=function(t){return this.min.add(t),this.max.add(t),this},t.prototype.equals=function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},t}(),On=function(){function t(t,e){void 0===t&&(t=new bn),void 0===e&&(e=0),this.center=t,this.radius=e}return t.prototype.set=function(t,e){return this.center.copy(t),this.radius=e,this},t.prototype.setFromPoints=function(t,e){var r=new kn,n=this.center;void 0!==e?n.copy(e):r.setFromPoints(t).getCenter(n);for(var i=0,o=0,a=t.length;o<a;o++)i=Math.max(i,n.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(t){return this.center.copy(t.center),this.radius=t.radius,this},t.prototype.empty=function(){return this.radius<=0},t.prototype.containsPoint=function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},t.prototype.distanceToPoint=function(t){return t.distanceTo(this.center)-this.radius},t.prototype.intersectsSphere=function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},t.prototype.intersectsBox=function(t){return t.intersectsSphere(this)},t.prototype.clampPoint=function(t,e){void 0===e&&(e=new bn);var r=this.center.distanceToSquared(t);return e.copy(t),r>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},t.prototype.getBoundingBox=function(t){return void 0===t&&(t=new kn),t.set(this.center,this.center),t.expandByScalar(this.radius),t},t.prototype.applyMatrix4=function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},t.prototype.translate=function(t){return this.center.add(t),this},t.prototype.equals=function(t){return t.center.equals(this.center)&&t.radius===this.radius},t}(),Dn=new On,In=new xn,Rn=new Pn,Fn=new bn,Ln=function(t){function e(e,r){var n=t.call(this)||this;return n.geometry=e,n.material=r,n._instanceType="Mesh3D",n.updateMorphTargets(),n}return R(e,t),Object.defineProperty(e.prototype,"morphTargetInfluences",{get:function(){return this._morphTargetInfluences},enumerable:!0,configurable:!0}),e.prototype._render=function(t){this.visible&&(t.batchManager.setObjectRenderer(t.plugins.d3),t.plugins.d3.render(this))},e.prototype.updateMorphTargets=function(){var t=this.geometry._morphPositions;if(t){this._morphTargetInfluences=[];for(var e=0;e<t.length;e++)this._morphTargetInfluences.push(0)}},e.prototype.raycast=function(t,e){if(this.visible&&this.geometry&&this.material&&!this.material.wireframe){var r=this.geometry,n=this._worldMatrix;if(r.boundingSphere||r.computeBoundingSphere(),Dn.copy(r.boundingSphere),Dn.applyMatrix4(n),!1!==t.ray.intersectsSphere(Dn)&&(In.setInverseOf(n),Rn.copy(t.ray).applyMatrix4(In),null===r.boundingBox||!1!==Rn.intersectsBox(r.boundingBox)))if(r.doHitFace){var i,o=new bn,a=new bn,s=new bn,l=r._indices,h=r._vertices;if(l)for(var u=0;u<l.length;u+=3){var c=l[u],f=l[u+1],p=l[u+2];if(o.set(h[3*c],h[3*c+1],h[3*c+2]),a.set(h[3*f],h[3*f+1],h[3*f+2]),s.set(h[3*p],h[3*p+1],h[3*p+2]),i=Bn(this,t,Rn,o,a,s,Fn)){e.push(i);break}}else if(h)for(u=0;u<h.length;u+=9)if(o.set(h[u],h[u+1],h[u+2]),a.set(h[u+3],h[u+4],h[u+5]),s.set(h[u+6],h[u+7],h[u+8]),i=Bn(this,t,Rn,o,a,s,Fn)){e.push(i);break}}else e.push({distance:t.ray.origin.distanceTo(Dn.center)-Dn.radius,object:this})}},e.prototype.copy=function(e,r){return void 0===r&&(r=!0),t.prototype.copy.call(this,e,r),e.morphTargetInfluences&&(this._morphTargetInfluences=e.morphTargetInfluences.slice()),this},e.prototype.clone=function(t){return void 0===t&&(t=!0),new e(this.geometry,this.material).copy(this,t)},e}(Cn),Nn=new bn;function Bn(t,e,r,n,i,o,a){var s=t.material;if(null===(s.side===Sn.BackSide?r.intersectTriangle(o,i,n,!0,a):r.intersectTriangle(n,i,o,s.side!==Sn.DoubleSide,a)))return null;Nn.copy(a),Nn.applyMatrix4(t._worldMatrix);var l=e.ray.origin.distanceTo(Nn);return l<e.near||l>e.far?null:{distance:l,point:Nn.clone(),object:t}}var zn,jn=function(t){function e(e,r,n,i,o){var a=t.call(this)||this;return a._vertByteSize=44,a.boundingBox=null,a.boundingSphere=null,a.doHitFace=!1,a._instanceType="Geometry",a._glVaoBuffer={},a._vertices=e,a._normals=n||new Float32Array(e.length),a._colors=i||function(){for(var t=new Float32Array(e.length),r=0;r<e.length;r++)t[r]=1;return t}(),a._uvs=o||new Float32Array(e.length/3*2),a._indices=r?new Uint16Array(r):null,a._attrBuffer=new ie(e.length/3*a._vertByteSize),a}return R(e,t),e.prototype.computeBoundingBox=function(){this.boundingBox||(this.boundingBox=new kn);var t=this._vertices;t?this.boundingBox.setFromArray(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error("顶点数据有误")},e.prototype.computeBoundingSphere=function(){var t=new kn,e=new bn;this.boundingSphere||(this.boundingSphere=new On);var r=this._vertices;if(r){var n=this.boundingSphere.center;t.setFromArray(r),t.getCenter(n);for(var i=0,o=0,a=r.length;o<a;o+=3)e.x=r[o],e.y=r[o+1],e.z=r[o+2],i=Math.max(i,n.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("顶点数据有误")}},e.prototype.destroy=function(){},e}(F),Vn=function(t){function e(){var e=t.call(this)||this;return e._instanceType="Camera",e.worldMatrixInverse=new xn,e.projectionMatrix=new xn,e.projectionMatrixInverse=new xn,e}return R(e,t),e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e,r){return t.prototype.copy.call(this,e,r),this.worldMatrixInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},e.prototype.getWorldDirection=function(t){this.updateWorldMatrix();var e=this._worldMatrix.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},e.prototype.updateWorldMatrix=function(){t.prototype.updateWorldMatrix.call(this),this.worldMatrixInverse.setInverseOf(this._worldMatrix)},e}(Cn),Un=function(t){function e(e,r,n,i){void 0===e&&(e=50),void 0===r&&(r=1),void 0===n&&(n=.1),void 0===i&&(i=2e3);var o=t.call(this)||this;return o.fov=e,o.aspect=r,o.near=n,o.far=i,o._instanceType="PerspectiveCamera",o.zoom=1,o.focus=10,o.updateProjectionMatrix(),o}return R(e,t),e.prototype.set=function(t,e,r,n){void 0===t&&(t=50),void 0===e&&(e=1),void 0===r&&(r=.1),void 0===n&&(n=2e3),this.fov=t,this.aspect=e,this.near=r,this.far=n,this.zoom=1,this.focus=10,this.updateProjectionMatrix()},e.prototype.copy=function(e,r){return void 0===r&&(r=!0),t.prototype.copy.call(this,e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.updateProjectionMatrix(),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.updateProjectionMatrix=function(){this.projectionMatrix.setPerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.setInverseOf(this.projectionMatrix)},e}(Vn),Wn=function(t){function e(e,r){void 0===r&&(r=1);var n=t.call(this)||this;return n.intensity=r,n._color=16777215,n._colorArr=new Float32Array([1,1,1]),n._colorVec3=new bn(1,1,1),n.color=e,n._instanceType="Light",n}return R(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){if(this._color!==t){this._color=t;var e=It(t);this._colorArr[0]=this._colorVec3.x=e[0],this._colorArr[1]=this._colorVec3.y=e[1],this._colorArr[2]=this._colorVec3.z=e[2]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorArr",{get:function(){return this._colorArr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorVec3",{get:function(){return this._colorVec3},enumerable:!0,configurable:!0}),e.prototype.copy=function(e){return t.prototype.copy.call(this,e),this.color=e.color,this.intensity=e.intensity,this.shadow=e.shadow.clone(),this},e}(Cn),Hn=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},t.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},t.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this},t.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},t.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},t.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},t.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},t.prototype.applyMatrix3=function(t){var e=this.x,r=this.y,n=t.elements;return this.x=n[0]*e+n[3]*r+n[6],this.y=n[1]*e+n[4]*r+n[7],this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(t){return this.x*t.y-this.y*t.x},t.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)},t.prototype.normalize=function(){return this.divideScalar(this.length()||1)},t.prototype.angle=function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},t.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},t.prototype.distanceToSquared=function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},t.prototype.manhattanDistanceTo=function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},t.prototype.setLength=function(t){return this.normalize().multiplyScalar(t)},t.prototype.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},t.prototype.lerpVectors=function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},t}(),Gn=function(){function t(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=1/0),this.near=r,this.far=n,this.ray=new Pn(t,e)}return t.prototype.set=function(t,e){this.ray.set(t,e)},t.prototype.setFromCamera=function(t,e){this.ray.origin.setFromMatrixPosition(e._worldMatrix),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()},t.prototype.intersectObject=function(t,e){var r=e||[];return function t(e,r,n){if(!1===e.visible)return;e.mouseEnable&&e.raycast(r,n);if(e.mouseChildren)for(var i=e.children,o=0,a=i.length;o<a;o++)t(i[o],r,n)}(t,this,r),r.sort(Yn),r},t}();function Yn(t,e){return t.distance-e.distance}!function(t){t.basic="SHADOWMAP_TYPE_BASIC",t.pcf="SHADOWMAP_TYPE_PCF"}(zn||(zn={}));var Xn,qn=function(t){function e(){var e=t.call(this)||this;return e._viewId=-1,e._viewX=0,e._viewY=0,e._viewWidth=750,e._viewHeight=1624,e.visible=!0,e.raycaster=new Gn,e.shadowType=zn.basic,e._instanceType="Scene3D",e.scene=e,e.transform={_parentId:0},e.camera=new Un,e}return R(e,t),Object.defineProperty(e.prototype,"viewX",{get:function(){return this._viewX},set:function(t){t=t||0,this._viewX!==t&&(this._viewX=t,this._viewId=-1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewY",{get:function(){return this._viewY},set:function(t){t=t||0,this._viewY!==t&&(this._viewY=t,this._viewId=-1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewWidth",{get:function(){return this._viewWidth},set:function(t){t=t||0,this._viewWidth!==t&&(this._viewWidth=t,this._viewId=-1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewHeight",{get:function(){return this._viewHeight},set:function(t){t=t||0,this._viewHeight!==t&&(this._viewHeight=t,this._viewId=-1)},enumerable:!0,configurable:!0}),e.prototype.setViewRect=function(t,e,r,n){this.viewX=t,this.viewY=e,this.viewWidth=r,this.viewHeight=n,this._viewId=-1},e.prototype.setFog=function(t,e,r){void 0===t&&(t=16777215),void 0===e&&(e=0),void 0===r&&(r=100);var n=It(t);this._fog?(this._fog.color[0]=n[0],this._fog.color[1]=n[1],this._fog.color[2]=n[2],this._fog.near=e,this._fog.far=r):this._fog={color:new Float32Array(n),near:e,far:r}},e.prototype.removeFog=function(){this._fog=null},Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()},enumerable:!0,configurable:!0}),e.prototype.updateTransform=function(){this.visible&&this.updateWorldMatrix()},e.prototype.renderWebGL=function(t){if(this.visible){var e=t.plugins.d3;if(this.camera.updateWorldMatrix(),e.camera=this.camera,e.lightsConfig=this.getLightConfig(),e.fog=this._fog||null,e.shadowType=this.shadowType,t.batchManager.setObjectRenderer(e),this.setViewport(t),e.viewport=this._viewport,this.filters&&this.filters.length){var r=this.filters;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<r.length;n++)r[n].enabled&&this._enabledFilters.push(r[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}this.render(t),t.batchManager.flush(),r&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()}else this.render(t)}},e.prototype.setViewport=function(t){if(this._viewId!==this.parent.transform._worldID){this._viewId=this.parent.transform._worldID;var e=this.parent.transform.worldMatrix,r=this.viewX*e.a+this.viewY*e.c+e.tx,n=this.viewX*e.b+this.viewY*e.d+e.ty,i=Math.sqrt(e.a*e.a+e.b*e.b),o=Math.sqrt(e.c*e.c+e.d*e.d);this._viewport={x:r,y:t.height-n-this.viewHeight*o,width:this.viewWidth*i,height:this.viewHeight*o}}this._viewport&&t.gl.viewport(this._viewport.x,this._viewport.y,this._viewport.width,this._viewport.height)},e.prototype.getBounds=function(){var t=this.parent.transform.worldMatrix,e=this.viewX*t.b+this.viewY*t.d+t.ty;return new U(this._viewport.x,e,this._viewport.width,this._viewport.height)},e.prototype.getLightConfig=function(t,e){void 0===t&&(t=this),void 0===e&&(e={pointLights:[],directionalLights:[],ambientLightColor:[0,0,0]});for(var r=this.camera.worldMatrixInverse,n=0;n<t.children.length;n++){var i=t.children[n];if(i instanceof Wn){var o=i.colorVec3.clone().multiplyScalar(i.intensity).toArray();if("AmbientLight"==i.instanceType)e.ambientLightColor[0]+=o[0],e.ambientLightColor[1]+=o[1],e.ambientLightColor[2]+=o[2];else if("PointLight"==i.instanceType){var a=(new bn).setFromMatrixPosition(i._worldMatrix);a.applyMatrix4(r),e.pointLights.push({color:o,position:a.toArray(),distance:i.distance,decay:0===i.distance?0:i.decay})}else if("DirectionalLight"==i.instanceType){var s,l=(new bn).setFromMatrixPosition(i._worldMatrix);if(l.sub((new bn).setFromMatrixPosition(i.target._worldMatrix)),l.transformDirection(r),i.castShadow){i.shadow.map;var h=i.shadow.camera,u=i.shadow.matrix,c=i._worldMatrix.elements.slice(12,15),f=i.target._worldMatrix.elements.slice(12,15);h.position.set(c[0],c[1],c[2]),h.lookAt(f[0],f[1],f[2]),h.updateWorldMatrix(),s=u.setIdentity().multiply(h.projectionMatrix).multiply(h.worldMatrixInverse).toArray(),u.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),u.multiply(h.projectionMatrix),u.multiply(h.worldMatrixInverse)}e.directionalLights.push({color:o,direction:l.normalize().toArray(),castShadow:i.castShadow,shadowMatrixDepth:s,shadowMatrix:i.shadow.matrix.toArray(),bias:i.shadow.bias,radius:i.shadow.radius,mapSize:[i.shadow.mapSize.x,i.shadow.mapSize.y]})}}i.children&&i.children.length&&this.getLightConfig(i,e)}return e},e.prototype.hitTestPoint=function(t,e){if(!this.parent||!this.mouseEnable)return null;var r=this.parent.transform.worldMatrix,n=this.viewX*r.a+this.viewY*r.c+r.tx,i=this.viewX*r.b+this.viewY*r.d+r.ty,o=Math.sqrt(r.a*r.a+r.b*r.b),a=Math.sqrt(r.c*r.c+r.d*r.d),s=this.viewWidth*o,l=this.viewHeight*a;if(!(t.x>=n&&t.x<=n+s&&t.y>=i&&t.y<=i+l))return null;if(this.mouseChildren){n=(t.x-n)/s*2-1,i=-(t.y-i)/l*2+1,this.raycaster.setFromCamera(new bn(n,i,.5),this.camera);var h=this.raycaster.intersectObject(this);if(h.length)return h[0].object}return this},e.prototype.setOrbCtrCfg=function(t){var e=this.orbitControlConfig;if(e&&t)for(var r in t)void 0!==e[r]&&(e[r]=t[r])},e.prototype.setOrbitControl=function(t){var e=this;if(!this.orbitControlConfig){this.orbitControlConfig={enabled:!0,enableDamping:!0,dampingFactor:.25,userZoom:!0,userZoomSpeed:1,userRotate:!0,userRotateSpeed:1,autoRotate:!1,autoRotateSpeed:2,minPolarAngle:0,maxPolarAngle:Math.PI,minDistance:0,maxDistance:1/0,enablePitch:!0},this.setOrbCtrCfg(t);var r=this.orbitControlConfig,n=new bn,i=new Hn,o=new Hn,a=new Hn,s=0,l=0,h=1,u=[],c=0;this.addEventListener($t.MOUSE_DOWN,(function(t){if(r.enabled){if(u.push({x:t.clientX,y:t.clientY,id:t.identifier}),u.length>=2){var e=u[u.length-1],n=u[u.length-2];c=Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}i.set(t.clientX,t.clientY)}}),this),this.addEventListener($t.MOUSE_MOVE,(function(t){var e;if(r.enabled&&u.length)if(1==u.length){if(!r.userRotate)return;if(!i.x&&!i.y)return;o.set(t.clientX,t.clientY),a.subVectors(o,i),m(2*Math.PI*a.x/1800*r.userRotateSpeed),r.enablePitch&&(void 0===(e=2*Math.PI*a.y/1800*r.userRotateSpeed)&&(e=p()),s-=e),i.copy(o)}else{if(!1===r.userZoom)return;var n=u[u.length-1],l=u[u.length-2];if(t.identifier==n.id)n.x=t.clientX,n.y=t.clientY;else{if(t.identifier!=l.id)return;l.x=t.clientX,l.y=t.clientY}var h=Math.sqrt(Math.pow(n.x-l.x,2)+Math.pow(n.y-l.y,2));h-c>0?y(Math.pow(.95,r.userZoomSpeed/3)):v(Math.pow(.95,r.userZoomSpeed/3)),c=h}}),this);var f=function(t){u.length=0};this.addEventListener($t.MOUSE_UP,f,this),this.addEventListener($t.MOUSE_OUT,f,this),this.addEventListener($t.ENTER_FRAME,(function(){!function(){if(!(Math.abs(l)<1e-4&&Math.abs(s)<1e-4&&Math.abs(h-1)<1e-4)||r.autoRotate){var t=e.camera.position,i=t.clone().sub(n),o=Math.atan2(i.x,i.z),a=Math.atan2(Math.sqrt(i.x*i.x+i.z*i.z),i.y);r.autoRotate&&m(),o+=l,a+=s,a=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,a)),a=Math.max(1e-6,Math.min(Math.PI-1e-6,a));var u=i.length()*h;u=Math.max(r.minDistance,Math.min(r.maxDistance,u)),i.x=u*Math.sin(a)*Math.sin(o),i.y=u*Math.cos(a),i.z=u*Math.sin(a)*Math.cos(o),t.copy(n).add(i),e.camera.lookAt(n.x,n.y,n.z),r.enableDamping?(l*=1-r.dampingFactor,s*=1-r.dampingFactor):(l=0,s=0),h=1}}()}),this),document&&document.addEventListener("mousewheel",(function(t){if(r.enabled&&r.userZoom){var e=0;t.wheelDelta?e=t.wheelDelta:t.detail&&(e=-t.detail),e>0?y():v()}}),!1)}function p(){return 2*Math.PI/60/60*r.autoRotateSpeed}function d(){return Math.pow(.95,r.userZoomSpeed)}function m(t){void 0===t&&(t=p()),l-=t}function v(t){void 0===t&&(t=d()),h/=t}function y(t){void 0===t&&(t=d()),h*=t}},e}(Cn),Kn=(function(t){function e(e,r,n,i,o,a,s){void 0===e&&(e=1),void 0===r&&(r=8),void 0===n&&(n=6),void 0===i&&(i=0),void 0===o&&(o=2*Math.PI),void 0===a&&(a=0),void 0===s&&(s=Math.PI);var l=this;r=Math.max(3,Math.floor(r)),n=Math.max(2,Math.floor(n));var h,u,c=a+s,f=0,p=[],d=new bn,m=new bn,v=[],y=[],g=[],_=[];for(u=0;u<=n;u++){var b=[],x=u/n;for(h=0;h<=r;h++){var w=h/r;d.x=-e*Math.cos(i+w*o)*Math.sin(a+x*s),d.y=e*Math.cos(a+x*s),d.z=e*Math.sin(i+w*o)*Math.sin(a+x*s),y.push(d.x,d.y,d.z),m.set(d.x,d.y,d.z).normalize(),g.push(m.x,m.y,m.z),_.push(w,x),b.push(f++)}p.push(b)}for(u=0;u<n;u++)for(h=0;h<r;h++){var T=p[u][h+1],S=p[u][h],E=p[u+1][h],M=p[u+1][h+1];(0!==u||a>0)&&v.push(T,S,M),(u!==n-1||c<Math.PI)&&v.push(S,E,M)}return(l=t.call(this,y,v,g,null,_)||this).boundingSphere=new On(new bn,e),l}R(e,t)}(jn),function(t){function e(e,r,n,i,o,a){void 0===e&&(e=1),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=1),void 0===o&&(o=1),void 0===a&&(a=1);var s=this;i=Math.floor(i)||1,o=Math.floor(o)||1,a=Math.floor(a)||1;var l=[],h=[],u=[],c=[],f=0;function p(t,e,r,n,i,o,a,s,p,d,m){var v,y,g=o/p,_=a/d,b=o/2,x=a/2,w=s/2,T=p+1,S=d+1,E=0,M=new bn;for(y=0;y<S;y++){var C=y*_-x;for(v=0;v<T;v++){var A=v*g-b;M[t]=A*n,M[e]=C*i,M[r]=w,h.push(M.x,M.y,M.z),M[t]=0,M[e]=0,M[r]=s>0?1:-1,u.push(M.x,M.y,M.z),c.push(v/p),c.push(y/d),E+=1}}for(y=0;y<d;y++)for(v=0;v<p;v++){var P=f+v+T*y,k=f+v+T*(y+1),O=f+(v+1)+T*(y+1),D=f+(v+1)+T*y;l.push(P,k,D),l.push(k,O,D)}f+=E}return p("z","y","x",-1,-1,n,r,e,a,o),p("z","y","x",1,-1,n,r,-e,a,o),p("x","z","y",1,1,e,n,r,i,a),p("x","z","y",1,-1,e,n,-r,i,a),p("x","y","z",1,-1,e,r,n,i,o),p("x","y","z",-1,-1,e,r,-n,i,o),(s=t.call(this,h,l,u,null,c)||this).boundingBox=new kn(new bn(-e/2,-r/2,-n/2),new bn(e/2,r/2,n/2)),s.boundingSphere=new On(new bn,Math.sqrt(e*e+r*r+n*n)),s}R(e,t)}(jn),function(t){function e(e,r,n,i){void 0===e&&(e=1),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=1);var o,a,s=e/2,l=r/2,h=Math.floor(n),u=Math.floor(i),c=h+1,f=u+1,p=e/h,d=r/u,m=[],v=[],y=[],g=[];for(a=0;a<f;a++){var _=a*d-l;for(o=0;o<c;o++){var b=o*p-s;v.push(b,-_,0),y.push(0,0,1),g.push(o/h),g.push(a/u)}}for(a=0;a<u;a++)for(o=0;o<h;o++){var x=o+c*a,w=o+c*(a+1),T=o+1+c*(a+1),S=o+1+c*a;m.push(x,w,S),m.push(w,T,S)}return t.call(this,v,m,y,null,g)||this}R(e,t)}(jn),function(t){function e(e,r,n,i){void 0===e&&(e=1),void 0===r&&(r=8),void 0===n&&(n=0),void 0===i&&(i=2*Math.PI);r=Math.max(3,r);var o,a,s=[],l=[],h=[],u=[],c=new bn,f=new Hn;for(l.push(0,0,0),h.push(0,0,1),u.push(.5,.5),a=0,o=3;a<=r;a++,o+=3){var p=n+a/r*i;c.x=e*Math.cos(p),c.y=e*Math.sin(p),l.push(c.x,c.y,c.z),h.push(0,0,1),f.x=(l[o]/e+1)/2,f.y=1-(l[o+1]/e+1)/2,u.push(f.x,f.y)}for(o=1;o<=r;o++)s.push(o,o+1,0);return t.call(this,l,s,h,null,u)||this}R(e,t)}(jn),function(t){function e(e,r,n,i,o,a,s,l){void 0===e&&(e=1),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=8),void 0===o&&(o=1),void 0===a&&(a=!1),void 0===s&&(s=0),void 0===l&&(l=2*Math.PI);i=Math.floor(i)||8,o=Math.floor(o)||1;var h=[],u=[],c=[],f=[],p=0,d=[],m=n/2;function v(t){var n,o,a,d=new Hn,v=new bn,y=!0===t?e:r,g=!0===t?1:-1;for(o=p,n=1;n<=i;n++)u.push(0,m*g,0),c.push(0,g,0),f.push(.5,.5),p++;for(a=p,n=0;n<=i;n++){var _=n/i*l+s,b=Math.cos(_),x=Math.sin(_);v.x=y*x,v.y=m*g,v.z=y*b,u.push(v.x,v.y,v.z),c.push(0,g,0),d.x=.5*b+.5,d.y=.5*x*g+.5,f.push(d.x,d.y),p++}for(n=0;n<i;n++){var w=o+n,T=a+n;!0===t?h.push(T,T+1,w):h.push(T+1,T,w)}}return function(){var t,a,v=new bn,y=new bn,g=(r-e)/n;for(a=0;a<=o;a++){var _=[],b=a/o,x=b*(r-e)+e;for(t=0;t<=i;t++){var w=t/i,T=w*l+s,S=Math.sin(T),E=Math.cos(T);y.x=x*S,y.y=-b*n+m,y.z=x*E,u.push(y.x,y.y,y.z),v.set(S,g,E).normalize(),c.push(v.x,v.y,v.z),f.push(w,b),_.push(p++)}d.push(_)}for(t=0;t<i;t++)for(a=0;a<o;a++){var M=d[a][t],C=d[a+1][t],A=d[a+1][t+1],P=d[a][t+1];h.push(M,C,P),h.push(C,A,P)}}(),a||(e>0&&v(!0),r>0&&v(!1)),t.call(this,u,h,c,null,f)||this}R(e,t)}(jn),function(t){function e(e,r,n,i,o,a){void 0===e&&(e=.5),void 0===r&&(r=1),void 0===n&&(n=8),void 0===i&&(i=1),void 0===o&&(o=0),void 0===a&&(a=2*Math.PI);n=Math.max(3,n);var s,l,h,u=[],c=[],f=[],p=[],d=e,m=(r-e)/(i=Math.max(1,i)),v=new bn,y=new Hn;for(l=0;l<=i;l++){for(h=0;h<=n;h++)s=o+h/n*a,v.x=d*Math.cos(s),v.y=d*Math.sin(s),c.push(v.x,v.y,v.z),f.push(0,0,1),y.x=(v.x/r+1)/2,y.y=1-(v.y/r+1)/2,p.push(y.x,y.y);d+=m}for(l=0;l<i;l++){var g=l*(n+1);for(h=0;h<n;h++){var _=s=h+g,b=s+n+1,x=s+n+2,w=s+1;u.push(_,b,w),u.push(b,x,w)}}return t.call(this,c,u,f,null,p)||this}R(e,t)}(jn),function(t){function e(e,r,n,i,o){void 0===e&&(e=1),void 0===r&&(r=.4),void 0===n&&(n=8),void 0===i&&(i=6),void 0===o&&(o=2*Math.PI);n=Math.floor(n),i=Math.floor(i);var a,s,l=[],h=[],u=[],c=[],f=new bn,p=new bn,d=new bn;for(a=0;a<=n;a++)for(s=0;s<=i;s++){var m=s/i*o,v=a/n*Math.PI*2;p.x=(e+r*Math.cos(v))*Math.cos(m),p.y=(e+r*Math.cos(v))*Math.sin(m),p.z=r*Math.sin(v),h.push(p.x,p.y,p.z),f.x=e*Math.cos(m),f.y=e*Math.sin(m),d.subVectors(p,f).normalize(),u.push(d.x,d.y,d.z),c.push(s/i),c.push(1-a/n)}for(a=1;a<=n;a++)for(s=1;s<=i;s++){var y=(i+1)*a+s-1,g=(i+1)*(a-1)+s-1,_=(i+1)*(a-1)+s,b=(i+1)*a+s;l.push(y,g,b),l.push(g,_,b)}return t.call(this,h,l,u,null,c)||this}R(e,t)}(jn),function(t){function e(e){var r=t.call(this,e)||this;return r._instanceType="LightMaterial",r._lightAffect=!0,r}return R(e,t),e.prototype.clone=function(){return(new e).copy(this)},e}(An)),Zn="attribute vec3 aPosition;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uModelMatrix;\nvoid main() {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4( aPosition, 1.0 );\n}",Jn=function(t){function e(e,r,n){void 0===e&&(e=Zn),void 0===r&&(r="void main() {\n    gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}"),void 0===n&&(n={});var i=t.call(this)||this;return i.vertexShader=e,i.fragmentShader=r,i.uniforms=n,i.shaders={},i.isShaderMaterial=!0,i.vertexShader=e||Zn,i.fragmentShader=r||"void main() {\n    gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",i._instanceType="ShaderMaterial",i}return R(e,t),e.prototype.getShader=function(t){var e=t.CONTEXT_UID;return this.shaders[e]||(this.shaders[e]=new Me(t.gl,this.vertexShader,this.fragmentShader),this.shaders[e]._glShaderKey="customShaderid"+e+"instanceId"+this.instanceId),this.shaders[e]},e.prototype.destroy=function(){for(var t in this.shaders)this.shaders[t].destroy(),delete this.shaders[t];this.shaders=null,this.vertexShader=null,this.fragmentShader=null},e}(F);!function(t){t.float="f",t.texture="t",t.color="c",t.vector2="v2",t.vector3="v3",t.vector4="v4",t.matrix4="m4"}(Xn||(Xn={}));(function(t){function e(){var e=t.call(this,"precision mediump float;\nattribute vec3 aPosition;\nattribute vec2 aTextureCoord;\nvarying vec2 vTextureCoord;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uModelMatrix;\n\nuniform vec2 center;\n\nuniform float rotation;\n\nvoid main() {\n    vTextureCoord = aTextureCoord;\n    vec4 mvPosition = uViewMatrix * uModelMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n    vec2 scale;\n\tscale.x = length( vec3( uModelMatrix[ 0 ].x, uModelMatrix[ 0 ].y, uModelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( uModelMatrix[ 1 ].x, uModelMatrix[ 1 ].y, uModelMatrix[ 1 ].z ) );\n    \n    #ifndef USE_SIZEATTENUATION\n        bool isPerspective = ( uProjectionMatrix[ 2 ][ 3 ] == - 1.0 );\n        if ( isPerspective ) scale *= - mvPosition.z;\n    #endif\n\n    vec2 alignedPosition = ( aPosition.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\n\tmvPosition.xy += rotatedPosition;\n\n\tgl_Position = uProjectionMatrix * mvPosition;\n}","precision mediump float;\nuniform vec3 color;\nuniform float alpha;\nuniform sampler2D map;\nvarying vec2 vTextureCoord;\nvoid main() {\n    vec4 mapColor = texture2D( map, vTextureCoord );\n    gl_FragColor = vec4( color, alpha )*mapColor;\n}",{center:{type:Xn.vector2,value:new Hn(.5,.5)},rotation:{type:Xn.float,value:0},color:{type:Xn.color,value:16777215},alpha:{type:Xn.float,value:1},map:{type:Xn.texture,value:Xt.WHITE}})||this;return e.sizeAttenuation=!0,e._instanceType="Sprite3dMaterial",e}R(e,t),e.prototype.getShader=function(t){var e=""+t.CONTEXT_UID+this.sizeAttenuation;return this.shaders[e]||(this.shaders[e]=new Me(t.gl,(this.sizeAttenuation?"#define USE_SIZEATTENUATION\n":"")+this.vertexShader,this.fragmentShader),this.shaders[e]._glShaderKey="customShaderid"+e+"instanceId"+this.instanceId+"sizeAttenuation"+this.sizeAttenuation),this.shaders[e]},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center.value},set:function(t){this.uniforms.center.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.uniforms.rotation.value*O},set:function(t){this.uniforms.rotation.value=t*D},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.uniforms.color.value},set:function(t){this.uniforms.color.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha.value},set:function(t){this.uniforms.alpha.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.map.value},set:function(t){this.uniforms.map.value=t},enumerable:!0,configurable:!0})})(Jn),function(t){function e(e,r){var n=t.call(this,e,r)||this;return n._instanceType="AmbientLight",n}R(e,t)}(Wn);var $n=function(t){function e(e,r,n,i,o,a){void 0===e&&(e=-1),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=-1),void 0===o&&(o=.1),void 0===a&&(a=2e3);var s=t.call(this)||this;return s.left=e,s.right=r,s.top=n,s.bottom=i,s.near=o,s.far=a,s._instanceType="OrthographicCamera",s.zoom=1,s.updateProjectionMatrix(),s}return R(e,t),e.prototype.set=function(t,e,r,n,i,o){void 0===i&&(i=.1),void 0===o&&(o=2e3),this.zoom=1,this.left=t,this.right=e,this.top=r,this.bottom=n,this.near=i,this.far=o,this.updateProjectionMatrix()},e.prototype.copy=function(e,r){return void 0===r&&(r=!0),t.prototype.copy.call(this,e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.updateProjectionMatrix(),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.updateProjectionMatrix=function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-t,o=r+t,a=n+e,s=n-e;this.projectionMatrix.setOrtho(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.setInverseOf(this.projectionMatrix)},e}(Vn),Qn=function(t){function e(){return t.call(this,new $n(-5,5,5,-5,.5,500))||this}return R(e,t),e.prototype.clone=function(){return(new e).copy(this)},e}(function(t){function e(e){var r=t.call(this)||this;return r.camera=e,r.bias=0,r.radius=1,r.mapSize=new Hn(512,512),r.matrix=new xn,r._instanceType="LightShadow",r}return R(e,t),e.prototype.copy=function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.destroy=function(){this.mapSize=null,this.camera.destroy(),this.camera=null},e}(F));(function(t){function e(e,r){var n=t.call(this,e,r)||this;return n._instanceType="DirectionalLight",n.position.copy(Cn.DefaultUp),n.updateLocalMatrix(),n.target=new Cn,n.shadow=new Qn,n}R(e,t),e.prototype.copy=function(e){return t.prototype.copy.call(this,e),this.target=e.target.clone(),this}})(Wn),function(t){function e(e,r,n,i){void 0===n&&(n=0),void 0===i&&(i=1);var o=t.call(this,e,r)||this;return o.distance=n,o.decay=i,o._instanceType="PointLight",o}R(e,t),Object.defineProperty(e.prototype,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)},enumerable:!0,configurable:!0}),e.prototype.copy=function(e){return t.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this}}(Wn),function(t){function e(e){void 0===e&&(e=1);var r=new jn([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],null,null,[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),n=new An({wireframe:!0,useVertexColor:!0});return t.call(this,r,n)||this}R(e,t)}(Ln),function(t){function e(e,r,n,i){void 0===e&&(e=10),void 0===r&&(r=10),void 0===n&&(n=4473924),void 0===i&&(i=8947848);for(var o=r/2,a=e/r,s=e/2,l=It(n),h=It(i),u=[],c=[],f=0,p=-s;f<=r;f++,p+=a){u.push(-s,0,p,s,0,p),u.push(p,0,-s,p,0,s);for(var d=f===o?l:h,m=4;m--;)c.push(d[0],d[1],d[2])}var v=new jn(u,null,null,c),y=new An({wireframe:!0,useVertexColor:!0});return t.call(this,v,y)||this}R(e,t)}(Ln),function(t){function e(e,r){void 0===r&&(r=16776960);var n=this;return(n=t.call(this,new jn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],[0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),new An({wireframe:!0,color:r}))||this).box=e,n.mouseChildren=n.mouseEnable=!1,n}R(e,t),e.prototype.updateWorldMatrix=function(e,r){void 0===e&&(e=!1),void 0===r&&(r=!0);var n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),t.prototype.updateWorldMatrix.call(this,e,r))}}(Ln);function ti(t,e,r,n,i,o,a,s){for(var l,h={glUid:t.CONTEXT_UID,precision:ri(t),pointLightsNum:r.pointLights.length,dirLightsNum:r.directionalLights.length,morphTargets:n.morphTargetInfluences&&e.morphTargets,morphNormals:n.morphTargetInfluences&&e.morphTargets&&e.morphNormals,skinning:e.skinning&&i>0,maxBones:i||0,useVertexTexture:o,lightAffect:e._lightAffect,useMap:!!e.map,useEnvMap:!!e.envMap,combine:e.combine,useVertexColor:!!e.useVertexColor,useFog:a&&e.useFog,useShadow:s&&n.receiveShadow&&e._lightAffect,shadowType:s&&s.shadowType},u=function(t){for(var e=[],r=0;r<ai.length;r++)e.push(t[ai[r]]);return e.join()}(h),c=0;c<oi.length;c++)if(oi[c]._glShaderKey===u){++(l=oi[c]).usedTimes;break}return l||((l=new ni(t.gl,h))._glShaderKey=u,oi.push(l)),l}var ei={};function ri(t){var e;return ei[t.CONTEXT_UID]||(ei[t.CONTEXT_UID]=(e=t.gl).getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0?"highp":e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"),ei[t.CONTEXT_UID]}var ni=function(t){function e(e,r){var n=this,i=["precision "+r.precision+" float;","precision "+r.precision+" int;",r.lightAffect?"#define USE_LIGHT":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals?"#define USE_MORPHNORMALS":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"","#define MAX_BONES "+r.maxBones,r.useMap?"#define USE_MAP":"",r.useEnvMap?"#define USE_ENVMAP":"",r.useVertexColor?"#define USE_VERTEXCOLOR":"",r.useFog?"#define USE_FOG":"",r.useShadow?"#define USE_SHADOW":""].filter((function(t){return""!==t})).join("\n");i&&(i+="\n");var o=["precision "+r.precision+" float;","precision "+r.precision+" int;",r.lightAffect?"#define USE_LIGHT":"",r.useMap?"#define USE_MAP":"",r.useEnvMap?"#define USE_ENVMAP":"",r.useEnvMap?"#define "+r.combine:"",r.useVertexColor?"#define USE_VERTEXCOLOR":"",r.useFog?"#define USE_FOG":"",r.useShadow?"#define USE_SHADOW":"",r.useShadow?"#define "+r.shadowType:""].filter((function(t){return""!==t})).join("\n");o&&(o+="\n");var a=li.replace(new RegExp(ii.POINT_LIGHTS_NUM,"gm"),r.pointLightsNum+"").replace(new RegExp(ii.DIR_LIGHTS_NUM,"gm"),r.dirLightsNum+"");return(n=t.call(this,e,i+si,o+a)||this).uniformData=function(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=t.getActiveUniform(e,i),a=0==o.name.indexOf("morphTargetInfluences")||0==o.name.indexOf("uBoneMatrices")?o.name.replace(/\[.*?\]/,""):o.name,s=fe(t,o.type);r[a]={type:s,size:o.size,location:t.getUniformLocation(e,a),value:ye(s,o.size)}}return r}(e,n.program),n.uniforms=be(e,n.uniformData),n.usedTimes=0,n}return R(e,t),e}(Me);var ii,oi=[],ai=["glUid","precision","pointLightsNum","dirLightsNum","morphTargets","morphNormals","skinning","maxBones","useVertexTexture","lightAffect","useMap","useEnvMap","combine","useVertexColor","useFog","useShadow","shadowType"];!function(t){t.POINT_LIGHTS_NUM="POINT_LIGHTS_NUM",t.DIR_LIGHTS_NUM="DIR_LIGHTS_NUM"}(ii||(ii={}));var si=["attribute vec3 aPosition;","uniform mat4 uViewMatrix;","uniform mat4 uProjectionMatrix;","uniform mat4 uModelMatrix;","#ifdef USE_VERTEXCOLOR","   attribute vec3 aColor;","   varying vec3 vColor;","#endif","#ifdef USE_MAP","   attribute vec2 aTextureCoord;","   varying vec2 vTextureCoord;","#endif","#if defined( USE_ENVMAP ) || defined( USE_LIGHT )","   attribute vec3 aNormal;","   uniform mat4 uNormalMatrix;","   varying vec3 vNormal;","   varying vec3 vWorldPosition;","   varying vec3 vViewPosition;","#endif","#ifdef USE_ENVMAP","   varying vec3 vReflect;","   uniform vec3 uCameraPosition;","#endif","#ifdef USE_SKINNING","   uniform mat4 uBindMatrix;","   uniform mat4 uBindMatrixInverse;","   #ifdef BONE_TEXTURE","      uniform sampler2D uBoneTexture;","      uniform int uBoneTextureSize;","      mat4 getBoneMatrix( const in float i ) {","         float j = i * 4.0;","         float x = mod( j, float( uBoneTextureSize ) );","         float y = floor( j / float( uBoneTextureSize ) );","         float dx = 1.0 / float( uBoneTextureSize );","         float dy = 1.0 / float( uBoneTextureSize );","         y = dy * ( y + 0.5 );","         vec4 v1 = texture2D( uBoneTexture, vec2( dx * ( x + 0.5 ), y ) );","         vec4 v2 = texture2D( uBoneTexture, vec2( dx * ( x + 1.5 ), y ) );","         vec4 v3 = texture2D( uBoneTexture, vec2( dx * ( x + 2.5 ), y ) );","         vec4 v4 = texture2D( uBoneTexture, vec2( dx * ( x + 3.5 ), y ) );","         mat4 bone = mat4( v1, v2, v3, v4 );","         return bone;","      }","   #else","      uniform mat4 uBoneMatrices[ MAX_BONES ];","      mat4 getBoneMatrix( const in float i ) {","         mat4 bone = uBoneMatrices[ int(i) ];","         return bone;","      }","   #endif","\tattribute vec4 aSkinIndex;","\tattribute vec4 aSkinWeight;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","       uniform float morphTargetInfluences[ 4 ];","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","       uniform float morphTargetInfluences[ 8 ];","\t#endif","#endif","#ifdef USE_FOG","    varying float vFogDepth;","#endif","#ifdef USE_SHADOW","      uniform mat4 uDirectionalShadowMatrix;","      varying vec4 vDirectionalShadowCoord;","#endif","void main() {","   vec3 transformed = vec3( aPosition );","   #ifdef USE_MORPHTARGETS","      transformed += ( morphTarget0 - aPosition ) * morphTargetInfluences[ 0 ];","      transformed += ( morphTarget1 - aPosition ) * morphTargetInfluences[ 1 ];","      transformed += ( morphTarget2 - aPosition ) * morphTargetInfluences[ 2 ];","      transformed += ( morphTarget3 - aPosition ) * morphTargetInfluences[ 3 ];","      #ifndef USE_MORPHNORMALS","         transformed += ( morphTarget4 - aPosition ) * morphTargetInfluences[ 4 ];","         transformed += ( morphTarget5 - aPosition ) * morphTargetInfluences[ 5 ];","         transformed += ( morphTarget6 - aPosition ) * morphTargetInfluences[ 6 ];","         transformed += ( morphTarget7 - aPosition ) * morphTargetInfluences[ 7 ];","      #endif","   #endif","   #ifdef USE_SKINNING","      mat4 boneMatX = getBoneMatrix( aSkinIndex.x );","      mat4 boneMatY = getBoneMatrix( aSkinIndex.y );","      mat4 boneMatZ = getBoneMatrix( aSkinIndex.z );","      mat4 boneMatW = getBoneMatrix( aSkinIndex.w );","      vec4 skinVertex = uBindMatrix * vec4( transformed, 1.0 );","      vec4 skinned = vec4( 0.0 );","      skinned += boneMatX * skinVertex * aSkinWeight.x;","      skinned += boneMatY * skinVertex * aSkinWeight.y;","      skinned += boneMatZ * skinVertex * aSkinWeight.z;","      skinned += boneMatW * skinVertex * aSkinWeight.w;","      transformed = ( uBindMatrixInverse * skinned ).xyz;","   #endif","   vec4 mvPosition = uViewMatrix * uModelMatrix * vec4( transformed, 1.0 );","   gl_Position = uProjectionMatrix * mvPosition;","   #ifdef USE_VERTEXCOLOR","      vColor = aColor;","   #endif","   #ifdef USE_MAP","      vTextureCoord = aTextureCoord;","   #endif","   #if defined( USE_ENVMAP ) || defined( USE_LIGHT )","      vec3 objectNormal = vec3( aNormal );","      #ifdef USE_MORPHNORMALS","         objectNormal += ( morphNormal0 - aNormal ) * morphTargetInfluences[ 0 ];","         objectNormal += ( morphNormal1 - aNormal ) * morphTargetInfluences[ 1 ];","         objectNormal += ( morphNormal2 - aNormal ) * morphTargetInfluences[ 2 ];","         objectNormal += ( morphNormal3 - aNormal ) * morphTargetInfluences[ 3 ];","      #endif","      #ifdef USE_SKINNING","         mat4 skinMatrix = mat4( 0.0 );","         skinMatrix += aSkinWeight.x * boneMatX;","         skinMatrix += aSkinWeight.y * boneMatY;","         skinMatrix += aSkinWeight.z * boneMatZ;","         skinMatrix += aSkinWeight.w * boneMatW;","         skinMatrix  = uBindMatrixInverse * skinMatrix * uBindMatrix;","         objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;","      #endif","      vViewPosition = -mvPosition.xyz;","      vWorldPosition = vec3(uModelMatrix * vec4(transformed,1.0));","      vec3 vTransformedNormal = vec3(uNormalMatrix * vec4(objectNormal,1.0));","      vNormal = normalize(vTransformedNormal);","      #ifdef USE_ENVMAP","         vec3 cameraToVertex = normalize( vWorldPosition.xyz - uCameraPosition );","         vec3 worldNormal = normalize( ( vec4( vTransformedNormal, 0.0 ) * uViewMatrix ).xyz );","         vReflect = reflect(cameraToVertex, worldNormal);","      #endif","   #endif","   #ifdef USE_FOG","      vFogDepth = -mvPosition.z;","   #endif","   #ifdef USE_SHADOW","         vDirectionalShadowCoord = uDirectionalShadowMatrix * (uModelMatrix * vec4(transformed,1.0));","   #endif","}"].join("\n"),li=["uniform vec3 uMatColor;","uniform float uMatAlpha;","#ifdef USE_MAP","   uniform sampler2D uMap;","   varying vec2 vTextureCoord;","#endif","#ifdef USE_VERTEXCOLOR","   varying vec3 vColor;","#endif","#if defined( USE_ENVMAP ) || defined( USE_LIGHT )","   varying vec3 vNormal;","   varying vec3 vWorldPosition;","   varying vec3 vViewPosition;","#endif","#ifdef USE_ENVMAP","   uniform sampler2D uEnvMap;","   uniform float uReflectivity;","   uniform mat4 uViewMatrix;","   varying vec3 vReflect;","#endif","#ifdef USE_LIGHT","   float calcSpecular(vec3 lightDir, vec3 viewDir, vec3 normal) {","      vec3 halfwayDir = normalize(lightDir + viewDir);","      float spec = pow(max(dot(normal, halfwayDir), 0.0), 32.0);","      return spec;","   }","   #if "+ii.POINT_LIGHTS_NUM+" > 0","      #define saturate(a) clamp( a, 0.0, 1.0 )","      float calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {","         if ( decayExponent > 0.0 ) {","            return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );","         }","         return 1.0;","      }","      struct PointLight {","         vec3 color;","         vec3 position;","         float distance;","         float decay;","      };","      uniform PointLight pointLights["+ii.POINT_LIGHTS_NUM+"];","   #endif","   #if "+ii.DIR_LIGHTS_NUM+" > 0","      struct DirectionalLight {","         vec3 direction;","         vec3 color;","         int shadow;","         float shadowBias;","\t      float shadowRadius;","\t      vec2 shadowMapSize;","      };","      uniform DirectionalLight directionalLights["+ii.DIR_LIGHTS_NUM+"];","   #endif","   uniform vec3 uAmbientLightColor;","#endif","#ifdef USE_FOG","   uniform vec3 uFogColor;","   varying float vFogDepth;","   uniform float uFogNear;","   uniform float uFogFar;","#endif","#ifdef USE_SHADOW","      uniform sampler2D uDirectionalShadowMap;","      varying vec4 vDirectionalShadowCoord;","      const float UnpackDownscale = 255. / 256.;","      const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );","      const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );","      float unpackRGBAToDepth( const in vec4 v ) {","          return dot( v, UnpackFactors );","      }","   float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {","      return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );","   }","   float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {","      float shadow = 1.0;","      shadowCoord.xyz /= shadowCoord.w;","      shadowCoord.z += shadowBias;","      bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );","      bool inFrustum = all( inFrustumVec );","      bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );","      bool frustumTest = all( frustumTestVec );","      if ( frustumTest ) {","         #if defined( SHADOWMAP_TYPE_PCF )","            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;","            float dx0 = - texelSize.x * shadowRadius;","\t         float dy0 = - texelSize.y * shadowRadius;","\t         float dx1 = + texelSize.x * shadowRadius;","\t         float dy1 = + texelSize.y * shadowRadius;","            shadow =(","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )","            ) * ( 1.0 / 9.0 );","         #elif defined( SHADOWMAP_TYPE_PCF_SOFT )","         #else","            shadow = texture2DCompare(shadowMap, shadowCoord.xy, shadowCoord.z);","         #endif","      }","      return shadow;","   }","#endif","void main() {","   vec4 color = vec4( uMatColor, uMatAlpha );","   color.rgb *= color.a;","   #ifdef USE_MAP","      vec4 mapColor = texture2D( uMap, vTextureCoord );","      color *= mapColor;","   #endif","   #ifdef USE_VERTEXCOLOR","      color *= vec4(vColor,1.0);","   #endif","   vec3 colorRgb = color.rgb;","   #ifdef USE_LIGHT","      vec3 totalDiffuseLight = vec3( 0.0 );","      vec3 totalSpecularLight = vec3( 0.0 );","      vec3 viewDir = normalize(vViewPosition);","      vec3 lightDirection;","      float diffuse;","      float specular;","      #if "+ii.POINT_LIGHTS_NUM+" > 0","         float attenuation;","         for ( int i = 0; i < "+ii.POINT_LIGHTS_NUM+"; i ++ ) {","            lightDirection = pointLights[i].position + vViewPosition;","            attenuation = calcLightAttenuation( length( lightDirection ), pointLights[ i ].distance, pointLights[ i ].decay );","            lightDirection = normalize(lightDirection);","            diffuse = max( dot( vNormal, lightDirection ), 0.0 );","            totalDiffuseLight += pointLights[i].color * (diffuse * attenuation);","            specular = calcSpecular(lightDirection,viewDir,vNormal);","            totalSpecularLight += pointLights[i].color *(specular * attenuation);","         }","      #endif","      #if "+ii.DIR_LIGHTS_NUM+" > 0","         DirectionalLight directionalLight;","         for( int i = 0; i < "+ii.DIR_LIGHTS_NUM+"; i++ ) {","            directionalLight = directionalLights[ i ];","            vec3 dColor = directionalLight.color;","            #ifdef USE_SHADOW","               dColor *= all( bvec2( directionalLight.shadow, 1.0 ) ) ? getShadow( uDirectionalShadowMap, directionalLight.shadowMapSize, directionalLight.shadowBias,directionalLight.shadowRadius, vDirectionalShadowCoord ) : 1.0;","            #endif","            lightDirection = directionalLight.direction;","            diffuse = max( dot( vNormal, lightDirection ), 0.0 );","            totalDiffuseLight += dColor * diffuse;","            specular = calcSpecular(lightDirection,viewDir,vNormal);","            totalSpecularLight += dColor * specular;","         }","      #endif","      colorRgb = (totalDiffuseLight + uAmbientLightColor + totalSpecularLight) * colorRgb;","   #endif","   #ifdef USE_ENVMAP","      vec2 envUv;","      vec3 reflectVec = normalize( vReflect );","      envUv.y =0.5 - asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * 0.31830988618;","      envUv.x = atan( reflectVec.z, reflectVec.x ) * 0.15915494 + 0.5;","\t   vec4 envColor = texture2D( uEnvMap, envUv );","      #ifdef ENVMAP_BLENDING_MULTIPLY","         colorRgb = mix(colorRgb, colorRgb * envColor.xyz,  uReflectivity);","      #elif defined( ENVMAP_BLENDING_MIX )","         colorRgb = mix( colorRgb, envColor.xyz,   uReflectivity );","      #elif defined( ENVMAP_BLENDING_ADD )","         colorRgb += envColor.xyz  * uReflectivity;","      #endif","   #endif","   gl_FragColor = vec4( colorRgb, color.a );","#ifdef USE_FOG","   float fogFactor = smoothstep( uFogNear, uFogFar, vFogDepth );","   gl_FragColor.rgb = mix( gl_FragColor.rgb, uFogColor*color.a, fogFactor );","#endif","}"].join("\n"),hi=function(t){function e(e){return t.call(this,e,"attribute vec3 aPosition;\nuniform mat4 uLightSpaceMatrix;\nuniform mat4 uModelMatrix;\nvoid main() {\n    gl_Position = uLightSpaceMatrix * uModelMatrix * vec4( aPosition, 1.0 );\n}","precision mediump float;\n    // uniform float uMatAlpha;\n    const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\n    vec4 packDepthToRGBA( const in float v ) {\n        vec4 r = vec4( fract( v * PackFactors ), v );\n        r.yzw -= r.xyz * (1. / 256.);\n        return r * (256. / 255.);\n    }\n    void main() {\n        // gl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), uMatAlpha );\n        gl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n}")||this}return R(e,t),e}(Me),ui=new bn,ci=new xn,fi=function(t){function e(e){var r=t.call(this,e)||this;return r.meshes=[],r}return R(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.maxVertexUniforms=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS);t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),t.getExtension("OES_texture_float");this.floatVertexTextures=!1},e.prototype.start=function(){this.renderer.state.setDepthTest(1)},e.prototype.stop=function(){this.flush(),this.renderer._activeRenderTarget.activate(),this.renderer.state.setState(this.renderer.state.defaultState)},e.prototype.render=function(t){if(t.geometry&&t.material){for(var e=t.material,r=(t.geometry,0);r<this.meshes.length;r++)if(this.meshes[r].material==e)return void this.meshes.splice(r,0,t);this.meshes.push(t)}},e.prototype.flush=function(){var t=function(t,e,r){var n=function(){if(!t||!t.directionalLights||!t.directionalLights.length)return null;for(var e=0,r=t.directionalLights;e<r.length;e++){var n=r[e];if(n.castShadow)return n}return null}();if(!n)return null;var i=[],o=[];if(e&&e.length)for(var a=0,s=e;a<s.length;a++){var l=s[a];l.castShadow&&l.material._lightAffect&&i.push(l),l.receiveShadow&&l.material._lightAffect&&o.push(l)}if(!i.length||!o.length)return null;var h=r.gl;pi=pi||new mr(new dr(n.mapSize[0],n.mapSize[1])),r.bindRenderTexture(pi,null),r.clear([1,1,1,1]),r.state.setBlend(!1);var u=_i[r.CONTEXT_UID]||(_i[r.CONTEXT_UID]=new hi(r.gl));r.bindShader(u,!1);var c=u.uniforms;return c.uLightSpaceMatrix=n.shadowMatrixDepth,r.state.setCullFace(1),r.state.setFrontFace(1),i.forEach((function(t){var e=t.geometry,n=t.material;c.uModelMatrix=t._worldMatrix.toArray();var i=bi(e,r),o=i.vaos[r.CONTEXT_UID],a=u.attributes;o?r.bindVao(o):(o=i.vaos[r.CONTEXT_UID]=r.createVao().addAttribute(i.attrBuffer,a.aPosition,h.FLOAT,!1,e._vertByteSize,0),e._indices&&o.addIndex(i.indexBuffer),r.bindVao(o),i.attrBuffer.upload(e._attrBuffer.vertices,0,!1),e._indices&&i.indexBuffer.upload(e._indices,0,!1)),o.draw(n.wireframe?h.LINES:h.TRIANGLES)})),r.bindRenderTexture(null,null),r.state.setBlend(!0),{texture:pi,lightSpaceMatrix:n.shadowMatrix,shadowType:null}}(this.lightsConfig,this.meshes,this.renderer);t&&(this.renderer.gl.viewport(this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height),t.shadowType=this.shadowType);for(var e=null,r=this.lightsConfig.pointLights.length,n=this.lightsConfig.directionalLights.length,i=this.renderer.gl,o=this.renderer.textureManager,a=0;a<this.meshes.length;a++){var s=this.meshes[a],l=s.material,h=s.geometry;if(l.isShaderMaterial){var u=l.getShader(this.renderer),c=u.uniforms,f=l.uniforms;for(var p in e!==u&&(e=u,this.renderer.bindShader(e,!1),c.uViewMatrix&&(c.uViewMatrix=this.camera.worldMatrixInverse.toArray()),c.uProjectionMatrix&&(c.uProjectionMatrix=this.camera.projectionMatrix.toArray())),c.uModelMatrix&&(c.uModelMatrix=s._worldMatrix.toArray()),f){var d=f[p],m=d.type,v=d.value;switch(m){case Xn.texture:c[p]=o.bindTexture(v,void 0,!1);break;case Xn.color:c[p]=It(v);break;case Xn.vector2:case Xn.vector3:case Xn.vector4:case Xn.matrix4:c[p]=v.toArray();break;default:c[p]=v}}}else{var y=this.getMaxBones(s),g=ti(this.renderer,l,this.lightsConfig,s,y,this.floatVertexTextures,this.fog,t);c=g.uniforms;if(e!==g&&(e=g,this.renderer.bindShader(e,!1),c.uViewMatrix=this.camera.worldMatrixInverse.toArray(),c.uProjectionMatrix=this.camera.projectionMatrix.toArray(),l._lightAffect)){for(var _=0;_<r;_++){c[b="pointLights["+_+"]"].color=this.lightsConfig.pointLights[_].color,c[b].position=this.lightsConfig.pointLights[_].position,c[b].distance=this.lightsConfig.pointLights[_].distance,c[b].decay=this.lightsConfig.pointLights[_].decay}for(_=0;_<n;_++){var b="directionalLights["+_+"]",x=this.lightsConfig.directionalLights[_];c[b].color=x.color,c[b].direction=x.direction,c[b].shadow=+x.castShadow,c[b].shadowBias=x.bias,c[b].shadowRadius=x.radius,c[b].shadowMapSize=x.mapSize}c.uAmbientLightColor=this.lightsConfig.ambientLightColor,c.uDirectionalShadowMatrix&&(c.uDirectionalShadowMatrix=t.lightSpaceMatrix,c.uDirectionalShadowMap=o.bindTexture(t.texture,void 0,!1))}if(l.map&&(c.uMap=o.bindTexture(l.map,void 0,!1)),l.envMap&&(c.uEnvMap=o.bindTexture(l.envMap,void 0,!1),c.uReflectivity=l.reflectivity,c.uCameraPosition=ui.setFromMatrixPosition(this.camera._worldMatrix).toArray()),c.uMatColor=l.colorArr,c.uMatAlpha=l.alpha,l.useFog&&this.fog&&(c.uFogColor=this.fog.color,c.uFogNear=this.fog.near,c.uFogFar=this.fog.far),c.uModelMatrix=s._worldMatrix.toArray(),c.uNormalMatrix){var w=ci.multiplyMatrices(this.camera.worldMatrixInverse,s._worldMatrix).invert().transpose();c.uNormalMatrix=w.toArray()}if(l.skinning&&y>0){var T=s;c.uBindMatrix=T.bindMatrix.toArray(),c.uBindMatrixInverse=T.bindMatrixInverse.toArray();var S=T.skeleton;if(S){var E=S.bones;if(this.floatVertexTextures){if(!S.boneTexture){var M=Math.sqrt(4*E.length);M=function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}(M),M=Math.max(M,4);var C=new Float32Array(M*M*4);C.set(S.boneMatrices);var A=new Gt({data:C,width:M,height:M});A.mipmap=!1,S.boneMatrices=C,S.boneTexture=A,S.boneTextureSize=M}var P=o.bindTexture(S.boneTexture,void 0,!1);c.uBoneTexture=P,c.uBoneTextureSize=S.boneTextureSize}else c.uBoneMatrices=T.skeleton.boneMatrices}}}var k,O=bi(h,this.renderer),D=O.vaos[e._glShaderKey],I=e.attributes;if(D)s.morphTargetInfluences&&l.morphTargets&&(k=yi(s.morphTargetInfluences,h,O,D,e,i)),this.renderer.bindVao(D,!!k),k&&k.forEach((function(t){t.buffer.upload(t.data,0,!1)}));else D=O.vaos[e._glShaderKey]=this.renderer.createVao().addAttribute(O.attrBuffer,I.aPosition,i.FLOAT,!1,h._vertByteSize,0),I.aColor&&D.addAttribute(O.attrBuffer,I.aColor,i.FLOAT,!0,h._vertByteSize,12),I.aTextureCoord&&D.addAttribute(O.attrBuffer,I.aTextureCoord,i.FLOAT,!0,h._vertByteSize,24),I.aNormal&&D.addAttribute(O.attrBuffer,I.aNormal,i.FLOAT,!1,h._vertByteSize,32),h._indices&&D.addIndex(O.indexBuffer),I.aSkinWeight&&D.addAttribute(O.skinWeightBuffer,I.aSkinWeight,i.FLOAT,!1,0,0),I.aSkinIndex&&D.addAttribute(O.skinIndexBuffer,I.aSkinIndex,i.UNSIGNED_BYTE,!1,0,0),s.morphTargetInfluences&&l.morphTargets&&(k=yi(s.morphTargetInfluences,h,O,D,e,i)),this.renderer.bindVao(D),O.attrBuffer.upload(h._attrBuffer.vertices,0,!1),h._indices&&O.indexBuffer.upload(h._indices,0,!1),I.aSkinWeight&&O.skinWeightBuffer.upload(new Float32Array(h._skinWeight),0,!1),I.aSkinIndex&&O.skinIndexBuffer.upload(new Uint8Array(h._skinIndex),0,!1),k&&k.forEach((function(t){t.buffer.upload(t.data,0,!1)}));l.side==Sn.DoubleSide?this.renderer.state.setCullFace(0):(this.renderer.state.setCullFace(1),this.renderer.state.setFrontFace(l.side)),D.draw(l.wireframe?i.LINES:i.TRIANGLES)}this.meshes.length=0},e.prototype.getMaxBones=function(t){if("SkinnedMesh3D"!==t.instanceType)return 0;if(this.floatVertexTextures)return 1024;var e=t.skeleton.bones,r=Math.floor((this.maxVertexUniforms-20)/4),n=Math.min(r,e.length);return n<e.length?(console.warn("Skeleton has "+e.length+" bones. This GPU supports "+n+"."),0):n},e}(te);var pi,di={},mi={},vi=new Float32Array(8);function yi(t,e,r,n,i,o){var a=e._morphPositions,s=e._morphNormals,l=t.length,h=[],u=di[e.instanceId];if(!u){u=[];for(var c=0;c<l;c++)u[c]=[c,0];di[e.instanceId]=u}var f=mi[e.instanceId];f||((f=[]).length=8,mi[e.instanceId]=f);for(c=0;c<8;c++){(m=u[c])&&0!==m[1]&&(a&&n.removeAttribute("morphTarget"+c),s&&c<4&&n.removeAttribute("morphNormal"+c))}for(c=0;c<l;c++){(m=u[c])[0]=c,m[1]=t[c]}u.sort(gi);var p=i.attributes,d=s?4:8;for(c=0;c<d;c++){var m;if(m=u[c]){var v=m[0],y=m[1];if(y){if(a&&a[v]){var g=r.morphTargetBuffers[v];g||(g=r.morphTargetBuffers[v]=le.createVertexBuffer(o,null,o.STATIC_DRAW)),f[c]!==v&&(f[c]=v,h.push({buffer:g,data:new Float32Array(a[v])})),n.addAttribute(g,p["morphTarget"+c],o.FLOAT,!1,0,0,"morphTarget"+c)}if(s&&s[v]){var _=r.morphNormalBuffers[v];_||(_=r.morphNormalBuffers[v]=le.createVertexBuffer(o,null,o.STATIC_DRAW)),f[c+4]!==v&&(f[c+4]=v,h.push({buffer:_,data:new Float32Array(s[v])})),n.addAttribute(r.morphNormalBuffers[v],p["morphNormal"+c],o.FLOAT,!1,0,0,"morphNormal"+c)}vi[c]=y;continue}}vi[c]=0}return i.uniforms.morphTargetInfluences=vi,h}function gi(t,e){return Math.abs(e[1])-Math.abs(t[1])}cr.registerPlugin("d3",fi);var _i={};function bi(t,e){var r=e.gl,n=t._glVaoBuffer[e.CONTEXT_UID];return n||(n=t._glVaoBuffer[e.CONTEXT_UID]={attrBuffer:le.createVertexBuffer(r,null,r.STATIC_DRAW),vaos:{}},t._indices&&(n.indexBuffer=le.createIndexBuffer(r,null,r.STATIC_DRAW)),t._morphPositions&&(n.morphTargetBuffers=[]),t._morphNormals&&(n.morphNormalBuffers=[]),t._skinWeight&&(n.skinWeightBuffer=le.createVertexBuffer(r,null,r.STATIC_DRAW)),t._skinIndex&&(n.skinIndexBuffer=le.createVertexBuffer(r,null,r.STATIC_DRAW)),function(t){for(var e=t._attrBuffer.float32View,r=0,n=0;n<t._vertices.length/3;n++)e[r++]=t._vertices[3*n],e[r++]=t._vertices[3*n+1],e[r++]=t._vertices[3*n+2],e[r++]=t._colors[3*n],e[r++]=t._colors[3*n+1],e[r++]=t._colors[3*n+2],e[r++]=t._uvs[2*n],e[r++]=t._uvs[2*n+1],e[r++]=t._normals[3*n],e[r++]=t._normals[3*n+1],e[r++]=t._normals[3*n+2]}(t)),n}function xi(t,e,r){return n=t,!ArrayBuffer.isView(n)||n instanceof DataView?t.slice(e,r):new t.constructor(t.subarray(e,void 0!==r?r:t.length));var n}var wi;!function(t){t.quaternion="quaternion",t.scale="scale",t.morphTargetInfluences="morphTargetInfluences",t.position="position"}(wi||(wi={}));var Ti=function(t){function e(e,r,n,i){var o=t.call(this)||this;switch(o.node=e,o.animationType=r,o.times=n,o.values=i,o._instanceType="AnimationTrack",o.animationType){case wi.position:case wi.scale:case wi.quaternion:var a=o.node[o.animationType].clone().toArray();o.resetValue=function(){o.node[o.animationType].fromArray(a)};break;case wi.morphTargetInfluences:if("Mesh3D"==o.node.instanceType||"SkinnedMesh3D"==o.node.instanceType){var s=o.node.morphTargetInfluences?o.node.morphTargetInfluences.slice():[];o.resetValue=function(){for(var t=o.node.morphTargetInfluences,e=0;e<t.length;e++)t[e]=s[e]||0}}}return o.resetValue||(o.resetValue=function(){}),o}return R(e,t),e.prototype.setValue=function(t){var e=this.getValue(t);switch(this.animationType){case wi.position:case wi.scale:case wi.quaternion:this.node[this.animationType].fromArray(e);break;case wi.morphTargetInfluences:if("Mesh3D"==this.node.instanceType||"SkinnedMesh3D"==this.node.instanceType)for(var r=this.node.morphTargetInfluences,n=0;n<r.length;n++)r[n]=e[n]||0}},e.prototype.getValue=function(t){var e=this.getValueSize();if(t<=0)return this.values.slice(0,e);if(t>=this.times[this.times.length-1])return this.values.slice(-e);var r=this.findPreIndex(t),n=r-1;if(n<0)return this.values.slice(0,e);var i=(t-this.times[n])/(this.times[r]-this.times[n]),o=this.values.slice(n*e,n*e+e),a=this.values.slice(r*e,r*e+e);return this.animationType==wi.quaternion?function(t,e,r){var n=[];return wn.slerpFlat(n,0,e,0,r,0,t),n}(i,o,a):function(t,e,r){for(var n=[],i=0;i!==e.length;++i)n[i]=e[i]*(1-t)+r[i]*t;return n}(i,o,a)},e.prototype.getValueSize=function(){return this.values.length/this.times.length},e.prototype.findPreIndex=function(t){for(var e=0,r=0;r<this.times.length;r++)if(this.times[r]>t){e=r;break}return e},e.prototype.destroy=function(){this.node=null,this.values=null,this.times=null},e}(F);var Si=new xn,Ei=new xn,Mi=function(t){function e(e,r){void 0===e&&(e=[]);var n=t.call(this)||this;if(n._instanceType="Skeleton3D",n.bones=e.slice(0),n.boneMatrices=new Float32Array(16*n.bones.length),r)if(n.bones.length===r.length)n.boneInverses=r.slice(0);else{console.warn("boneInverses长度有误"),n.boneInverses=[];for(var i=0,o=n.bones.length;i<o;i++)n.boneInverses.push(new xn)}else n.calculateInverses();return n}return R(e,t),e.prototype.calculateInverses=function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var r=new xn;this.bones[t]&&r.setInverseOf(this.bones[t]._worldMatrix),this.boneInverses.push(r)}},e.prototype.pose=function(){var t,e,r;for(e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&t._worldMatrix.setInverseOf(this.boneInverses[e]);for(e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&(t.parent&&"Bone3D"==t.parent.instanceType?(t._localMatrix.setInverseOf(t.parent._worldMatrix),t._localMatrix.multiply(t._worldMatrix)):t._localMatrix.copy(t._worldMatrix),t._localMatrix.decompose(t.position,t.quaternion,t.scale))},e.prototype.update=function(){for(var t=this.bones,e=this.boneInverses,r=this.boneMatrices,n=this.boneTexture,i=0,o=t.length;i<o;i++){var a=t[i]?t[i]._worldMatrix:Ei;Si.multiplyMatrices(a,e[i]),Si.toArray(r,16*i)}n&&n.update()},e.prototype.clone=function(){return new e(this.bones,this.boneInverses)},e.prototype.getBoneByName=function(t){for(var e=0,r=this.bones.length;e<r;e++){var n=this.bones[e];if(n.name===t)return n}return null},e.prototype.destroy=function(){},e}(F),Ci=function(t){function e(){var e=t.call(this)||this;return e._instanceType="Bone3D",e}return R(e,t),e}(Cn),Ai=function(t){function e(e,r){var n=t.call(this,e,r)||this;n.bindMode="attached",n.bindMatrix=new xn,n.bindMatrixInverse=new xn,n._instanceType="SkinnedMesh3D";var i=n.initBones(),o=new Mi(i);return n.bind(o,n._worldMatrix),n.normalizeSkinWeights(),n}return R(e,t),e.prototype.initBones=function(){var t,e,r,n,i=[];if(this.geometry&&void 0!==this.geometry.bones){for(r=0,n=this.geometry.bones.length;r<n;r++)e=this.geometry.bones[r],t=new Ci,i.push(t),t.name=e.name,t.position.fromArray(e.pos),t.quaternion.fromArray(e.rotq),void 0!==e.scl&&t.scale.fromArray(e.scl);for(r=0,n=this.geometry.bones.length;r<n;r++)-1!==(e=this.geometry.bones[r]).par&&null!==e.par&&void 0!==i[e.par]?i[e.par].addChild(i[r]):this.addChild(i[r])}return this.updateWorldMatrix(),i},e.prototype.bind=function(t,e){this.skeleton=t,void 0===e&&(this.updateWorldMatrix(),this.skeleton.calculateInverses(),e=this._worldMatrix),this.bindMatrix.copy(e),this.bindMatrixInverse.setInverseOf(e)},e.prototype.pose=function(){this.skeleton.pose()},e.prototype.normalizeSkinWeights=function(){var t,e;if(this.geometry){var r=new Pi,n=this.geometry._skinWeight,i=n.length/4||0;for(e=0;e<i;e++)r.x=n[4*e],r.y=n[4*e+1],r.z=n[4*e+2],r.w=n[4*e+3],(t=1/r.manhattanLength())!==1/0?r.multiplyScalar(t):r.set(1,0,0,0),n[4*e]=r.x,n[4*e+1]=r.y,n[4*e+2]=r.z,n[4*e+3]=r.w}},e.prototype.updateWorldMatrix=function(){t.prototype.updateWorldMatrix.call(this),"attached"===this.bindMode?this.bindMatrixInverse.setInverseOf(this._worldMatrix):"detached"===this.bindMode&&this.bindMatrixInverse.setInverseOf(this.bindMatrix)},e.prototype.update=function(){this.visible&&(this.skeleton.update(),t.prototype.update.call(this))},e.prototype.clone=function(){return new e(this.geometry,this.material).copy(this)},e}(Ln),Pi=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),this.x=t,this.y=e,this.z=r,this.w=n}return t.prototype.set=function(t,e,r,n){return this.x=t,this.y=e,this.z=r,this.w=n,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},t.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},t}(),ki=function(t){function e(e,r){var n=t.call(this)||this;return n._isPlaying=!0,n._isFront=!0,n.lastTime=null,n.curTime=0,n._endMark=!1,n._instanceType="AnimationClip",n.tracks=e,n._totalTime=r,n}return R(e,t),Object.defineProperty(e.prototype,"totalTime",{get:function(){return this._totalTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFront",{get:function(){return this._isFront},enumerable:!0,configurable:!0}),e.prototype.update=function(t){if(this.tracks&&this.tracks.length)return this.curTime!==this.lastTime?(this.rectify(),void(this._endMark=!1)):void(t<=0||!this._isPlaying||(this._endMark=!1,this._isFront?(this.curTime+=t,this.curTime>this._totalTime&&(this.curTime=0,this._endMark=!0)):(this.curTime-=t,this.curTime<0&&(this.curTime=this._totalTime,this._endMark=!0)),this.curTime!==this.lastTime&&(this.rectify(),this.dispatchEvent(L.ENTER_FRAME),this._endMark&&this.hasEventListener(L.END_FRAME)&&this.dispatchEvent(L.END_FRAME))))},e.prototype.play=function(t){void 0===t&&(t=!0),this._isFront=t,this._isPlaying=!0},e.prototype.stop=function(){this._isPlaying=!1,this.lastTime=this.curTime},e.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=!0);var r=this;r._isFront=e,r._isPlaying=!0,t>r._totalTime&&(t=r._totalTime),t<1&&(t=0),r.curTime=t},e.prototype.gotoAndStop=function(t,e){void 0===e&&(e=!1),this._isPlaying=!1,t>this.totalTime&&(t=this.totalTime),t<0&&(t=0),this.curTime=t,e&&(this.lastTime=null)},e.prototype.startAniRange=function(t,e,r,n){var i=this;if(void 0===t&&(t=0),void 0===e&&(e=this._totalTime),void 0===r&&(r=1),t<0&&(t=0),t>this._totalTime&&(t=this._totalTime),e<0&&(e=0),e>this._totalTime&&(e=this._totalTime),t!==e){if(t<e)this._isFront=!0;else{this._isFront=!1;var o=t;t=e,e=o}this.startAniRangeFun&&this.removeEventListener(L.ENTER_FRAME,this.startAniRangeFun,this),this.curTime=t,this._isPlaying=!0;var a=r?r+.5>>0:1/0;this.addEventListener(L.ENTER_FRAME,this.startAniRangeFun=function(r){var o=r.target;o._isFront?(o.curTime>=e||o._endMark)&&(--a<=0?(o.gotoAndStop(e),o.removeEventListener(L.ENTER_FRAME,i.startAniRangeFun,i),i.startAniRangeFun=null,n&&n(a)):o.gotoAndPlay(t)):(o.curTime<=t||o._endMark)&&(--a<=0?(o.gotoAndStop(t),o.removeEventListener(L.ENTER_FRAME,i.startAniRangeFun,i),i.startAniRangeFun=null,n&&n(a)):o.gotoAndPlay(e,!1))},this)}else this.gotoAndStop(t)},e.prototype.rectify=function(){if(this.tracks&&this.tracks.length){for(var t=0;t<this.tracks.length;t++)this.tracks[t].setValue(this.curTime);this.lastTime=this.curTime}},e.prototype.resetState=function(){this.stop();for(var t=0;t<this.tracks.length;t++)this.tracks[t].resetValue()},e}(N),Oi=function(t){function e(e){var r=t.call(this)||this;return r.animationClips=e,r._instanceType="AnimationManager",r.stop(),r}return R(e,t),e.prototype.getAniClipByName=function(t){for(var e=0;e<this.animationClips.length;e++)if(this.animationClips[e].name==t)return this.animationClips[e];return null},e.prototype.showAni=function(t,e,r){void 0===e&&(e=1);var n=this.getAniClipByName(t);return n?(this.currentClip&&this.currentClip.resetState(),this.currentClip=n,n.startAniRange(0,void 0,e,r),n):null},e.prototype.stop=function(){this.animationClips.forEach((function(t){t.stop()})),this.currentClip=null},e.prototype.reset=function(){this.animationClips.forEach((function(t){t.resetState()})),this.currentClip=null},e.prototype.update=function(t){void 0===t&&(t=.0167);for(var e=0;e<this.animationClips.length;e++)this.animationClips[e].update(t)},e.prototype.destroy=function(){this.animationClips=null,this.currentClip=null},e}(F),Di="KHR_binary_glTF",Ii="KHR_draco_mesh_compression",Ri="KHR_lights_punctual",Fi="KHR_materials_pbrSpecularGlossiness",Li="KHR_materials_unlit",Ni="MSFT_texture_dds",Bi=4,zi=5,ji=6,Vi={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Ui={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Wi={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences",position:"position"};function Hi(t){if(t.isInterleavedBufferAttribute){for(var e=t.count,r=t.itemSize,n=t.array.slice(0,e*r),i=0;i<e;++i)n[i*r]=t.getX(i),r>=2&&(n[i*r+1]=t.getY(i)),r>=3&&(n[i*r+2]=t.getZ(i)),r>=4&&(n[i*r+3]=t.getW(i));return new Zi(n,r,t.normalized)}return t.clone()}function Gi(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(var r=0,n=e.weights.length;r<n;r++)t.morphTargetInfluences[r]=e.weights[r];if(e.extras&&Array.isArray(e.extras.targetNames)){var i=e.extras.targetNames;if(t.morphTargetInfluences.length===i.length){t.morphTargetDictionary={};for(r=0,n=i.length;r<n;r++)t.morphTargetDictionary[i[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Yi(t,e){return t.indices===e.indices&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(t[r]!==e[r])return!1;return!0}(t.attributes,e.attributes)}function Xi(t,e){for(var r=0,n=t.length;r<n;r++){var i=t[r];if(Yi(i.primitive,e))return i.promise}return null}!function(){function t(t,e,r){void 0===t&&(t={}),void 0===e&&(e={}),void 0===r&&(r={}),this.json=t,this.extensions=e,this.options=r,this.cache=new Ki,this.primitiveCache=[],this.multiplePrimitivesCache=[],this.multiPassGeometryCache=[],this.loadScene=function(){function t(e,r,n,i,o){var a=i[e],s=n.nodes[e];if(void 0!==s.skin)for(var l="Object3D"==a.instanceType?a.children:[a],h=0;h<l.length;h++){for(var u=l[h],c=o[s.skin],f=[],p=[],d=0,m=c.joints.length;d<m;d++){var v=c.joints[d],y=i[v];if(y){f.push(y);var g=new xn;void 0!==c.inverseBindMatrices&&g.fromArray(c.inverseBindMatrices.array,16*d),p.push(g)}else console.warn('Joint "%s" could not be found.',v)}u.bind(new Mi(f,p),u._worldMatrix)}if(r.addChild(a),s.children){var _=s.children;for(h=0;h<_.length;h++){var b=_[h];a&&t(b,a,n,i,o)}}}return function(e){var r=this.json,n=(this.extensions,this.json.scenes[e]);return this.getMultiDependencies(["node","skin"]).then((function(e){var i=new qn;void 0!==n.name&&(i.name=n.name);for(var o=n.nodes||[],a=0,s=o.length;a<s;a++)t(o[a],i,r,e.nodes,e.skins);return i}))}}()}t.prototype.parse=function(t,e){var r=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies(["scene","animation","camera"]).then((function(e){var n=e.scenes||[],i=n[r.scene||0],o=e.animations||[],a=e.cameras||[];t(i,n,a,o,r)})).catch(e)},t.prototype.markDefs=function(){for(var t=this.json.nodes||[],e=this.json.skins||[],r=this.json.meshes||[],n={},i={},o=0,a=e.length;o<a;o++)for(var s=e[o].joints,l=0,h=s.length;l<h;l++)t[s[l]].isBone=!0;for(var u=0,c=t.length;u<c;u++){var f=t[u];void 0!==f.mesh&&(void 0===n[f.mesh]&&(n[f.mesh]=i[f.mesh]=0),n[f.mesh]++,void 0!==f.skin&&(r[f.mesh].isSkinnedMesh=!0))}this.json.meshReferences=n,this.json.meshUses=i},t.prototype.getDependency=function(t,e){var r=t+":"+e,n=this.cache.get(r);if(!n){switch(t){case"scene":n=this.loadScene(e);break;case"node":n=this.loadNode(e);break;case"mesh":n=this.loadMesh(e);break;case"accessor":n=this.loadAccessor(e);break;case"bufferView":n=this.loadBufferView(e);break;case"buffer":n=this.loadBuffer(e);break;case"material":n=this.loadMaterial(e);break;case"texture":n=this.loadTexture(e);break;case"skin":n=this.loadSkin(e);break;case"animation":n=this.loadAnimation(e);break;case"camera":n=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(r,n)}return n},t.prototype.getDependencies=function(t){var e=this.cache.get(t);if(!e){var r=this,n=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(n.map((function(e,n){return r.getDependency(t,n)}))),this.cache.add(t,e)}return e},t.prototype.getMultiDependencies=function(t){for(var e={},r=[],n=0,i=t.length;n<i;n++){var o=t[n],a=this.getDependencies(o);a=a.then(function(t,r){e[t]=r}.bind(this,o+("mesh"===o?"es":"s"))),r.push(a)}return Promise.all(r).then((function(){return e}))},t.prototype.loadBuffer=function(t){var e=this.json.buffers[t];if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");return void 0===e.uri&&0===t?Promise.resolve(this.extensions[Di].body):new Promise((function(t,r){var n=e.uri.match(/^data:(.*?)(;base64)?,(.*)$/);if(n){n[1];var i=!!n[2],o=n[3];o=decodeURIComponent(o),i&&(o=atob(o));for(var a=new Uint8Array(o.length),s=0;s<o.length;s++)a[s]=o.charCodeAt(s);t(a.buffer)}else r("阿三的")}))},t.prototype.loadBufferView=function(t){var e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){var r=e.byteLength||0,n=e.byteOffset||0;return t.slice(n,n+r)}))},t.prototype.loadAccessor=function(t){var e=this,r=this.json,n=this.json.accessors[t];if(void 0===n.bufferView&&void 0===n.sparse)return null;var i=[];return void 0!==n.bufferView?i.push(this.getDependency("bufferView",n.bufferView)):i.push(null),void 0!==n.sparse&&(i.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(i).then((function(t){var i,o,a=t[0],s=Ui[n.type],l=Vi[n.componentType],h=l.BYTES_PER_ELEMENT,u=h*s,c=n.byteOffset||0,f=void 0!==n.bufferView?r.bufferViews[n.bufferView].byteStride:void 0,p=!0===n.normalized;if(f&&f!==u){var d="InterleavedBuffer:"+n.bufferView+":"+n.componentType,m=e.cache.get(d);m||(i=new l(a),m=new Ji(i,f/h),e.cache.add(d,m)),o=Hi(new $i(m,s,c/h,p))}else i=null===a?new l(n.count*s):new l(a,c,n.count*s),o=new Zi(i,s,p);if(void 0!==n.sparse){var v=Ui.SCALAR,y=Vi[n.sparse.indices.componentType],g=n.sparse.indices.byteOffset||0,_=n.sparse.values.byteOffset||0,b=new y(t[1],g,n.sparse.count*v),x=new l(t[2],_,n.sparse.count*s);null!==a&&o.setArray(o.array.slice());for(var w=0,T=b.length;w<T;w++){var S=b[w];if(o.setX(S,x[w*s]),s>=2&&o.setY(S,x[w*s+1]),s>=3&&o.setZ(S,x[w*s+2]),s>=4&&o.setW(S,x[w*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o}))},t.prototype.loadTexture=function(t){var e,r=this.json,n=(this.options,r.textures[t]),i=n.extensions||{},o=(e=i[Ni]?r.images[i[Ni].source]:r.images[n.source]).uri;return void 0!==e.bufferView&&(o=this.getDependency("bufferView",e.bufferView).then((function(t){var r=Wt(t);return"data:"+e.mimeType+";base64,"+r}))),Promise.resolve(o).then((function(t){return new Promise((function(e,r){var n,i;Ht.loadImage((function(t,n){t?e(Xt.fromImage(n)):r()}),(i="","string"!=typeof(n=t)||""===n?"":/^(https?:)?\/\//i.test(n)||/^data:.*,.*$/i.test(n)||/^blob:.*$/i.test(n)?n:i+n))}))})).then((function(t){return void 0!==n.name&&(t.name=n.name),t}))},t.prototype.assignTexture=function(t,e,r){return this.getDependency("texture",r).then((function(r){t[e]=r}))},t.prototype.loadMaterial=function(t){var e,r=this.json,n=(this.extensions,r.materials[t]),i={},o=n.extensions||{},a=[];if(o[Fi]){e=Kn;var s=n.extensions[Fi];if(i.color=16777215,i.alpha=1,Array.isArray(s.diffuseFactor)){var l=s.diffuseFactor;i.color=Lt(l),i.alpha=l[3]}void 0!==s.diffuseTexture&&a.push(this.assignTexture(i,"map",s.diffuseTexture.index))}else{e=o[Li]?An:Kn;var h=n.pbrMetallicRoughness||{};if(i.color=16777215,i.alpha=1,Array.isArray(h.baseColorFactor)){l=h.baseColorFactor;i.color=Lt(l),i.alpha=l[3]}void 0!==h.baseColorTexture&&a.push(this.assignTexture(i,"map",h.baseColorTexture.index))}return!0===n.doubleSided&&(i.side=Sn.DoubleSide),Promise.all(a).then((function(){var t;return t=new e(i),void 0!==n.name&&(t.name=n.name),t}))},t.prototype.loadGeometries=function(t){this.extensions;var e=this.primitiveCache;return this.getDependencies("accessor").then((function(r){for(var n=[],i=0,o=t.length;i<o;i++){var a=t[i],s=Xi(e,a);if(s)n.push(s);else if(a.extensions&&a.extensions[Ii]);else{var l=qi(a,r),h=Promise.resolve(l);e.push({primitive:a,promise:h}),n.push(h)}}return Promise.all(n).then((function(t){return t}))}))},t.prototype.loadMesh=function(t){var e=this,r=this.json,n=(this.extensions,r.meshes[t]);return this.getMultiDependencies(["accessor","material"]).then((function(r){for(var i=n.primitives,o=[],a=0,s=i.length;a<s;a++)o[a]=void 0===i[a].material?new Kn({color:16777215,side:0}):r.materials[i[a].material];return e.loadGeometries(i).then((function(r){for(var a=[],s=0,l=r.length;s<l;s++){var h,u=r[s],c=i[s],f=o[s];if(c.mode!==Bi&&c.mode!==zi&&c.mode!==ji&&void 0!==c.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+c.mode);"SkinnedMesh3D"===(h=!0===n.isSkinnedMesh?new Ai(u,f):new Ln(u,f)).instanceType&&h.normalizeSkinWeights(),h.geometry._morphPositions&&Gi(h,n),h.name=n.name||"mesh_"+t,r.length>1&&(h.name+="_"+s),a.push(h);f=h.material;var p="SkinnedMesh3D"==h.instanceType,d=!!u._morphPositions,m=d&&!!u._morphNormals;if(p||d){var v="ClonedMaterial:"+f.instanceId+":";p&&(v+="skinning:"),d&&(v+="morph-targets:"),m&&(v+="morph-normals:");var y=e.cache.get(v);y||(y=f.clone(),p&&(y.skinning=!0),d&&(y.morphTargets=!0),m&&(y.morphNormals=!0),e.cache.add(v,y)),f=y}h.material=f}if(1===a.length)return a[0];var g=new Cn;for(s=0;s<a.length;s++)g.addChild(a[s]);return g}))}))},t.prototype.loadCamera=function(t){var e,r=this.json.cameras[t],n=r[r.type];if(n)return"perspective"===r.type&&(e=new Un(O*n.yfov,n.aspectRatio||1,n.znear||1,n.zfar||2e6)),void 0!==r.name&&(e.name=r.name),Promise.resolve(e);console.warn("模型相机参数异常")},t.prototype.loadSkin=function(t){var e=this.json.skins[t],r={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",e.inverseBindMatrices).then((function(t){return r.inverseBindMatrices=t,r}))},t.prototype.loadAnimation=function(t){var e=this.json.animations[t];return this.getMultiDependencies(["accessor","node"]).then((function(r){for(var n=[],i=0,o=e.channels.length;i<o;i++){var a=e.channels[i],s=e.samplers[a.sampler];if(s){var l=a.target,h=void 0!==l.node?l.node:l.id,u=void 0!==e.parameters?e.parameters[s.input]:s.input,c=void 0!==e.parameters?e.parameters[s.output]:s.output,f=r.accessors[u],p=r.accessors[c],d=r.nodes[h];if(d){var m;switch(d.updateLocalMatrix(),Wi[l.path]){case Wi.weights:m=wi.morphTargetInfluences;break;case Wi.rotation:m=wi.quaternion;break;case Wi.position:m=wi.position;break;case Wi.scale:m=wi.scale;break;default:m=wi.position}var v=d.name?d.name:d.instanceId,y=(void 0!==s.interpolation&&s.interpolation,[]);Wi[l.path]===Wi.weights?eo(d,(function(t){"Mesh3D"!==t.instanceType&&"SkinnedMesh3D"!==t.instanceType||!t.morphTargetInfluences||y.push(t.name?t.name:t.instanceId)})):y.push(v);for(var g=0,_=y.length;g<_;g++){var b=new Ti(d,m,xi(f.array,0),xi(p.array,0));n.push(b)}}}}h=void 0!==e.name?e.name:"animation_"+t;for(var x=0,w=0,T=n.length;w!==T;++w){var S=n[w];x=Math.max(x,S.times[S.times.length-1])}var E=new ki(n,x);return E.name=h,E}))},t.prototype.loadNode=function(t){var e=this.json,r=this.extensions,n=e.meshReferences,i=e.meshUses,o=e.nodes[t];return this.getMultiDependencies(["mesh","skin","camera","light"]).then((function(t){var e;if(!0===o.isBone)e=new Ci;else if(void 0!==o.mesh){var a=t.meshes[o.mesh];if(n[o.mesh]>1){var s=i[o.mesh]++;(e=a.clone()).name+="_instance_"+s;for(var l=0,h=e.children.length;l<h;l++)e.children[l].name+="_instance_"+s}else e=a}else if(void 0!==o.camera)e=t.cameras[o.camera];else if(o.extensions&&o.extensions[Ri]&&void 0!==o.extensions[Ri].light){e=r[Ri].lights[o.extensions[Ri].light]}else e=new Cn;if(void 0!==o.name&&(e.name=o.name.replace(/\s/g,"_").replace(to,"")),void 0!==o.matrix){var u=new xn;u.fromArray(o.matrix),e.applyMatrix(u)}else void 0!==o.translation&&e.position.fromArray(o.translation),void 0!==o.rotation&&e.quaternion.fromArray(o.rotation),void 0!==o.scale&&e.scale.fromArray(o.scale);return e}))}}();function qi(t,e){var r=t.attributes,n=e[r.POSITION],i=e[r.NORMAL],o=e[r.TEXCOORD_0]||e[r.TEXCOORD0],a=new jn(Qi(n),Qi(e[t.indices]),i?Qi(i):null,null,o?Qi(o):null),s=e[r.WEIGHTS_0]||e[r.WEIGHTS];s&&(a._skinWeight=Qi(s));var l=e[r.JOINTS_0]||e[r.JOINT];return l&&(a._skinIndex=Qi(l)),void 0!==t.targets&&function(t,e,r){for(var n=!1,i=!1,o=0,a=e.length;o<a;o++){if(void 0!==(h=e[o]).POSITION&&(n=!0),void 0!==h.NORMAL&&(i=!0),n&&i)break}if(n||i){var s=[],l=[];for(o=0,a=e.length;o<a;o++){var h=e[o],u="morphTarget"+o;if(n){var c=void 0;if(void 0!==h.POSITION){c=[];var f=Hi(r[h.POSITION]);f.name=u;for(var p=t._vertices,d=0,m=f.count;d<m;d++)c.push(f.getX(d)+p[3*d],f.getY(d)+p[3*d+1],f.getZ(d)+p[3*d+2])}else c=t._vertices;s.push(c)}if(i){var v=void 0;if(void 0!==h.NORMAL){v=[];var y=Hi(r[h.NORMAL]);y.name=u;var g=t._normals;for(d=0,m=y.count;d<m;d++)v.push(y.getX(d)+g[3*d],y.getY(d)+g[3*d+1],y.getZ(d)+g[3*d+2])}else v=t._normals;l.push(v)}}n&&(t._morphPositions=s),i&&(t._morphNormals=l)}}(a,t.targets,e),a}var Ki=function(){function t(){this.objects={}}return t.prototype.get=function(t){return this.objects[t]},t.prototype.add=function(t,e){this.objects[t]=e},t.prototype.remove=function(t){delete this.objects[t]},t.prototype.removeAll=function(){this.objects={}},t}(),Zi=function(){function t(t,e,r){if(void 0===r&&(r=!1),this.array=t,this.itemSize=e,this.normalized=r,Array.isArray(t))throw new TypeError("array必须士类型化数组");this.count=void 0!==t?t.length/e:0}return t.prototype.set=function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},t.prototype.setArray=function(t){if(Array.isArray(t))throw new TypeError("array必须士类型化数组");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},t.prototype.getX=function(t){return this.array[t*this.itemSize]},t.prototype.setX=function(t,e){return this.array[t*this.itemSize]=e,this},t.prototype.getY=function(t){return this.array[t*this.itemSize+1]},t.prototype.setY=function(t,e){return this.array[t*this.itemSize+1]=e,this},t.prototype.getZ=function(t){return this.array[t*this.itemSize+2]},t.prototype.setZ=function(t,e){return this.array[t*this.itemSize+2]=e,this},t.prototype.getW=function(t){return this.array[t*this.itemSize+3]},t.prototype.setW=function(t,e){return this.array[t*this.itemSize+3]=e,this},t.prototype.setXY=function(t,e,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this},t.prototype.setXYZ=function(t,e,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this},t.prototype.setXYZW=function(t,e,r,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this.array[t+3]=i,this},t.prototype.copy=function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this},t.prototype.clone=function(){return new t(this.array,this.itemSize).copy(this)},t}(),Ji=function(){function t(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0}return t.prototype.setArray=function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},t.prototype.copy=function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this},t.prototype.set=function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},t.prototype.clone=function(){return(new t).copy(this)},t}(),$i=function(){function t(t,e,r,n){void 0===n&&(n=!1),this.itemSize=e,this.offset=r,this.normalized=n,this.isInterleavedBufferAttribute=!0,this.data=t}return Object.defineProperty(t.prototype,"count",{get:function(){return this.data.count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"array",{get:function(){return this.data.array},enumerable:!0,configurable:!0}),t.prototype.setX=function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},t.prototype.setY=function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},t.prototype.setZ=function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},t.prototype.setW=function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},t.prototype.getX=function(t){return this.data.array[t*this.data.stride+this.offset]},t.prototype.getY=function(t){return this.data.array[t*this.data.stride+this.offset+1]},t.prototype.getZ=function(t){return this.data.array[t*this.data.stride+this.offset+2]},t.prototype.getW=function(t){return this.data.array[t*this.data.stride+this.offset+3]},t.prototype.setXY=function(t,e,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this},t.prototype.setXYZ=function(t,e,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this},t.prototype.setXYZW=function(t,e,r,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this.data.array[t+3]=i,this},t}();function Qi(t){for(var e=[],r=0;r<t.count;r++)e.push(t.getX(r)),t.itemSize>=2&&e.push(t.getY(r)),t.itemSize>=3&&e.push(t.getZ(r)),t.itemSize>=4&&e.push(t.getW(r));return e}var to=new RegExp("[\\[\\]\\.:\\/]","g");function eo(t,e){e(t);for(var r=t.children,n=0,i=r.length;n<i;n++){eo(r[n],e)}}!function(t){function e(e){return t.call(this,new jn([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],[0,1,2,0,2,3],null,null,[0,1,1,1,1,0,0,0]),e)||this}R(e,t)}(Ln);var ro,no=function(t){function e(e,r){var n=t.call(this)||this;return n.data=e,n.root=r,n.ax=0,n.ay=0,n.arotation=0,n.ascaleX=0,n.ascaleY=0,n.ashearX=0,n.ashearY=0,n.appliedValid=!1,n.sorted=!1,n.shearX=0,n.shearY=0,n._instanceType="Bone",n.name=e.name,n.data.x=n.data.x||0,n.data.y=n.data.y||0,n.data.scaleX=n.data.scaleX||1,n.data.scaleY=n.data.scaleY||1,n.data.rotation=n.data.rotation||0,n.data.shearX=n.data.shearX||0,n.data.shearY=n.data.shearY||0,n.setToSetupPose(),r&&(n.debugBone=n.addChild(new on).beginFill(16711680).drawRect(0,0,e.length||10,10).endFill()),n}return R(e,t),Object.defineProperty(e.prototype,"matrix",{get:function(){return this.worldMatrix},enumerable:!0,configurable:!0}),e.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY,this.skewX=-t.shearY,this.skewY=t.shearX},e.prototype.updateTransform=function(){this.appliedSelf();var t=e.yDown?-1:1;if(this.parent){var r=this.parent;if("Bone"==this.parent.instanceType){this.transform._worldID++;var n=r.transform.worldMatrix,i=this.localMatrix,o=this.worldMatrix,a=n.a,s=n.c,l=n.b,h=n.d;switch(o.tx=a*this.x+s*this.y+n.tx,o.ty=l*this.x+h*this.y+n.ty,this.data.transform){case ro.onlyTranslation:this.transform.updateLocalMatrix(),o.a=i.a,o.c=i.c,o.b=i.b,o.d=i.d;break;case ro.noRotationOrReflection:var u=0;(y=a*a+l*l)>1e-4?(s=l*(y=Math.abs(a*h-s*l)/y),h=a*y,u=Math.atan2(l,a)*O):(a=0,l=0,u=90-Math.atan2(h,s)*O);var c=this.rotation+this.shearX-u,f=this.rotation+this.shearY-u+90,p=Math.cos(c*D)*this.scaleX,d=Math.cos(f*D)*this.scaleY*t,m=Math.sin(c*D)*this.scaleX,v=Math.sin(f*D)*this.scaleY*t;o.a=a*p-s*m,o.c=a*d-s*v,o.b=l*p+h*m,o.d=l*d+h*v;break;case ro.noScale:case ro.noScaleOrReflection:var y,g=Math.cos(this.rotation*D),_=Math.sin(this.rotation*D),b=(a*g+s*_)/1,x=(l*g+h*_)/1;(y=Math.sqrt(b*b+x*x))>1e-5&&(y=1/y),b*=y,x*=y,y=Math.sqrt(b*b+x*x),this.data.transform==ro.noScale&&a*h-s*l<0!=!e.yDown&&(y=-y);var w=Math.PI/2+Math.atan2(x,b),T=Math.cos(w)*y,S=Math.sin(w)*y;p=Math.cos(this.shearX*D)*this.scaleX,d=Math.cos((90+this.shearY)*D)*this.scaleY,m=Math.sin(this.shearX*D)*this.scaleX,v=Math.sin((90+this.shearY)*D)*this.scaleY;o.a=b*p+T*m,o.c=b*d+T*v,o.b=x*p+S*m,o.d=x*d+S*v;break;case ro.normal:default:this.displayObjectUpdateTransform()}}else{var E=this.parent;this.parent=this._tempDisplayObjectParent,this.transform.updateWorldMatrix(this.parent.transform),this.parent=E}}for(var M=0,C=this.children.length;M<C;++M){var A=this.children[M];A.updateTransform(),A==this.debugBone&&A.worldMatrix.prepend(this.root.worldMatrix)}},e.prototype.updateWorldTransformWith=function(t,e,r,n,i,o,a){this.ax=this.x=t,this.ay=this.y=e,this.arotation=this.rotation=r,this.ascaleX=this.scaleX=n,this.ascaleY=this.scaleY=i,this.ashearX=o,this.ashearY=a,this.appliedValid=!0,this.skewX=-a,this.skewY=o,this.updateTransform()},e.prototype.appliedSelf=function(){this.ax=this.x,this.ay=this.y,this.arotation=this.rotation,this.ascaleX=this.scaleX,this.ascaleY=this.scaleY,this.ashearX=this.shearX,this.ashearY=this.shearY,this.appliedValid=!0},e.yDown=!0,e}(Q);!function(t){t.normal="normal",t.onlyTranslation="onlyTranslation",t.noRotationOrReflection="noRotationOrReflection",t.noScale="noScale",t.noScaleOrReflection="noScaleOrReflection"}(ro||(ro={}));var io,oo,ao=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.r=t,this.g=e,this.b=r,this.a=n}return t.prototype.set=function(t,e,r,n){return this.r=t,this.g=e,this.b=r,this.a=n,this.clamp(),this},t.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},t.prototype.add=function(t,e,r,n){return this.r+=t,this.g+=e,this.b+=r,this.a+=n,this.clamp(),this},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.fromString=function(e){return(new t).setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),so=function(t){function e(e,r,n){var i=t.call(this)||this;return i.bone=e,i.data=r,i.spine=n,i.deform=new Array,i.name=i.data.name,i.color=new ao(1,1,1,1),i.data.color&&i.color.setFromString(i.data.color),i.data.sColor=(new ao).setFromColor(i.color),i}return R(e,t),e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.deform.length=0)},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.sColor),null==this.data.attachment?this.attachment=null:(this.attachment=null,this.setAttachment(this.spine.getAttachment(this.spine.findSlotIndex(this.name),this.data.attachment)))},e}(Q),lo=function(){function t(t){this.name=t,this.attachments=new Array}return t.prototype.addAttachment=function(t,e,r){var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=r},t.prototype.getAttachment=function(t,e){var r=this.attachments[t];return r?r[e]:null},t.prototype.attachAll=function(t,e){for(var r=0,n=0;n<t.length;n++){var i=t[n],o=i.getAttachment();if(o&&r<e.attachments.length){var a=e.attachments[r];for(var s in a){if(o==a[s]){var l=this.getAttachment(r,s);null!=l&&i.setAttachment(l);break}}}r++}},t}(),ho=function(t){this.name=t},uo=function(t){function e(r){var n=t.call(this,r)||this;return n.id=(65535&e.nextID++)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return R(e,t),e.prototype.applyDeform=function(t){return this==t},e.prototype.computeWorldVerticesOld=function(t,e,r){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2,r)},e.prototype.computeWorldVertices=function(t,e,r,n,i,o,a){r=i+(r>>1)*o;var s=t.deform,l=this.vertices,h=this.bones;if(null!=h){for(var u=0,c=0,f=0;f<e;f+=2){u+=(m=h[u])+1,c+=m}if(0==s.length)for(C=i,T=3*c;C<r;C+=o){var p=0,d=0,m=h[u++];for(m+=u;u<m;u++,T+=3){_=a[h[u]].matrix,A=l[T],P=l[T+1];var v=l[T+2];p+=(A*_.a+P*_.c+_.tx)*v,d+=(A*_.b+P*_.d+_.ty)*v}n[C]=p,n[C+1]=d}else for(var y=s,g=(C=i,T=3*c,c<<1);C<r;C+=o){p=0,d=0,m=h[u++];for(m+=u;u<m;u++,T+=3,g+=2){_=a[h[u]].matrix,A=l[T]+y[g],P=l[T+1]+y[g+1],v=l[T+2];p+=(A*_.a+P*_.c+_.tx)*v,d+=(A*_.b+P*_.d+_.ty)*v}n[C]=p,n[C+1]=d}}else{s.length>0&&(l=s);for(var _,b=(_=t.bone.matrix).tx,x=_.ty,w=_.a,T=_.c,S=_.b,E=_.d,M=e,C=i;C<r;M+=2,C+=o){var A=l[M],P=l[M+1];n[C]=A*w+P*T+b,n[C+1]=A*S+P*E+x}}},e.nextID=0,e}(ho),co=function(t){function e(e,r,n,i,o,a,s,l,h){void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=1),void 0===o&&(o=1),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0);var u=t.call(this,e)||this;return u.x=r,u.y=n,u.scaleX=i,u.scaleY=o,u.rotation=a,u.width=s,u.height=l,u.texture=h,u.color=new ao(1,1,1,1),u}return R(e,t),e}(ho),fo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.color=new ao(1,1,1,1),e}return R(e,t),e}(uo),po=function(){function t(e){this.curves=new Float32Array((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,o){var a=.03*(2*-r+i),s=.03*(2*-n+o),l=.006*(3*(r-i)+1),h=.006*(3*(n-o)+1),u=2*a+l,c=2*s+h,f=.3*r+a+.16666667*l,p=.3*n+s+.16666667*h,d=e*t.BEZIER_SIZE,m=this.curves;m[d++]=t.BEZIER;for(var v=f,y=p,g=d+t.BEZIER_SIZE-1;d<g;d+=2)m[d]=v,m[d+1]=y,f+=u,p+=c,u+=l,c+=h,v+=f,y+=p},t.prototype.getCurvePercent=function(e,r){r=Ut(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,o=n[i];if(o==t.LINEAR)return r;if(o==t.STEPPED)return 0;for(var a=0,s=++i,l=i+t.BEZIER_SIZE-1;i<l;i+=2)if((a=n[i])>=r){var h=void 0,u=void 0;return i==s?(h=0,u=0):(h=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-h)/(a-h)}var c=n[i-1];return c+(1-c)*(r-a)/(1-a)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=19,t}();function mo(t,e,r){if(t.hasOwnProperty("curve"))if("stepped"===t.curve)e.setStepped(r);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var n=t.curve;e.setCurve(r,n[0],n[1],n[2],n[3])}else e.setCurve(r,t.curve,t.c2||0,t.c3||1,t.c4||1)}function vo(t,e,r){void 0===r&&(r=1);var n=0,i=t.length/r-2;if(0==i)return r;for(var o=i>>>1;;){if(t[(o+1)*r]<=e?n=o+1:i=o,n==i)return(n+1)*r;o=n+i>>>1}}function yo(t,e,r,n,i){for(var o=e,a=n;o<e+i;o++,a++)r[a]=t[o]}function go(t,e,r){void 0===r&&(r=0);var n=t.length;if(n==e)return t;if(t.length=e,n<e)for(var i=n;i<e;i++)t[i]=r;return t}function _o(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r}!function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"}(io||(io={})),function(t){t[t.in=0]="in",t[t.out=1]="out"}(oo||(oo={}));var bo,xo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.prototype.setValue=function(t,e,r,n){void 0===r&&(r=io.replace),void 0===n&&(n=oo.in)},e.prototype.resetValue=function(){},e.prototype.destroy=function(){},e}(F);!function(t){t.rotate="rotate",t.translate="translate",t.scale="scale",t.shear="shear"}(bo||(bo={}));var wo=function(t){function e(e,r,n){var i=t.call(this)||this;i.bone=e,i.animationType=r,i.times=n,i._instanceType="SpineBoneAniTrack",n.forEach((function(t){switch(t.time=t.time||0,r){case bo.rotate:t.angle=t.angle||0;break;case bo.scale:t.x=void 0===t.x?1:t.x,t.y=void 0===t.y?1:t.y;break;case bo.translate:case bo.shear:t.x=t.x||0,t.y=t.y||0}})),i.curve=new po(n.length);for(var o=0,a=0;a<n.length;a++){mo(n[a],i.curve,o),o++}return i}return R(e,t),e.prototype.resetValue=function(){this.bone.setToSetupPose()},e.prototype.setValue=function(t,e,r,n){switch(void 0===e&&(e=1),void 0===r&&(r=io.replace),void 0===n&&(n=oo.in),this.animationType){case bo.translate:this.setPosition(t,e,r);break;case bo.scale:this.setScale(t,e,r,n);break;case bo.shear:this.setShear(t,e,r);break;case bo.rotate:this.setRotation(t,e,r)}},e.prototype.setRotation=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=io.replace);var n=this.times,i=this.bone;if(t<n[0].time)switch(r){case io.setup:return void(i.rotation=i.data.rotation);case io.first:var o=i.data.rotation-i.rotation;i.rotation+=(o-To(o))*e}else if(t>=n[n.length-1].time){var a=n[n.length-1].angle;switch(r){case io.setup:i.rotation=i.data.rotation+a*e;break;case io.first:case io.replace:a+=i.data.rotation-i.rotation,a-=To(a);case io.add:i.rotation+=a*e}}else{var s=this.findPreIndex(t),l=n[s-1].angle,h=n[s].time,u=this.curve.getCurvePercent(s-1,1-(t-h)/(n[s-1].time-h)),c=n[s].angle-l;switch(c=l+(c-To(c))*u,r){case io.setup:i.rotation=i.data.rotation+(c-To(c))*e;break;case io.first:case io.replace:c+=i.data.rotation-i.rotation;case io.add:i.rotation+=(c-To(c))*e}}},e.prototype.setPosition=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=io.replace);var n=this.times,i=this.bone;if(t<n[0].time)switch(r){case io.setup:return i.x=i.data.x,void(i.y=i.data.y);case io.first:i.x+=(i.data.x-i.x)*e,i.y+=(i.data.y-i.y)*e}else{var o=0,a=0;if(t>=n[n.length-1].time)o=n[n.length-1].x,a=n[n.length-1].y;else{var s=this.findPreIndex(t);o=n[s-1].x,a=n[s-1].y;var l=n[s].time,h=this.curve.getCurvePercent(s-1,1-(t-l)/(n[s-1].time-l));o+=(n[s].x-o)*h,a+=(n[s].y-a)*h}switch(r){case io.setup:i.x=i.data.x+o*e,i.y=i.data.y+a*e;break;case io.first:case io.replace:i.x+=(i.data.x+o-i.x)*e,i.y+=(i.data.y+a-i.y)*e;break;case io.add:i.x+=o*e,i.y+=a*e}}},e.prototype.setScale=function(t,e,r,n){void 0===e&&(e=1),void 0===r&&(r=io.replace),void 0===n&&(n=oo.in);var i=this.times,o=this.bone;if(t<i[0].time)switch(r){case io.setup:return o.scaleX=o.data.scaleX,void(o.scaleY=o.data.scaleY);case io.first:o.scaleX+=(o.data.scaleX-o.scaleX)*e,o.scaleY+=(o.data.scaleY-o.scaleY)*e}else{var a=0,s=0;if(t>=i[i.length-1].time)a=i[i.length-1].x*o.data.scaleX,s=i[i.length-1].y*o.data.scaleY;else{var l=this.findPreIndex(t);a=i[l-1].x,s=i[l-1].y;var h=i[l].time,u=this.curve.getCurvePercent(l-1,1-(t-h)/(i[l-1].time-h));a=(a+(i[l].x-a)*u)*o.data.scaleX,s=(s+(i[l].y-s)*u)*o.data.scaleY}if(1==e)r==io.add?(o.scaleX+=a-o.data.scaleX,o.scaleY+=s-o.data.scaleY):(o.scaleX=a,o.scaleY=s);else{var c=0,f=0;if(n==oo.out)switch(r){case io.setup:c=o.data.scaleX,f=o.data.scaleY,o.scaleX=c+(Math.abs(a)*Bt(c)-c)*e,o.scaleY=f+(Math.abs(s)*Bt(f)-f)*e;break;case io.first:case io.replace:c=o.scaleX,f=o.scaleY,o.scaleX=c+(Math.abs(a)*Bt(c)-c)*e,o.scaleY=f+(Math.abs(s)*Bt(f)-f)*e;break;case io.add:c=o.scaleX,f=o.scaleY,o.scaleX=c+(Math.abs(a)*Bt(c)-o.data.scaleX)*e,o.scaleY=f+(Math.abs(s)*Bt(f)-o.data.scaleY)*e}else switch(r){case io.setup:c=Math.abs(o.data.scaleX)*Bt(a),f=Math.abs(o.data.scaleY)*Bt(s),o.scaleX=c+(a-c)*e,o.scaleY=f+(s-f)*e;break;case io.first:case io.replace:c=Math.abs(o.scaleX)*Bt(a),f=Math.abs(o.scaleY)*Bt(s),o.scaleX=c+(a-c)*e,o.scaleY=f+(s-f)*e;break;case io.add:c=Bt(a),f=Bt(s),o.scaleX=Math.abs(o.scaleX)*c+(a-Math.abs(o.data.scaleX)*c)*e,o.scaleY=Math.abs(o.scaleY)*f+(s-Math.abs(o.data.scaleY)*f)*e}}}},e.prototype.setShear=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=io.replace);var n=this.times,i=this.bone;if(t<n[0].time)switch(r){case io.setup:return i.shearX=i.data.shearX,i.shearY=i.data.shearY,i.skewX=-i.shearY,void(i.skewY=i.shearX);case io.first:i.shearX+=(i.data.shearX-i.shearX)*e,i.shearY+=(i.data.shearY-i.shearY)*e,i.skewX=-i.shearY,i.skewY=i.shearX}else{var o=0,a=0;if(t>=n[n.length-1].time)o=n[n.length-1].x,a=n[n.length-1].y;else{var s=this.findPreIndex(t);o=n[s-1].x,a=n[s-1].y;var l=n[s].time,h=this.curve.getCurvePercent(s-1,1-(t-l)/(n[s-1].time-l));o+=(n[s].x-o)*h,a+=(n[s].y-a)*h}switch(r){case io.setup:i.shearX=i.data.shearX+o*e,i.shearY=i.data.shearY+a*e;break;case io.first:case io.replace:i.shearX+=(i.data.shearX+o-i.shearX)*e,i.shearY+=(i.data.shearY+a-i.shearY)*e;break;case io.add:i.shearX+=o*e,i.shearY+=a*e}i.skewX=-i.shearY,i.skewY=i.shearX}},e.prototype.findPreIndex=function(t){for(var e=0,r=0;r<this.times.length;r++)if(this.times[r].time>t){e=r;break}return e},e.prototype.destroy=function(){this.bone=null,this.times=null},e}(xo);function To(t){return 360*(16384-(16384.499999999996-t/360|0))}var So=function(t){function e(r,n){var i=t.call(this)||this;i.slot=r,i._instanceType="SpineColorAniTrack";var o=n.length;i.frames=new Float32Array(o*e.ENTRIES),i.curve=new po(o);for(var a=0,s=0;s<o;s++){var l=n[s],h=(new ao).setFromString(l.color||"ffffffff"),u=a*e.ENTRIES;i.frames[u]=l.time||0,i.frames[u+e.R]=h.r,i.frames[u+e.G]=h.g,i.frames[u+e.B]=h.b,i.frames[u+e.A]=h.a,mo(l,i.curve,a),a++}return i}return R(e,t),e.prototype.resetValue=function(){this.slot.setToSetupPose()},e.prototype.setValue=function(t,r,n){void 0===r&&(r=1),void 0===n&&(n=io.replace);var i=this.slot,o=this.frames;if(t<o[0])switch(n){case io.setup:return void i.color.setFromColor(i.data.sColor);case io.first:case io.replace:var a=i.color,s=i.data.sColor;a.add((s.r-a.r)*r,(s.g-a.g)*r,(s.b-a.b)*r,(s.a-a.a)*r)}else{var l=0,h=0,u=0,c=0;if(t>=o[o.length-e.ENTRIES]){var f=o.length;l=o[f+e.PREV_R],h=o[f+e.PREV_G],u=o[f+e.PREV_B],c=o[f+e.PREV_A]}else{var p=vo(o,t,e.ENTRIES);l=o[p+e.PREV_R],h=o[p+e.PREV_G],u=o[p+e.PREV_B],c=o[p+e.PREV_A];var d=o[p],m=this.curve.getCurvePercent(p/e.ENTRIES-1,1-(t-d)/(o[p+e.PREV_TIME]-d));l+=(o[p+e.R]-l)*m,h+=(o[p+e.G]-h)*m,u+=(o[p+e.B]-u)*m,c+=(o[p+e.A]-c)*m}if(1==r)i.color.set(l,h,u,c);else{a=i.color;n==io.setup&&a.setFromColor(i.data.sColor),a.add((l-a.r)*r,(h-a.g)*r,(u-a.b)*r,(c-a.a)*r)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(xo),Eo=function(t){function e(e,r,n){var i=t.call(this)||this;i.slot=e,i.attachment=r,i.times=n,i._instanceType="SpineDeformAniTrack";var o=null!=r.bones,a=r.vertices,s=o?a.length/3*2:a.length;i.frameTimes=new Float32Array(n.length),i.frameVertices=new Array(n.length),i.curve=new po(n.length);for(var l=0,h=0;h<n.length;h++){var u=n[h],c=void 0,f=u.vertices||null;if(null==f)c=o?new Float32Array(s):a;else if(yo(f,0,c=new Float32Array(s),u.offset||0,f.length),!o)for(var p=0;p<s;p++)c[p]+=a[p];i.frameTimes[l]=u.time||0,i.frameVertices[l]=c,mo(u,i.curve,l),l++}return i}return R(e,t),e.prototype.setValue=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=io.replace);var n=this.slot.getAttachment();if(n instanceof uo&&n.applyDeform(this.attachment)){var i=this.slot.deform;0==i.length&&(r=io.setup);var o=this.frameVertices,a=o[0].length,s=this.frameTimes;if(t<s[0]){var l=n;switch(r){case io.setup:return void(i.length=0);case io.first:if(1==e){i.length=0;break}var h=go(i,a);if(null==l.bones)for(var u=l.vertices,c=0;c<a;c++)h[c]+=(u[c]-h[c])*e;else{e=1-e;for(c=0;c<a;c++)h[c]*=e}}}else{var f=go(i,a);if(t>=s[s.length-1]){var p=o[s.length-1];if(1==e)if(r==io.add)if(null==(l=n).bones)for(u=l.vertices,c=0;c<a;c++)f[c]+=p[c]-u[c];else for(c=0;c<a;c++)f[c]+=p[c];else yo(p,0,f,0,a);else switch(r){case io.setup:var d=n;if(null==d.bones)for(u=d.vertices,c=0;c<a;c++){var m=u[c];f[c]=m+(p[c]-m)*e}else for(c=0;c<a;c++)f[c]=p[c]*e;break;case io.first:case io.replace:for(c=0;c<a;c++)f[c]+=(p[c]-f[c])*e;case io.add:if(null==(l=n).bones)for(u=l.vertices,c=0;c<a;c++)f[c]+=(p[c]-u[c])*e;else for(c=0;c<a;c++)f[c]+=p[c]*e}}else{var v=vo(s,t),y=o[v-1],g=o[v],_=s[v],b=this.curve.getCurvePercent(v-1,1-(t-_)/(s[v-1]-_));if(1==e)if(r==io.add)if(null==(l=n).bones)for(u=l.vertices,c=0;c<a;c++){var x=y[c];f[c]+=x+(g[c]-x)*b-u[c]}else for(c=0;c<a;c++){x=y[c];f[c]+=x+(g[c]-x)*b}else for(c=0;c<a;c++){x=y[c];f[c]=x+(g[c]-x)*b}else switch(r){case io.setup:var w=n;if(null==w.bones)for(u=w.vertices,c=0;c<a;c++){x=y[c],m=u[c];f[c]=m+(x+(g[c]-x)*b-m)*e}else for(c=0;c<a;c++){x=y[c];f[c]=(x+(g[c]-x)*b)*e}break;case io.first:case io.replace:for(c=0;c<a;c++){x=y[c];f[c]+=(x+(g[c]-x)*b-f[c])*e}break;case io.add:if(null==(l=n).bones)for(u=l.vertices,c=0;c<a;c++){x=y[c];f[c]+=(x+(g[c]-x)*b-u[c])*e}else for(c=0;c<a;c++){x=y[c];f[c]+=(x+(g[c]-x)*b)*e}}}}}},e}(xo),Mo=function(t){function e(e,r,n){var i=t.call(this)||this;return i.slot=e,i.times=r,i.spine=n,i._instanceType="AttachmentAniTrack",r.forEach((function(t){t.time=t.time||0})),i}return R(e,t),e.prototype.resetValue=function(){this.slot.setToSetupPose()},e.prototype.setValue=function(t,e,r,n){void 0===r&&(r=io.replace),void 0===n&&(n=oo.in);var i=this.slot;if(n!=oo.out||r!=io.setup){var o=this.times;if(t<o[0].time){if(r==io.setup||r==io.first||r==io.replace){s=i.data.attachment;i.setAttachment(s?this.spine.getAttachment(this.spine.slots.indexOf(i),s):null)}}else{var a=o[t>=o[o.length-1].time?o.length-1:function(t,e){var r=0,n=t.length-2;if(0==n)return 1;var i=n>>>1;for(;;){if(t[i+1].time<=e?r=i+1:n=i,r==n)return r+1;i=r+n>>>1}}(o,t)-1].name;i.setAttachment(null==a?null:this.spine.getAttachment(this.spine.slots.indexOf(i),a))}}else{var s=i.data.attachment;i.setAttachment(s?this.spine.getAttachment(this.spine.slots.indexOf(i),s):null)}},e}(xo);var Co=function(t){function e(e,r,n){var i=t.call(this)||this;return i.slots=e,i.drawOrder=r,i.times=n,i._instanceType="DrawOrderAniTrack",i}return R(e,t),e.prototype.setValue=function(t,e,r,n){void 0===r&&(r=io.replace),void 0===n&&(n=oo.in);var i=this.drawOrder,o=this.slots;if(n!=oo.out||r!=io.setup){var a=this.times;if(t<a[0].time)r!=io.setup&&r!=io.first||yo(o,0,i,0,o.length);else{var s=a[t>=a[a.length-1].time?a.length-1:function(t,e){var r=0,n=t.length-2;if(0==n)return 1;var i=n>>>1;for(;;){if(t[i+1].time<=e?r=i+1:n=i,r==n)return r+1;i=r+n>>>1}}(a,t)-1].drawOrder;if(s)for(var l=0,h=s.length;l<h;l++)i[l]=o[s[l]];else yo(o,0,i,0,o.length)}}else yo(o,0,i,0,o.length)},e}(xo);var Ao,Po=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alpha=1,e.blend=io.replace,e.direction=oo.in,e}return R(e,t),e.prototype.rectify=function(){if(this.tracks&&this.tracks.length){for(var t=0;t<this.tracks.length;t++)this.tracks[t].setValue(this.curTime,this.alpha,this.blend,this.direction);this.lastTime=this.curTime}},e}(ki),ko=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.prototype.showAni=function(e,r,n,i){if(void 0===r&&(r=1),void 0===i&&(i=0),!i||!this.currentClip)return t.prototype.showAni.call(this,e,r,n);var o=this.currentClip,a=this.getAniClipByName(e);return a?o==a?t.prototype.showAni.call(this,e,r,n):(o.fromClip&&(this.resetFrom(o.fromClip),o.fromClip=null),a.mixTime=0,a.mixDuration=i,a.fromClip=o,(this.currentClip=a).startAniRange(0,void 0,r,n),this.currentClip):null},e.prototype.update=function(e){void 0===e&&(e=.0167),this.applyMixingFrom(this.currentClip,e,io.first),t.prototype.update.call(this,e)},e.prototype.applyMixingFrom=function(t,e,r){if(t){var n=t.fromClip;if(n){t.mixTime+=e;var i=0;0==t.mixDuration?(i=1,r==io.first&&(r=io.setup)):((i=t.mixTime/t.mixDuration)>1&&(i=1),r!=io.first&&(r=n.blend)),t.alpha=i,n.alpha=1-i,n.blend=r,0==n.alpha&&(this.resetFrom(n),t.fromClip.tracks.forEach((function(t){"AttachmentAniTrack"==t.instanceType&&t.resetValue()})),t.fromClip=null)}}},e.prototype.resetFrom=function(t){t._isPlaying=!1,t.alpha=1,t.blend=io.replace},e}(Oi),Oo=function(t){function e(e,r){var n=t.call(this)||this;return n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n.active=!1,n._instanceType="IkConstraint",n.target=e,n.bones=r,n}return R(e,t),e.prototype.destroy=function(){},e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var t=this.target,e=this.bones,r=t.worldMatrix.tx,n=t.worldMatrix.ty;switch(e.length){case 1:this.apply1(e[0],r,n,this.compress,this.stretch,this.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],r,n,this.bendDirection,this.stretch,this.softness,this.mix)}},e.prototype.apply1=function(t,e,r,n,i,o,a){var s=t.parent.worldMatrix,l=s.a,h=s.c,u=s.b,c=s.d,f=-t.ashearX-t.arotation,p=0,d=0;switch(t.data.transform){case ro.onlyTranslation:p=e-t.worldMatrix.tx,d=r-t.worldMatrix.ty;break;case ro.noRotationOrReflection:f+=Math.atan2(u,l)*O;var m=Math.abs(l*c-h*u)/(l*l+u*u);h=-u*m,c=l*m;default:var v=e-s.tx,y=r-s.ty,g=l*c-h*u;p=(v*c-y*h)/g-t.ax,d=(y*l-v*u)/g-t.ay}f+=Math.atan2(d,p)*O,t.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);var _=t.ascaleX,b=t.ascaleY;if(n||i){switch(t.data.transform){case ro.noScale:case ro.noScaleOrReflection:p=e-t.worldMatrix.tx,d=r-t.worldMatrix.ty}var x=t.data.length*_,w=Math.sqrt(p*p+d*d);if(n&&w<x||i&&w>x&&x>1e-4){var T=(w/x-1)*a+1;_*=T,o&&(b*=T)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+f*a,_,b,t.ashearX,t.ashearY)},e.prototype.apply2=function(t,e,r,n,i,o,a,s){if(0!=s){var l=t.ax,h=t.ay,u=t.ascaleX,c=u,f=t.ascaleY,p=e.ascaleX,d=t.matrix,m=0,v=0,y=0;u<0?(u=-u,m=180,y=-1):(m=0,y=1),f<0&&(f=-f,y=-y),p<0?(p=-p,v=180):v=0;var g=e.ax,_=0,b=0,x=0,w=d.a,T=d.c,S=d.b,E=d.d,M=Math.abs(u-f)<=1e-4;M?(b=w*g+T*(_=e.ay)+d.tx,x=S*g+E*_+d.ty):(_=0,b=w*g+d.tx,x=S*g+d.ty);var C=t.parent.worldMatrix;w=C.a,T=C.c,S=C.b;var A,P,k=1/(w*(E=C.d)-T*S),D=b-C.tx,I=x-C.ty,R=(D*E-I*T)*k-l,F=(I*w-D*S)*k-h,L=Math.sqrt(R*R+F*F),N=e.data.length*p;if(L<1e-4)return this.apply1(t,r,n,!1,o,!1,s),void e.updateWorldTransformWith(g,_,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var B=((D=r-C.tx)*E-(I=n-C.ty)*T)*k-l,z=(I*w-D*S)*k-h,j=B*B+z*z;if(0!=a){a*=u*(p+1)/2;var V=Math.sqrt(j),U=V-L-N*u+a;if(U>0){var W=Math.min(1,U/(2*a))-1;j=(B-=(W=(U-a*(1-W*W))/V)*B)*B+(z-=W*z)*z}}t:if(M){var H=(j-L*L-(N*=u)*N)/(2*L*N);H<-1?H=-1:H>1&&(H=1,o&&(c*=(Math.sqrt(j)/(L+N)-1)*s+1)),P=Math.acos(H)*i,w=L+N*H,T=N*Math.sin(P),A=Math.atan2(z*w-B*T,B*w+z*T)}else{var G=(w=u*N)*w,Y=(T=f*N)*T,X=Math.atan2(z,B),q=-2*Y*L,K=Y-G;if((E=q*q-4*K*(S=Y*L*L+G*j-G*Y))>=0){var Z=Math.sqrt(E);q<0&&(Z=-Z);var J=(Z=-(q+Z)/2)/K,$=S/Z,Q=Math.abs(J)<Math.abs($)?J:$;if(Q*Q<=j){I=Math.sqrt(j-Q*Q)*i,A=X-Math.atan2(I,Q),P=Math.atan2(I/f,(Q-L)/u);break t}}var tt=Math.PI,et=L-w,rt=et*et,nt=0,it=0,ot=L+w,at=ot*ot,st=0;(S=-w*L/(G-Y))>=-1&&S<=1&&(S=Math.acos(S),(E=(D=w*Math.cos(S)+L)*D+(I=T*Math.sin(S))*I)<rt&&(tt=S,rt=E,et=D,nt=I),E>at&&(it=S,at=E,ot=D,st=I)),j<=(rt+at)/2?(A=X-Math.atan2(nt*i,et),P=tt*i):(A=X-Math.atan2(st*i,ot),P=it*i)}var lt=Math.atan2(_,g)*y,ht=t.arotation;(A=(A-lt)*O+m-ht)>180?A-=360:A<-180&&(A+=360),t.updateWorldTransformWith(l,h,ht+A*s,c,t.ascaleY,0,0),ht=e.arotation,(P=((P+lt)*O-e.ashearX)*y+v-ht)>180?P-=360:P<-180&&(P+=360),e.updateWorldTransformWith(g,_,ht+P*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}},e}(F);!function(t){t.region="region",t.mesh="mesh",t.clipping="clipping",t.linkedmesh="linkedmesh",t.path="path",t.point="point"}(Ao||(Ao={}));var Do=[0,0,0];!function(t){function e(e,r){void 0===r&&(r=!1);var n=t.call(this)||this;n._instanceType="Spine";var i=n.spineData=e;if(e.textures||(r=!0),n.scaleY=-1,i.bones){n.boneContainer=n.addChild(new Q),n.bones=[];for(var o=0;o<i.bones.length;o++){var a=new no(i.bones[o],r?n.boneContainer:null);if(n.bones.push(a),a.data.parent){var s=n.findBone(a.data.parent);s&&s.addChild(a)}else n.boneContainer.addChild(a)}}if(i.ik&&(n.ikConstraints=[],i.ik.forEach((function(t){var e=new Oo(n.findBone(t.target),t.bones.map((function(t){return n.findBone(t)})));e.mix=void 0===t.mix?1:t.mix,e.softness=void 0===t.softness?0:t.softness,e.bendDirection=void 0===t.bendDirection||t.bendDirection?1:-1,e.compress=void 0!==t.compress&&t.compress,e.stretch=void 0!==t.stretch&&t.stretch,e.uniform=void 0!==t.uniform&&t.uniform,n.ikConstraints.push(e)}))),i.slots){n.slotContainer=n.addChildAt(new Q,0),n.slots=[];for(var l=0;l<i.slots.length;l++){var h=i.slots[l];a=n.findBone(h.bone);n.slots.push(n.slotContainer.addChild(new so(a,h,n)))}n.drawOrder=n.slots.slice()}if(i.skins){n.skins=[];var u=i.skins;for(var c in"[object Array]"===Object.prototype.toString.call(i.skins)&&(u={},i.skins.forEach((function(t){u[t.name]=t.attachments}))),u){var f=u[c],p=new lo(c);for(var d in f){var m=n.findSlotIndex(d);if(-1==m)throw new Error("Slot not found: "+d);var v=f[d];for(var y in v){var g=n.readAttachment(v[y],p,m,y,null);null!=g&&p.addAttachment(m,y,g)}}n.skins.push(p),"default"==p.name&&(n.defaultSkin=p)}}if(i.animations){var _=[];for(var b in i.animations){var x=[],w=0,T=i.animations[b];if(T.bones)for(var S in T.bones){var E=T.bones[S];a=n.findBone(S);for(var M in E){var C=new wo(a,M,E[M]);x.push(C),w=Math.max(w,C.times[C.times.length-1].time)}}if(T.slots)for(var A in T.slots){var P=T.slots[A],k=n.findSlotIndex(A),O=n.slots[k];for(var D in P){var I=P[D],R=I[I.length-1].time;"attachment"==D?(x.push(new Mo(O,I,n)),w=Math.max(w,R||0)):"color"==D&&(x.push(new So(O,I)),w=Math.max(w,R||0))}}if(T.deform)for(var F in T.deform){var L=T.deform[F],N=n.findSkin(F);for(var d in L){var B=L[d],z=n.findSlotIndex(d);O=n.slots[z];for(var j in B){var V=B[j],U=N.getAttachment(z,j),W=new Eo(O,U,V);x.push(W),w=Math.max(w,W.frameTimes[W.frameTimes.length-1])}}}var H=T.drawOrder;if(H){var G=new Co(n.slots,n.drawOrder,H.map((function(t){return{time:t.time||0,drawOrder:function(){var e=t.offsets;if(!e)return null;for(var r=n.slots.length,i=_o(r,-1),o=_o(r-e.length,0),a=0,s=0,l=0;l<e.length;l++){for(var h=e[l],u=n.findSlotIndex(h.slot);a!=u;)o[s++]=a++;i[a+h.offset]=a++}for(;a<r;)o[s++]=a++;for(l=r-1;l>=0;l--)-1==i[l]&&(i[l]=o[--s]);return i}()}})));x.push(G),w=Math.max(w,G.times[G.times.length-1].time)}var Y=new Po(x,w);Y.name=b,_.push(Y)}n.animationManager=new ko(_)}if(i.slots)for(var X=0;X<n.slots.length;X++){if((O=n.slots[X]).data.attachment){var q=n.defaultSkin.getAttachment(X,O.data.attachment);if(O.setAttachment(q),q instanceof co){var K=q.name,Z=n.createSprite(O,q,K);O.currentSprite=Z,O.currentSpriteName=K,O.addChild(Z)}else if(q instanceof fo){var J=n.createMesh(O,q);O.currentMesh=J,O.currentMeshName=q.name,O.addChild(J)}}}return n}R(e,t),e.prototype.findBone=function(t){for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},e.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;e&&this.sortBone(e),t.sorted=!0,this.orderCalculations.push(t)}},e.prototype.findSlot=function(t){for(var e=this.slots,r=0;r<e.length;r++)if(e[r].name==t)return e[r];return null},e.prototype.findSlotIndex=function(t){for(var e=this.slots,r=0;r<e.length;r++)if(e[r].name==t)return r;return-1},e.prototype.findSkin=function(t){for(var e=this.skins,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},e.prototype.getAttachment=function(t,e){var r;if(this.skin&&(r=this.skin.getAttachment(t,e)))return r;if(this.defaultSkin&&(r=this.defaultSkin.getAttachment(t,e)))return r;return null},e.prototype.update=function(){var e=Date.now(),r=this.lastTime?.001*(e-this.lastTime):.01667;this.lastTime=e,this.animationManager.update(r),t.prototype.update.call(this)},e.prototype.updateTransform=function(){this.transform.updateWorldMatrix(this.parent.transform),this._worldAlpha=this.alpha*this.parent._worldAlpha,this.boneContainer&&this.boneContainer.updateTransform(),this.ikConstraints&&this.ikConstraints.forEach((function(t){t.update()})),this.updateSlots(),this.updateDrawOrder(),this.slotContainer.updateTransform()},e.prototype.updateSlots=function(){for(var t=0,e=this.slots.length;t<e;t++){var r=this.slots[t],n=r.attachment;if(n){var i=n.color;if(n instanceof co){if(r.currentMesh&&(r.currentMesh.visible=!1,r.currentMesh=null,r.currentMeshName=void 0),!r.currentSpriteName||r.currentSpriteName!==n.name){var o=n.name;if(r.currentSprite&&(r.currentSprite.visible=!1),r.sprites=r.sprites||{},void 0!==r.sprites[o])r.sprites[o].visible=!0;else{var a=this.createSprite(r,n,o);r.addChild(a)}r.currentSprite=r.sprites[o],r.currentSpriteName=o}var s=r.transform;r.bone.matrix.decompose(s),s._localID++,Do[0]=r.color.r*i.r,Do[1]=r.color.g*i.g,Do[2]=r.color.b*i.b,r.currentSprite.tint=Lt(Do)}else{if(!(n instanceof fo)){r.visible=!1;continue}r.currentSprite&&(r.currentSprite.visible=!1,r.currentSprite=null,r.currentSpriteName=void 0,(s=new W)._parentID=-1,s._worldID=r.transform._worldID,r.transform=s);if(!r.currentMeshName||r.currentMeshName!==n.name){var l=n.name;if(r.currentMesh&&(r.currentMesh.visible=!1),r.meshes=r.meshes||{},void 0!==r.meshes[l])r.meshes[l].visible=!0;else{var h=this.createMesh(r,n);r.addChild(h)}r.currentMesh=r.meshes[l],r.currentMeshName=l}n.computeWorldVerticesOld(r,r.currentMesh._vertices,this.bones),r.currentMesh._vertexDirty++,Do[0]=r.color.r*i.r,Do[1]=r.color.g*i.g,Do[2]=r.color.b*i.b,r.currentMesh.tint=Lt(Do)}r.visible=!0,r.alpha=r.color.a}else r.visible=!1}},e.prototype.updateDrawOrder=function(){for(var t=this.drawOrder,e=0,r=t.length;e<r;e++){var n=this.slots.indexOf(t[e]),i=this.slots[n];this.slotContainer.children[e]=i}},e.prototype.readAttachment=function(t,e,r,n,i){var o=this.spineData.textures;switch(n=t.name||n,t.type||Ao.region){case Ao.region:var a=new co(n,t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.width,t.height,o&&o[t.path||n]);return t.color&&a.color.setFromString(t.color),a;case"mesh":var s=new fo(n);s.texture=o&&o[t.path||n];var l=t.uvs;return this.readVertices(t,s,l.length),s.triangles=t.triangles,s.regionUVs=new Float32Array(l),s.hullLength=2*t.hull||0,s}return null},e.prototype.readVertices=function(t,e,r){e.worldVerticesLength=r;var n=t.vertices;if(r!=n.length){for(var i=new Array,o=new Array,a=0,s=n.length;a<s;){var l=n[a++];o.push(l);for(var h=a+4*l;a<h;a+=4)o.push(n[a]),i.push(n[a+1]),i.push(n[a+2]),i.push(n[a+3])}e.bones=o,e.vertices=new Float32Array(i)}else{var u=new Float32Array(n);e.vertices=u}},e.prototype.createSprite=function(t,e,r){var n=new Jt(e.texture);return n.rotation=e.rotation||0,n.anchorTexture.set(.5,.5),n.position.x=e.x,n.position.y=e.y,n.alpha=e.color.a,e.texture&&(n.scaleX=e.scaleX*e.width/e.texture.width,n.scaleY=-e.scaleY*e.height/e.texture.height),t.sprites=t.sprites||{},t.sprites[r]=n,n},e.prototype.createMesh=function(t,e){var r=new un(e.texture,new Float32Array(e.regionUVs.length),e.regionUVs,new Uint16Array(e.triangles));return r.canvasPadding&&(r.canvasPadding=1.5),r.refresh(!0),r.multiplyUvs(),t.meshes=t.meshes||{},t.meshes[e.name]=r,r},e.prototype.clone=function(){return new e(this.spineData)},e.prototype.setSkin=function(t){var e=this.findSkin(t);e&&this.skin!=e&&(this.addSkin(e)||(e==this.defaultSkin?this.resetSkin():(this.resetSkin(),this.addSkin(e))))},e.prototype.resetSkin=function(){this.skin=this.defaultSkin,this.slots.forEach((function(t){t.setToSetupPose()}))},e.prototype.addSkin=function(t){if(this.skin&&this.skin!=this.defaultSkin)return!1;for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r],o=i.data.attachment;if(o){var a=t.getAttachment(r,o);a&&i.setAttachment(a)}}return this.skin=t,!0},Object.defineProperty(e.prototype,"skinNames",{get:function(){return this.skins&&this.skins.length?this.skins.map((function(t){return t.name})):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aniNames",{get:function(){var t=this.animationManager;return t&&t.animationClips&&t.animationClips.length?t.animationClips.map((function(t){return t.name})):[]},enumerable:!0,configurable:!0})}(Q);!function(){function t(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},t.prototype.readTuple=function(t){var e=this.readLine(),r=e.indexOf(":");if(-1==r)throw new Error("Invalid line: "+e);for(var n=0,i=r+1;n<3;n++){var o=e.indexOf(",",i);if(-1==o)break;t[n]=e.substr(i,o-i).trim(),i=o+1}return t[n]=e.substring(i).trim(),n+1}}();var Io={h5:l,taobao:function(){function t(){var t=my.getSystemInfoSync();this.systemInfo={pixelRatio:t.pixelRatio}}return t.prototype.setupCanvas=function(t,e){var r=this;my.createCanvas({id:t.canvasId,success:function(t){var n=my.getSystemInfoSync(),i=n.pixelRatio,o=n.windowWidth,a=n.windowHeight,s=o*i+i,l=a*i+i;t.width=s,t.height=l,r.systemInfo.canvasWidth=o,r.systemInfo.canvasHeight=a,function(t){et={createImage:t.createImage.bind(t),requestAnimationFrame:t.requestAnimationFrame.bind(t),cancelAnimationFrame:t.cancelAnimationFrame.bind(t)},rt="tb"}(t),e(r._canvas=t)}})},t.prototype.bindMouseEvent=function(t){},t}()};var Ro=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createStage=function(t){e._canvas=t;var r=e._adaptor.systemInfo,n=r.canvasWidth,i=r.canvasHeight,o=e._options.renderType,a=void 0===o?m.CANVAS:o,s=e._stage=new fr(t,750,1624,n,i,a);e._adaptor.bindMouseEvent(e._stage);var l=e;!function e(){l._pause||(vn.flush(),s.flush());l._requestID=(my?t:window).requestAnimationFrame(e)}()},e}return i(e,t),Object.defineProperty(e.prototype,"stage",{get:function(){return this._stage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widget",{get:function(){return this._widget},enumerable:!0,configurable:!0}),e.prototype.init=function(t,e){var r,n=this;this._options=t,this._adaptor=(r=t.platform,this._options,new(0,Io[r])),this._adaptor.setupCanvas(t,(function(t){n.createStage(t),e()}))},e.prototype.setWidget=function(t){this._stage&&this._stage.addChild(this._widget=t)},e.prototype.launch=function(t,e,r){t||(t={});var n=t.props,i=void 0===n?{}:n,o=t.assets,a=void 0===o?[]:o,s=this._widget;s.injectProps(i),s.onInitialized(i,a),s.loadAssets(a,e,r)},e.prototype.invokeMouseEvent=function(t){this._stage&&this._stage.onMouseEvent(t)},e.prototype.destroy=function(){var t=this._widget;if(t)try{cancelAnimationFrame(this._requestID),t.destroy(),this._stage.destroy()}catch(t){}},e}(N);var Fo,Lo={".png":"Texture",".jpg":"Texture",".jpeg":"Texture",".gif":"Texture",".svg":"Texture",".txt":"Text",".json":"Json",".mp3":"Audio","":"Raw"},No={},Bo={},zo={},jo={},Vo=[];function Uo(t){return Bo[t]}function Wo(t,e,r,n){return o(this,void 0,void 0,(function(){var i,o;return a(this,(function(a){switch(a.label){case 0:return Uo[e]?[2]:zo[e]?[2,new Promise((function(t,r){zo[e].push({resolve:t,reject:r})}))]:(zo[e]=[],[4,Ho(t,r,n)]);case 1:for(a.sent(),Bo[e]=!0,i=0,o=zo[e];i<o.length;i++)o[i].resolve();return delete zo[e],[2]}}))}))}function Ho(t,e,r){if(!t)return Promise.resolve();var n=t.length,i=0,o=[];return Promise.all(t.map((function(t){if(0===t.url.indexOf("link://")){var r=t.url.replace("link://","");t=jo[r]}if(t){var a,s=t.url,l=t.ext,h=t.uuid,u=Lo[l];return(a=u?Ht["load"+u]:No[l])?new Promise((function(t,e){a.call(Ht,(function(e,r){if(r){if(r.__merged)for(var n in r)jo[n]=r[n];else jo[h]=r;r.__frames&&Vo.push(r.__frames),c(!0)}else o.push(s);t(e)}),s,h)})):c()}return c();function c(t){if(void 0===t&&(t=!0),i++,e&&e(i,n),t)return Promise.resolve()}}))).then((function(){r&&r(o)}))}Fo=function(t,e){var r=this;Ht.loadJson((function(n,i){if(n){var o=e.substring(0,e.lastIndexOf("/"))+"/"+i.tex;r.loadImage((function(e,r){if(e){var n=function(t,e){for(var r=e,n=Object.keys(r),i=0,o={};i<n.length;){var a=n[i],s=r[a],l=null,h=null,u=new U(0,0,Math.floor(s.sw),Math.floor(s.sh));l=s.ro?new U(Math.floor(s.x),Math.floor(s.y),Math.floor(s.h),Math.floor(s.w)):new U(Math.floor(s.x),Math.floor(s.y),Math.floor(s.w),Math.floor(s.h)),(s.ox||s.oy||s.w!=s.sw||s.h!=s.sh)&&(h=new U(Math.floor(s.ox),Math.floor(s.oy),Math.floor(s.w),Math.floor(s.h)));var c=new Xt(t,l,u,h,s.ro?2:0);Xt.addToCache(c,a),o[a]=c,i++}return o}(new Gt(r),i.frames);Object.defineProperty(n,"__merged",{enumerable:!1,get:function(){return!0}}),Object.defineProperty(n,"__frames",{enumerable:!1,get:function(){return i.frames}}),t(!0,n)}else t(!1)}),o)}else t(!1)}),e)},No[".sht"]=Fo;(function(){function t(){}t.registerPool=function(t,e,r){void 0===r&&(r=null),this.createMethods[t]=e,this.initMethods[t]=r,this.pools[t]=[]},t.getObject=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n,i=this.pools[t];if(!i)return console.warn(t+"没有注册在对象池中。"),null;if(i.length>0)n=i.pop();else{var o=this.createMethods[t];n=o.apply(null,e)}var a=this.initMethods[t];return a&&(e.unshift(n),a.apply(null,e)),this.debug(),n},t.recycleObject=function(t,e){if(e){var r=this.pools[t];r?(r.indexOf(e)<0&&r.length<=this.MAX&&r.push(e),this.debug()):console.warn(t+"没有注册在对象池中。")}},t.debug=function(){for(var t in this.pools){t+":"+this.pools[t].length+"\n"}},t.MAX=50,t.createMethods={},t.initMethods={},t.pools={}})(),function(t){function e(e){var r=t.call(this)||this;return r._props={},r._assets=[],r._metaConfig=e,e&&e.props&&r.injectProps(e.props),r.addEventListener("in",r.$onEvent,r),r}i(e,t),Object.defineProperty(e.prototype,"props",{get:function(){return this._props},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assets",{get:function(){return this._assets},enumerable:!0,configurable:!0}),e.prototype.getAssetByName=function(t){for(var e,r=0,n=this._assets;r<n.length;r++){var i=n[r];if(i.name===t){e=i;break}}if(!e)for(var o=0,a=Vo;o<a.length;o++){var s=a[o][t];if(s)for(var l in s){s[l].name===t&&(e={uuid:l,name:t,ext:".png"})}}return e},e.prototype.$onEvent=function(t){t.data&&this.onEvent(t.data.type,t.data.payload)},e.prototype.dispatchOutEvent=function(t,e){this.dispatchEvent("out",{type:t,payload:e})},e.prototype.dispatchInEvent=function(t,e){this.dispatchEvent("in",{type:t,payload:e})},e.prototype.emitEvent=function(t,e){this._onEvent&&this._onEvent(t,e)},e.prototype.$emitEvent=function(t,e){this.onEvent(t,e)},e.prototype.loadAssets=function(t,e,r){var n=this,i=[],s=[],l=this._metaConfig;if(l&&l.assets&&(i=l.assets.concat(),t&&t.length>0))for(var h=function(e,r){var n=t[e],o=-1;(function(t,e){if(t)for(var r=0,n=t.length;r<n;r++){var i=t[r];if(e(i,r,t))return i}})(i,(function(t,e){var r=t.uuid===n.uuid;return r&&(o=e),r}))?i[o]=n:s.push(n)},u=0,c=t.length;u<c;u++)h(u);this._assets=i,function(t,e,r,n,i){o(this,void 0,void 0,(function(){var o,s,l,h,u,c,f;return a(this,(function(a){switch(a.label){case 0:for(c in o=0,s=0,t)Uo(c)||(f=t[c])&&f.length>0&&(o+=f.length);return r?[4,r()]:[3,2];case 1:a.sent(),a.label=2;case 2:l=[],h=0,u=e,a.label=3;case 3:return h<u.length?Uo(c=u[h])?[3,5]:(f=t[c])&&f.length>0?[4,Wo(f,c,(function(){s++,n&&n(s,o)}),(function(t){l.push.apply(l,t)}))]:[3,5]:[3,6];case 4:a.sent(),a.label=5;case 5:return h++,[3,3];case 6:return[4,new Promise((function(t){setTimeout(t,100)}))];case 7:return a.sent(),i?[4,i(l)]:[3,9];case 8:a.sent(),a.label=9;case 9:return[2]}}))}))}({builtins:i,other:s},["builtins","other"],null,e,(function(t){r&&r(t),n.onLaunched()}))},e.prototype.injectProps=function(t){!function(t,e,r,n,i){if(void 0===n&&(n=!0),void 0===i&&(i=!0),!t||!e)return!1;var o=!1;for(var a in e){var s=e[a];if(!(n&&"function"==typeof s||i&&null==s)){if(r)r(t,a,s);else try{t[a]=s}catch(t){}o=!0}}}(this._props,t)},e.prototype.onInitialized=function(t,e){},e.prototype.onLaunched=function(){},e.prototype.onDestroy=function(){},e.prototype.onEvent=function(t,e){},e.prototype.destroy=function(){!function t(e,r){void 0===r&&(r=!0),e&&(vn.removeTweens(e),r&&e.children&&e.children.length&&e.children.forEach((function(e){t(e)})))}(this),this.onDestroy(),t.prototype.destroy.call(this)}}(Q);function Go(t,e,r,n){var i=new Ro;return i.init(e,(function(){var o=t();o._onEvent=n,i.setWidget(o),i.launch(r,e.onAssetsProcess,e.onAssetsComplete)})),i}},"F+F2":function(t,e,r){var n;t.exports=(n=r("Ib8C"),function(){if("function"==typeof ArrayBuffer){var t=n.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var r=t.byteLength,n=[],i=0;i<r;i++)n[i>>>2]|=t[i]<<24-i%4*8;e.call(this,n,r)}else e.apply(this,arguments)}).prototype=t}}(),n.lib.WordArray)},FatH:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return loadSvga}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("q1tI"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_spark_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("Yb6r"),_lottiefiles_react_lottie_player__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("r5Tj"),_meta_json__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("O7F6"),_meta_json__WEBPACK_IMPORTED_MODULE_3___namespace=__webpack_require__.t("O7F6",1);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function __awaiter(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))}function __generator(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function createCommonjsModule(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return commonjsRequire(t,null==e?r.path:e)}},r.exports),r.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var svga_lite_min=createCommonjsModule((function(module,exports){var t;window,t=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){this._d=t,this._transform=e,this._styles=r}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=r(3),o=r(4),a={Downloader:n.default,Parser:i.default,Player:o.default};e.default=a},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.request=null}return t.prototype.get=function(t){var e=this;if(!t)throw new Error("download link undefined");return new Promise((function(r,n){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onloadend=function(){!i.response||200!==i.status&&304!==i.status?n(i):r(i.response)},i.onerror=function(){return n(i.response)},i.send(),e.request=i}))},t.prototype.cancel=function(){this.request&&this.request.abort()},t.prototype.destroy=function(){this.request&&this.request.abort()},t}();e.default=n},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var WORKER='!function(t){var e={};function r(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=8)}([function(t,e,r){"use strict";var i=t.exports=r(6);i.codegen=r(16),i.toArray=function(t){if(t){for(var e=Object.keys(t),r=new Array(e.length),i=0;i<e.length;)r[i]=t[e[i++]];return r}return[]};var s=/\\\\/g,n=/"/g;i.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)},i.safeProp=function(t){return!/^[$\\w_]+$/.test(t)||i.isReserved(t)?\'["\'+t.replace(s,"\\\\\\\\").replace(n,\'\\\\"\')+\'"]\':"."+t}},function(t,e,r){"use strict";t.exports=h;var i=r(2);((h.prototype=Object.create(i.prototype)).constructor=h).className="Field";var s,n=r(3),o=r(5),a=r(0),f=/^required|optional|repeated$/;function h(t,e,r,s,n,h,l){if(a.isObject(s)?(l=n,h=s,s=n=void 0):a.isObject(n)&&(l=h,h=n,n=void 0),i.call(this,t,h),!a.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!a.isString(r))throw TypeError("type must be a string");if(void 0!==s&&!f.test(s=s.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==n&&!a.isString(n))throw TypeError("extend must be a string");this.rule=s&&"optional"!==s?s:void 0,this.type=r,this.id=e,this.extend=n||void 0,this.required="required"===s,this.optional=!this.required,this.repeated="repeated"===s,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==o.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=l}h.fromJSON=function(t,e){return new h(t,e.id,e.type,e.rule,e.extend,e.options,e.comment)},h.prototype.setOption=function(t,e,r){return"packed"===t&&(this._packed=null),i.prototype.setOption.call(this,t,e,r)},h.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=o.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof s?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof n&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof n)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var t;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,t=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,t=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=t}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof s&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},h._configure=function(t){s=t}},function(t,e,r){"use strict";var i;function s(t,e){this.options=e,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}t.exports=s,s.className="ReflectionObject",s.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;var e=t.root;e instanceof i&&e._handleAdd(this)},s.prototype.resolve=function(){return this.resolved?this:(this.root instanceof i&&(this.resolved=!0),this)},s.prototype.getOption=function(t){if(this.options)return this.options[t]},s._configure=function(t){i=t}},function(t,e,r){"use strict";t.exports=s;var i=r(2);function s(t,e,r,s,n){if(i.call(this,t,r),e&&"object"!=typeof e)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=s,this.comments=n||{},this.reserved=void 0,e)for(var o=Object.keys(e),a=0;a<o.length;++a)"number"==typeof e[o[a]]&&(this.valuesById[this.values[o[a]]=e[o[a]]]=o[a])}((s.prototype=Object.create(i.prototype)).constructor=s).className="Enum",s.fromJSON=function(t,e){var r=new s(t,e.values,e.options,e.comment,e.comments);return r.reserved=e.reserved,r}},function(t,e,r){"use strict";t.exports=h;var i=r(2);((h.prototype=Object.create(i.prototype)).constructor=h).className="Namespace";var s,n,o,a=r(1),f=r(0);function h(t,e){i.call(this,t,e),this.nested=void 0,this._nestedArray=null}h.fromJSON=function(t,e){return new h(t,e.options).addJSON(e.nested)},h.isReservedId=function(t,e){if(t)for(var r=0;r<t.length;++r)if("string"!=typeof t[r]&&t[r][0]<=e&&t[r][1]>=e)return!0;return!1},h.isReservedName=function(t,e){if(t)for(var r=0;r<t.length;++r)if(t[r]===e)return!0;return!1},Object.defineProperty(h.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=f.toArray(this.nested))}}),h.prototype.addJSON=function(t){if(t)for(var e,r=Object.keys(t),i=0;i<r.length;++i)e=t[r[i]],this.add((void 0!==e.fields?s.fromJSON:void 0!==e.values?o.fromJSON:void 0!==e.methods?n.fromJSON:void 0!==e.id?a.fromJSON:h.fromJSON)(r[i],e));return this},h.prototype.get=function(t){return this.nested&&this.nested[t]||null},h.prototype.add=function(t){if(!(t instanceof a&&void 0!==t.extend||t instanceof s||t instanceof o||t instanceof n||t instanceof h))throw TypeError("object must be a valid nested object");if(this.nested){var e=this.get(t.name);if(e){if(!(e instanceof h&&t instanceof h)||e instanceof s||e instanceof n)throw Error("duplicate name \'"+t.name+"\' in "+this);for(var r=e.nestedArray,i=0;i<r.length;++i)t.add(r[i]);this.remove(e),this.nested||(this.nested={}),t.setOptions(e.options,!0)}}else this.nested={};return this.nested[t.name]=t,t.onAdd(this),(f=this)._nestedArray=null,f;var f},h.prototype.lookup=function(t,e,r){if("boolean"==typeof e?(r=e,e=void 0):e&&!Array.isArray(e)&&(e=[e]),f.isString(t)&&t.length){if("."===t)return this.root;t=t.split(".")}else if(!t.length)return this;if(""===t[0])return this.root.lookup(t.slice(1),e);var i=this.get(t[0]);if(i){if(1===t.length){if(!e||e.indexOf(i.constructor)>-1)return i}else if(i instanceof h&&(i=i.lookup(t.slice(1),e,!0)))return i}else for(var s=0;s<this.nestedArray.length;++s)if(this._nestedArray[s]instanceof h&&(i=this._nestedArray[s].lookup(t,e,!0)))return i;return null===this.parent||r?null:this.parent.lookup(t,e)},h.prototype.lookupType=function(t){var e=this.lookup(t,[s]);if(!e)throw Error("no such type: "+t);return e},h.prototype.lookupTypeOrEnum=function(t){var e=this.lookup(t,[s,o]);if(!e)throw Error("no such Type or Enum \'"+t+"\' in "+this);return e},h._configure=function(t,e,r){s=t,n=e,o=r}},function(t,e,r){"use strict";var i=e,s=r(0),n=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(t,e){var r=0,i={};for(e|=0;r<t.length;)i[n[r+e]]=t[r++];return i}i.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",s.emptyArray,null]),i.long=o([0,0,0,1,1],7),i.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(t,e,r){"use strict";var i=e;i.float=r(14),i.utf8=r(15),i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},i.isString=function(t){return"string"==typeof t||t instanceof String},i.isObject=function(t){return t&&"object"==typeof t},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i._configure=function(){var t=i.Buffer;t?(i._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,r){return new t(e,r)},i._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):i._Buffer_from=i._Buffer_allocUnsafe=null}},function(t,e,r){"use strict";t.exports=s;var i=r(4);function s(t,e){i.call(this,t,e),this.methods={},this._methodsArray=null}((s.prototype=Object.create(i.prototype)).constructor=s).className="Service"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(9);var i,s=r(10),n=r(23),o=r(24),a=r(25),f=r(26);self.document?((i=self.SVGAParserMockWorker={}).disableWorker=!0,i.postMessage=function(t){i.onmessageCallback&&i.onmessageCallback(t)}):i=self;var h=s.Root.fromJSON(n.default).lookupType("com.opensource.svga.MovieEntity");i.onmessage=function(t){var e=new o.Zlib.Inflate(new Uint8Array(t.data)).decompress(),r=h.decode(e),s={};for(var n in r.images){var l=r.images[n],u=a.default(l);s[n]=btoa(u)}var p=new f.default(r,s);i.postMessage(p)}},function(t,e,r){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";!self.btoa&&(self.btoa=function(t){for(var e,r,s,n,o="",a=0,f=(t=String(t)).length%3;a<t.length;){if((r=t.charCodeAt(a++))>255||(s=t.charCodeAt(a++))>255||(n=t.charCodeAt(a++))>255)throw new TypeError("Failed to execute \'btoa\' on \'Window\': The string to be encoded contains characters outside of the Latin1 range.");o+=i.charAt((e=r<<16|s<<8|n)>>18&63)+i.charAt(e>>12&63)+i.charAt(e>>6&63)+i.charAt(63&e)}return f?o.slice(0,f-3)+"===".substring(f):o})},function(t,e,r){"use strict";t.exports=r(11)},function(t,e,r){"use strict";(t.exports=r(12)).build="full"},function(t,e,r){"use strict";var i=t.exports=r(13);i.build="light",i.ReflectionObject=r(2),i.Namespace=r(4),i.Root=r(17),i.Enum=r(3),i.Type=r(19),i.Field=r(1),i.Service=r(7),i.ReflectionObject._configure(i.Root),i.Namespace._configure(i.Type,i.Service,i.Enum),i.Root._configure(i.Type),i.Field._configure(i.Type)},function(t,e,r){"use strict";e.build="minimal"},function(t,e,r){"use strict";function i(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=128===r[3];function s(t,i,s){e[0]=t,i[s]=r[0],i[s+1]=r[1],i[s+2]=r[2],i[s+3]=r[3]}function n(t,i,s){e[0]=t,i[s]=r[3],i[s+1]=r[2],i[s+2]=r[1],i[s+3]=r[0]}function o(t,i){return r[0]=t[i],r[1]=t[i+1],r[2]=t[i+2],r[3]=t[i+3],e[0]}function a(t,i){return r[3]=t[i],r[2]=t[i+1],r[1]=t[i+2],r[0]=t[i+3],e[0]}t.writeFloatLE=i?s:n,t.writeFloatBE=i?n:s,t.readFloatLE=i?o:a,t.readFloatBE=i?a:o}():function(){function e(t,e,r,i){var s=e<0?1:0;if(s&&(e=-e),0===e)t(1/e>0?0:2147483648,r,i);else if(isNaN(e))t(2143289344,r,i);else if(e>34028234663852886e22)t((s<<31|2139095040)>>>0,r,i);else if(e<11754943508222875e-54)t((s<<31|Math.round(e/1401298464324817e-60))>>>0,r,i);else{var n=Math.floor(Math.log(e)/Math.LN2);t((s<<31|n+127<<23|8388607&Math.round(e*Math.pow(2,-n)*8388608))>>>0,r,i)}}function r(t,e,r){var i=t(e,r),s=2*(i>>31)+1,n=i>>>23&255,o=8388607&i;return 255===n?o?NaN:s*(1/0):0===n?1401298464324817e-60*s*o:s*Math.pow(2,n-150)*(o+8388608)}t.writeFloatLE=e.bind(null,s),t.writeFloatBE=e.bind(null,n),t.readFloatLE=r.bind(null,o),t.readFloatBE=r.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=128===r[7];function s(t,i,s){e[0]=t,i[s]=r[0],i[s+1]=r[1],i[s+2]=r[2],i[s+3]=r[3],i[s+4]=r[4],i[s+5]=r[5],i[s+6]=r[6],i[s+7]=r[7]}function n(t,i,s){e[0]=t,i[s]=r[7],i[s+1]=r[6],i[s+2]=r[5],i[s+3]=r[4],i[s+4]=r[3],i[s+5]=r[2],i[s+6]=r[1],i[s+7]=r[0]}function o(t,i){return r[0]=t[i],r[1]=t[i+1],r[2]=t[i+2],r[3]=t[i+3],r[4]=t[i+4],r[5]=t[i+5],r[6]=t[i+6],r[7]=t[i+7],e[0]}function a(t,i){return r[7]=t[i],r[6]=t[i+1],r[5]=t[i+2],r[4]=t[i+3],r[3]=t[i+4],r[2]=t[i+5],r[1]=t[i+6],r[0]=t[i+7],e[0]}t.writeDoubleLE=i?s:n,t.writeDoubleBE=i?n:s,t.readDoubleLE=i?o:a,t.readDoubleBE=i?a:o}():function(){function e(t,e,r,i,s,n){var o=i<0?1:0;if(o&&(i=-i),0===i)t(0,s,n+e),t(1/i>0?0:2147483648,s,n+r);else if(isNaN(i))t(0,s,n+e),t(2146959360,s,n+r);else if(i>17976931348623157e292)t(0,s,n+e),t((o<<31|2146435072)>>>0,s,n+r);else{var a;if(i<22250738585072014e-324)t((a=i/5e-324)>>>0,s,n+e),t((o<<31|a/4294967296)>>>0,s,n+r);else{var f=Math.floor(Math.log(i)/Math.LN2);1024===f&&(f=1023),t(4503599627370496*(a=i*Math.pow(2,-f))>>>0,s,n+e),t((o<<31|f+1023<<20|1048576*a&1048575)>>>0,s,n+r)}}}function r(t,e,r,i,s){var n=t(i,s+e),o=t(i,s+r),a=2*(o>>31)+1,f=o>>>20&2047,h=4294967296*(1048575&o)+n;return 2047===f?h?NaN:a*(1/0):0===f?5e-324*a*h:a*Math.pow(2,f-1075)*(h+4503599627370496)}t.writeDoubleLE=e.bind(null,s,0,4),t.writeDoubleBE=e.bind(null,n,4,0),t.readDoubleLE=r.bind(null,o,0,4),t.readDoubleBE=r.bind(null,a,4,0)}(),t}function s(t,e,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function n(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=255&t}function o(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function a(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=i(i)},function(t,e,r){"use strict";var i=e;i.length=function(t){for(var e=0,r=0,i=0;i<t.length;++i)(r=t.charCodeAt(i))<128?e+=1:r<2048?e+=2:55296==(64512&r)&&56320==(64512&t.charCodeAt(i+1))?(++i,e+=4):e+=3;return e},i.read=function(t,e,r){if(r-e<1)return"";for(var i,s=null,n=[],o=0;e<r;)(i=t[e++])<128?n[o++]=i:i>191&&i<224?n[o++]=(31&i)<<6|63&t[e++]:i>239&&i<365?(i=((7&i)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,n[o++]=55296+(i>>10),n[o++]=56320+(1023&i)):n[o++]=(15&i)<<12|(63&t[e++])<<6|63&t[e++],o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,n)),o=0);return s?(o&&s.push(String.fromCharCode.apply(String,n.slice(0,o))),s.join("")):String.fromCharCode.apply(String,n.slice(0,o))},i.write=function(t,e,r){for(var i,s,n=r,o=0;o<t.length;++o)(i=t.charCodeAt(o))<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=63&i|128):55296==(64512&i)&&56320==(64512&(s=t.charCodeAt(o+1)))?(i=65536+((1023&i)<<10)+(1023&s),++o,e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=63&i|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=63&i|128);return r-n}},function(t,e,r){"use strict";function i(t,e){"string"==typeof t&&(e=t,t=void 0);var r=[];function s(t){if("string"!=typeof t){var e=n();if(i.verbose&&console.log("codegen: "+e),e="return "+e,t){for(var o=Object.keys(t),a=new Array(o.length+1),f=new Array(o.length),h=0;h<o.length;)a[h]=o[h],f[h]=t[o[h++]];return a[h]=e,Function.apply(null,a).apply(null,f)}return Function(e)()}for(var l=new Array(arguments.length-1),u=0;u<l.length;)l[u]=arguments[++u];if(u=0,t=t.replace(/%([%dfijs])/g,function(t,e){var r=l[u++];switch(e){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"}),u!==l.length)throw Error("parameter count mismatch");return r.push(t),s}function n(i){return"function "+(i||e||"")+"("+(t&&t.join(",")||"")+"){\\n  "+r.join("\\n  ")+"\\n}"}return s.toString=n,s}t.exports=i,i.verbose=!1},function(t,e,r){"use strict";t.exports=f;var i=r(4);((f.prototype=Object.create(i.prototype)).constructor=f).className="Root";var s,n=r(1),o=r(3),a=r(18);function f(t){i.call(this,"",t),this.deferred=[],this.files=[]}f.fromJSON=function(t,e){return e||(e=new f),t.options&&e.setOptions(t.options),e.addJSON(t.nested)};var h=/^[A-Z]/;function l(t,e){var r=e.parent.lookup(e.extend);if(r){var i=new n(e.fullName,e.id,e.type,e.rule,void 0,e.options);return i.declaringField=e,e.extensionField=i,r.add(i),!0}return!1}f.prototype._handleAdd=function(t){if(t instanceof n)void 0===t.extend||t.extensionField||l(0,t)||this.deferred.push(t);else if(t instanceof o)h.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof a)){if(t instanceof s)for(var e=0;e<this.deferred.length;)l(0,this.deferred[e])?this.deferred.splice(e,1):++e;for(var r=0;r<t.nestedArray.length;++r)this._handleAdd(t._nestedArray[r]);h.test(t.name)&&(t.parent[t.name]=t)}},f._configure=function(t,e,r){s=t,e,r}},function(t,e,r){"use strict";t.exports=o;var i=r(2);((o.prototype=Object.create(i.prototype)).constructor=o).className="OneOf";var s=r(1),n=r(0);function o(t,e,r,s){if(Array.isArray(e)||(r=e,e=void 0),i.call(this,t,r),void 0!==e&&!Array.isArray(e))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=s}function a(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e])}o.fromJSON=function(t,e){return new o(t,e.oneof,e.options,e.comment)},o.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return n.toObject(["options",this.options,"oneof",this.oneof,"comment",e?this.comment:void 0])},o.prototype.add=function(t){if(!(t instanceof s))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,a(this),this},o.prototype.remove=function(t){if(!(t instanceof s))throw TypeError("field must be a Field");var e=this.fieldsArray.indexOf(t);if(e<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(e,1),(e=this.oneof.indexOf(t.name))>-1&&this.oneof.splice(e,1),t.partOf=null,this},o.prototype.onAdd=function(t){i.prototype.onAdd.call(this,t);for(var e=0;e<this.oneof.length;++e){var r=t.get(this.oneof[e]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}a(this)},o.prototype.onRemove=function(t){for(var e,r=0;r<this.fieldsArray.length;++r)(e=this.fieldsArray[r]).parent&&e.parent.remove(e);i.prototype.onRemove.call(this,t)},o.d=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;)t[e]=arguments[e++];return function(e,r){n.decorateType(e.constructor).add(new o(r,t)),Object.defineProperty(e,r,{get:n.oneOfGetter(t),set:n.oneOfSetter(t)})}}},function(t,e,r){"use strict";t.exports=u;var i=r(4);((u.prototype=Object.create(i.prototype)).constructor=u).className="Type";var s=r(3),n=r(1),o=r(20),a=r(7),f=r(21),h=r(0),l=r(22);function u(t,e){i.call(this,t,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(u.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var r=this.fields[t[e]],i=r.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=u.generateConstructor(this)())},set:function(t){t.prototype;t.$type=t.prototype.$type=this,this._ctor=t;for(var e=0;e<this.fieldsArray.length;++e)this._fieldsArray[e].resolve();var r={};for(e=0;e<this.oneofsArray.length;++e)r[this._oneofsArray[e].resolve().name]={get:h.oneOfGetter(this._oneofsArray[e].oneof),set:h.oneOfSetter(this._oneofsArray[e].oneof)};e&&Object.defineProperties(t.prototype,r)}}}),u.generateConstructor=function(t){for(var e,r=h.codegen(["p"],t.name),i=0;i<t.fieldsArray.length;++i)(e=t._fieldsArray[i]).map?r("this%s={}",h.safeProp(e.name)):e.repeated&&r("this%s=[]",h.safeProp(e.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},u.fromJSON=function(t,e){var r=new u(t,e.options);r.extensions=e.extensions,r.reserved=e.reserved;for(var f=Object.keys(e.fields),h=0;h<f.length;++h)r.add((void 0!==e.fields[f[h]].keyType?o.fromJSON:n.fromJSON)(f[h],e.fields[f[h]]));if(e.nested)for(f=Object.keys(e.nested),h=0;h<f.length;++h){var l=e.nested[f[h]];r.add((void 0!==l.id?n.fromJSON:void 0!==l.fields?u.fromJSON:void 0!==l.values?s.fromJSON:void 0!==l.methods?a.fromJSON:i.fromJSON)(f[h],l))}return e.extensions&&e.extensions.length&&(r.extensions=e.extensions),e.reserved&&e.reserved.length&&(r.reserved=e.reserved),e.group&&(r.group=!0),e.comment&&(r.comment=e.comment),r},u.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name \'"+t.name+"\' in "+this);if(t instanceof n&&void 0===t.extend){if(this._fieldsById?this._fieldsById[t.id]:this.fieldsById[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name \'"+t.name+"\' is reserved in "+this);return t.parent&&t.parent.remove(t),this.fields[t.name]=t,t.message=this,t.onAdd(this),(e=this)._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}var e;return i.prototype.add.call(this,t)},u.prototype.isReservedId=function(t){return i.isReservedId(this.reserved,t)},u.prototype.isReservedName=function(t){return i.isReservedName(this.reserved,t)},u.prototype.setup=function(){this.fullName;for(var t=[],e=0;e<this.fieldsArray.length;++e)t.push(this._fieldsArray[e].resolve().resolvedType);return this.decode=l(this)({Reader:f,types:t,util:h}),this},u.prototype.decode=function(t,e){return this.setup().decode(t,e)}},function(t,e,r){"use strict";t.exports=n;var i=r(1);((n.prototype=Object.create(i.prototype)).constructor=n).className="MapField";r(5);var s=r(0);function n(t,e,r,n,o,a){if(i.call(this,t,e,n,void 0,void 0,o,a),!s.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}n.fromJSON=function(t,e){return new n(t,e.id,e.keyType,e.type,e.options,e.comment)}},function(t,e,r){"use strict";t.exports=o;var i=r(6),s=(i.LongBits,i.utf8);function n(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function o(t){this.buf=t,this.pos=0,this.len=t.length}var a,f="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new o(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new o(t);throw Error("illegal buffer")};function h(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}o.create=i.Buffer?function(t){return(o.create=function(t){return i.Buffer.isBuffer(t)?new(void 0)(t):f(t)})(t)}:f,o.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,o.prototype.uint32=(a=4294967295,function(){if(a=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return a;if(a=(a|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return a;if((this.pos+=5)>this.len)throw this.pos=this.len,n(this,10);return a}),o.prototype.int32=function(){return 0|this.uint32()},o.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},o.prototype.bool=function(){return 0!==this.uint32()},o.prototype.fixed32=function(){if(this.pos+4>this.len)throw n(this,4);return h(this.buf,this.pos+=4)},o.prototype.sfixed32=function(){if(this.pos+4>this.len)throw n(this,4);return 0|h(this.buf,this.pos+=4)},o.prototype.float=function(){if(this.pos+4>this.len)throw n(this,4);var t=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},o.prototype.double=function(){if(this.pos+8>this.len)throw n(this,4);var t=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},o.prototype.bytes=function(){var t=this.uint32(),e=this.pos,r=this.pos+t;if(r>this.len)throw n(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,r):e===r?new this.buf.constructor(0):this._slice.call(this.buf,e,r)},o.prototype.string=function(){var t=this.bytes();return s.read(t,0,t.length)},o.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw n(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw n(this)}while(128&this.buf[this.pos++]);return this},o.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this}},function(t,e,r){"use strict";t.exports=function(t){var e=n.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(t){return t.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&e("if((t&7)===4)")("break");e("switch(t>>>3){");for(var r=0;r<t.fieldsArray.length;++r){var a=t._fieldsArray[r].resolve(),f=a.resolvedType instanceof i?"int32":a.type,h="m"+n.safeProp(a.name);e("case %i:",a.id),a.map?(e("r.skip().pos++")("if(%s===util.emptyObject)",h)("%s={}",h)("k=r.%s()",a.keyType)("r.pos++"),void 0!==s.long[a.keyType]?void 0===s.basic[f]?e(\'%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())\',h,r):e(\'%s[typeof k==="object"?util.longToHash(k):k]=r.%s()\',h,f):void 0===s.basic[f]?e("%s[k]=types[%i].decode(r,r.uint32())",h,r):e("%s[k]=r.%s()",h,f)):a.repeated?(e("if(!(%s&&%s.length))",h,h)("%s=[]",h),void 0!==s.packed[f]&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",h,f)("}else"),void 0===s.basic[f]?e(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",h,r):e("%s.push(r.%s())",h,f)):void 0===s.basic[f]?e(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",h,r):e("%s=r.%s()",h,f),e("break")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<t._fieldsArray.length;++r){var l=t._fieldsArray[r];l.required&&e("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",o(l))}return e("return m")};var i=r(3),s=r(5),n=r(0);function o(t){return"missing required \'"+t.name+"\'"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={nested:{com:{nested:{opensource:{nested:{svga:{options:{objc_class_prefix:"SVGAProto",java_package:"com.opensource.svgaplayer"},nested:{MovieParams:{fields:{viewBoxWidth:{type:"float",id:1},viewBoxHeight:{type:"float",id:2},fps:{type:"int32",id:3},frames:{type:"int32",id:4}}},SpriteEntity:{fields:{imageKey:{type:"string",id:1},frames:{rule:"repeated",type:"FrameEntity",id:2}}},Layout:{fields:{x:{type:"float",id:1},y:{type:"float",id:2},width:{type:"float",id:3},height:{type:"float",id:4}}},Transform:{fields:{a:{type:"float",id:1},b:{type:"float",id:2},c:{type:"float",id:3},d:{type:"float",id:4},tx:{type:"float",id:5},ty:{type:"float",id:6}}},ShapeEntity:{oneofs:{args:{oneof:["shape","rect","ellipse"]}},fields:{type:{type:"ShapeType",id:1},shape:{type:"ShapeArgs",id:2},rect:{type:"RectArgs",id:3},ellipse:{type:"EllipseArgs",id:4},styles:{type:"ShapeStyle",id:10},transform:{type:"Transform",id:11}},nested:{ShapeType:{values:{SHAPE:0,RECT:1,ELLIPSE:2,KEEP:3}},ShapeArgs:{fields:{d:{type:"string",id:1}}},RectArgs:{fields:{x:{type:"float",id:1},y:{type:"float",id:2},width:{type:"float",id:3},height:{type:"float",id:4},cornerRadius:{type:"float",id:5}}},EllipseArgs:{fields:{x:{type:"float",id:1},y:{type:"float",id:2},radiusX:{type:"float",id:3},radiusY:{type:"float",id:4}}},ShapeStyle:{fields:{fill:{type:"RGBAColor",id:1},stroke:{type:"RGBAColor",id:2},strokeWidth:{type:"float",id:3},lineCap:{type:"LineCap",id:4},lineJoin:{type:"LineJoin",id:5},miterLimit:{type:"float",id:6},lineDashI:{type:"float",id:7},lineDashII:{type:"float",id:8},lineDashIII:{type:"float",id:9}},nested:{RGBAColor:{fields:{r:{type:"float",id:1},g:{type:"float",id:2},b:{type:"float",id:3},a:{type:"float",id:4}}},LineCap:{values:{LineCap_BUTT:0,LineCap_ROUND:1,LineCap_SQUARE:2}},LineJoin:{values:{LineJoin_MITER:0,LineJoin_ROUND:1,LineJoin_BEVEL:2}}}}}},FrameEntity:{fields:{alpha:{type:"float",id:1},layout:{type:"Layout",id:2},transform:{type:"Transform",id:3},clipPath:{type:"string",id:4},shapes:{rule:"repeated",type:"ShapeEntity",id:5}}},MovieEntity:{fields:{version:{type:"string",id:1},params:{type:"MovieParams",id:2},images:{keyType:"string",type:"bytes",id:3},sprites:{rule:"repeated",type:"SpriteEntity",id:4}}}}}}}}}}}},function(t,e){\n/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */\n(function(){"use strict";var t=void 0,e=this;function r(r,i){var s,n=r.split("."),o=e;!(n[0]in o)&&o.execScript&&o.execScript("var "+n[0]);for(;n.length&&(s=n.shift());)n.length||i===t?o=o[s]?o[s]:o[s]={}:o[s]=i}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function s(t){var e,r,s,n,o,a,f,h,l,u,p=t.length,d=0,c=Number.POSITIVE_INFINITY;for(h=0;h<p;++h)t[h]>d&&(d=t[h]),t[h]<c&&(c=t[h]);for(e=1<<d,r=new(i?Uint32Array:Array)(e),s=1,n=0,o=2;s<=d;){for(h=0;h<p;++h)if(t[h]===s){for(a=0,f=n,l=0;l<s;++l)a=a<<1|1&f,f>>=1;for(u=s<<16|h,l=a;l<e;l+=o)r[l]=u;++n}++s,n<<=1,o<<=1}return[r,d,c]}function n(t,e){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=i?new Uint8Array(t):t,this.m=!1,this.i=a,this.r=!1,!e&&(e={})||(e.index&&(this.a=e.index),e.bufferSize&&(this.h=e.bufferSize),e.bufferType&&(this.i=e.bufferType),e.resize&&(this.r=e.resize)),this.i){case o:this.b=32768,this.c=new(i?Uint8Array:Array)(32768+this.h+258);break;case a:this.b=0,this.c=new(i?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var o=0,a=1,f={t:o,s:a};n.prototype.k=function(){for(;!this.m;){var e=S(this,3);switch(1&e&&(this.m=!0),e>>>=1){case 0:var r=this.input,n=this.a,f=this.c,h=this.b,l=r.length,u=t,d=f.length,c=t;if(this.d=this.f=0,n+1>=l)throw Error("invalid uncompressed block header: LEN");if(u=r[n++]|r[n++]<<8,n+1>=l)throw Error("invalid uncompressed block header: NLEN");if(u===~(r[n++]|r[n++]<<8))throw Error("invalid uncompressed block header: length verify");if(n+u>r.length)throw Error("input buffer is broken");switch(this.i){case o:for(;h+u>f.length;){if(u-=c=d-h,i)f.set(r.subarray(n,n+c),h),h+=c,n+=c;else for(;c--;)f[h++]=r[n++];this.b=h,f=this.e(),h=this.b}break;case a:for(;h+u>f.length;)f=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(i)f.set(r.subarray(n,n+u),h),h+=u,n+=u;else for(;u--;)f[h++]=r[n++];this.a=n,this.b=h,this.c=f;break;case 1:this.j(_,x);break;case 2:var y,v,m,b,g=S(this,5)+257,A=S(this,5)+1,w=S(this,4)+4,k=new(i?Uint8Array:Array)(p.length),O=t,E=t,T=t,N=t,I=t;for(I=0;I<w;++I)k[p[I]]=S(this,3);if(!i)for(I=w,w=k.length;I<w;++I)k[p[I]]=0;for(y=s(k),O=new(i?Uint8Array:Array)(g+A),I=0,b=g+A;I<b;)switch(E=j(this,y),E){case 16:for(N=3+S(this,2);N--;)O[I++]=T;break;case 17:for(N=3+S(this,3);N--;)O[I++]=0;T=0;break;case 18:for(N=11+S(this,7);N--;)O[I++]=0;T=0;break;default:T=O[I++]=E}v=s(i?O.subarray(0,g):O.slice(0,g)),m=s(i?O.subarray(g):O.slice(g)),this.j(v,m);break;default:throw Error("unknown BTYPE: "+e)}}return this.n()};var h,l,u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=i?new Uint16Array(u):u,d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],c=i?new Uint16Array(d):d,y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],v=i?new Uint8Array(y):y,m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],b=i?new Uint16Array(m):m,g=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=i?new Uint8Array(g):g,w=new(i?Uint8Array:Array)(288);for(h=0,l=w.length;h<l;++h)w[h]=143>=h?8:255>=h?9:279>=h?7:8;var k,O,_=s(w),E=new(i?Uint8Array:Array)(30);for(k=0,O=E.length;k<O;++k)E[k]=5;var x=s(E);function S(t,e){for(var r,i=t.f,s=t.d,n=t.input,o=t.a,a=n.length;s<e;){if(o>=a)throw Error("input buffer is broken");i|=n[o++]<<s,s+=8}return r=i&(1<<e)-1,t.f=i>>>e,t.d=s-e,t.a=o,r}function j(t,e){for(var r,i,s=t.f,n=t.d,o=t.input,a=t.a,f=o.length,h=e[0],l=e[1];n<l&&!(a>=f);)s|=o[a++]<<n,n+=8;if((i=(r=h[s&(1<<l)-1])>>>16)>n)throw Error("invalid code length: "+i);return t.f=s>>i,t.d=n-i,t.a=a,65535&r}function T(t,e){var r,i;switch(this.input=t,this.a=0,!e&&(e={})||(e.index&&(this.a=e.index),e.verify&&(this.A=e.verify)),r=t[this.a++],i=t[this.a++],15&r){case N:this.method=N;break;default:throw Error("unsupported compression method")}if(0!=((r<<8)+i)%31)throw Error("invalid fcheck flag:"+((r<<8)+i)%31);if(32&i)throw Error("fdict flag is not supported");this.q=new n(t,{index:this.a,bufferSize:e.bufferSize,bufferType:e.bufferType,resize:e.resize})}n.prototype.j=function(t,e){var r=this.c,i=this.b;this.o=t;for(var s,n,o,a,f=r.length-258;256!==(s=j(this,t));)if(256>s)i>=f&&(this.b=i,r=this.e(),i=this.b),r[i++]=s;else for(a=c[n=s-257],0<v[n]&&(a+=S(this,v[n])),s=j(this,e),o=b[s],0<A[s]&&(o+=S(this,A[s])),i>=f&&(this.b=i,r=this.e(),i=this.b);a--;)r[i]=r[i++-o];for(;8<=this.d;)this.d-=8,this.a--;this.b=i},n.prototype.w=function(t,e){var r=this.c,i=this.b;this.o=t;for(var s,n,o,a,f=r.length;256!==(s=j(this,t));)if(256>s)i>=f&&(f=(r=this.e()).length),r[i++]=s;else for(a=c[n=s-257],0<v[n]&&(a+=S(this,v[n])),s=j(this,e),o=b[s],0<A[s]&&(o+=S(this,A[s])),i+a>f&&(f=(r=this.e()).length);a--;)r[i]=r[i++-o];for(;8<=this.d;)this.d-=8,this.a--;this.b=i},n.prototype.e=function(){var t,e,r=new(i?Uint8Array:Array)(this.b-32768),s=this.b-32768,n=this.c;if(i)r.set(n.subarray(32768,r.length));else for(t=0,e=r.length;t<e;++t)r[t]=n[t+32768];if(this.g.push(r),this.l+=r.length,i)n.set(n.subarray(s,s+32768));else for(t=0;32768>t;++t)n[t]=n[s+t];return this.b=32768,n},n.prototype.z=function(t){var e,r,s,n=this.input.length/this.a+1|0,o=this.input,a=this.c;return t&&("number"==typeof t.p&&(n=t.p),"number"==typeof t.u&&(n+=t.u)),2>n?r=(s=(o.length-this.a)/this.o[2]/2*258|0)<a.length?a.length+s:a.length<<1:r=a.length*n,i?(e=new Uint8Array(r)).set(a):e=a,this.c=e},n.prototype.n=function(){var t,e,r,s,n,o=0,a=this.c,f=this.g,h=new(i?Uint8Array:Array)(this.l+(this.b-32768));if(0===f.length)return i?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(e=0,r=f.length;e<r;++e)for(s=0,n=(t=f[e]).length;s<n;++s)h[o++]=t[s];for(e=32768,r=this.b;e<r;++e)h[o++]=a[e];return this.g=[],this.buffer=h},n.prototype.v=function(){var t,e=this.b;return i?this.r?(t=new Uint8Array(e)).set(this.c.subarray(0,e)):t=this.c.subarray(0,e):(this.c.length>e&&(this.c.length=e),t=this.c),this.buffer=t},T.prototype.k=function(){var t,e,r=this.input;if(t=this.q.k(),this.a=this.q.a,this.A){e=(r[this.a++]<<24|r[this.a++]<<16|r[this.a++]<<8|r[this.a++])>>>0;var i=t;if("string"==typeof i){var s,n,o=i.split("");for(s=0,n=o.length;s<n;s++)o[s]=(255&o[s].charCodeAt(0))>>>0;i=o}for(var a,f=1,h=0,l=i.length,u=0;0<l;){l-=a=1024<l?1024:l;do{h+=f+=i[u++]}while(--a);f%=65521,h%=65521}if(e!==(h<<16|f)>>>0)throw Error("invalid adler-32 checksum")}return t};var N=8;r("Zlib.Inflate",T),r("Zlib.Inflate.prototype.decompress",T.prototype.k);var I,B,F,D,M={ADAPTIVE:f.s,BLOCK:f.t};if(Object.keys)I=Object.keys(M);else for(B in I=[],F=0,M)I[F++]=B;for(F=0,D=I.length;F<D;++F)r("Zlib.Inflate.BufferType."+(B=I[F]),M[B])}).call(this)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=[],r=0;r<t.length;r+=32768)e.push(String.fromCharCode.apply(null,t.subarray(r,r+32768)));return e.join("")}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(27),s=function(t,e){this.videoSize={width:0,height:0},this.images={},this.dynamicElements={},this.sprites=[],this.version=t.version,this.videoSize.width=t.params.viewBoxWidth||0,this.videoSize.height=t.params.viewBoxHeight||0,this.FPS=t.params.fps||20,this.frames=t.params.frames||0,t.sprites instanceof Array&&(this.sprites=t.sprites.map(function(t){return new i.default(t)})),e&&(this.images=e)};e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(28),s=function(t){this.frames=[],this.imageKey=t.imageKey,t.frames&&(this.frames=t.frames.map(function(t){return new i.default(t)}))};e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(29),s=function(t,e,r,i,s,n){return{a:t,b:e,c:r,d:i,tx:s,ty:n}},n=function(t,e,r,i){return{x:t,y:e,width:r,height:i}},o=function(){function t(e){this.alpha=0,this.transform=s(1,0,0,1,0,0),this.nx=0,this.ny=0,this.layout=n(0,0,0,0),this.shapes=[],this.alpha=parseFloat(e.alpha)||0,e.layout&&(this.layout=n(parseFloat(e.layout.x)||0,parseFloat(e.layout.y)||0,parseFloat(e.layout.width)||0,parseFloat(e.layout.height)||0)),e.transform&&(this.transform=s(parseFloat(e.transform.a)||1,parseFloat(e.transform.b)||0,parseFloat(e.transform.c)||0,parseFloat(e.transform.d)||1,parseFloat(e.transform.tx)||0,parseFloat(e.transform.ty)||0)),e.clipPath&&e.clipPath.length>0&&(this.maskPath=new i.default(e.clipPath,void 0,{fill:"#000000"})),e.shapes&&(e.shapes instanceof Array&&e.shapes.forEach(function(t){switch(t.pathArgs=t.args,t.type){case 0:t.type="shape",t.pathArgs=t.shape;break;case 1:t.type="rect",t.pathArgs=t.rect;break;case 2:t.type="ellipse",t.pathArgs=t.ellipse;break;case 3:t.type="keep"}if(t.styles){t.styles.fill&&("number"==typeof t.styles.fill.r&&(t.styles.fill[0]=t.styles.fill.r),"number"==typeof t.styles.fill.g&&(t.styles.fill[1]=t.styles.fill.g),"number"==typeof t.styles.fill.b&&(t.styles.fill[2]=t.styles.fill.b),"number"==typeof t.styles.fill.a&&(t.styles.fill[3]=t.styles.fill.a)),t.styles.stroke&&("number"==typeof t.styles.stroke.r&&(t.styles.stroke[0]=t.styles.stroke.r),"number"==typeof t.styles.stroke.g&&(t.styles.stroke[1]=t.styles.stroke.g),"number"==typeof t.styles.stroke.b&&(t.styles.stroke[2]=t.styles.stroke.b),"number"==typeof t.styles.stroke.a&&(t.styles.stroke[3]=t.styles.stroke.a));var e=t.styles.lineDash||[];switch(t.styles.lineDashI>0&&e.push(t.styles.lineDashI),t.styles.lineDashII>0&&(e.length<1&&e.push(0),e.push(t.styles.lineDashII),e.push(0)),t.styles.lineDashIII>0&&(e.length<2&&(e.push(0),e.push(0)),e[2]=t.styles.lineDashIII),t.styles.lineDash=e,t.styles.lineJoin){case 0:t.styles.lineJoin="miter";break;case 1:t.styles.lineJoin="round";break;case 2:t.styles.lineJoin="bevel"}switch(t.styles.lineCap){case 0:t.styles.lineCap="butt";break;case 1:t.styles.lineCap="round";break;case 2:t.styles.lineCap="square"}}}),e.shapes[0]&&"keep"===e.shapes[0].type?this.shapes=t.lastShapes:(t.lastShapes=e.shapes,this.shapes=e.shapes));var r=this.transform.a*this.layout.x+this.transform.c*this.layout.y+this.transform.tx,o=this.transform.a*(this.layout.x+this.layout.width)+this.transform.c*this.layout.y+this.transform.tx,a=this.transform.a*this.layout.x+this.transform.c*(this.layout.y+this.layout.height)+this.transform.tx,f=this.transform.a*(this.layout.x+this.layout.width)+this.transform.c*(this.layout.y+this.layout.height)+this.transform.tx,h=this.transform.b*this.layout.x+this.transform.d*this.layout.y+this.transform.ty,l=this.transform.b*(this.layout.x+this.layout.width)+this.transform.d*this.layout.y+this.transform.ty,u=this.transform.b*this.layout.x+this.transform.d*(this.layout.y+this.layout.height)+this.transform.ty,p=this.transform.b*(this.layout.x+this.layout.width)+this.transform.d*(this.layout.y+this.layout.height)+this.transform.ty;this.nx=Math.min(Math.min(a,f),Math.min(r,o)),this.ny=Math.min(Math.min(u,p),Math.min(h,l))}return t.lastShapes="",t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,r){this._d=t,this._transform=e,this._styles=r};e.default=i}]);',Parser=function(){function Parser(_a){var disableWorker=(void 0===_a?{disableWorker:!1}:_a).disableWorker;disableWorker?(eval(WORKER),this.worker=window.SVGAParserMockWorker):this.worker=new Worker(window.URL.createObjectURL(new Blob([WORKER])))}return Parser.prototype.do=function(t){var e=this,r=new Uint8Array(t,0,4);if(80==r[0]&&75==r[1]&&3==r[2]&&4==r[3])throw"this parser not support version@1.x of svga.";if(!t)throw new Error("Parser Data not found");if(!this.worker)throw new Error("Parser Worker not found");return new Promise((function(r,n){var i;e.worker.disableWorker?((i=e.worker).onmessageCallback=function(t){r(t)},i.onmessage({data:t})):((i=e.worker).postMessage(t),i.onmessage=function(t){var e=t.data;r(e)})}))},Parser.prototype.destroy=function(){var t=this.worker;t.terminate&&t.terminate()},Parser}();exports.default=Parser},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n,i,o,a=r(5),s=r(9);!function(t){t.START="start",t.PROCESS="process",t.PAUSE="pause",t.STOP="stop",t.END="end",t.CLEAR="clear"}(n||(n={})),function(t){t.FORWARDS="forwards",t.BACKWARDS="backwards"}(i||(i={})),function(t){t.FORWARDS="forwards",t.FALLBACKS="fallbacks"}(o||(o={}));var l=function(){function t(t,e,r){if(this.videoItem=e,this.loop=!0,this.fillMode=i.FORWARDS,this.playMode=o.FORWARDS,this.progress=0,this.currentFrame=0,this.totalFramesCount=0,this.startFrame=0,this.endFrame=0,this.cacheFrames=!1,this.intersectionObserverRender=!1,this.intersectionObserverRenderShow=!0,this._intersectionObserver=null,this.$onEvent={start:function(){},process:function(){},pause:function(){},stop:function(){},end:function(){},clear:function(){}},this.container="string"==typeof t?document.body.querySelector(t):t,!this.container)throw new Error("container undefined.");if(!this.container.getContext)throw new Error("container should be HTMLCanvasElement.");this._renderer=new a.default(this),this._animator=new s.default,this.videoItem&&this.mount(e),r&&this.set(r)}return t.prototype.set=function(t){var e=this;void 0!==t.loop&&(this.loop=t.loop),t.fillMode&&(this.fillMode=t.fillMode),t.playMode&&(this.playMode=t.playMode),void 0!==t.cacheFrames&&(this.cacheFrames=t.cacheFrames),this.startFrame=t.startFrame?t.startFrame:this.startFrame,this.endFrame=t.endFrame?t.endFrame:this.endFrame,void 0!==t.intersectionObserverRender&&(this.intersectionObserverRender=t.intersectionObserverRender),IntersectionObserver&&this.intersectionObserverRender?(this._intersectionObserver=new IntersectionObserver((function(t){t[0].intersectionRatio<=0?e.intersectionObserverRenderShow&&(e.intersectionObserverRenderShow=!1):!e.intersectionObserverRenderShow&&(e.intersectionObserverRenderShow=!0)}),{rootMargin:"0px",threshold:[0,.5,1]}),this._intersectionObserver.observe(this.container)):(this._intersectionObserver&&this._intersectionObserver.disconnect(),this.intersectionObserverRender=!1,this.intersectionObserverRenderShow=!0),this._animator.noExecutionDelay=t.noExecutionDelay},t.prototype.mount=function(t){var e=this;return new Promise((function(r,n){e.currentFrame=0,e.progress=0,e.totalFramesCount=t.frames-1,e.videoItem=t,e._renderer.prepare().then(r),e._renderer.clear(),e._setSize()}))},t.prototype.start=function(){if(!this.videoItem)throw new Error("video item undefined.");this._renderer.clear(),this._startAnimation(),this.$onEvent.start()},t.prototype.pause=function(){this._animator&&this._animator.stop(),this.$onEvent.pause()},t.prototype.stop=function(){this._animator&&this._animator.stop(),this.currentFrame=0,this._renderer.drawFrame(this.currentFrame),this.$onEvent.stop()},t.prototype.clear=function(){this._animator&&this._animator.stop(),this._renderer.clear(),this.$onEvent.clear()},t.prototype.destroy=function(){this._animator&&this._animator.stop(),this._renderer.clear(),this._animator=null,this._renderer=null,this.videoItem=null},t.prototype.$on=function(t,e){var r=this;return this.$onEvent[t]=e,"end"===t&&(this._animator.onEnd=function(){return r.$onEvent.end()}),this},t.prototype._startAnimation=function(){var t=this,e=this,r=e.playMode,n=e.totalFramesCount,i=e.startFrame,o=e.endFrame,a=e.videoItem;this.currentFrame===n&&(this.currentFrame=i||0),this._animator.startValue="fallbacks"===r?o||n:i||0,this._animator.endValue="fallbacks"===r?i||0:o||n;var s=a.frames;o>0&&o>i?s=o-i:o<=0&&i>0&&(s=a.frames-i),this._animator.duration=s*(1/a.FPS)*1e3,this._animator.loop=!0===this.loop||this.loop<=0?1/0:!1===this.loop?1:this.loop,this._animator.fillRule="backwards"===this.fillMode?1:0,this._animator.onUpdate=function(e){e=Math.floor(e),t.currentFrame!==e&&(t.currentFrame=e,t.progress=parseFloat((e+1).toString())/parseFloat(a.frames.toString())*100,t._renderer.drawFrame(t.currentFrame),t.$onEvent.process())},this._animator.start(this.currentFrame)},t.prototype._setSize=function(){var t=this.videoItem.videoSize;this.container.width=t.width,this.container.height=t.height},t}();e.default=l},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),i=function(){function t(t){this._bitmapCache={},this._dynamicElements={},this._frames={},this._player=t;var e=this._player.container;this._ofsCanvas=window.OffscreenCanvas?new window.OffscreenCanvas(e.width,e.height):document.createElement("canvas")}return t.prototype.prepare=function(){var t=this;return new Promise((function(e,r){if(t._bitmapCache={},t._player.videoItem.images&&0!=Object.keys(t._player.videoItem.images).length){t._player.videoItem.dynamicElements&&(t._dynamicElements=t._player.videoItem.dynamicElements);var n=0,i=0;for(var o in t._player.videoItem.images){var a=t._player.videoItem.images[o];if("string"!=typeof a||0!==a.indexOf("iVBO")&&0!==a.indexOf("/9j/2w"))t._bitmapCache[o]=a;else{n++;var s=document.createElement("img");s.src="data:image/png;base64,"+a,t._bitmapCache[o]=s,s.onload=function(){++i===n&&e()}}}}else e()}))},t.prototype.clear=function(){this._player.container.width=this._player.container.width},t.prototype.drawFrame=function(t){var e=this._player;if(!e.intersectionObserverRender||e.intersectionObserverRenderShow){this.clear();var r=e.container.getContext("2d");if(this._player.cacheFrames&&this._frames[t]){var i=this._frames[t];r.drawImage(i,0,0,i.width,i.height,0,0,i.width,i.height)}else{var o=this._ofsCanvas;if(o.width=this._player.container.width,o.height=this._player.container.height,n.default(o,this._bitmapCache,this._dynamicElements,this._player.videoItem,this._player.currentFrame),r.drawImage(o,0,0,o.width,o.height,0,0,o.width,o.height),this._player.cacheFrames)if("toDataURL"in o){var a=o.toDataURL(),s=new Image;s.src=a,this._frames[t]=s}else this._frames[t]=o.transferToImageBitmap()}}},t}();e.default=i},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r(0)),i=a(r(7)),o=a(r(8));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var r=e._styles;void 0!==r&&(r&&r.stroke?t.strokeStyle="rgba(".concat(parseInt((255*r.stroke[0]).toString()),", ").concat(parseInt((255*r.stroke[1]).toString()),", ").concat(parseInt((255*r.stroke[2]).toString()),", ").concat(r.stroke[3],")"):t.strokeStyle="transparent",r&&(t.lineWidth=r.strokeWidth||void 0,t.lineCap=r.lineCap||void 0,t.lineJoin=r.lineJoin||void 0,t.miterLimit=r.miterLimit||void 0),r&&r.fill?t.fillStyle="rgba(".concat(parseInt((255*r.fill[0]).toString()),", ").concat(parseInt((255*r.fill[1]).toString()),", ").concat(parseInt((255*r.fill[2]).toString()),", ").concat(r.fill[3],")"):t.fillStyle="transparent",r&&r.lineDash&&t.setLineDash(r.lineDash))}function l(t,e){t.save(),s(t,e),void 0!==e._transform&&null!==e._transform&&t.transform(e._transform.a||1,e._transform.b||0,e._transform.c||0,e._transform.d||1,e._transform.tx||0,e._transform.ty||0);var r={x:0,y:0,x1:0,y1:0,x2:0,y2:0};t.beginPath(),e._d.replace(/([a-zA-Z])/g,"|||$1 ").replace(/,/g," ").split("|||").forEach((function(e){if(0!=e.length){var n=e.substr(0,1);if("MLHVCSQRZmlhvcsqrz".indexOf(n)>=0){var i=e.substr(1).trim().split(" ");!function(t,e,r,n){switch(r){case"M":e.x=Number(n[0]),e.y=Number(n[1]),t.moveTo(e.x,e.y);break;case"m":e.x+=Number(n[0]),e.y+=Number(n[1]),t.moveTo(e.x,e.y);break;case"L":e.x=Number(n[0]),e.y=Number(n[1]),t.lineTo(e.x,e.y);break;case"l":e.x+=Number(n[0]),e.y+=Number(n[1]),t.lineTo(e.x,e.y);break;case"H":e.x=Number(n[0]),t.lineTo(e.x,e.y);break;case"h":e.x+=Number(n[0]),t.lineTo(e.x,e.y);break;case"V":e.y=Number(n[0]),t.lineTo(e.x,e.y);break;case"v":e.y+=Number(n[0]),t.lineTo(e.x,e.y);break;case"C":e.x1=Number(n[0]),e.y1=Number(n[1]),e.x2=Number(n[2]),e.y2=Number(n[3]),e.x=Number(n[4]),e.y=Number(n[5]),t.bezierCurveTo(e.x1,e.y1,e.x2,e.y2,e.x,e.y);break;case"c":e.x1=e.x+Number(n[0]),e.y1=e.y+Number(n[1]),e.x2=e.x+Number(n[2]),e.y2=e.y+Number(n[3]),e.x+=Number(n[4]),e.y+=Number(n[5]),t.bezierCurveTo(e.x1,e.y1,e.x2,e.y2,e.x,e.y);break;case"S":e.x1&&e.y1&&e.x2&&e.y2?(e.x1=e.x-e.x2+e.x,e.y1=e.y-e.y2+e.y,e.x2=Number(n[0]),e.y2=Number(n[1]),e.x=Number(n[2]),e.y=Number(n[3]),t.bezierCurveTo(e.x1,e.y1,e.x2,e.y2,e.x,e.y)):(e.x1=Number(n[0]),e.y1=Number(n[1]),e.x=Number(n[2]),e.y=Number(n[3]),t.quadraticCurveTo(e.x1,e.y1,e.x,e.y));break;case"s":e.x1&&e.y1&&e.x2&&e.y2?(e.x1=e.x-e.x2+e.x,e.y1=e.y-e.y2+e.y,e.x2=e.x+Number(n[0]),e.y2=e.y+Number(n[1]),e.x+=Number(n[2]),e.y+=Number(n[3]),t.bezierCurveTo(e.x1,e.y1,e.x2,e.y2,e.x,e.y)):(e.x1=e.x+Number(n[0]),e.y1=e.y+Number(n[1]),e.x+=Number(n[2]),e.y+=Number(n[3]),t.quadraticCurveTo(e.x1,e.y1,e.x,e.y));break;case"Q":e.x1=Number(n[0]),e.y1=Number(n[1]),e.x=Number(n[2]),e.y=Number(n[3]),t.quadraticCurveTo(e.x1,e.y1,e.x,e.y);break;case"q":e.x1=e.x+Number(n[0]),e.y1=e.y+Number(n[1]),e.x+=Number(n[2]),e.y+=Number(n[3]),t.quadraticCurveTo(e.x1,e.y1,e.x,e.y);break;case"A":case"a":break;case"Z":case"z":t.closePath()}}(t,r,n,i)}}})),e._styles&&e._styles.fill?t.fill():e._styles&&e._styles.stroke&&t.stroke(),t.restore()}e.default=function(t,e,r,a,h){var u=t.getContext("2d");return a.sprites.forEach((function(t){var a=t.frames[h];if(!(a.alpha<.05)){u.save(),u.globalAlpha=a.alpha,u.transform(a.transform.a||1,a.transform.b||0,a.transform.c||0,a.transform.d||1,a.transform.tx||0,a.transform.ty||0);var c=e[t.imageKey];c&&(void 0!==a.maskPath&&null!==a.maskPath&&(a.maskPath._styles=void 0,l(u,a.maskPath),u.clip()),u.drawImage(c,0,0));var f=r[t.imageKey];f&&u.drawImage(f,(a.layout.width-f.width)/2,(a.layout.height-f.height)/2),a.shapes&&a.shapes.forEach((function(t){"shape"===t.type&&t.pathArgs&&t.pathArgs.d?l(u,new n.default(t.pathArgs.d,t.transform,t.styles)):"ellipse"===t.type&&t.pathArgs?function(t,e){t.save(),s(t,e),void 0!==e._transform&&null!==e._transform&&t.transform(e._transform.a||1,e._transform.b||0,e._transform.c||0,e._transform.d||1,e._transform.tx||0,e._transform.ty||0);var r=e._x-e._radiusX,n=e._y-e._radiusY,i=2*e._radiusX,o=2*e._radiusY,a=i/2*.5522848,l=o/2*.5522848,h=r+i,u=n+o,c=r+i/2,f=n+o/2;t.beginPath(),t.moveTo(r,f),t.bezierCurveTo(r,f-l,c-a,n,c,n),t.bezierCurveTo(c+a,n,h,f-l,h,f),t.bezierCurveTo(h,f+l,c+a,u,c,u),t.bezierCurveTo(c-a,u,r,f+l,r,f),e._styles&&e._styles.fill?t.fill():e._styles&&e._styles.stroke&&t.stroke(),t.restore()}(u,new i.default(parseFloat(t.pathArgs.x)||0,parseFloat(t.pathArgs.y)||0,parseFloat(t.pathArgs.radiusX)||0,parseFloat(t.pathArgs.radiusY)||0,t.transform,t.styles)):"rect"===t.type&&t.pathArgs&&function(t,e){t.save(),s(t,e),void 0!==e._transform&&null!==e._transform&&t.transform(e._transform.a||1,e._transform.b||0,e._transform.c||0,e._transform.d||1,e._transform.tx||0,e._transform.ty||0);var r=e._x,n=e._y,i=e._width,o=e._height,a=e._cornerRadius;i<2*a&&(a=i/2),o<2*a&&(a=o/2),t.beginPath(),t.moveTo(r+a,n),t.arcTo(r+i,n,r+i,n+o,a),t.arcTo(r+i,n+o,r,n+o,a),t.arcTo(r,n+o,r,n,a),t.arcTo(r,n,r+i,n,a),t.closePath(),e._styles&&e._styles.fill?t.fill():e._styles&&e._styles.stroke&&t.stroke(),t.restore()}(u,new o.default(parseFloat(t.pathArgs.x)||0,parseFloat(t.pathArgs.y)||0,parseFloat(t.pathArgs.width)||0,parseFloat(t.pathArgs.height)||0,parseFloat(t.pathArgs.cornerRadius)||0,t.transform,t.styles))})),u.restore()}})),t}},function(t,e,r){var n,i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,n,i,o,a){var s=t.call(this)||this;return s._x=e,s._y=r,s._radiusX=n,s._radiusY=i,s._transform=o,s._styles=a,s}return i(e,t),e}(r(0).default);e.default=o},function(t,e,r){var n,i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,n,i,o,a,s){var l=t.call(this)||this;return l._x=e,l._y=r,l._width=n,l._height=i,l._cornerRadius=o,l._transform=a,l._styles=s,l}return i(e,t),e}(r(0).default);e.default=o},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this._currentTimeMillsecond=function(){return"undefined"==typeof performance?(new Date).getTime():performance.now()},this.noExecutionDelay=!1,this.startValue=0,this.endValue=0,this.duration=0,this.loop=1,this.fillRule=0,this.onStart=function(){},this.onUpdate=function(){},this.onEnd=function(){},this._isRunning=!1,this._mStartTime=0,this._currentFrication=0,this._worker=null}return t.prototype.start=function(t){this.doStart(t)},t.prototype.stop=function(){this._doStop()},Object.defineProperty(t.prototype,"animatedValue",{get:function(){return(this.endValue-this.startValue)*this._currentFrication+this.startValue},enumerable:!0,configurable:!0}),t.prototype.doStart=function(t){this._isRunning=!0,this._mStartTime=this._currentTimeMillsecond(),t&&(this._mStartTime-=t/(this.endValue-this.startValue)*this.duration),this._currentFrication=0,this.noExecutionDelay&&null===this._worker&&(this._worker=new Worker(window.URL.createObjectURL(new Blob(["onmessage = function () {\n  setTimeout(function() {postMessage(null)}, 1 / 60)\n}"])))),this.onStart(),this._doFrame()},t.prototype._doStop=function(){this._isRunning=!1,null!==this._worker&&(this._worker.terminate(),this._worker=null)},t.prototype._doFrame=function(){this._isRunning&&(this._doDeltaTime(this._currentTimeMillsecond()-this._mStartTime),this._isRunning&&(this._worker?(this._worker.onmessage=this._doFrame.bind(this),this._worker.postMessage(null)):window.requestAnimationFrame(this._doFrame.bind(this))))},t.prototype._doDeltaTime=function(t){t>=this.duration*this.loop?(this._currentFrication=1===this.fillRule?0:1,this._isRunning=!1):this._currentFrication=t%this.duration/this.duration,this.onUpdate(this.animatedValue),!1===this._isRunning&&(null!==this._worker&&(this._worker.terminate(),this._worker=null),this.onEnd())},t}();e.default=n}]).default},module.exports=t()})),disableWorker=!!window.svga_parser_disable_worker,cache={},loadings={},loaderCache=[];function loadSvga(t,e,r,n){return void 0===n&&(n=!1),__awaiter(this,void 0,void 0,(function(){var i,o,a,s,l,h,u,c,f,p;return __generator(this,(function(d){switch(d.label){case 0:return i=[],"string"!=typeof t?[3,2]:(a=(o=i).push,[4,loadSvgaOnce(t).then((function(t){try{e&&e(1,1),r&&r()}catch(t){console.warn(t)}return t}))]);case 1:return a.apply(o,[d.sent()]),[3,8];case 2:return s=t.length,l=0,n?[4,Promise.all(t.map((function(t){return loadSvgaOnce(t).then((function(t){try{l++,e&&e(l,s),l>=s&&r&&r()}catch(t){console.warn(t)}return t}))})))]:[3,4];case 3:return i=d.sent(),[3,8];case 4:h=0,u=t,d.label=5;case 5:return h<u.length?(c=u[h],p=(f=i).push,[4,loadSvgaOnce(c).then((function(t){try{l++,e&&e(l,s),l>=s&&r&&r()}catch(t){console.warn(t)}return t}))]):[3,8];case 6:p.apply(f,[d.sent()]),d.label=7;case 7:return h++,[3,5];case 8:return[2,i]}}))}))}function loadSvgaOnce(t){return __awaiter(this,void 0,void 0,(function(){var e,r,n,i;return __generator(this,(function(o){switch(o.label){case 0:return(e=cache[t])?[3,3]:(r=loadings[t])?[3,2]:(r=loadings[t]=[],[4,doLoadSvga(t)]);case 1:for(e=o.sent(),cache[t]=e,delete loadings[t],n=0,i=r;n<i.length;n++)(0,i[n].resolve)(e);return[3,3];case 2:return[2,new Promise((function(t,e){r.push({resolve:t,reject:e})}))];case 3:return[2,e]}}))}))}function doLoadSvga(t){return __awaiter(this,void 0,void 0,(function(){var e,r,n,i,o,a,s,l,h,u,c;return __generator(this,(function(f){switch(f.label){case 0:return e=loaderCache.length>0?loaderCache.pop():{downloader:new svga_lite_min.Downloader,parser:new svga_lite_min.Parser({disableWorker:disableWorker})},r=e.downloader,n=e.parser,[4,r.get(t)];case 1:return i=f.sent(),[4,n.do(i)];case 2:for(o=f.sent(),a=0,s=o.sprites;a<s.length;a++)for(l=s[a].frames,h=0,u=l;h<u.length;h++)(c=u[h].transform)._tx=c.tx,c._ty=c.ty;return loaderCache.push(e),[2,o]}}))}))}function svgaLoader(t,e,r){loadSvgaOnce(e).then((function(e){t(!0,e)}),(function(e){t(!1,e)}))}function Svga(t,e){var r=t.src,n=t.autoPlay,i=void 0===n||n,o=t.preview,a=void 0===o||o,s=t.loop,l=void 0===s?0:s,h=t.playMode,u=void 0===h?"forwards":h,c=t.fillMode,f=void 0===c?"forwards":c,p=t.startFrame,d=void 0===p?1:p,m=t.endFrame,v=void 0===m?0:m,y=t.className,g=t.style,_=t.onGotPlayer,b=t.onVideoDidMount,x=t.onError,w=t.onStart,T=t.onPause,S=t.onStop,E=t.onEnd,M=t.onClear,C=t.onProcess,A=t.onClick,P=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),k=P[0],O=P[1],D=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),I=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1);function R(t){var e=t||k;e&&e.set({loop:l,playMode:u,fillMode:f,startFrame:d,endFrame:v}),I.current&&e&&e.videoItem&&(e.pause(),e.start())}function F(){return __awaiter(this,void 0,void 0,(function(){var t,e,n,o;return __generator(this,(function(s){switch(s.label){case 0:k?t=k:(t=new svga_lite_min.Player(D.current),O(t),t.$on("start",(function(){I.current=!0,w&&w()})).$on("pause",(function(){I.current=!1,T&&T()})).$on("stop",(function(){I.current=!1,S&&S()})).$on("end",(function(){I.current=!1,E&&E()})).$on("clear",(function(){I.current=!1,M&&M()})).$on("process",(function(){C&&C(t.currentFrame,t.progress)}))),_&&_(t),s.label=1;case 1:return s.trys.push([1,4,,5]),t.clear(),R(t),[4,loadSvgaOnce(r)];case 2:return e=s.sent(),n=JSON.parse(JSON.stringify(e)),[4,t.mount(n)];case 3:return s.sent(),b&&b(t),i?t.start():a&&t._renderer.drawFrame(d),[3,5];case 4:return o=s.sent(),console.error(o),x&&x(o),[3,5];case 5:return[2]}}))}))}return Object(react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(e,(function(){return{getPlayer:function(){return k},start:function(){k&&k.videoItem&&k.start()},pause:function(){k&&k.videoItem&&k.pause()},stop:function(){k&&k.videoItem&&k.stop()},clear:function(){k&&k.videoItem&&k.clear()},reset:function(){F()},replaceImage:function(t,e){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(n){switch(n.label){case 0:return k&&k.videoItem?(r=void 0,"string"!=typeof e?[3,2]:[4,Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.f)(e)]):[3,4];case 1:return r=n.sent(),[3,3];case 2:r=e,n.label=3;case 3:return k._renderer._bitmapCache[t]=r,[2,r];case 4:return[2]}}))}))},addImage:function(t,e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,l,h,u,c,f,p,d;return __generator(this,(function(m){switch(m.label){case 0:return k&&k.videoItem?((n=k.videoItem).sprites.forEach((function(r,n){r.imageKey===t&&(i=r,a=n),r.imageKey===e&&(o=r)})),i?o?(console.warn("节点["+e+"]已存在"),[3,3]):[3,1]:(console.warn("父节点["+t+"]不存在"),[2])):[3,3];case 1:return[4,this.replaceImage(e,r)];case 2:for(s=m.sent(),l=JSON.parse(JSON.stringify(i.frames)),h=0,u=l;h<u.length;h++)c=u[h],f=c.layout,p=c.transform,f.width=s.width,f.height=s.height,p._tx=p.tx,p._ty=p.ty;d={imageKey:e,frames:l},n.sprites.splice(a+1,0,d),m.label=3;case 3:return[2]}}))}))},removeImage:function(t){if(k&&k.videoItem){var e,r=k.videoItem;r.sprites.forEach((function(n,i){n.imageKey===t&&(e=n,r.sprites.splice(i,1))})),e||console.warn("节点["+t+"]不存在")}},setImageProps:function(t,e){if(void 0===e&&(e={}),k&&k.videoItem){var r;if(k.videoItem.sprites.forEach((function(e,n){e.imageKey===t&&(r=e)})),!r)return void console.warn("节点["+t+"]不存在");for(var n=e.offX,i=e.offY,o=e.alpha,a=e.visible,s=0,l=r.frames;s<l.length;s++){var h=l[s];void 0!==a&&(h.visible=a),void 0!==o&&(h.alpha=o);var u=h.transform;void 0!==n&&(u.tx=u._tx+n),void 0!==i&&(u.ty=u._ty+i)}}}}})),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){return function(){k&&k.clear()}}),[k]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){F()}),[r]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){R()}),[l,u,f,d,v]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var t=k;I.current&&t&&t.videoItem&&(t.pause(),t.start())}),[u,f]),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("canvas",{className:y,style:g,ref:D,onClick:function(t){A&&A(t)}})}var SvgaPlayer=Object(react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(Svga)},GRuw:function(t,e,r){var n,i,o,a,s,l;t.exports=(l=r("Ib8C"),r("lPiR"),i=(n=l).lib.WordArray,o=n.algo,a=o.SHA256,s=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=4,t}}),n.SHA224=a._createHelper(s),n.HmacSHA224=a._createHmacHelper(s),l.SHA224)},HlzF:function(t,e,r){(function(r){var n;
/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var t=this||o;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||o;if(t=parseFloat(t),e.ctx||p(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,o.ctx.currentTime);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var n=e._howls[r]._getSoundIds(),i=0;i<n.length;i++){var a=e._howls[r]._soundById(n[i]);a&&a._node&&(a._node.volume=a._volume*t)}return e}return e._volume},mute:function(t){var e=this||o;e.ctx||p(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,o.ctx.currentTime);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var n=e._howls[r]._getSoundIds(),i=0;i<n.length;i++){var a=e._howls[r]._soundById(n[i]);a&&a._node&&(a._node.muted=!!t||a._muted)}return e},stop:function(){for(var t=this||o,e=0;e<t._howls.length;e++)t._howls[e].stop();return t},unload:function(){for(var t=this||o,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,p()),t},codecs:function(t){return(this||o)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||o;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||o,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var r=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n=t._navigator?t._navigator.userAgent:"",i=n.match(/OPR\/([0-6].)/g),a=i&&parseInt(i[0].split("/")[1],10)<33,s=-1!==n.indexOf("Safari")&&-1===n.indexOf("Chrome"),l=n.match(/Version\/(.*?) /),h=s&&l&&parseInt(l[1],10)<15;return t._codecs={mp3:!(a||!r&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(e.canPlayType('audio/wav; codecs="1"')||e.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(e.canPlayType("audio/x-m4b;")||e.canPlayType("audio/m4b;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(h||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(h||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||o;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(r){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var n=new Audio;n._unlocked=!0,t._releaseHtml5Audio(n)}catch(r){t.noAudio=!0;break}for(var i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var o=t._howls[i]._getSoundIds(),a=0;a<o.length;a++){var s=t._howls[i]._soundById(o[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}t._autoResume();var l=t.ctx.createBufferSource();l.buffer=t._scratchBuffer,l.connect(t.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),l.onended=function(){l.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0),document.removeEventListener("keydown",e,!0);for(var r=0;r<t._howls.length;r++)t._howls[r]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),document.addEventListener("keydown",e,!0),t}},_obtainHtml5Audio:function(){var t=this||o;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var e=this||o;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&o.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var r=0;r<t._howls[e]._sounds.length;r++)if(!t._howls[e]._sounds[r]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&o.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var o=new i,a=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(t){var e=this;return o.ctx||p(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=o.usingWebAudio&&!e._html5,void 0!==o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&"none"!==e._preload&&e.load(),e},load:function(){var t=null;if(o.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var e=0;e<this._src.length;e++){var r,n;if(this._format&&this._format[e])r=this._format[e];else{if("string"!=typeof(n=this._src[e])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(n))||(r=/\.([^.]+)$/.exec(n.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&o.codecs(r)){t=this._src[e];break}}if(t)return this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&h(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var r=this,n=null;if("number"==typeof t)n=t,t=null;else{if("string"==typeof t&&"loaded"===r._state&&!r._sprite[t])return null;if(void 0===t&&(t="__default",!r._playLock)){for(var i=0,a=0;a<r._sounds.length;a++)r._sounds[a]._paused&&!r._sounds[a]._ended&&(i++,n=r._sounds[a]._id);1===i?t=null:n=null}}var s=n?r._soundById(n):r._inactiveSound();if(!s)return null;if(n&&!t&&(t=s._sprite||"__default"),"loaded"!==r._state){s._sprite=t,s._ended=!1;var l=s._id;return r._queue.push({event:"play",action:function(){r.play(l)}}),l}if(n&&!s._paused)return e||r._loadQueue("play"),s._id;r._webAudio&&o._autoResume();var h=Math.max(0,s._seek>0?s._seek:r._sprite[t][0]/1e3),u=Math.max(0,(r._sprite[t][0]+r._sprite[t][1])/1e3-h),c=1e3*u/Math.abs(s._rate),f=r._sprite[t][0]/1e3,p=(r._sprite[t][0]+r._sprite[t][1])/1e3;s._sprite=t,s._ended=!1;var d=function(){s._paused=!1,s._seek=h,s._start=f,s._stop=p,s._loop=!(!s._loop&&!r._sprite[t][2])};if(!(h>=p)){var m=s._node;if(r._webAudio){var v=function(){r._playLock=!1,d(),r._refreshBuffer(s);var t=s._muted||r._muted?0:s._volume;m.gain.setValueAtTime(t,o.ctx.currentTime),s._playStart=o.ctx.currentTime,void 0===m.bufferSource.start?s._loop?m.bufferSource.noteGrainOn(0,h,86400):m.bufferSource.noteGrainOn(0,h,u):s._loop?m.bufferSource.start(0,h,86400):m.bufferSource.start(0,h,u),c!==1/0&&(r._endTimers[s._id]=setTimeout(r._ended.bind(r,s),c)),e||setTimeout((function(){r._emit("play",s._id),r._loadQueue()}),0)};"running"===o.state&&"interrupted"!==o.ctx.state?v():(r._playLock=!0,r.once("resume",v),r._clearTimer(s._id))}else{var y=function(){m.currentTime=h,m.muted=s._muted||r._muted||o._muted||m.muted,m.volume=s._volume*o.volume(),m.playbackRate=s._rate;try{var n=m.play();if(n&&"undefined"!=typeof Promise&&(n instanceof Promise||"function"==typeof n.then)?(r._playLock=!0,d(),n.then((function(){r._playLock=!1,m._unlocked=!0,e?r._loadQueue():r._emit("play",s._id)})).catch((function(){r._playLock=!1,r._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):e||(r._playLock=!1,d(),r._emit("play",s._id)),m.playbackRate=s._rate,m.paused)return void r._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||s._loop?r._endTimers[s._id]=setTimeout(r._ended.bind(r,s),c):(r._endTimers[s._id]=function(){r._ended(s),m.removeEventListener("ended",r._endTimers[s._id],!1)},m.addEventListener("ended",r._endTimers[s._id],!1))}catch(t){r._emit("playerror",s._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=r._src,m.load());var g=window&&window.ejecta||!m.readyState&&o._navigator.isCocoonJS;if(m.readyState>=3||g)y();else{r._playLock=!0,r._state="loading";var _=function(){r._state="loaded",y(),m.removeEventListener(o._canPlayEvent,_,!1)};m.addEventListener(o._canPlayEvent,_,!1),r._clearTimer(s._id)}}return s._id}r._ended(s)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var r=e._getSoundIds(t),n=0;n<r.length;n++){e._clearTimer(r[n]);var i=e._soundById(r[n]);if(i&&!i._paused&&(i._seek=e.seek(r[n]),i._rateSeek=0,i._paused=!0,e._stopFade(r[n]),i._node))if(e._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),e._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||e._emit("pause",i?i._id:null)}return e},stop:function(t,e){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"stop",action:function(){r.stop(t)}}),r;for(var n=r._getSoundIds(t),i=0;i<n.length;i++){r._clearTimer(n[i]);var o=r._soundById(n[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,r._stopFade(n[i]),o._node&&(r._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),r._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&r._clearSound(o._node))),e||r._emit("stop",o._id))}return r},mute:function(t,e){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"mute",action:function(){r.mute(t,e)}}),r;if(void 0===e){if("boolean"!=typeof t)return r._muted;r._muted=t}for(var n=r._getSoundIds(e),i=0;i<n.length;i++){var a=r._soundById(n[i]);a&&(a._muted=t,a._interval&&r._stopFade(a._id),r._webAudio&&a._node?a._node.gain.setValueAtTime(t?0:a._volume,o.ctx.currentTime):a._node&&(a._node.muted=!!o._muted||t),r._emit("mute",a._id))}return r},volume:function(){var t,e,r,n=this,i=arguments;if(0===i.length)return n._volume;if(1===i.length||2===i.length&&void 0===i[1]){var a=n._getSoundIds(),s=a.indexOf(i[0]);s>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else i.length>=2&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if(!(void 0!==t&&t>=0&&t<=1))return(r=e?n._soundById(e):n._sounds[0])?r._volume:0;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,i)}}),n;void 0===e&&(n._volume=t),e=n._getSoundIds(e);for(var l=0;l<e.length;l++)(r=n._soundById(e[l]))&&(r._volume=t,i[2]||n._stopFade(e[l]),n._webAudio&&r._node&&!r._muted?r._node.gain.setValueAtTime(t,o.ctx.currentTime):r._node&&!r._muted&&(r._node.volume=t*o.volume()),n._emit("volume",r._id));return n},fade:function(t,e,r,n){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(t,e,r,n)}}),i;t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),r=parseFloat(r),i.volume(t,n);for(var a=i._getSoundIds(n),s=0;s<a.length;s++){var l=i._soundById(a[s]);if(l){if(n||i._stopFade(a[s]),i._webAudio&&!l._muted){var h=o.ctx.currentTime,u=h+r/1e3;l._volume=t,l._node.gain.setValueAtTime(t,h),l._node.gain.linearRampToValueAtTime(e,u)}i._startFadeInterval(l,t,e,r,a[s],void 0===n)}}return i},_startFadeInterval:function(t,e,r,n,i,o){var a=this,s=e,l=r-e,h=Math.abs(l/.01),u=Math.max(4,h>0?n/h:n),c=Date.now();t._fadeTo=r,t._interval=setInterval((function(){var i=(Date.now()-c)/n;c=Date.now(),s+=l*i,s=Math.round(100*s)/100,s=l<0?Math.max(r,s):Math.min(r,s),a._webAudio?t._volume=s:a.volume(s,t._id,!0),o&&(a._volume=s),(r<e&&s<=r||r>e&&s>=r)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,a.volume(r,t._id),a._emit("fade",t._id))}),u)},_stopFade:function(t){var e=this._soundById(t);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,t),e._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,r,n=this,i=arguments;if(0===i.length)return n._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(r=n._soundById(parseInt(i[0],10)))&&r._loop;t=i[0],n._loop=t}else 2===i.length&&(t=i[0],e=parseInt(i[1],10));for(var o=n._getSoundIds(e),a=0;a<o.length;a++)(r=n._soundById(o[a]))&&(r._loop=t,n._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=t,t&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop,n.playing(o[a])&&(n.pause(o[a],!0),n.play(o[a],!0)))));return n},rate:function(){var t,e,r,n=this,i=arguments;if(0===i.length)e=n._sounds[0]._id;else if(1===i.length){var a=n._getSoundIds(),s=a.indexOf(i[0]);s>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else 2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if("number"!=typeof t)return(r=n._soundById(e))?r._rate:n._rate;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,i)}}),n;void 0===e&&(n._rate=t),e=n._getSoundIds(e);for(var l=0;l<e.length;l++)if(r=n._soundById(e[l])){n.playing(e[l])&&(r._rateSeek=n.seek(e[l]),r._playStart=n._webAudio?o.ctx.currentTime:r._playStart),r._rate=t,n._webAudio&&r._node&&r._node.bufferSource?r._node.bufferSource.playbackRate.setValueAtTime(t,o.ctx.currentTime):r._node&&(r._node.playbackRate=t);var h=n.seek(e[l]),u=(n._sprite[r._sprite][0]+n._sprite[r._sprite][1])/1e3-h,c=1e3*u/Math.abs(r._rate);!n._endTimers[e[l]]&&r._paused||(n._clearTimer(e[l]),n._endTimers[e[l]]=setTimeout(n._ended.bind(n,r),c)),n._emit("rate",r._id)}return n},seek:function(){var t,e,r=this,n=arguments;if(0===n.length)r._sounds.length&&(e=r._sounds[0]._id);else if(1===n.length){var i=r._getSoundIds(),a=i.indexOf(n[0]);a>=0?e=parseInt(n[0],10):r._sounds.length&&(e=r._sounds[0]._id,t=parseFloat(n[0]))}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if(void 0===e)return 0;if("number"==typeof t&&("loaded"!==r._state||r._playLock))return r._queue.push({event:"seek",action:function(){r.seek.apply(r,n)}}),r;var s=r._soundById(e);if(s){if(!("number"==typeof t&&t>=0)){if(r._webAudio){var l=r.playing(e)?o.ctx.currentTime-s._playStart:0,h=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(h+l*Math.abs(s._rate))}return s._node.currentTime}var u=r.playing(e);u&&r.pause(e,!0),s._seek=t,s._ended=!1,r._clearTimer(e),r._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=t);var c=function(){u&&r.play(e,!0),r._emit("seek",e)};if(u&&!r._webAudio){var f=function(){r._playLock?setTimeout(f,0):c()};setTimeout(f,0)}else c()}return r},playing:function(t){if("number"==typeof t){var e=this._soundById(t);return!!e&&!e._paused}for(var r=0;r<this._sounds.length;r++)if(!this._sounds[r]._paused)return!0;return!1},duration:function(t){var e=this._duration,r=this._soundById(t);return r&&(e=this._sprite[r._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,r=0;r<e.length;r++)e[r]._paused||t.stop(e[r]._id),t._webAudio||(t._clearSound(e[r]._node),e[r]._node.removeEventListener("error",e[r]._errorFn,!1),e[r]._node.removeEventListener(o._canPlayEvent,e[r]._loadFn,!1),e[r]._node.removeEventListener("ended",e[r]._endFn,!1),o._releaseHtml5Audio(e[r]._node)),delete e[r]._node,t._clearTimer(e[r]._id);var n=o._howls.indexOf(t);n>=0&&o._howls.splice(n,1);var i=!0;for(r=0;r<o._howls.length;r++)if(o._howls[r]._src===t._src||t._src.indexOf(o._howls[r]._src)>=0){i=!1;break}return l&&i&&delete l[t._src],o.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,r,n){var i=this["_on"+t];return"function"==typeof e&&i.push(n?{id:r,fn:e,once:n}:{id:r,fn:e}),this},off:function(t,e,r){var n=this["_on"+t],i=0;if("number"==typeof e&&(r=e,e=null),e||r)for(i=0;i<n.length;i++){var o=r===n[i].id;if(e===n[i].fn&&o||!e&&o){n.splice(i,1);break}}else if(t)this["_on"+t]=[];else{var a=Object.keys(this);for(i=0;i<a.length;i++)0===a[i].indexOf("_on")&&Array.isArray(this[a[i]])&&(this[a[i]]=[])}return this},once:function(t,e,r){return this.on(t,e,r,1),this},_emit:function(t,e,r){for(var n=this["_on"+t],i=n.length-1;i>=0;i--)n[i].id&&n[i].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,r)}.bind(this,n[i].fn),0),n[i].once&&this.off(t,n[i].fn,n[i].id));return this._loadQueue(t),this},_loadQueue:function(t){if(this._queue.length>0){var e=this._queue[0];e.event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()}return this},_ended:function(t){var e=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var r=!(!t._loop&&!this._sprite[e][2]);if(this._emit("end",t._id),!this._webAudio&&r&&this.stop(t._id,!0).play(t._id),this._webAudio&&r){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=o.ctx.currentTime;var n=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),n)}return this._webAudio&&!r&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),o._autoSuspend()),this._webAudio||r||this.stop(t._id,!0),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var e=this._soundById(t);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new s(this)},_drain:function(){var t=this._pool,e=0,r=0;if(!(this._sounds.length<t)){for(r=0;r<this._sounds.length;r++)this._sounds[r]._ended&&e++;for(r=this._sounds.length-1;r>=0;r--){if(e<=t)return;this._sounds[r]._ended&&(this._webAudio&&this._sounds[r]._node&&this._sounds[r]._node.disconnect(0),this._sounds.splice(r,1),e--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],r=0;r<this._sounds.length;r++)e.push(this._sounds[r]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=o.ctx.createBufferSource(),t._node.bufferSource.buffer=l[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,o.ctx.currentTime),this},_cleanBuffer:function(t){var e=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=o._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(t){this._parent=t,this.init()};s.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,e=o._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),this._node.gain.setValueAtTime(e,o.ctx.currentTime),this._node.paused=!0,this._node.connect(o.masterGain)):o.noAudio||(this._node=o._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(o._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=t._src,this._node.preload=!0===t._preload?"auto":t._preload,this._node.volume=e*o.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(o._canPlayEvent,this._loadFn,!1)},_endListener:function(){var t=this._parent;t._duration===1/0&&(t._duration=Math.ceil(10*this._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}};var l={},h=function(t){var e=t._src;if(l[e])return t._duration=l[e].duration,void f(t);if(/^data:[^;]+;base64,/.test(e)){for(var r=atob(e.split(",")[1]),n=new Uint8Array(r.length),i=0;i<r.length;++i)n[i]=r.charCodeAt(i);c(n.buffer,t)}else{var o=new XMLHttpRequest;o.open(t._xhr.method,e,!0),o.withCredentials=t._xhr.withCredentials,o.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach((function(e){o.setRequestHeader(e,t._xhr.headers[e])})),o.onload=function(){var e=(o.status+"")[0];"0"===e||"2"===e||"3"===e?c(o.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete l[e],t.load())},u(o)}},u=function(t){try{t.send()}catch(e){t.onerror()}},c=function(t,e){var r=function(){e._emit("loaderror",null,"Decoding audio data failed.")},n=function(t){t&&e._sounds.length>0?(l[e._src]=t,f(e,t)):r()};"undefined"!=typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(t).then(n).catch(r):o.ctx.decodeAudioData(t,n,r)},f=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},p=function(){if(o.usingWebAudio){try{"undefined"!=typeof AudioContext?o.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(t){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),e=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=e?parseInt(e[1],10):null;if(t&&r&&r<9){var n=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!n&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};void 0===(n=function(){return{Howler:o,Howl:a}}.apply(e,[]))||(t.exports=n),e.Howler=o,e.Howl=a,void 0!==r?(r.HowlerGlobal=i,r.Howler=o,r.Howl=a,r.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=i,window.Howler=o,window.Howl=a,window.Sound=s)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var e=this._howls.length-1;e>=0;e--)this._howls[e].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,r){return this.ctx&&this.ctx.listener?(e="number"!=typeof e?this._pos[1]:e,r="number"!=typeof r?this._pos[2]:r,"number"!=typeof t?this._pos:(this._pos=[t,e,r],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,e,r,n,i,o){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return e="number"!=typeof e?a[1]:e,r="number"!=typeof r?a[2]:r,n="number"!=typeof n?a[3]:n,i="number"!=typeof i?a[4]:i,o="number"!=typeof o?a[5]:o,"number"!=typeof t?a:(this._orientation=[t,e,r,n,i,o],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,r,n,i,o),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,r){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(t,r)}}),n;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===r){if("number"!=typeof t)return n._stereo;n._stereo=t,n._pos=[t,0,0]}for(var o=n._getSoundIds(r),a=0;a<o.length;a++){var s=n._soundById(o[a]);if(s){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||e(s,i),"spatial"===i?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),n._emit("stereo",s._id)}}return n},Howl.prototype.pos=function(t,r,n,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(t,r,n,i)}}),o;if(r="number"!=typeof r?0:r,n="number"!=typeof n?-.5:n,void 0===i){if("number"!=typeof t)return o._pos;o._pos=[t,r,n]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var l=o._soundById(a[s]);if(l){if("number"!=typeof t)return l._pos;l._pos=[t,r,n],l._node&&(l._panner&&!l._panner.pan||e(l,"spatial"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):l._panner.setPosition(t,r,n)),o._emit("pos",l._id)}}return o},Howl.prototype.orientation=function(t,r,n,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(t,r,n,i)}}),o;if(r="number"!=typeof r?o._orientation[1]:r,n="number"!=typeof n?o._orientation[2]:n,void 0===i){if("number"!=typeof t)return o._orientation;o._orientation=[t,r,n]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var l=o._soundById(a[s]);if(l){if("number"!=typeof t)return l._orientation;l._orientation=[t,r,n],l._node&&(l._panner||(l._pos||(l._pos=o._pos||[0,0,-.5]),e(l,"spatial")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):l._panner.setOrientation(t,r,n)),o._emit("orientation",l._id)}}return o},Howl.prototype.pannerAttr=function(){var t,r,n,i=this,o=arguments;if(!i._webAudio)return i;if(0===o.length)return i._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return(n=i._soundById(parseInt(o[0],10)))?n._pannerAttr:i._pannerAttr;t=o[0],void 0===r&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),i._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:i._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:i._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:i._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:i._panningModel})}else 2===o.length&&(t=o[0],r=parseInt(o[1],10));for(var a=i._getSoundIds(r),s=0;s<a.length;s++)if(n=i._soundById(a[s])){var l=n._pannerAttr;l={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:l.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:l.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:l.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:l.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:l.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:l.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:l.panningModel};var h=n._panner;h?(h.coneInnerAngle=l.coneInnerAngle,h.coneOuterAngle=l.coneOuterAngle,h.coneOuterGain=l.coneOuterGain,h.distanceModel=l.distanceModel,h.maxDistance=l.maxDistance,h.refDistance=l.refDistance,h.rolloffFactor=l.rolloffFactor,h.panningModel=l.panningModel):(n._pos||(n._pos=i._pos||[0,0,-.5]),e(n,"spatial"))}return i},Sound.prototype.init=function(t){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}).call(this,r("yLpj"))},Ib8C:function(t,e,r){(function(e){var n;t.exports=(n=n||function(t,n){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==e&&e.crypto&&(i=e.crypto),!i)try{i=r(0)}catch(t){}var o=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),s={},l=s.lib={},h=l.Base={extend:function(t){var e=a(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},u=l.WordArray=h.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||f).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=a<<24-(n+o)%4*8}else for(var s=0;s<i;s+=4)e[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=h.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(o());return new u.init(e,t)}}),c=s.enc={},f=c.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new u.init(r,e/2)}},p=c.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new u.init(r,e)}},d=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(p.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return p.parse(unescape(encodeURIComponent(t)))}},m=l.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,n=this._data,i=n.words,o=n.sigBytes,a=this.blockSize,s=o/(4*a),l=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,h=t.min(4*l,o);if(l){for(var c=0;c<l;c+=a)this._doProcessBlock(i,c);r=i.splice(0,l),n.sigBytes-=h}return new u.init(r,h)},clone:function(){var t=h.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),v=(l.Hasher=m.extend({cfg:h.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new v.HMAC.init(t,r).finalize(e)}}}),s.algo={});return s}(Math),n)}).call(this,r("yLpj"))},Ijbi:function(t,e,r){var n=r("WkPL");t.exports=function(t){if(Array.isArray(t))return n(t)},t.exports.__esModule=!0,t.exports.default=t.exports},J4zp:function(t,e,r){var n=r("wTVA"),i=r("m0LI"),o=r("ZhPi"),a=r("wkBT");t.exports=function(t,e){return n(t)||i(t,e)||o(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},K3mO:function(t,e,r){var n,i,o,a,s,l,h,u;t.exports=(u=r("Ib8C"),r("3y9D"),r("WYAk"),i=(n=u).lib,o=i.Base,a=i.WordArray,s=n.algo,l=s.MD5,h=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:l,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r,n=this.cfg,i=n.hasher.create(),o=a.create(),s=o.words,l=n.keySize,h=n.iterations;s.length<l;){r&&i.update(r),r=i.update(t).finalize(e),i.reset();for(var u=1;u<h;u++)r=i.finalize(r),i.reset();o.concat(r)}return o.sigBytes=4*l,o}}),n.EvpKDF=function(t,e,r){return h.create(r).compute(t,e)},u.EvpKDF)},KmYQ:function(t,e,r){var n;t.exports=(n=r("Ib8C"),r("OLod"),n.pad.ZeroPadding={pad:function(t,e){var r=4*e;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){var e=t.words,r=t.sigBytes-1;for(r=t.sigBytes-1;r>=0;r--)if(e[r>>>2]>>>24-r%4*8&255){t.sigBytes=r+1;break}}},n.pad.ZeroPadding)},LboF:function(t,e,r){"use strict";var n,i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},o=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}(),a=[];function s(t){for(var e=-1,r=0;r<a.length;r++)if(a[r].identifier===t){e=r;break}return e}function l(t,e){for(var r={},n=[],i=0;i<t.length;i++){var o=t[i],l=e.base?o[0]+e.base:o[0],h=r[l]||0,u="".concat(l," ").concat(h);r[l]=h+1;var c=s(u),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==c?(a[c].references++,a[c].updater(f)):a.push({identifier:u,updater:v(f,e),references:1}),n.push(u)}return n}function h(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,c=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function f(t,e,r,n){var i=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=c(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function p(t,e,r){var n=r.css,i=r.media,o=r.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var d=null,m=0;function v(t,e){var r,n,i;if(e.singleton){var o=m++;r=d||(d=h(e)),n=f.bind(null,r,o,!1),i=f.bind(null,r,o,!0)}else r=h(e),n=p.bind(null,r,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var r=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<r.length;n++){var i=s(r[n]);a[i].references--}for(var o=l(t,e),h=0;h<r.length;h++){var u=s(r[h]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}r=o}}}},MgzW:function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,l=a(t),h=1;h<arguments.length;h++){for(var u in r=Object(arguments[h]))i.call(r,u)&&(l[u]=r[u]);if(n){s=n(r);for(var c=0;c<s.length;c++)o.call(r,s[c])&&(l[s[c]]=r[s[c]])}}return l}},MlIO:function(t,e,r){var n,i,o,a,s,l;t.exports=(l=r("Ib8C"),i=(n=l).lib,o=i.Base,a=i.WordArray,(s=n.x64={}).Word=o.extend({init:function(t,e){this.high=t,this.low=e}}),s.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,r=[],n=0;n<e;n++){var i=t[n];r.push(i.high),r.push(i.low)}return a.create(r,this.sigBytes)},clone:function(){for(var t=o.clone.call(this),e=t.words=this.words.slice(0),r=e.length,n=0;n<r;n++)e[n]=e[n].clone();return t}}),l)},NFKh:function(t,e,r){var n;t.exports=(n=r("Ib8C"),r("MlIO"),r("F+F2"),r("qM6L"),r("ETIr"),r("wbyO"),r("cv67"),r("3y9D"),r("lPiR"),r("GRuw"),r("1uat"),r("uGsb"),r("5hvy"),r("ELcG"),r("WYAk"),r("e7zE"),r("K3mO"),r("OLod"),r("ALsQ"),r("9OqN"),r("qu8F"),r("S6kV"),r("gb/T"),r("qBft"),r("oRuE"),r("jO9C"),r("KmYQ"),r("uGxW"),r("bQjk"),r("wZgz"),r("pA7S"),r("w7YG"),r("E4JC"),r("PVpz"),n)},Nsbk:function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},O7F6:function(t){t.exports=JSON.parse("{}")},OLod:function(t,e,r){var n,i,o,a,s,l,h,u,c,f,p,d,m,v,y,g,_,b,x;t.exports=(n=r("Ib8C"),r("K3mO"),void(n.lib.Cipher||(i=n,o=i.lib,a=o.Base,s=o.WordArray,l=o.BufferedBlockAlgorithm,h=i.enc,h.Utf8,u=h.Base64,c=i.algo.EvpKDF,f=o.Cipher=l.extend({cfg:a.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?x:_}return function(e){return{encrypt:function(r,n,i){return t(n).encrypt(e,r,n,i)},decrypt:function(r,n,i){return t(n).decrypt(e,r,n,i)}}}}()}),o.StreamCipher=f.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),p=i.mode={},d=o.BlockCipherMode=a.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),m=p.CBC=function(){var t=d.extend();function e(t,e,r){var n,i=this._iv;i?(n=i,this._iv=void 0):n=this._prevBlock;for(var o=0;o<r;o++)t[e+o]^=n[o]}return t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize;e.call(this,t,r,i),n.encryptBlock(t,r),this._prevBlock=t.slice(r,r+i)}}),t.Decryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize,o=t.slice(r,r+i);n.decryptBlock(t,r),e.call(this,t,r,i),this._prevBlock=o}}),t}(),v=(i.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,n=r-t.sigBytes%r,i=n<<24|n<<16|n<<8|n,o=[],a=0;a<n;a+=4)o.push(i);var l=s.create(o,n);t.concat(l)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},o.BlockCipher=f.extend({cfg:f.cfg.extend({mode:m,padding:v}),reset:function(){var t;f.reset.call(this);var e=this.cfg,r=e.iv,n=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,r&&r.words):(this._mode=t.call(n,this,r&&r.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),y=o.CipherParams=a.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),g=(i.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;return(r?s.create([1398893684,1701076831]).concat(r).concat(e):e).toString(u)},parse:function(t){var e,r=u.parse(t),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(e=s.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),y.create({ciphertext:r,salt:e})}},_=o.SerializableCipher=a.extend({cfg:a.extend({format:g}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var i=t.createEncryptor(r,n),o=i.finalize(e),a=i.cfg;return y.create({ciphertext:o,key:r,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),b=(i.kdf={}).OpenSSL={execute:function(t,e,r,n){n||(n=s.random(8));var i=c.create({keySize:e+r}).compute(t,n),o=s.create(i.words.slice(e),4*r);return i.sigBytes=4*e,y.create({key:i,iv:o,salt:n})}},x=o.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:b}),encrypt:function(t,e,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize);n.iv=i.iv;var o=_.encrypt.call(this,t,e,i.key,n);return o.mixIn(i),o},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var i=n.kdf.execute(r,t.keySize,t.ivSize,e.salt);return n.iv=i.iv,_.decrypt.call(this,t,e,i.key,n)}}))))},PJYZ:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},PVpz:function(t,e,r){var n;t.exports=(n=r("Ib8C"),r("ETIr"),r("cv67"),r("K3mO"),r("OLod"),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=[],o=[],a=[],s=r.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)l.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(e){var o=e.words,a=o[0],s=o[1],h=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=h>>>16|4294901760&u,f=u<<16|65535&h;for(n[0]^=h,n[1]^=c,n[2]^=u,n[3]^=f,n[4]^=h,n[5]^=c,n[6]^=u,n[7]^=f,i=0;i<4;i++)l.call(this)}},_doProcessBlock:function(t,e){var r=this._X;l.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),t[e+n]^=i[n]},blockSize:4,ivSize:2});function l(){for(var t=this._X,e=this._C,r=0;r<8;r++)o[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],i=65535&n,s=n>>>16,l=((i*i>>>17)+i*s>>>15)+s*s,h=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=l^h}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=e._createHelper(s)}(),n.RabbitLegacy)},QCnb:function(t,e,r){"use strict";t.exports=r("+wdc")},RIqP:function(t,e,r){var n=r("Ijbi"),i=r("EbDI"),o=r("ZhPi"),a=r("Bnag");t.exports=function(t){return n(t)||i(t)||o(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},RMBI:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global,process){__webpack_require__.d(__webpack_exports__,"a",(function(){return Weixin})),__webpack_require__.d(__webpack_exports__,"b",(function(){return start})),__webpack_require__.d(__webpack_exports__,"c",(function(){return updateShare}));var _spark_api_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("XZNu"),_spark_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("Yb6r"),_spark_api_base__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("zgwS"),_meta_json__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("YQrK"),_meta_json__WEBPACK_IMPORTED_MODULE_3___namespace=__webpack_require__.t("YQrK",1);window.__ENV__||(window.__ENV__={})
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */;var extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function __extends(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var __assign=function(){return(__assign=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function __awaiter(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))}function __generator(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var ShareWay=function(){function t(){}return t.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!1]}))}))},t.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!0]}))}))},t.prototype.updateShare=function(t,e){},t.prototype.callShare=function(t,e){return Promise.resolve()},t.prototype.sendShareResult=function(t,e){this._onShareResult&&this._onShareResult(this.name,t,e)},t.isOn=!1,t}(),EverSunshine=function(t){function e(){var e=t.call(this)||this;return e.name="阳光守护",e}return __extends(e,t),e.prototype.ready=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2]}))}))},e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,e.inApp]}))}))},e.prototype.callShare=function(t,e){var r=this,n={title:t.title,content:t.content,href:t.url,thumbs:[t.thumbnail]};return new Promise((function(t){plusShare(n,(function(e){r.sendShareResult(!!e),t(!!e)}))}))},Object.defineProperty(e,"inApp",{get:function(){return e.hasOwnProperty("_inApp")||(e._inApp=navigator.userAgent.indexOf("eversunshine")>=0),e._inApp},enumerable:!1,configurable:!0}),e}(ShareWay),QQ=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="QQ",e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,mqq.support("mqq.ui.setOnShareHandler")]}))}))},e.prototype.updateShare=function(t,e){var r=this,n=t.url,i=t.title,o=t.content,a=t.thumbnail;mqq.ui.setOnShareHandler((function(t){var e={title:i,share_url:n,desc:o,image_url:a,share_type:t,back:!0};mqq.ui.shareMessage(e,(function(t){r.sendShareResult(0==t.retCode)}))}))},e}(ShareWay),Zhangzhongtou=function(t){function e(){var e=t.call(this)||this;return e.name="掌中投",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/zztplatform/i)]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;this.params.title=i,this.params.url=n,this.params.message=o,this.params.img_url=a;var s=r.shareType,l=void 0===s?99:s;this.params.sharetype=l;var h=[],u=this.params;for(var c in u)""!=u[c]&&("title"!=c&&"message"!=c||h.push(c+"="+u[c]),h.push(c+"="+encodeURIComponent(u[c])));return onJsOverrideUrlLoading("http://action:10055/?"+h.join("&&")),t.prototype.callShare.call(this,e,r)},e}(ShareWay);function onJsOverrideUrlLoading(t){var e=navigator.appVersion.toLocaleLowerCase();e.indexOf("windows phone")>0?external.notify(t):e.indexOf("android")>0?MyWebView.onJsOverrideUrlLoading(t):window.location.href=t}var PinganZhengquan=function(t){function e(){var e=t.call(this)||this;return e.name="平安证券",e.params={type:"0",channel:"",pageId:"LICAIshare"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,Adapter.isNative]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;return this.params.title=i,this.params.link=n,this.params.description=o,this.params.thumbimage=a,Adapter.share(this.params,(function(){})),t.prototype.callShare.call(this,e,r)},e}(ShareWay),Dingding=function(t){function e(){var e=t.call(this)||this;return e.name="钉钉",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,"notInDingTalk"!==dd.env.platform]}))}))},e.prototype.dingdingReady=function(){return new Promise((function(t){dd.ready((function(){return t(!0)}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,this.dingdingReady()];case 1:return t.sent(),[2,!0]}}))}))},e.prototype.callShare=function(t,e){var r=this,n=t.url,i=t.title,o=t.content,a=t.thumbnail;this.params.title=i,this.params.url=n,this.params.content=o,this.params.image=a;var s=e.type,l=void 0===s?0:s;return this.params.type=l,new Promise((function(t){r.params.onSuccess=function(){r.sendShareResult(!0),t(!0)},r.params.onFail=function(){r.sendShareResult(!1),t(!1)},dd.biz.util.share(r.params)}))},e}(ShareWay),GongshangElife=function(t){function e(){var e=t.call(this)||this;return e.name="工银e生活",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/eLife/i)]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;return this.params.Title=i,this.params.ShareUrl=n,this.params.Content=o,this.params.PNGUrl=a,hybrid_app.share(JSON.stringify(this.params)),t.prototype.callShare.call(this,e,r)},e.channels=["wechat_session","wechat_timeline"],e}(ShareWay),VERSION_CANNOT_SET_LINK="8.0.16",ua=navigator.userAgent,isWeixinWork=!!ua.match(/wxwork/i),result$1=ua.match(/MicroMessenger\/([\d.]+)/i),appVersion,cannotSetLink=!1;result$1&&(appVersion=result$1[1],cannotSetLink=Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.l)(appVersion,VERSION_CANNOT_SET_LINK),console.info("微信APP版本：",appVersion,cannotSetLink));var jsApiList12=["onMenuShareTimeline","onMenuShareAppMessage"];isWeixinWork&&jsApiList12.push("onMenuShareWechat");var jsApiList14=["updateAppMessageShareData","updateTimelineShareData"],jsApiList=window.wx?wx.updateAppMessageShareData?jsApiList14:jsApiList12:[],originHref=location.href;window.addEventListener("pagehide",(function(){cannotSetLink&&sessionStorage.setItem("__jump_url",originHref)}));var Weixin=function(t){function e(){var e=t.call(this)||this;return e.name="微信",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){navigator.userAgent.toLowerCase().match(/micromessenger/i)?e.distinguishedFromMini?wx.miniProgram.getEnv((function(e){t(!e.miniprogram)})):t(!0):t(!1)}))]}))}))},e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){var r,n,i,o,a,s,l,h,u,c,f,p,d;return __generator(this,(function(m){switch(m.label){case 0:return[4,e.testEnv()];case 1:if(!m.sent())return[2,!0];m.label=2;case 2:return m.trys.push([2,5,,6]),r=t.signUrl,n=t.jsApiList,i=t.openTagList,o=t.isMiniApp,a=void 0!==o&&o,s=t.apk,l=t.customSignData,(u=l)?[3,4]:[4,Object(_spark_api_common__WEBPACK_IMPORTED_MODULE_0__.a)(r,a,s)];case 3:u=m.sent(),m.label=4;case 4:if(h=u,c=jsApiList.concat(),n)for(f=0,p=n;f<p.length;f++)d=p[f],c.indexOf(d)<0&&c.push(d);return[2,new Promise((function(t){var r=h.wxappid,n=h.wxtimestamp,o=h.wxnonceStr,a=h.wxsignature;wx.config({debug:e.debugMode,appId:r,timestamp:n,nonceStr:o,signature:a,jsApiList:c,openTagList:i}),wx.ready((function(){t(!0)})),wx.error((function(e){console.info(e),t(!1)}))}))];case 5:return m.sent(),[2,!1];case 6:return[2]}}))}))},e.prototype.updateShare=function(t,e){var r=this,n=t.url,i=t.title,o=t.content,a=t.thumbnail;this.params.title=i,this.params.desc=o,this.params.imgUrl=a,this.params.link=n,wx.ready((function(){jsApiList.forEach((function(t){wx[t](r.params)}))}))},e.prototype.callShare=function(t,e){var r=this,n=t.url,i=t.title,o=t.content,a=t.thumbnail;this.params.title=i,this.params.link=n,this.params.desc=o,this.params.imgUrl=a;var s,l=e.scene;switch(void 0===l?0:l){case 0:s="shareAppMessage";break;case 1:s="shareWechatMessage"}return new Promise((function(t){wx.invoke(s,r.params,(function(e){var n="shareAppMessage:ok"==e.err_msg;r.sendShareResult(n),t(n)}))}))},e.debugMode=!1,e.distinguishedFromMini=!1,e}(ShareWay),WeixinMini=function(t){function e(){var e=t.call(this)||this;return e.name="微信小程序",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){navigator.userAgent.toLowerCase().match(/micromessenger/i)?wx.miniProgram.getEnv((function(e){t(e.miniprogram)})):t(!1)}))]}))}))},e.prototype.updateShare=function(r,n){t.prototype.updateShare.call(this,r);var i,o=r.url,a=r.title,s=r.content,l=r.thumbnail,h=this.params;e.shareId&&(i=sfms[e.shareId]),i||(i=e.shareFieldsMapping),h[i.title]=a,h[i.link]=o,h[i.desc]=s,h[i.imgUrl]=l,wx.miniProgram.postMessage({data:this.params})},e.shareFieldsMapping={title:"title",link:"link",desc:"desc",imgUrl:"imgUrl"},e}(ShareWay),sfms={TaoboSports:{title:"shareTitle",link:"url",desc:"shareDesc",imgUrl:"shareImage"}},ChangchengWey=function(t){function e(){var e=t.call(this)||this;return e.name="长城Wey",e.params={official:!0,img:"havalIcon"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){return[2,!!(t=navigator.userAgent).match(/BOB/i)||!!t.match(/wey/i)]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;return this.params.title=i,this.params.url=n,this.params.description=o,this.params.img=a,this.params.imgUrl=a,dsBridge.call("NativeController.presentShare",this.params),t.prototype.callShare.call(this,e,r)},e}(ShareWay),RenshouYunzhuli=function(t){function e(){var e=t.call(this)||this;return e.name="人寿云助理",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/yunzhuli/i)]}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){yzl.config({appId:e.appId}),yzl.ready((function(){console.info("ready"),t(!0)})),yzl.error((function(t){console.info("error",t)}))}))]}))}))},e.prototype.updateShare=function(t,e){var r=this,n=t.title;t.content;var i=t.url,o=t.thumbnail;return this.params.title=n,this.params.link=i,this.params.imgUrl=o,new Promise((function(t){r.params.success=function(e){r.sendShareResult(!0),t(!0)},r.params.fail=function(){r.sendShareResult(!1),t(!1)},yzl.onMenuShareTimeline(r.params),yzl.onMenuShareAppMessage(r.params)}))},e.prototype.callShare=function(t,e){var r=this,n=t.title,i=t.content,o=t.url,a=t.thumbnail;this.params.title=n,this.params.webpageUrl=o,this.params.description=i,this.params.thumbUrl=a;var s=e.scene,l=void 0===s?0:s;return this.params.scene=l,new Promise((function(t){r.params.success=function(){r.sendShareResult(!0),t(!0)},r.params.fail=function(e){r.sendShareResult(!1,e),t(!1)},yzl.shareWebpageToWX(r.params)}))},e}(ShareWay),Xiangcai=function(t){function e(){var e=t.call(this)||this;return e.name="湘财",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/xcsc/i)]}))}))},e.prototype.callShare=function(e,r){var n=this,i=e.url,o=e.title,a=e.content;return e.thumbnail,this.params.Title=o,this.params.Shareurl=i,this.params.Substract=a,__webCallTql.send("tdxOpenShare",this.params,(function(t){n.sendShareResult(t)})),t.prototype.callShare.call(this,e,r)},e}(ShareWay),Yunshanfu=function(t){function e(){var e=t.call(this)||this;return e.name="云闪付",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/unionpay/i)]}))}))},e.initSdk=function(t){return __awaiter(this,void 0,void 0,(function(){var e,r,n,i,o;return __generator(this,(function(a){switch(a.label){case 0:return[4,Object(_spark_api_base__WEBPACK_IMPORTED_MODULE_2__.c)("share/shareInfo.do",{url:encodeURIComponent(location.href.split("#")[0])})];case 1:return e=a.sent(),r=e.appId,n=e.timestamp,i=e.nonceStr,o=e.signature,[2,new Promise((function(e,a){upsdk.config({appId:r,timestamp:n,nonceStr:i,signature:o,debug:t}),upsdk.ready((function(){e(!0)})),upsdk.error((function(t){a(t)}))}))]}}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){upsdk.pluginReady((function(){t(!0)}))}))]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;return this.params.title=i,this.params.shareUrl=n,this.params.desc=o,this.params.picUrl=a,upsdk.showSharePopup(this.params),t.prototype.callShare.call(this,e,r)},e}(ShareWay),Yangshipin=function(t){function e(){var r=t.call(this)||this;return r.name="央视频",r.params={shareId:e.shareId},r}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/yangshipin/i)]}))}))},e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,window["cctvh5-share"].default.init(t)];case 1:return[2,e.sent().canShare]}}))}))},e.prototype.updateShare=function(t,e){var r=t.url,n=t.title,i=t.content,o=t.thumbnail;this.params.shareTitle=n,this.params.shareUrl=r,this.params.shareSubTitle=i,this.params.shareImgUrl=o,window["cctvh5-share"].default.setShareData(this.params)},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;return this.params.shareTitle=i,this.params.shareUrl=n,this.params.shareSubTitle=o,this.params.shareImgUrl=a,window["cctvh5-share"].default.invokeCCTVShare(this.params),t.prototype.callShare.call(this,e,r)},e.shareId="itemtype=aid&aid=5f59c123abd19175e5b3e388",e}(ShareWay),Zhangshangzhongyi=function(t){function e(){var e=t.call(this)||this;return e.name="掌上中意",e.params={message:{media:{}}},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/ePolicy/i)]}))}))},e.prototype.callShare=function(t,e){var r=this,n=t.url,i=t.title,o=t.content,a=t.thumbnail,s=this.params.message;s.title=i,s.description=o,s.thumb=a,s.media.webpageUrl=n;var l=e.scene,h=void 0===l?Wechat.Scene.SESSION:l,u=e.mediaType,c=void 0===u?Wechat.Type.WEBPAGE:u;return this.params.scene=h,s.media.type=c,console.info("params:",this.params),new Promise((function(t){Wechat.share(r.params,(function(e){r.sendShareResult(!0),t(!0)}),(function(e){r.sendShareResult(!1,e),t(!1)}))}))},e}(ShareWay),TianmuNews=function(t){function e(){var e=t.call(this)||this;return e.name="天目新闻",e.params={completed:function(t){},cpIncompatible:function(){}},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/zjolapp/i)]}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){CP.ready({debug:e.debugMode,ready:function(e){t(!0)},error:function(e){t(!1)}})}))]}))}))},e.prototype.ensure=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<10?CP&&CP._options.is_ready_done?[3,3]:[4,new Promise((function(t){setTimeout(t,200)}))]:[3,5];case 2:return e.sent(),[3,4];case 3:return[2];case 4:return t++,[3,1];case 5:return[2]}}))}))},e.prototype.updateShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var r,n,i,o,a,s;return __generator(this,(function(l){switch(l.label){case 0:return r=t.url,n=t.title,i=t.content,o=t.thumbnail,this.params.title=n,this.params.link=r,this.params.shareSummary=i,this.params.imgUrl=o,a=e.shareTo,s=void 0===a?"":a,this.params.shareTo=s,[4,this.ensure()];case 1:return l.sent(),CP.setShare(this.params),[2]}}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,l;return __generator(this,(function(h){switch(h.label){case 0:return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=i,this.params.link=n,this.params.shareSummary=o,this.params.imgUrl=a,s=r.shareTo,l=void 0===s?"":s,this.params.shareTo=l,[4,this.ensure()];case 1:return h.sent(),CP.showShare(this.params),[2,t.prototype.callShare.call(this,e,r)]}}))}))},e.debugMode=!1,e}(ShareWay),Guanqiaian=function(t){function e(){var e=t.call(this)||this;return e.name="广汽埃安",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!window.GACLOVECAR]}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!0]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;this.params.title=i,this.params.url=n,this.params.context=o,this.params.imagePath=a;var s={weChat:this.params,circleOfFriends:this.params,weiBo:this.params,buddy:this.params,groupChat:this.params};return GACLOVECAR&&GACLOVECAR.goShareArticle(JSON.stringify(s)),t.prototype.callShare.call(this,e,r)},e}(ShareWay),Unicom=function(t){function e(){var e=t.call(this)||this;return e.name="中国联通APP",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/unicom/i)]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;this.params.shareTitle=i,this.params.shareContent=o,this.params.shareURL=n,this.params.shareIconURL=a;var s=r.shareStyle,l=void 0===s?"webpage":s;return this.params.shareStyle=l,ms.showShareMenu(this.params),t.prototype.callShare.call(this,e,r)},e.prototype.updateShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;this.params.shareTitle=i,this.params.shareContent=o,this.params.shareURL=n,this.params.shareIconURL=a;var s=r.shareStyle,l=void 0===s?"webpage":s,h=r.shareChannel,u=void 0===h?["share"]:h;return this.params.shareStyle=l,this.params.shareChannel=u,ms.updateClientMoreMenu({moreMenu:["share","screenshotShare"],shareConfig:this.params}),t.prototype.callShare.call(this,e,r)},e}(ShareWay),UnicomMobile=function(t){function e(){var e=t.call(this)||this;return e.name="联通手机营业厅",e.params={shareType:"url"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/unicom/i)]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;this.params.shareTitle=i,this.params.shareContent=o,this.params.shareURL=n,this.params.shareIconURL=a;var s=r.shareList,l={type:"share2",url:"",shareList:void 0===s?"sinaweibo,tencentweibo,qzone,wechat,wechatmoments,email,shortmessage,qq":s,msg:"",shareJson:this.params},h=JSON.stringify(l);return"iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)()?location.href="clientAction="+h:js_invoke.interact(h),t.prototype.callShare.call(this,e,r)},e}(ShareWay),HebaoPay=function(t){function e(){var e=t.call(this)||this;return e.name="和包支付",e.params={shareWay:"WECHAT_SHARE_WAY_WEBPAGE"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/hebao/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return __generator(this,(function(l){return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=i,this.params.linkUrl=n,this.params.content=o,this.params.image=a,"Android"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)()?MobileWalletShare.startShare(i,n,o):(window.handleSuccess=function(t){},s={shareUrl:n,shareDetail:o},hebaoWkjs.doCall("CMPShareAction",s)),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),Xiangyijia=function(t){function e(){var e=t.call(this)||this;return e.name="香溢家",e.params={},e}return __extends(e,t),e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;this.params.title=i,this.params.link=n,this.params.describe=o,this.params.imgUrl=a;var s={method:"share",value:this.params};return ReactNativeWebView.postMessage(JSON.stringify(s)),t.prototype.callShare.call(this,e,r)},e}(ShareWay),Beijingxiandai=function(t){function e(){var e=t.call(this)||this;return e.name="北京现代",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/bjxd/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a;return __generator(this,(function(s){return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=i,this.params.url=n,this.params.desc=o,this.params.pic=a,"iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)()?webkit.messageHandlers.webShareToAppWithParam.postMessage(this.params):android.webShareToAppWithParam(i,a,n,o),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),Xiamenguoji=function(t){function e(){var e=t.call(this)||this;return e.name="厦门国际",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/xib/i)]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var e,r,n,i,o=this;return __generator(this,(function(a){return e=t.url,r=t.title,n=t.content,i=t.thumbnail,this.params.title=r,this.params.url=e,this.params.desc=n,this.params.thumbnail=i,[2,new Promise((function(t){XIBLS.SocialShare.shareAll((function(){o.sendShareResult(!0),t(!0)}),(function(){o.sendShareResult(!1),t(!1)}),o.params)}))]}))}))},e}(ShareWay),Yizhifu=function(t){function e(){var e=t.call(this)||this;return e.name="翼支付",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/bestpay/i)]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var r,n,i,o,a,s,l,h,u,c,f,p,d,m,v=this;return __generator(this,(function(y){return r=t.url,n=t.title,i=t.content,0==(o=t.thumbnail).indexOf("http")?(a="imageUrl",s=o):(a="imageData",s=o.replace(/^data:image\/\w+;base64,/,"")),this.params.title=n,this.params.linkUrl=r,this.params.text=i,this.params[a]=s,l=e.type,h=void 0===l?"weixin":l,u=e.contentType,c=void 0===u?"link":u,f=e.miniprogramType,p=void 0===f?"0":f,d=e.userName,m=void 0===d?"gh_6619cdb5d346":d,this.params.contentType=c,this.params.type=h,"miniProgram"===c&&(this.params.miniprogramType=p,this.params.userName=m,this.params.path="/package/pages/beartransfer/index?url="+encodeURIComponent(r)),[2,new Promise((function(t){BestpayHtml5.Other.share(v.params,(function(e){v.sendShareResult(!0,e),t(!0)}),(function(e){v.sendShareResult(!1,e),t(!1)}),(function(e){v.sendShareResult(!1,e),t(!1)}))}))]}))}))},e}(ShareWay),YizhifuWeixinMini=function(t){function e(){var e=t.call(this)||this;return e.name="翼支付微信小程序",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t,e){navigator.userAgent.toLowerCase().match(/micromessenger/i)?wx.miniProgram.getEnv((function(e){e.miniprogram?t(!0):t(!1)})):t(!1)}))]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var e,r,n,i,o,a;return __generator(this,(function(s){return e=t.url,r=t.title,n=t.content,i=t.thumbnail,this.params.title=r,this.params.linkUrl=e,this.params.text=n,this.params.imageUrl=i,o="/package/pages/beartransfer/index?url="+encodeURIComponent(e),a="/package/pages/transfer/index?type=share&shareTitle="+r+"&path="+encodeURIComponent(o)+"&shareImageUrl="+encodeURIComponent(i),wx.miniProgram.navigateTo({url:a}),[2]}))}))},e}(ShareWay),ZhongguoRenshou=function(t){function e(){var e=t.call(this)||this;return e.name="中国人寿",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/ecssmobile/i)]}))}))},e.prototype.callShare=function(e,r){var n=this,i=e.url,o=e.title,a=e.content,s=e.thumbnail;return this.params.title=o,this.params.url=i,this.params.desc=a,this.params.imageUrl=s,this.params.onSuccess=function(){n.sendShareResult(!0)},ECSS&&ECSS.shareFromEBao(JSON.stringify(this.params)),t.prototype.callShare.call(this,e,r)},e}(ShareWay),Kaiyuanzhengquan=function(t){function e(){var e=t.call(this)||this;return e.name="开源证券",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/tzt/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a;return __generator(this,(function(s){return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=encodeURIComponent(i),this.params.url=encodeURIComponent(n),this.params.message=encodeURIComponent(o),this.params.img_url=encodeURIComponent(a),location.href="http://action:10055/?"+stringify(this.params),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay);function stringify(t){var e=[];for(var r in t)e.push(r+"="+t[r]);return e.join("&&")}var Didachuxing=function(t){function e(){var e=t.call(this)||this;return e.name="滴答出行",e.params={},e}return __extends(e,t),e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){DIDA_SDK.ready((function(){t(!0)}))}))]}))}))},e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/Dida/i)]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;this.params.title=i,this.params.link=n,this.params.des=o,this.params.thumbnail=a;var s=r.id,l=void 0===s?"dida":s,h=r.channel,u=void 0===h?"wxmsg":h;return this.params.id=l,this.params.channel=u,DIDA_SDK.callHandler("shareOnTheWebviewPage",Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.i)({},this.params)),t.prototype.callShare.call(this,e,r)},e}(ShareWay),Mengniu=function(t){function e(){var e=t.call(this)||this;return e.name="蒙牛",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t,e;return __generator(this,(function(r){try{t=!!webkit.messageHandlers.shareAlert.postMessage}catch(t){}try{e=!!android.shareAlert}catch(t){}return[2,t||e]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;return this.params.title=i,this.params.url=n,this.params.content=o,this.params.thumbnail=a,"iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)()?webkit.messageHandlers.shareAlert.postMessage({title:i,content:o,image:a,url:n}):android.shareAlert(i,o,a,n),t.prototype.callShare.call(this,e,r)},e}(ShareWay),QQMusic=function(t){function e(){var e=t.call(this)||this;return e.name="QQ音乐",e.params={type:"html"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/QQMusic/i)]}))}))},e.prototype.updateShare=function(t,e){var r=this,n=e.shareType,i=void 0===n?"icon":n,o=e.shareContent,a=void 0===o?"share":o;M.client.invoke("ui","setActionBtn",{type:i,content:a},(function(){r.callShare(t,e)}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a;return __generator(this,(function(s){return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=i,this.params.link=n,this.params.desc=o,this.params.imgUrl=a,M.client.invoke("other","callShareWeb",this.params),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),GuoshouEStore=function(t){function e(){var e=t.call(this)||this;return e.name="国寿e店",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/ehomechinalife/i)]}))}))},e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return window.eStorePluginPromise?[2,!0]:[2,new Promise((function(t){document.addEventListener("deviceready",(function(){t(!0)}))}))]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var r,n,i,o,a,s,l,h,u,c,f=this;return __generator(this,(function(p){return r=t.url,n=t.title,i=t.content,o=t.thumbnail,this.params.title=n,this.params.url=r,this.params.content=i,this.params.thumb=o,a=e.shareType,s=void 0===a?"url":a,l=e.programid,h=void 0===l?"":l,u=e.path,c=void 0===u?"":u,this.params.share_type=s,this.params.programid=h,this.params.path=c,[2,new Promise((function(t){eStorePluginPromise.pluginTypes("PluginWeChat","Share",f.params).then((function(e){this.sendShareResult(!0,e),t(!0)})).catch((function(e){this.sendShareResult(!1,e),t(!1)}))}))]}))}))},e}(ShareWay),Yikang=function(t){function e(){var e=t.call(this)||this;return e.name="怡康",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/ykdj\/app/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return __generator(this,(function(l){return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=i,this.params.url=n,this.params.content=o,this.params.image=a,"iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)()?webkit.messageHandlers.doSharePanel.postMessage(this.params):(s=JSON.stringify(this.params),mc.doSharePanel(s)),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),queryParams={},search=window.location.search,appID,projectID;try{search=top.location.search}catch(e){}for(var _i=0,_a=search.replace("?","").split("&");_i<_a.length;_i++){var item=_a[_i],arr=item.split("=");queryParams[arr[0]]=1===arr.length||arr[1]}function windowVisibility(t){var e;void 0!==document.hidden?e="visibilitychange":void 0!==document.msHidden?e="msvisibilitychange":void 0!==document.webkitHidden&&(e="webkitvisibilitychange");document.addEventListener(e,(function(e){t&&t("visible"==document.visibilityState)}),!1)}if(queryParams.appID&&(appID=CFG.appID),queryParams.channelType,queryParams.projectID)projectID=queryParams.projectID;else{var result=window.location.pathname.match(/\/projectx\/(.*?)\/.*?/);result&&(projectID=result[1])}function setFromShare(){}function getNewUser(){if(localStorage){var t="nu_"+appID+"_"+projectID;localStorage.getItem(t)||localStorage.setItem(t,"1")}}function dealPageRemainTime(){var t,e=(new Date).getTime();windowVisibility((function(n){n?e=(new Date).getTime():(t=(new Date).getTime(),r())}));var r=function(){accessLog(156,{remain:t-e})};document.body.onbeforeunload=function(){return t=(new Date).getTime(),r()}}function accessLog(t,e){var r={pageBizId:t};return injectProp(r,e),httpRequest("buriedPoint","get",r)}function injectProp(t,e,r,n,i){if(void 0===n&&(n=!0),void 0===i&&(i=!0),!t||!e)return!1;var o=!1;for(var a in e){var s=e[a];if(!(n&&"function"==typeof s||i&&null==s)){if(r)r(t,a,s);else try{t[a]=s}catch(t){}o=!0}}return o}function obj2query(t){if(!t)return"";var e=[];for(var r in t)e.push(r+(r?"=":"")+t[r]);return e.join("&")}function httpRequest(t,e,r,n,i){void 0===e&&(e="get"),void 0===n&&(n="text");var o=0===t.indexOf("blob")?t:urlJoin(t,"__ts__="+Date.now()),a={};return injectProp(a,r),"jsonp"===n?jsonp(o,a):new Promise((function(r,s){var l={"Content-Type":"application/x-www-form-urlencoded"};injectProp(l,i);var h={url:t,method:e,params:a,type:n,headers:l},u=window.mock;u?u(h,(function(t){t||doRequest(h,r,s)}),r,s):(h.url=o,doRequest(h,r,s))}))}function doProxyRequest(t,e,r){var n=window.proxy_window;window.addEventListener("message",(function t(n){window.removeEventListener("message",t);try{var i=JSON.parse(n.data);switch(n.data,i.action){case"http-request-proxy-resolve":e(i.payload);break;case"http-request-proxy-reject":r(i.payload)}}catch(t){}}),!1),n.postMessage(JSON.stringify({action:"http-request-proxy",payload:t}),"*")}function doXhrRequest(t,e,r){var n,i=t.url,o=t.method,a=t.params,s=t.type,l=t.headers;if(window.XMLHttpRequest?n=new XMLHttpRequest:window.ActiveXObject&&(n=new window.ActiveXObject),null!=n){var h="GET"===o.toUpperCase(),u=obj2query(a),c=i;for(var f in 0==c.indexOf("projectx")&&(c="/"+c),h&&(c=urlJoin(c,u)),n.open(o,c,!0),l)n.setRequestHeader(f,l[f]);n.responseType=s,n.onreadystatechange=function(){4==n.readyState&&200==n.status&&e(n.response)},n.onerror=function(t){r(t)},n.onloadend=function(){404==n.status&&r(i+" 404 (Not Found)")},h?n.send():n.send(u)}}function doRequest(t,e,r){window.proxy_window&&0!==t.url.indexOf("blob")?doProxyRequest(t,(function(t){e(t)}),r):doXhrRequest(t,e,r)}function jsonp(t,e){return new Promise((function(r,n){var i=urlJoin(t,obj2query(e)),o=document.createElement("script");o.src=i,o.onload=function(){r(),document.body.removeChild(o)},o.onerror=function(){n(),document.body.removeChild(o)},document.body.appendChild(o)}))}function urlJoin(t,e){return e?(t+=t.indexOf("?")<0?"?":"",(t+="?"===t[t.length-1]?"":"&")+e):t}window.hasOwnProperty("isFromShare")?window.isFromShare:queryParams.is_from_share,window.setFromShare=setFromShare,getNewUser(),window.isSharePage&&setTimeout((function(){accessLog(506)}),100),window.stop_report_page_remain_time||dealPageRemainTime();var Zhilianzhaopin=function(t){function e(){var e=t.call(this)||this;return e.name="智联招聘",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/Zhaopin/i)||"true"===queryParams.isApp]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a;return __generator(this,(function(s){return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=i,this.params.url=n,this.params.desc=o,this.params.image=a,"iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)()?"function"==typeof customShare?customShare(JSON.stringify(this.params)):webkit.messageHandlers.center.postMessage(JSON.stringify({eventName:"customShare",data:this.params})):commonMessageHandler.postMessage(JSON.stringify({eventName:"customShare",data:this.params})),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),sdk$1,Shanbu=function(t){function e(){var e=t.call(this)||this;return e.name="闪布",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t,e;return __generator(this,(function(r){return t=navigator.userAgent,e=!!t.match(/thunbu/i),sdk$1=new tbjssdk,[2,e]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;this.params.title=i,this.params.link=n,this.params.desc=o,this.params.imgUrl=a,this.params.icon=a,this.params.iconTitle=i;var s=r.panelTitle,l=void 0===s?"分享":s,h=r.items,u=void 0===h?[3]:h;return sdk$1.setShareMenu({title:l,type:"10027",content:this.params,items:u}),t.prototype.callShare.call(this,e,r)},e}(ShareWay),ZhongguoRenbao=function(t){function e(){var e=t.call(this)||this;return e.name="中国人保",e.params={shareType:"url"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/piccApp/i)]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;this.params.shareTitle=i,this.params.shareDescription=o,this.params.webURL=n,this.params.url=a;var s=r.channels,l=void 0===s?["WXFriends","WXMoments","QQ","Weibo"]:s;return this.params.channels=l,PJO.shareUrl({params:this.params,callBack:function(t){console.info(t)}}),t.prototype.callShare.call(this,e,r)},e}(ShareWay);window.shareMessageCallback=function(){},window.shareTimelineCallback=function(){},window.shareMessageConfigCallback=function(){},window.shareTimelineConfigCallback=function(){};var TaoboSports=function(t){function e(){var e=t.call(this)||this;return e.name="滔搏运动",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/Tops portsApp/i)]}))}))},e.prototype.callShare=function(e,r){var n=this,i=e.url,o=e.title,a=e.content,s=e.thumbnail;this.params.title=o,this.params.link=i,this.params.desc=a,this.params.imgUrl=s;var l=r.type;return this.params.type=l,this.params.success=function(){n.sendShareResult(!0)},TopsportsApp.postMessage(JSON.stringify({method:"share",data:{message:this.params,timeline:this.params}})),t.prototype.callShare.call(this,e,r)},e.prototype.updateShare=function(t,e){var r=t.url,n=t.title,i=t.content,o=t.thumbnail;this.params.title=n,this.params.link=r,this.params.desc=i,this.params.imgUrl=o;var a=e.type;this.params.type=a,TopsportsApp.postMessage(JSON.stringify({method:"shareMessageConfig",data:this.params})),TopsportsApp.postMessage(JSON.stringify({method:"shareTimelineConfig",data:this.params}))},e}(ShareWay),osName$2=Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)(),_bridge,Henghuibao=function(t){function e(){var e=t.call(this)||this;return e.name="恒惠保",e.params={},e}return __extends(e,t),e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){setupWebViewJavascriptBridge((function(e){_bridge=e,"Android"===osName$2&&e.init((function(t,e){e({"Javascript Responds":"Wee!"})})),t(!0)}))}))]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;this.params.title=i,this.params.description=o,this.params.thumb=a;var s=r.type,l=void 0===s?1:s,h={type:l};switch(l){case 0:h.image=n;break;case 1:h.webpageUrl=n}return this.params.media=h,share(this.params),t.prototype.callShare.call(this,e,r)},e}(ShareWay),sdk;function setupWebViewJavascriptBridge(t){if(window.WebViewJavascriptBridge)t(WebViewJavascriptBridge);else if("Android"===osName$2)document.addEventListener("WebViewJavascriptBridgeReady",(function(){t(WebViewJavascriptBridge)}),!1),sessionStorage.phoneType="android";else if("iOS"===osName$2){if(window.WVJBCallbacks)window.WVJBCallbacks.push(t);else{window.WVJBCallbacks=[t];var e=document.createElement("iframe");e.style.display="none",e.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(e),setTimeout((function(){document.documentElement.removeChild(e)}),0)}sessionStorage.phoneType="ios"}}function share(t,e){var r={userToken:"",request:{cname:"HHBShare",cmethod:"shareBoard",message:t}};_bridge.callHandler("hhb",r,(function(t){e&&e(JSON.parse(t))}))}var NuoanJijin=function(t){function e(){var e=t.call(this)||this;return e.name="诺安基金",sdk=new dlJssdk,e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,sdk.getDeviceInfo().then((function(t){return"0000"==t.code}))]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,l;return __generator(this,(function(h){return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=i,this.params.link=n,this.params.content=o,this.params.icon=a,s=r.sharePic,l=void 0!==s&&s,this.params.ispic=l,sdk.share(this.params).then((function(t){t.code})),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),Shangguanxinwen=function(t){function e(){var e=t.call(this)||this;return e.name="上观新闻",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/Shobserver/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,l;return __generator(this,(function(h){return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=i,this.params.link=n,this.params.desc=o,this.params.imgUrl=a,s=Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)(),l=JSON.stringify(this.params),location.href="http://127.0.0.1?type=doShare&callback=doShareCallback&params="+("Android"===s?encodeURIComponent(l):l),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),QishangBank=function(t){function e(){var r=t.call(this)||this;return r.name="齐商银行",r.params={type:e.type,screenShotArea:e.screenShotArea,channelArray:e.channelArray},r}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(r){return[2,!!(t=navigator.userAgent).match(new RegExp("@"+e.platformId+"#"))||!!t.match(new RegExp("@"+e.unionId+"#"))]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var e,r,n,i,o=this;return __generator(this,(function(a){return e=t.url,r=t.title,n=t.content,i=t.thumbnail,this.params.title=r,this.params.link=e,this.params.desc=n,this.params.imgUrl=i,[2,new Promise((function(t){o.params.success=function(){o.sendShareResult(!0),t(!0)},o.params.fail=function(){o.sendShareResult(!1),t(!1)},sccbaJsApi.share(o.params)}))]}))}))},e.platformId="directbank",e.unionId="sccba801",e.type="text+image",e.screenShotArea={startPosY:0,endPosY:10},e.channelArray=["WXMessage","WXTimeline"],e}(ShareWay),osName$1=Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)(),ZijinBank=function(t){function e(){var e=t.call(this)||this;return e.name="紫金农商银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/ZJMB/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return __generator(this,(function(l){return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=i,this.params.content=o,this.params.url=n,this.params.images=[{image:a,type:"url"}],"iOS"===osName$1?webkit.messageHandlers.zjrcb.postMessage({type:"showShareForWeb",params:this.params}):(s=JSON.stringify(this.params),android.showShareForWeb(s)),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),ZhongguoBank=function(t){function e(){var e=t.call(this)||this;return e.name="中国银行",e.params={type:"0",channel:"",pageId:"LICAIshare"},e}return __extends(e,t),e.initEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(e){return this.envInited?[2]:[2,new Promise((function(e,r){var n=document.createElement("script");n.src="https://ebsnew.boc.cn/bocphone/BocMerchant/paylib/"+("iOS"==Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)()?"ios.js":"android.js"),n.onload=function(){t.envInited=!0,e(!0)},n.onerror=function(){r("js加载失败:"+n.src)},document.head.appendChild(n)}))]}))}))},e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,this.initEnv()];case 1:return t.sent(),[2,!!navigator.userAgent.match(/boc/i)]}}))}))},e.prototype.callShare=function(t,e){var r=this,n=t.url,i=t.title,o=t.content,a=t.thumbnail;return this.params.title=i,this.params.url=n,this.params.description=o,this.params.img=a,new Promise((function(t){c_plugins.merchantBridge.weixinShare((function(){r.sendShareResult(!0),t(!0)}),(function(e){r.sendShareResult(!1),t(!1)}),r.params)}))},e.envInited=!1,e}(ShareWay),YinzhouBank=function(t){function e(){var e=t.call(this)||this;return e.name="鄞州银行",e.params={official:!0,img:"havalIcon"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/DuiBa/i)]}))}))},e.prototype.callShare=function(t,e){var r=this,n=t.url,i=t.title,o=t.content,a=t.thumbnail;return this.params.title=i,this.params.url=n,this.params.content=o,this.params.image=a,new Promise((function(t){dsBridge.call("ThirdShare.startShare",r.params,(function(e){r.sendShareResult(e),t(e)}))}))},e}(ShareWay),PinganBank=function(t){function e(){var r=t.call(this)||this;return r.name="平安银行",r.params={channels:e.channels},r}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/PAEBank/i)]}))}))},e.prototype.callShare=function(t,e){var r=this,n=t.url,i=t.title,o=t.content,a=t.thumbnail;return this.params.title=i,this.params.shareUrl=n,this.params.shareText=o,this.params.imgUrl=a,new Promise((function(t){aladdin.share.msg(r.params,(function(e,n){r.sendShareResult(!!n),t(!!n)}))}))},e.channels=["wechat_session","wechat_timeline"],e}(ShareWay),BeijingBank=function(t){function e(){var e=t.call(this)||this;return e.name="北京银行",e.params={type:"html"},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/BOB/i)]}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){window.TMFJSBridge?t(!0):document.addEventListener("TMFJSBridgeReady",(function(){t(!0)}),!1)}))]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var r,n,i,o,a,s,l,h,u,c,f=this;return __generator(this,(function(p){switch(p.label){case 0:r=t.url,n=t.title,i=t.content,o=t.thumbnail,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.e)(o)];case 2:return a=p.sent(),this.params.title=n,this.params.webUrl=r,this.params.text=i,this.params.imgBase64=a,s=e.showSMS,l=void 0===s||s,h=e.type,u=void 0===h?"html":h,this.params.isHavSMS=l?"Y":"N",this.params.type=u,[2,new Promise((function(t){TMFJSBridge.invoke("showShareView",f.params,(function(e){f.sendShareResult("0"==e,e),t("0"==e)}))}))];case 3:return c=p.sent(),console.warn("thumbnail to dataurl failed:",c),[3,4];case 4:return[2]}}))}))},e}(ShareWay),NongyeBank=function(t){function e(){var e=t.call(this)||this;return e.name="农业银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/Bankabc/i)]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;this.params.share_title=i,this.params.share_url=n,this.params.share_text=o,this.params.share_img_url=a;var s={return:this.params},l=encodeURIComponent(JSON.stringify(s));return location.href="http://www.abchina.com/luascript/shareOnClick/"+l,t.prototype.callShare.call(this,e,r)},e}(ShareWay),NingboBank=function(t){function e(){var e=t.call(this)||this;return e.name="宁波银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.toLowerCase().match(/nbbankclientver/i)]}))}))},e.prototype.callShare=function(t,e){var r=this,n=t.url,i=t.title,o=t.content,a=t.thumbnail;this.params.title=i,this.params.hrefUrl=n,this.params.content=o,this.params.imgUrl=a;var s=e.shareType,l=void 0===s?"WX,PYQ":s;return this.params.type=l,new Promise((function(t){PLUTO.sharePages(r.params,(function(e){0===e.STATUS?(r.sendShareResult(!1,e.MSG),t(!1)):(r.sendShareResult(!0,e),t(!0))}))}))},e}(ShareWay),QingdaoBank=function(t){function e(){var r=t.call(this)||this;return r.name="青岛银行",r.params={weChatType:e.weChatType},r}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){return[2,!!(t=navigator.userAgent).match(/BQDMobileBank/i)||!!t.match(/AlipayClient/i)]}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){window.AlipayJSBridge?t(!0):document.addEventListener("AlipayJSBridgeReady",(function(){t(!0)}),!1)}))]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var r,n,i,o,a,s,l,h=this;return __generator(this,(function(u){switch(u.label){case 0:return r=t.url,n=t.title,i=t.content,o=t.thumbnail,this.params.title=n,this.params.url=r,this.params.description=i,a=e.shareType,s=void 0===a?"2":a,this.params.shareType=s,"iOS"!==Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)()?[3,2]:[4,Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.e)(o)];case 1:return l=u.sent(),this.params.iconImage=l.replace(/^data:image\/\w+;base64,/,""),[3,3];case 2:this.params.iconUrl=o,u.label=3;case 3:return[2,new Promise((function(t){AlipayJSBridge.call("startShare",h.params,(function(e){h.sendShareResult(e.shareOk),t(e.shareOk)}))}))]}}))}))},e.weChatType="2",e}(ShareWay),HebeiBank=function(t){function e(){var e=t.call(this)||this;return e.name="河北银行",e.params={shareWay:"WECHAT_SHARE_WAY_WEBPAGE"},e}return __extends(e,t),e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return __generator(this,(function(l){return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=i,this.params.linkUrl=n,this.params.content=o,this.params.image=a,s=encodeURIComponent(JSON.stringify(this.params)),window.location.href="hbb/share_to_wechar.do?"+s,[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),ChengduBank=function(t){function e(){var e=t.call(this)||this;return e.name="成都银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!bocd.wxShare]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,l=this;return __generator(this,(function(h){switch(h.label){case 0:return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=i,this.params.hrefUrl=n,this.params.content=o,[4,Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.e)(a)];case 1:return s=h.sent(),this.params.imgUrl=s.replace(/^data:image\/\w+;base64,/,""),bocd.ready((function(){bocd.wxShare(l.params,(function(){}))})),[2,t.prototype.callShare.call(this,e,r)]}}))}))},e}(ShareWay),Yinhuajijin=function(t){function e(){var e=t.call(this)||this;return e.name="银华基金",e.params={},e}return __extends(e,t),e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,l,h;return __generator(this,(function(u){return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=i,this.params.link=n,this.params.desc=o,this.params.imgUrl=a,s=r.shareType,l=void 0===s?"":s,this.params.shareType=l,h=JSON.stringify(this.params),location.href="shlb://share?"+h,[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),ZhaoshangBank=function(t){function e(){var e=t.call(this)||this;return e.name="招商银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/MPBank/i)]}))}))},e.prototype.callShare=function(t,e){var r=this,n=t.url,i=t.title,o=t.content,a=t.thumbnail;this.params.title=i,this.params.url=n,this.params.text=o,this.params.thumbUrl=a;var s=e.type,l=void 0===s?"url":s,h=e.channelList,u=void 0===h?["weixinsession","weixintimeline"]:h;return new Promise((function(t){cmblapi.shareInfoWithUI({type:l,channelList:u,shareContent:r.params,success:function(e){r.sendShareResult(!0),t(!0)},fail:function(e){r.sendShareResult(!1,e),t(!1)}})}))},e}(ShareWay),isNewVersion=1==queryParams.isnewmobilebank,TailongBank=function(t){function e(){var e=t.call(this)||this;return e.name="泰隆银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,document.cookie.indexOf("transfer=channelType=mobilebank")>=0]}))}))},e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){isNewVersion?window.AlipayJSBridge?t(!0):document.addEventListener("AlipayJSBridgeReady",(function(){t(!0)}),!1):t(!0)}))]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;this.params.title=i,this.params.contentDetail=n,this.params.desc=o,this.params.icon=a;var s=r.type,l=void 0===s?"url":s,h=r.channelType,u=void 0===h?"0":h;if(this.params.type=l,this.params.channelType=u,isNewVersion)AlipayJSBridge.call("ares_shareManager",this.params,(function(t){console.info("TailongBank3.0分享回调:",t)}));else if(window.bridge)bridge.gotoNativeShare(i,o,n,a);else{var c=document.createElement("iframe");c.style.display="none",c.src="bridge:@/gotoNativeShare@/"+i+"@/"+o+"@/"+n+"@/"+a,document.documentElement.appendChild(c),setTimeout((function(){document.documentElement.removeChild(c)}),0)}return t.prototype.callShare.call(this,e,r)},e}(ShareWay),ZhongxinBank=function(t){function e(){var e=t.call(this)||this;return e.name="中信银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/CiticBankMobile/i)]}))}))},e.prototype.init=function(t){return new Promise((function(t){window.bridgeReady?t(!0):document.addEventListener("deviceready",(function(){t(!0)}))}))},e.prototype.callShare=function(t,e){var r=this,n=t.url,i=t.title,o=t.content,a=t.thumbnail;this.params.title=i,this.params.webpageUrl=n,this.params.description=o,this.params.thumbUrl=a;var s=e.platforms,l=void 0===s?["Wechat","WechatMoments"]:s,h=e.shareType,u=void 0===h?"webpage":h;return this.params.platforms=l,this.params.shareType=u,new Promise((function(t){bank.sharePlugin.share(r.params,(function(e){this.sendShareResult(!0,e),t(!0)}),(function(e){this.sendShareResult(!1,e),t(!1)}))}))},e}(ShareWay),MinshengBank=function(t){function e(){var e=t.call(this)||this;return e.name="民生银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/CMBC/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a;return __generator(this,(function(s){return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=i,this.params.linkUrl=n,this.params.content=o,this.params.image=a,window.title=i,window.weixinDec=o,window.weiboDec=o,window.weixinUrl=n,window.weiboUrl=n,window.pictureURL=a,shareweb(),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),HuaxingBank=function(t){function e(){var e=t.call(this)||this;return e.name="华兴银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/ghbMobileBank/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,l;return __generator(this,(function(h){return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=i,this.params.linkUrl=n,this.params.content=o,this.params.image=a,s=r.channelType,l=void 0===s?2:s,this.params.type=l,AlipayJSBridge.call("shareTo",{title:i,desc:o,content:n,type:l,contentType:"url"}),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),JiansheBank=function(t){function e(){var e=t.call(this)||this;return e.name="建设银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/CloudMercWebView/i)]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(i){return n=r.shareID,this.params.share_id=n,CCBBridge.requestNative(JSON.stringify({action:"share",params:{text:"",title:"",url:"",image:"",type:"",base64Pic:""}}),""),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),ZhujiangzhixiaoBank=function(t){function e(){var e=t.call(this)||this;return e.name="珠江直销银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t,e;return __generator(this,(function(r){try{t=!!webkit.messageHandlers.shareByZxbank.postMessage}catch(t){}try{e=!!zxbank.shareByZxbank}catch(t){}return[2,t||e]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;return this.params.title=i,this.params.shareUrl=n,this.params.subTitle=o,this.params.logoUrl=a,this.params.shareType="1","iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)()?webkit.messageHandlers.shareByZxbank.postMessage(this.params):zxbank.shareByZxbank(i,o,a,n,1),t.prototype.callShare.call(this,e,r)},e}(ShareWay),GuangzhouNongshangBank=function(t){function e(){var e=t.call(this)||this;return e.name="广州农商行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/GRC_BANK/i)]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;return this.params.title=i,this.params.pageurl=n,this.params.content=o,this.params.imagePath=a,"iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)()?iphone.SP_share(i,o,a,n):SysClientJs.SP_share(i,o,a,n),t.prototype.callShare.call(this,e,r)},e}(ShareWay),eventCode$1="558",PufaBank=function(t){function e(){var e=t.call(this)||this;return e.name="浦发银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/SpdbMobile/)]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;this.params.title=i,this.params.url=n,this.params.text=o,this.params.thumbUrl=a;var s=r.type,l=r.channelList,h=void 0===l?["weixinsession","weixintimeline","sms"]:l,u=r.isAPP,c=void 0===u?"":u,f=JSON.stringify({isAPP:c,type:s,channelList:h,shareContent:this.params,success:"successEvent",fail:"failEvent"});return window.getJson=function(){return f},"iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)()?WebViewJavascriptBridge.callHandler(eventCode$1,{eventName:"getJson()",eventCode:eventCode$1}):SysClientJs.shareInfoWithUI(f),t.prototype.callShare.call(this,e,r)},e}(ShareWay),eventCode="114",scenes={WXSceneSession:"1",WXSceneTimeline:"2"},PufaBankNew=function(t){function e(){var e=t.call(this)||this;return e.name="浦发银行(新)",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/SpdbMobile/)]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail,s=r.scene,l=void 0===s?"WXSceneSession":s;if("iOS"===Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)()){this.params.title=i,this.params.shareUrl=n,this.params.description=o,this.params.imageUrl=a,this.params.scene=scenes[l],this.params.type="1";var h=JSON.stringify(this.params);window.getJson=function(){return h},WebViewJavascriptBridge.callHandler(eventCode,{eventName:"getJson()",eventCode:eventCode})}else{this.params.title=i,this.params.link=n,this.params.desc=o,this.params.imgUrl=a,this.params.flag=l;var u=JSON.stringify(this.params);SysClientJs.FinanceWXShare(u)}return t.prototype.callShare.call(this,e,r)},e}(ShareWay),JiangsuBank=function(t){function e(){var e=t.call(this)||this;return e.name="江苏银行",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){t=!1;try{ThirdApp.getVersion(),t=!0}catch(t){}return[2,t]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;this.params.title=i,this.params.hrefUrl=n,this.params.content=o,this.params.imgUrl=a;var s=r.type,l=void 0===s?"WX,PYQ":s,h=r.shareType,u=void 0===h?"WebPage":h;return ThirdApp.wxShare(i,o,n,a,l,u),t.prototype.callShare.call(this,e,r)},e}(ShareWay),JiangsuBankTiantianlicai=function(t){function e(){var e=t.call(this)||this;return e.name="江苏银行天天理财",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/JSBCHINA/i)]}))}))},e.prototype.callShare=function(t,e){return __awaiter(this,void 0,void 0,(function(){var r,n,i,o,a,s,l=this;return __generator(this,(function(h){switch(h.label){case 0:return r=t.url,n=t.title,i=t.content,o=t.thumbnail,this.params.title=n,this.params.url=r,this.params.content=i,this.params.iconUrl=o,a=e.platform,s=void 0===a?"2":a,this.params.platform=s,[4,ensureLogin()];case 1:return h.sent(),[2,new Promise((function(t){jsSDK.share(l.params,(function(e){l.sendShareResult(e),t(e)}))}))]}}))}))},e}(ShareWay);function ensureLogin(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t,e){jsSDK.getUserInfo((function(r){r?t():jsSDK.startLogin((function(){jsSDK.getUserInfo((function(r){r?t():e("need login")}))}))}))}))]}))}))}var HuifengHuixuan=function(t){function e(){var e=t.call(this)||this;return e.name="汇丰汇选",e.params={},e}return __extends(e,t),e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){ra.ready({success:function(e){t(!0)},error:function(e){console.info("汇丰惠选初始化失败:",e),t(!1)}})}))]}))}))},e.prototype.callShare=function(e,r){var n=e.url,i=e.title,o=e.content,a=e.thumbnail;return this.params.title=i,this.params.linkUrl=n,this.params.description=o,this.params.thumbImage=a,ra.share({params:this.params,success:function(t){}}),t.prototype.callShare.call(this,e,r)},e}(ShareWay),commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return commonjsRequire(t,null==e?r.path:e)}},r.exports),r.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var dist=createCommonjsModule((function(module,exports){var factory;factory=function(){var execBridge=function(t,e,r){var n,i=function(t,e,r){var n=Math.floor(4e4*Math.random()+1e3),i=window.location.href,o="hsbcb_"+n;window[o]=r,hsbridge.exec(i,t,o,JSON.stringify(e))};return window.LightJSBridge={call:i,callbackFromNative:function(t,e){if(t){var r=window[t];if(!r)return;r(e)}},pageShouldBack:function(){return"true"},setPulldownRefreshBGColor:function(t){try{window.callnativemethod.setPulldownRefreshBGColor(t)}catch(t){}},switchPulldownRefresh:function(t){try{window.callnativemethod.enablePulldownRefresh(t)}catch(t){}},reloadCurrentPage:function(){try{window.callnativemethod.reloadCurrentPage()}catch(t){}}},(n=document.createEvent("Events")).initEvent("deviceready",!1,!1),document.dispatchEvent(n),i(t,e,r)},init=execBridge;function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var web=createCommonjsModule((function(t){if("web"===process.env.RUNTIME){var e=function(t){return{info:{error_code:"0",error_message:"success"},data:t}},r={"native.chooseImage":function(t,r){r&&r(e({result:"0"}))},"qrcode.scan":function(t,r){r&&r(e({result:"快速组织移动H5应用的协作开发、调试、应用发布"}))},"qrcode.gen":function(t,r){var n="https://fs-api.lightyy.com/service/utils/qrcode?url="+encodeURIComponent(t.desc);light.request(n,{},(function(t){var n=t.data;n.indexOf("'")&&(n=n.replace(/'/g,"%27")),r&&r(e({result:n,fullUrl:n}))}))},"native.switchTab":function(t,r){r&&r(e(""))},"native.version":function(t,r){r&&r(e({version:"1.0.1"}))},"native.getSystemInfo":function(t,r){r&&r(e({version:"1.0.1",pixelRatio:2,windowWidth:375,windowHeight:670,model:"iphone6",systemVersion:"10.3.1",platform:"IOS"}))},"native.getContactInfo":function(t,r){r&&r(e([{contactName:"张三",contactTelphone:"123123123123"},{contactName:"李四",contactTelphone:"123123123123"}]))},"native.getClipBoardContent":function(t,r){r&&r(e({type:"text",result:"移动金融，让生活更简单"}))},"native.setClipBoardContent":function(t,r){r&&r(e(""))},"native.fetchURL":function(t,r){r&&r(e({MIMEType:"text/html",result:"<html><title>我是标题</title><body>Hello World!</body></html>"}))},"native.readData":function(t,e){var r={info:{error_code:"0",error_message:"success"}};if(t.multi_param&&t.multi_param.length>0){var n=[];t.multi_param.forEach((function(t){var e=localStorage.getItem(t.key);localStorage.getItem(t.key)?n.push({data:{result:JSON.parse(e)}}):n.push({info:{error_code:"10003",error_message:"没有找到符合条件的数据：[key:"+t.key+"]"}})})),r.data=n}else if(localStorage.getItem(t.key)){var i=localStorage.getItem(t.key);i=JSON.parse(i),r.data={result:i}}else r.info.error_code="10003",r.info.error_message="没有找到符合条件的数据：[key:"+t.key+"]";e&&e(r)},"native.writeData":function(t,r){t.multi_param&&t.multi_param.length>0?t.multi_param.forEach((function(t){localStorage.setItem(t.key,JSON.stringify(t.value))})):localStorage.setItem(t.key,JSON.stringify(t.value)),r&&r(e(""))},"native.deleteData":function(t,r){t.multi_param&&t.multi_param.length>0?t.multi_param.forEach((function(t){localStorage.removeItem(t.key)})):localStorage.removeItem(t.key),r&&r(e(""))},"storage.clearData":function(t,r){localStorage.clear(),r&&r(e(null))},"storage.getDataInfo":function(t,r){for(var n=[],i=0;i<localStorage.length;i++)n.push(localStorage.key(i));r&&r(e({keys:n,currentSize:0}))},"native.imageAction":function(t,r){r&&r(e(""))},"native.back":function(t,e){if("0"!==t.number&&0!==t.number&&" "!=t.number&&(!t.number||/^[0-9]\d*$/.test(Number(t.number)))){var r="";r=t&&t.number?t.number>window.history.length-1?window.history.length-1:t.number:1,window.history.go(-r)}},"native.close":function(){window.history.back()},"native.getNetworkStatus":function(t,r){r&&r(e({result:"WIFI"}))},"native.getUDID":function(t,r){r&&r(e({UDID:"*********************"}))},"native.showDialog":function(t,r){r&&r(e({resultCode:"1"}))},"native.clearWidget":function(t,r){r&&r(e(""))},"native.getPerformanceInfo":function(t,r){r&&r(e({html:[{duration:512,networkType:"cellular",size:2048,gzip:!1,compress:!0,path:"/index.html",requestHeader:{},responseHeader:{}}],javascript:[],css:[],image:[],video:[],other:[]}))},"native.setMaxCacheSize":function(t,r){r&&r(e({result:"success"}))},"native.getLocationStatus":function(t,r){r&&r(e({authorizationStatus:4}))},"native.setScreenOrientation":function(t,r){r&&r(e({result:"success"}))},"native.setSupportScreenOrientation":function(t,r){r&&r(e({result:"success"}))},"native.sendContentBroadcast":function(t,r){r&&r(e(""))},"native.setMutipleLanguages":function(t,r){r&&r(e(""))},"social.share":function(t,r){r&&r(e(""))},"social.login":function(t,r){r&&r(e({result:{openId:"*******",userName:"*******",userHeadPic:"url"}}))},"social.launchMiniProgram":function(t,r){r&&r(e(""))},"head.addButton":function(t,r){r&&r(e(""))},"native.badge":function(t,r){r&&r(e(""))},"head.removeButton":function(t,r){r&&r(e(""))},"head.setBackgroundColor":function(t,r){r&&r(e(""))},"head.setSubtitle":function(t,r){r&&r(e(""))},"head.setTitle":function(t,r){r&&r(e(""))},"head.setSystemStatusBar":function(t,r){r&&r(e(""))},"system.openURL":function(t,r){location.href=t.url,r&&r(e(""))},"validate.preVerifyOpeation":function(t,r){r&&r(e({result:"true",isEnrolled:!0}))},"validate.verifyOpeation":function(t,r){r&&r(e({result:"success",authMode:"facial",errCode:0}))},"validate.preVerifyOperation":function(t,r){r&&r(e({result:"true",isEnrolled:!0}))},"validate.verifyOperation":function(t,r){r&&r(e({result:"success",authMode:"facial",errCode:0}))},"validate.supportedVerifyOperation":function(t,r){r&&r(e({supportMode:["facial"]}))},"system.appPreview":function(t,r){r&&r(e(""))},"lightview.startPerfMonitor":function(t,r){r&&r(e(""))},"lightview.stopPerfMonitor":function(t,r){r&&r(e(""))},"lightview.getPerfMonitorIfo":function(t,r){r&&r(e(""))},"user.logout":function(t,r){r&&r(e(""))},"push.setAlias":function(t,r){r&&r(e(""))},"user.login":function(t,r){r&&r(e(""))},"debug.open":function(t,r){r&&r(e(""))},"debug.close":function(t,r){r&&r(e(""))},"debug.check":function(t,r){r&&r(e(""))},"social.isAppInstalled":function(t,r){r&&r(e({result:"success",status:"true"}))},"quote.wizard":function(t,r){r&&r(e([{prod_code:"600060.SS",prod_name:"海信电器",hq_type_code:"XSHG"},{prod_code:"600570.SS",prod_name:"恒生电子",hq_type_code:"XSHG"},{prod_code:"300141.SZ",prod_name:"和顺电气",hq_type_code:"XSHG"},{prod_code:"300173.SZ",prod_name:"智慧松德",hq_type_code:"XSHG"}]))},"quote.real":function(t,r){r&&r(e(""))},"quote.sort":function(t,r){r&&r(e({sort:{}}))},"head.setSearchView":function(t,r){r&&r(e({status:"click",result:"success"}))},"head.setAlpha":function(t,r){r&&r(e(""))},"native.getSafeArea":function(t,r){r&&r(e(""))},"push.getTags":function(t,r){r&&r(e(""))},"push.deleteTags":function(t,r){r&&r(e(""))},"push.addTags":function(t,r){r&&r(e(""))},"push.getRegistrationID":function(t,r){r&&r(e(""))},"mystock.add":function(t,r){r&&r(e(""))},"mystock.delete":function(t,r){r&&r(e(""))},"mystock.list":function(t,r){r&&r(e(""))},"safekeyboard.show":function(t,r){r&&r(e({index:"2",action:"plus",content:"2"}))},"safekeyboard.hide":function(t,r){r&&r(e(""))},"tradekeyboard.show":function(t,r){r&&r(e({index:"2",action:"plus",content:"2"}))},"tradekeyboard.hide":function(t,r){r&&r(e(""))},"chat.connectRong":function(t,r){r&&r(e(""))},"chat.getConverationRecords":function(t,r){r&&r(e(""))},"chat.disconnectRong":function(t,r){r&&r(e(""))},"chat.startConversition":function(t,r){r&&r(e(""))},"location.getLocation":function(t,r){r&&r(e({result:{longitude:32.34444,latitude:33.3333}}))},"location.stopLocation":function(t,r){r&&r(e(""))},"location.getLocationOnce":function(t,r){r&&r(e({result:{longitude:32.34444,latitude:33.3333}}))},"location.startLocationUpdate":function(t,r){r&&r(e({result:{error_code:0,error_message:"success"}}))},"location.stopLocationUpdate":function(t,r){r&&r(e({result:{error_code:0,error_message:"success"}}))},"location.onLocationChange":function(t,r){r&&r(e({result:{longitude:120.17204025898972,latitude:30.191234613107376}}))},"location.offLocationChange":function(t,r){r&&r(e({result:{error_code:0,error_message:"success"}}))},"user.setInfo":function(t,r){r&&r(e(""))},"media.audio.startRecord":function(t,r){r&&r(e(""))},"media.audio.stopRecord":function(t,r){r&&r(e(""))},"user.getInfo":function(t,r){r&&r(e({result:{uid:"A00****941",tk:"******************",mobile:"13*******32",nickname:"light",photoURL:"url",extraInfo:{key1:"value1",key2:"value2"}}}))},"trade.pay":function(t,r){r&&r(e(""))},"native.imagePreview":function(t,r){r&&r(e(""))},"file.preview":function(t,r){r&&r(e(""))},"file.save":function(t,r){r&&r(e(""))},"file.chooseFile":function(t,r){r&&r(e(""))},"push.addEventListener":function(t,r){r&&r(e(""))},"iap.purchase":function(t,r){r&&r(e(""))},"log.info":function(t,r){r&&r(e(""))},"log.error":function(t,r){r&&r(e(""))},"log.debug":function(t,r){r&&r(e(""))},"log.warn":function(t,r){r&&r(e(""))},"log.verbose":function(t,r){r&&r(e(""))},"native.setTabBarBadge":function(t,r){r&&r(e(""))},"analytics.sendEvent":function(t,r){r&&r(e(""))},"native.getCurrentPages":function(t,r){r&&r(e([{url:"url"},{url:"ad.html"}]))},"image.save":function(t,r){r&&r(e(""))},"native.getStatusBarHeight":function(t,r){r&&r(e({height:44}))},"stream.fetch":function(t,r){r&&r(e({status:200,ok:!0,statusText:"****",data:"****",headers:"****"}))},"calendar.createEvent":function(t,r){r&&r(e({id:"B441B621-4F8D-4257-BA0C-575B4DCC2190:27866329-8AF3-4C7E-B618-24E46937886A"}))},"calendar.deleteEvent":function(t,r){r&&r(e(""))},"calendar.retrieveEvent":function(t,r){r&&r(e([{id:"aabbbaba1",title:"light1",startDate:"2019-6-15 14:35:00",endDate:"2019-6-15 14:40:00",location:"hangzhou",notes:"备注信息",alarmOffset:5},{id:"aabbbaba2",title:"light2",startDate:"2019-6-15 14:35:00",endDate:"2019-6-15 14:40:00",location:"hangzhou",notes:"备注信息2",alarmOffset:5}]))},"calendar.updateEvent":function(t,r){r&&r(e({id:"B441B621-4F8D-4257-BA0C-575B4DCC2190:27866329-8AF3-4C7E-B618-24E469378843"}))},"res.getBase64":function(t,r){r&&r(e({result:"dGhpcyBpcyBhIGV4YW1wbGU="}))},"image.picker":function(t,r){r&&r(e({resourcePaths:["LightResource://d676jdjk36666.image"],sizes:[12345]}))},"image.watermarkText":function(t,r){r&&r(e({resourcePath:"LightResource://d676jdjk36666.image"}))},"image.watermarkLogo":function(t,r){r&&r(e({resourcePath:"LightResource://d676jdjk36666.image"}))},"overlay.show":function(t,r){r&&r(e({data:"overlay click"}))},"screen.setKeepScreenOn":function(t,r){r&&r(e({result:"success"}))},"screen.getCapturedStatus":function(t,r){r&&r(e({isCaptured:!1}))},"head.setNavigationBarStyle":function(t,r){r&&r(e({result:"success"}))},"push.getNotificationStatus":function(t,r){r&&r(e({authorizationStatus:1}))},"crypto.sm2CreateKeyPair":function(t,r){r&&r(e({publicKey:"************",privateKey:"************"}))},"crypto.sm2Encrypt":function(t,r){r&&r(e({cipherText:"************"}))},"crypto.sm2Decrypt":function(t,r){r&&r(e({plainText:"hundsun"}))},"crypto.sm2Sign":function(t,r){r&&r(e({signature:"************"}))},"crypto.sm2Verify":function(t,r){r&&r(e({result:1}))},"crypto.sm3Digest":function(t,r){r&&r(e({digest:"************"}))},"crypto.sm4Encrypt":function(t,r){r&&r(e({cipherText:"************"}))},"crypto.sm4Decrypt":function(t,r){r&&r(e({plainText:"hundsun"}))},"system.addSchemeListener":function(t,r){r&&r(e({url:"wx584617b8b65a1157",extras:{tk:"************",user:"***",psw:"***"}}))},"system.checkPermission":function(t,r){r&&r(e({result:{error_code:0,error_message:"success"}}))},"system.checkThenRequestPermission":function(t,r){r&&r(e({result:{error_code:0,error_message:"success"}}))},"system.settingPermission":function(t,r){r&&r(e(""))},"negativemenu.open":function(t,r){r&&r(e(""))},"negativemenu.close":function(t,r){r&&r(e(""))},"audioplay.createAudioContext":function(t,r){r&&r(e({playerId:"PID2114453524",type:"onCreated",duration:30,buffered:1}))},"audioplay.destory":function(t,r){r&&r(e({playerId:"PID2114453524"}))},"audioplay.getAudioOption":function(t,r){r&&r(e({playerId:"PID2114453524",src:"src",autoplay:!1,loop:!0,volume:1,playbackRate:1.6,startTime:0,duration:30,currentTime:10,buffered:20,paused:!0,ended:!1}))},"audioplay.pause":function(t,r){r&&r(e({playerId:"PID2114453524"}))},"audioplay.play":function(t,r){r&&r(e({playerId:"PID2114453524"}))},"audioplay.resetAudioOption":function(t,r){r&&r(e({playerId:"PID2114453524",duration:30,currentTime:10,buffered:20,paused:!0,ended:!1}))},"audioplay.seek":function(t,r){r&&r(e({playerId:"PID2114453524"}))},"audioplay.stop":function(t,r){r&&r(e({playerId:"PID2114453524"}))},"vibrator.vibrateLong":function(t,r){r&&r(e())},"vibrator.vibrateShort":function(t,r){r&&r(e())},"image.compress":function(t,r){r&&r(e({tempFilePath:"LightResource://xxx.image"}))},"image.getImageInfo":function(t,r){r&&r(e({width:100,height:100,type:"png"}))},"video.choose":function(t,r){r&&r(e({tempFilePath:"LightResource://xxx.mp4",duration:10,size:1e3,height:1080,width:1920}))},"video.compress":function(t,r){r&&r(e({tempFilePath:"LightResource://xxx.mp4",size:600}))},"upload.build":function(t,r){r&&r(e({taskId:"BD2114453524"}))},"upload.abort":function(t,r){r&&r(e())},"upload.uploadFile":function(t,r){r&&r(e({taskId:"BD2114453524",type:"header",result:{Connection:"Keep-Alive","Content-Length":"264","Content-Type":"text/html; charset=UTF-8",Date:"Mon, 08 Jun 2020 06:40:12 GMT","Keep-Alive":"timeout=5, max=100",Server:"Apache/2.4.34 (Unix) PHP/7.1.23","X-Android-Received-Millis":"1591598416243","X-Android-Response-Source":"NETWORK 200","X-Android-Selected-Protocol":"http/1.1","X-Android-Sent-Millis":"1591598413215","X-Powered-By":"PHP/7.1.23"}}))},"file.downloadBuild":function(t,r){r&&r(e({taskId:"BD2114453524"}))},"file.downloadAbort":function(t,r){r&&r(e())},"file.downloadFile":function(t,r){r&&r(e({taskId:"BD2114453524",type:"header",result:{Connection:"Keep-Alive","Content-Length":"264","Content-Type":"text/html; charset=UTF-8",Date:"Mon, 08 Jun 2020 06:40:12 GMT","Keep-Alive":"timeout=5, max=100",Server:"Apache/2.4.34 (Unix) PHP/7.1.23","X-Android-Received-Millis":"1591598416243","X-Android-Response-Source":"NETWORK 200","X-Android-Selected-Protocol":"http/1.1","X-Android-Sent-Millis":"1591598413215","X-Powered-By":"PHP/7.1.23"}}))},"file.saveFile":function(t,r){r&&r(e())},"file.getFileInfo":function(t,r){r&&r(e())},"file.getSavedFileInfo":function(t,r){r&&r(e())},"file.getSavedFileList":function(t,r){r&&r(e())},"file.removeSavedFile":function(t,r){r&&r(e())},callNative:function(t,r,n){n&&n(e(""))},"accelerometer.start":function(t,r){r&&r(e({}))},"accelerometer.stop":function(t,r){r&&r(e({}))},"accelerometer.onChange":function(t,r){r&&r(e({callbackId:"cbId1629941280000",x:1,y:1,z:1}))},"accelerometer.offChange":function(t,r){r&&r(e({}))}};t.exports=function(t,e,n){JSON.stringify(e||{}),r[t]?r[t](e,n):r.callNative(t,e,n)}}})),bridge;if("web"===process.env.RUNTIME)if(navigator.userAgent.toLowerCase().indexOf("lightos")>-1){var execBridgeCall=init;bridge={call:function(t,e,r){window.LightJSBridge&&window.LightJSBridge.call?window.LightJSBridge.call(t,e,r):execBridgeCall(t,e,r)}}}else if(location.search.indexOf("debugMockHost=")>-1){var getParameterByName=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null==e?"":decodeURIComponent(e[1])},host=getParameterByName("debugMockHost"),url="ws://"+host+"/debugMock/channel",callbackFunc=null,socket=new WebSocket(url),p=new Promise((function(t,e){socket.addEventListener("open",(function(e){t(socket)}))}));socket.addEventListener("message",(function(t){"LightDebug.debugMock.callback2"===JSON.parse(t.data).method&&callbackFunc&&callbackFunc(JSON.parse(t.data).message)})),socket.addEventListener("error",(function(t){console.error("连接错误，请开启 debugServer！")})),bridge={call:function(t,e,r){p.then((function(n){var i={message:{func:t,params:e},method:"LightDebug.debugMock.execute"};n.send(JSON.stringify(i)),JSON.stringify(e||{}),callbackFunc=r}))}}}else{var webMockCall=web;bridge={call:function(t,e,r,n){webMockCall(t,e,n||r)}}}else"native"===process.env.RUNTIME?bridge={call:function(t,e,r){weex.requireModule("LightJSBridge").call(t,e,r)}}:"miniapp"===process.env.RUNTIME?bridge={call:function(t,e,r){if(e&&void 0!==e.bindPage){var n=e.bindPage;delete e.bindPage,LightJSBridge.call(t,e,r,n)}else LightJSBridge.call(t,e,r)}}:"globalJSCore"===process.env.RUNTIME&&(bridge={call:function(t,e,r){LightJSBridge.call(t,e,r)}});var getMockResult=function(t){return{info:{error_code:"0",error_message:"success"},data:t}},native_1={chooseImage:function(t,e){bridge.call("native.chooseImage",t,(function(r){r.info&&r.info.error_code&&"0"!=r.info.error_code?r.info={error_code:r.info.error_code,error_message:r.info.error_extinfo}:"CAMERA_MUTIL-ALBUM"==t.imagePickType||"MUTIL-ALBUM"==t.imagePickType?r.data.imageBase64.forEach((function(t,e){r.data.imageBase64[e]=t.replace(/\r\n/g,""),r.data.imageBase64[e]=t.replace(/\s+/g,"")})):(r.data.result=r.data.result.replace(/\r\n/g,""),r.data.result=r.data.result.replace(/\s+/g,"")),e&&e(r)}),e)},scanCode:function(t,e){bridge.call("qrcode.scan",t,e)},genCode:function(t,e){bridge.call("qrcode.gen",t,(function(t){t.data&&t.data.result&&(t.data.fullUrl="data:image/png;base64,"+t.data.result),e(t)}),e)},switchTab:function(t,e){bridge.call("native.switchTab",t,e)},getVersion:function(t,e){bridge.call("native.version",t,e)},getSystemInfo:function(t,e){bridge.call("native.getSystemInfo",t,e)},getContactInfo:function(t,e){bridge.call("native.getContactInfo",t,e)},getClipBoardContent:function(t,e){bridge.call("native.getClipBoardContent",t,e)},setClipBoardContent:function(t,e){bridge.call("native.setClipBoardContent",t,e)},fetchURL:function(t,e){bridge.call("native.fetchURL",t,e)},readData:function(t,e){bridge.call("native.readData",t,(function(t){t.info.error_code&&"0"!=t.info.error_code&&(t.info={error_code:t.info.error_code,error_message:t.info.error_extinfo}),e(t)}),e)},writeData:function(t,e){bridge.call("native.writeData",t,e)},deleteData:function(t,e){bridge.call("native.deleteData",t,e)},clearData:function(t,e){bridge.call("storage.clearData",t,e)},getDataInfo:function(t,e){bridge.call("storage.getDataInfo",t,e)},imageAction:function(t,e){bridge.call("native.imageAction",t,e)},back:function(t,e){var r=t&&(t.number||0===t.number)?{number:t.number+""}:{};bridge.call("native.back",r,e)},close:function(){bridge.call("native.close",{},null)},getNetworkStatus:function(t,e){bridge.call("native.getNetworkStatus",t,e)},getUDID:function(t,e){bridge.call("native.getUDID",t,e)},showDialog:function(t,e){bridge.call("native.showDialog",t)},clearWidget:function(t,e){bridge.call("native.clearWidget",t,e)},getPerformanceInfo:function(t,e){bridge.call("native.getPerformanceInfo",{},e)},setMaxCacheSize:function(t,e){bridge.call("native.setMaxCacheSize",t,e)},getLocationStatus:function(t,e){bridge.call("native.getLocationStatus",t,e)},setScreenOrientation:function(t,e){bridge.call("native.setScreenOrientation",t,e)},setSupportScreenOrientation:function(t,e){bridge.call("native.setSupportScreenOrientation",t,e)},sendContentBroadcast:function(t,e){bridge.call("native.sendContentBroadcast",t,e)},setMutipleLanguages:function(t,e){bridge.call("native.setMutipleLanguages",t,e)},socialShare:function(t,e){bridge.call("social.share",t,e)},socialLogin:function(t,e){bridge.call("social.login",t,e)},launchMiniProgram:function(t,e){bridge.call("social.launchMiniProgram",t,e)},addButton:function(params,cb){if("native"===process.env.RUNTIME){var originAction=params.action;if("function"!=typeof params.action){var event=weex.requireModule("event");params.action=function(){if(/^(http|https|file):\/\//i.test(originAction))event.openNative("web",{startPage:originAction});else if(/^gmu:\/\/(.*)#(.*)/i.exec(originAction)){var regCheck=/^gmu:\/\/(.*)#(.*)/i.exec(originAction);event.openNative(regCheck[1],{pageId:regCheck[2]})}else if(/^gmu:\/\/(.*)\?startPage=(.*)/i.exec(originAction)){var regCheck$1=/^gmu:\/\/(.*)\?startPage=(.*)/i.exec(originAction),options={};if(originAction.indexOf("&")){var gotItems=originAction.split("&");gotItems.forEach((function(t,e){e&&(options[t.split("=")[0]]=t.split("=")[1])}))}event.openNative(regCheck$1[1],Object.assign({startPage:decodeURIComponent(regCheck$1[2].split("&")[0])},options))}else if(/^gmu:\/\/miniapp\?id=/i.test(originAction))event.openNative("miniapp",{id:/^gmu:\/\/miniapp\?id=(.*)/i.exec(originAction)[1]});else if(/^gmu:\/\/(.*)/i.exec(originAction)){var regCheck$2=/^gmu:\/\/(.*)$/i.exec(originAction);event.openNative(regCheck$2[1])}var checkJS=/^javascript:(.*)$/gi.exec(originAction);checkJS&&checkJS[1]&&eval(checkJS[1])}}params.position&&"left"==params.position?(weex.requireModule("head").setLeftItem(params,params.action),cb&&cb(getMockResult())):(weex.requireModule("head").setRightItem(params,params.action),cb&&cb(getMockResult()))}if("web"===process.env.RUNTIME){if("function"==typeof params.action){var _actionFunction="actionFunction_"+Math.floor(1e3*Math.random());window[_actionFunction]=params.action,params.action="javascript:"+_actionFunction+"();"}bridge.call("head.addButton",params,cb)}},showNativeBadge:function(t,e){bridge.call("native.badge",t,e)},removeButton:function(t,e){"native"===process.env.RUNTIME?weex.requireModule("head").removeButton(t,e):bridge.call("head.removeButton",t,e)},setBackgroundColor:function(t,e){bridge.call("head.setBackgroundColor",t,e)},setSubtitle:function(t,e){bridge.call("head.setSubtitle",t,e)},setTitle:function(t,e){bridge.call("head.setTitle",t,e)},setSystemStatusBar:function(t,e){null===t.hidden&&(t.hidden=""),bridge.call("head.setSystemStatusBar",t,e)},openURL:function(t,e){bridge.call("system.openURL",t,e)},preVerifyOpeation:function(t,e){bridge.call("validate.preVerifyOpeation",t,e)},verifyOpeation:function(t,e){bridge.call("validate.verifyOpeation",t,e)},preVerifyOperation:function(t,e){bridge.call("validate.preVerifyOperation",t,e)},verifyOperation:function(t,e){bridge.call("validate.verifyOperation",t,e)},supportedVerifyOperation:function(t,e){bridge.call("validate.supportedVerifyOperation",t,e)},appPreview:function(t,e){bridge.call("system.appPreview",t,e)},startPerfMonitor:function(t,e){bridge.call("lightview.startPerfMonitor",t,e)},stopPerfMonitor:function(t,e){bridge.call("lightview.stopPerfMonitor",t,e)},getPerfMonitorInfo:function(t,e){bridge.call("lightview.getPerfMonitorIfo",t,e)},userlogout:function(t,e){bridge.call("user.logout",{},e)},pushSetAlias:function(t,e){bridge.call("push.setAlias",t,e)},userLogin:function(t,e){bridge.call("user.login",t,e)},debugOpen:function(t,e){bridge.call("debug.open",t,e)},debugClose:function(t,e){bridge.call("debug.close",t,e)},debugCheck:function(t,e){bridge.call("debug.check",t,e)},socialAppInstalled:function(t,e){bridge.call("social.isAppInstalled",t,e)},quoteWizard:function(t,e){bridge.call("quote.wizard",t,e)},quoteReal:function(t,e){bridge.call("quote.real",t,e)},quoteSort:function(t,e){bridge.call("quote.sort",t,e)},headSetSearchView:function(t,e){bridge.call("head.setSearchView",t,(function(r){t&&"input"==t.type||r&&r.data&&"click"==r.data.result&&(r.data.result="success"),e&&e(r)}),e)},headSetAlpha:function(t,e){bridge.call("head.setAlpha",t,e)},getSafeArea:function(t,e){bridge.call("native.getSafeArea",t,e)},pushGetTags:function(t,e){bridge.call("push.getTags",t,e)},pushDeleteTags:function(t,e){bridge.call("push.deleteTags",t,e)},pushAddTags:function(t,e){bridge.call("push.addTags",t,e)},pushGetRegistrationID:function(t,e){bridge.call("push.getRegistrationID",t,e)},mystockAdd:function(t,e){bridge.call("mystock.add",t,e)},mystockDelete:function(t,e){bridge.call("mystock.delete",t,e)},mystockList:function(t,e){bridge.call("mystock.list",t,e)},safekeyboardShow:function(t,e){bridge.call("safekeyboard.show",t,e)},safekeyboardHide:function(t,e){bridge.call("safekeyboard.hide",t,e)},tradekeyboardShow:function(t,e){bridge.call("tradekeyboard.show",t,e)},tradekeyboardHide:function(t,e){bridge.call("tradekeyboard.hide",t,e)},chatConnectRong:function(t,e){bridge.call("chat.connectRong",t,e)},chatGetConverationRecords:function(t,e){bridge.call("chat.getConverationRecords",t,e)},chatDisconnectRong:function(t,e){bridge.call("chat.disconnectRong",t,e)},chatStartConversition:function(t,e){bridge.call("chat.startConversition",t,e)},getLocation:function(t,e){bridge.call("location.getLocation",t,e)},stopLocation:function(t,e){bridge.call("location.stopLocation",t,e)},getLocationOnce:function(t,e){bridge.call("location.getLocationOnce",t,e)},startLocationUpdate:function(t,e){bridge.call("location.startLocationUpdate",t,e)},stopLocationUpdate:function(t,e){bridge.call("location.stopLocationUpdate",t,e)},onLocationChange:function(t,e){bridge.call("location.onLocationChange",t,e)},offLocationChange:function(t,e){bridge.call("location.offLocationChange",t,e)},userSetInfo:function(t,e){bridge.call("user.setInfo",t,e)},startRecord:function(t,e){bridge.call("media.audio.startRecord",t,e)},stopRecord:function(t,e){bridge.call("media.audio.stopRecord",{},null)},userGetInfo:function(t,e){bridge.call("user.getInfo",{},(function(t){t.data?e&&e(t.data.result):e()}),e)},tradePay:function(t,e){bridge.call("trade.pay",t,e)},imagePreview:function(t,e){bridge.call("native.imagePreview",t,e)},filePreview:function(t,e){bridge.call("file.preview",t,e)},fileSave:function(t,e){bridge.call("file.save",t,e)},chooseFile:function(t,e){bridge.call("file.chooseFile",{},e)},pushAddEventListener:function(t,e){bridge.call("push.addEventListener",t,e)},iapPurchase:function(t,e){bridge.call("iap.purchase",t,e)},log:function(t,e){var r={content:t.content};switch(t.level){case"info":bridge.call("log.info",r,e);break;case"error":bridge.call("log.error",r,e);break;case"debug":bridge.call("log.debug",r,e);break;case"warn":bridge.call("log.warn",r,e);break;case"verbose":bridge.call("log.verbose",r,e);break;default:bridge.call("log.info",r,e)}},setTabBarBadge:function(t,e){bridge.call("native.setTabBarBadge",t,e)},analyticsSendEvent:function(t,e){bridge.call("analytics.sendEvent",t,e)},getCurrentPages:function(t,e){bridge.call("native.getCurrentPages",{},e)},saveImage:function(t,e){bridge.call("image.save",t,e)},getStatusBarHeight:function(t,e){bridge.call("native.getStatusBarHeight",{},e)},streamFetch:function(t,e){bridge.call("stream.fetch",t,e)},createCalendar:function(t,e){bridge.call("calendar.createEvent",t,e)},deleteCalendar:function(t,e){bridge.call("calendar.deleteEvent",t,e)},queryCalendar:function(t,e){bridge.call("calendar.retrieveEvent",t,e)},updateCalendar:function(t,e){bridge.call("calendar.updateEvent",t,e)},getBase64:function(t,e){bridge.call("res.getBase64",t,(function(t){t.data&&t.data.result&&(t.data.result=t.data.result.replace(/\r\n/g,""),t.data.result=t.data.result.replace(/\s+/g,"")),e&&e(t)}),e)},imagePicker:function(t,e){bridge.call("image.picker",t,e)},imageWatermarkText:function(t,e){bridge.call("image.watermarkText",t,e)},imageWatermarkLogo:function(t,e){bridge.call("image.watermarkLogo",t,e)},showOverlay:function(t,e){bridge.call("overlay.show",t,e)},keepScreenOn:function(t,e){bridge.call("screen.setKeepScreenOn",t,e)},getScreenCapturedStatus:function(t,e){bridge.call("screen.getCapturedStatus",t,e)},setStatusBarStyle:function(t,e){bridge.call("head.setNavigationBarStyle",t,e)},getNotificationStatus:function(t,e){bridge.call("push.getNotificationStatus",t,e)},createSm2KeyPair:function(t,e){bridge.call("crypto.sm2CreateKeyPair",t,e)},sm2Encrypt:function(t,e){bridge.call("crypto.sm2Encrypt",t,e)},sm2Decrypt:function(t,e){bridge.call("crypto.sm2Decrypt",t,e)},sm2Sign:function(t,e){bridge.call("crypto.sm2Sign",t,e)},sm2Verify:function(t,e){bridge.call("crypto.sm2Verify",t,e)},sm3Digest:function(t,e){bridge.call("crypto.sm3Digest",t,e)},sm4Encrypt:function(t,e){bridge.call("crypto.sm4Encrypt",t,e)},sm4Decrypt:function(t,e){bridge.call("crypto.sm4Decrypt",t,e)},addSchemeListener:function(t,e){bridge.call("system.addSchemeListener",t,e)},checkPermission:function(t,e){bridge.call("system.checkPermission",t,e)},checkThenRequestPermission:function(t,e){bridge.call("system.checkThenRequestPermission",t,e)},openNegativeMenu:function(t,e){bridge.call("negativemenu.open",t,e)},closeNegativeMenu:function(t,e){bridge.call("negativemenu.close",t,e)},settingPermission:function(t,e){bridge.call("system.settingPermission",t,e)},createAudio:function(t,e){bridge.call("audioplay.createAudioContext",t,(function(t){t.audio={play:function(e,r){(e=e||{}).playerId=t.data&&t.data.playerId?t.data.playerId:"",bridge.call("audioplay.play",e,r)},destroy:function(e,r){(e=e||{}).playerId=t.data&&t.data.playerId?t.data.playerId:"",bridge.call("audioplay.destory",e,r)},getAudioOption:function(e,r){(e=e||{}).playerId=t.data&&t.data.playerId?t.data.playerId:"",bridge.call("audioplay.getAudioOption",e,r)},pause:function(e,r){(e=e||{}).playerId=t.data&&t.data.playerId?t.data.playerId:"",bridge.call("audioplay.pause",e,r)},resetAudioOption:function(e,r){(e=e||{}).playerId=t.data&&t.data.playerId?t.data.playerId:"",bridge.call("audioplay.resetAudioOption",e,r)},seek:function(e,r){(e=e||{}).playerId=t.data&&t.data.playerId?t.data.playerId:"",bridge.call("audioplay.seek",e,r)},stop:function(e,r){(e=e||{}).playerId=t.data&&t.data.playerId?t.data.playerId:"",bridge.call("audioplay.stop",e,r)}},e(t)}))},startVibrate:function(t,e){"short"===t.mode?bridge.call("vibrator.vibrateShort",t,e):bridge.call("vibrator.vibrateLong",t,e)},writeGlobalData:function(t,e){console.error("writeGlobalData接口已经过期，请使用LightSDK.native.writeData");var r=Object.keys(t).length;Object.keys(t).forEach((function(n){null!==t[n]?bridge.call("native.writeData",{key:n,value:t[n]||{}},(function(){0==--r&&e&&e()})):bridge.call("native.deleteData",{key:n},(function(){0==--r&&e&&e()}))}))},readGlobalData:function(t,e){console.error("readGlobalData，请使用LightSDK.native.readData"),bridge.call("native.readData",{key:t},(function(t){t&&t.data&&t.data.result?e&&e(t.data.result):e&&e(null)}))},compressImage:function(t,e){bridge.call("image.compress",t,e)},getImageInfo:function(t,e){bridge.call("image.getImageInfo",t,e)},chooseVideo:function(t,e){bridge.call("video.choose",t,e)},compressVideo:function(t,e){bridge.call("video.compress",t,e)},uploadBuild:function(t,e){bridge.call("upload.build",t,e)},uploadAbort:function(t,e){bridge.call("upload.abort",t,e)},uploadFile:function(t,e){bridge.call("upload.uploadFile",t,e)},downloadBuild:function(t,e){bridge.call("file.downloadBuild",t,e)},downloadAbort:function(t,e){bridge.call("file.downloadAbort",t,e)},downloadFile:function(t,e){bridge.call("file.downloadFile",t,e)},saveDownloadFile:function(t,e){bridge.call("file.saveFile",t,e)},getFileInfo:function(t,e){bridge.call("file.getFileInfo",t,e)},getSavedFileInfo:function(t,e){bridge.call("file.getSavedFileInfo",t,e)},getSavedFileList:function(t,e){bridge.call("file.getSavedFileList",t,e)},removeSavedFile:function(t,e){bridge.call("file.removeSavedFile",t,e)},callNative:function(t,e,r){bridge.call(t,e,(function(t){r&&r(t)}))},startAccelerometer:function(t,e){bridge.call("accelerometer.start",t,e)},stopAccelerometer:function(t,e){bridge.call("accelerometer.stop",t,e)},onAccelerometerChange:function(t,e){bridge.call("accelerometer.onChange",t,e)},offAccelerometerChange:function(t,e){bridge.call("accelerometer.offChange",t,e)}};function request(t,e,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200===n.status?r(JSON.parse(n.responseText)):console.error(n.status))};var i=t;e&&Object.keys(e).length>0&&(i+="?"+parse2query(e)),n.open("GET",i,!0),n.send(null)}function parse2query(t){var e="";return Object.keys(t).forEach((function(r){e+=r+"="+t[r]+"&"})),e=e.substring(0,e.length-1)}var cid="",iid="",env=__ENV__;env&&env.link_id&&(cid=env.link_id);var light={request:function(t,e,r){request(t,e,r)},register:function(t){console.error("此接口已经过期，将在下个版本移除！！！"),cid=t.cid||"",iid=t.iid||""},config:{get:function(t,e){native_1.readData({key:"__LIGHT_configParams"},(function(r){!(r&&r.data&&r.data.result)||e&&e.disableCache?request("https://fs-api.lightyy.com/flatservice/param/getparams.json",{compId:cid,instanceId:iid},(function(r){t(JSON.stringify(r.data)),r.data&&r.data!={}&&(e&&!0===e.disableCache||native_1.writeData({key:"__LIGHT_configParams",value:JSON.stringify(r.data)}))})):"object"==typeof r.data.result?t(JSON.stringify(r.data.result)):t(r.data.result)}))}},openAPI:{token:function(t){}}},bridge$1;"web"===process.env.RUNTIME?bridge$1=-1!==navigator.userAgent.toLowerCase().indexOf("lightos")?{call:function(t,e,r){window.LightJSBridge&&window.LightJSBridge.call?window.LightJSBridge.call(t,e,r):init(t,e,r)}}:{call:function(t,e,r,n){n&&n()}}:"native"===process.env.RUNTIME&&(bridge$1={call:function(t,e,r){weex.requireModule("LightJSBridge").call(t,e,r)}});var net={callRPC:function(t,e){bridge$1.call("rpc.call",t,e,(function(){e&&e({info:{error_code:"0",error_message:"success"},data:{data:{query:{},body:{compony:"Hundsun"},headers:{host:"",connection:"keep-alive","content-length":"107","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36","cache-control":"no-cache",origin:"chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop",custom:"Light","postman-tk":"************","content-type":"application/json",accept:"*/*","accept-encoding":"gzip, deflate","accept-language":"zh-CN,zh;q=0.9,en;q=0.8"}},err_no:0}})}))}},openAPI=light.openAPI,config=light.config,register=light.register,md={register:register,native:native_1,net:net,openAPI:openAPI,config:config},loop=function(t){var e=md.native[t];md.native[t]=function(t,r){if("function"==typeof t&&(r=t,t={}),!r&&"undefined"!=typeof Promise)return new Promise((function(r){e(t,(function(t){r(t)}))}));e(t,r)},"callNative"===t&&(md.native.callNative=function(t,r,n){if(!n&&"undefined"!=typeof Promise)return new Promise((function(n){e(t,r,(function(t){n(t)}))}));e(t,r,n)})};for(var func in md.native)loop(func);var lightSdk=md;return lightSdk},module.exports=factory()})),QingyinLicai=function(t){function e(){var e=t.call(this)||this;return e.name="青银理财",e.params={},e}return __extends(e,t),e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){dist.native.getSystemInfo(null,(function(e){console.info(e),t(!0)}))}))]}))}))},e.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){window.TMFJSBridge?t(!0):document.addEventListener("TMFJSBridgeReady",(function(){t(!0)}),!1)}))]}))}))},e.prototype.callShare=function(e,r){return __awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,l;return __generator(this,(function(h){return n=e.url,i=e.title,o=e.content,a=e.thumbnail,this.params.title=i,this.params.url=n,this.params.content=o,this.params.image=a,s=r.type,l=r.channel,this.params.type=s,l&&(this.params.channel=l),dist.native.socialShare(this.params,(function(){})),[2,t.prototype.callShare.call(this,e,r)]}))}))},e}(ShareWay),osName=Object(_spark_utils__WEBPACK_IMPORTED_MODULE_1__.d)(),GuangdaYangguang=function(t){function e(){var e=t.call(this)||this;return e.name="光大信用卡-阳光惠生活",e.params={},e}return __extends(e,t),e.prototype.init=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){"iOS"===osName?window.WebViewJavascriptBridge?t(!0):document.addEventListener("WebViewJavascriptBridgeReady",(function(){t(!0)}),!1):t(!0)}))]}))}))},e.testEnv=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,!!navigator.userAgent.match(/yghsh/i)]}))}))},e.prototype.callShare=function(t,e){var r=t.url,n=t.title,i=t.content,o=t.thumbnail;this.params.title=n,this.params.shareURL=r,this.params.content=i,this.params.imageURL=o;var a=e.shareType,s=void 0===a?"webShare":a,l=e.channelID,h=void 0===l?"DUIBA_SIGN_IN":l,u=e.globalId,c=void 0===u?"value":u;return this.params.shareType=s,this.params.channelID=h,this.params.globalId=c,"iOS"===osName?WebViewJavascriptBridge.callHandler("share",this.params,(function(t){console.info("share result:",t)})):JSInterface.share(JSON.stringify(this.params)),new Promise((function(t){setTimeout(t,3e3)}))},e}(ShareWay),e=[],t=[];function n(r,n){if(r&&"undefined"!=typeof document){var i,o=!0===n.prepend?"prepend":"append",a=!0===n.singleTag,s="string"==typeof n.container?document.querySelector(n.container):document.getElementsByTagName("head")[0];if(a){var l=e.indexOf(s);-1===l&&(l=e.push(s)-1,t[l]={}),i=t[l]&&t[l][o]?t[l][o]:t[l][o]=h()}else i=h();65279===r.charCodeAt(0)&&(r=r.substring(1)),i.styleSheet?i.styleSheet.cssText+=r:i.appendChild(document.createTextNode(r))}function h(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),n.attributes)for(var e=Object.keys(n.attributes),r=0;r<e.length;r++)t.setAttribute(e[r],n.attributes[e[r]]);var i="prepend"===o?"afterbegin":"beforeend";return s.insertAdjacentElement(i,t),t}}var css="#share_guide_layer {\n  box-sizing: border-box;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 2000;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n\n#share_guide_layer .bubble {\n  position: absolute;\n  right: 0.1rem;\n  top: 0.1rem;\n}\n\n#share_guide_layer .bubble .bg {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 4.7rem;\n  height: 3.5rem;\n}\n\n#share_guide_layer .bubble .wrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 3.5rem;\n  height: 2rem;\n  position: absolute;\n  right: 1.2rem;\n  top: 1.5rem;\n}\n\n#share_guide_layer .bubble .wrapper .label {\n  color: white;\n}",guideLayer,label,autoHideTimer,_didHidden;function ensureElements(){if(!guideLayer){var t=document.createElement("div");t.innerHTML='\n<div id="share_guide_layer">\n\t<div class="bubble">\n\t\t<img class="bg" src="//yun.duiba.com.cn/spark/assets/a0f5d5b5050c33ae50114aa510e737cf1592fd39.png">\n\t\t<div class="wrapper">\n\t\t\t<span class="label">\n\t\t\t</span>\n\t\t</div>\n\t</div>\n</div>';var e=(guideLayer=t.children[0]).children[0].children[1];label=e.children[0],guideLayer.addEventListener("click",onClick)}document.body.appendChild(guideLayer)}function onClick(){hideShareGuide()}function showShareGuide(t,e,r,n){void 0===t&&(t="点击…分享"),void 0===e&&(e=.7),void 0===r&&(r=0),ensureElements(),_didHidden=n,guideLayer.style.backgroundColor="rgba(0,0,0,"+e+")","string"==typeof t?t.indexOf("<")>=0&&t.indexOf(">")>=0?label.innerHTML=t:label.innerText=t:(label.innerHTML="",label.appendChild(t)),r>0&&(clearTimeout(autoHideTimer),autoHideTimer=setTimeout(hideShareGuide,r))}function hideShareGuide(){guideLayer&&guideLayer.parentNode&&(clearTimeout(autoHideTimer),document.body.removeChild(guideLayer),_didHidden&&_didHidden())}n(css,{});var shareParams={},currentShareWay;function start(t,e,r){return void 0===r&&(r={}),__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,l,h;return __generator(this,(function(u){switch(u.label){case 0:u.trys.push([0,8,,9]),n=0,i=t,u.label=1;case 1:return n<i.length?(o=i[n],(a=1===t.length)?[3,4]:(s=o.testEnv)?[4,o.testEnv()]:[3,3]):[3,7];case 2:s=u.sent(),u.label=3;case 3:a=s,u.label=4;case 4:return a?[4,(l=new o).init(r)]:[3,6];case 5:if(u.sent())return o.isOn=!0,l._onShareResult=e,currentShareWay=l,[3,7];console.info('[分享] 分享途径 "'+l.name+'" 初始化失败'),u.label=6;case 6:return n++,[3,1];case 7:return[3,9];case 8:return h=u.sent(),console.warn(h),[3,9];case 9:return console.info("[分享]",currentShareWay?"命中的途径: "+currentShareWay.name:"未命中途径"),[2,!!currentShareWay]}}))}))}function updateShare(t,e){if(void 0===e&&(e={}),currentShareWay)try{__assign(shareParams,t),currentShareWay.updateShare(shareParams,e)}catch(t){console.info("更新分享参数失败:",t.message)}}function callShare(t,e){return void 0===e&&(e={}),__awaiter(this,void 0,void 0,(function(){return __generator(this,(function(r){if(!currentShareWay)return[2];try{return __assign(shareParams,t),[2,currentShareWay.callShare(shareParams,e)]}catch(t){console.info("调起分享失败:",t.message)}return[2]}))}))}function notWeixin(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,Weixin.testEnv()];case 1:return[2,!t.sent()]}}))}))}}).call(this,__webpack_require__("yLpj"),__webpack_require__("8oxB"))},S6kV:function(t,e,r){var n,i,o;t.exports=(o=r("Ib8C"),r("OLod"),o.mode.OFB=(n=o.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var a=0;a<n;a++)t[e+a]^=o[a]}}),n.Decryptor=i,n),o.mode.OFB)},SksO:function(t,e){function r(e,n){return t.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,r(e,n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},TyAF:function(t,e,r){"use strict";r.d(e,"a",(function(){return $}));var n=r("aFzQ"),i=r("q1tI"),o=r.n(i);if(!i.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!n.m)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var a=r("i8i4");function s(t){t()}function l(t){return Object(n.h)(t)}var h="undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry;function u(t){return{reaction:t,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+c}}var c=1e4;var f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};var p=h?function(t){var e=new Map,r=1,n=new t((function(t){var r=e.get(t);r&&(r.reaction.dispose(),e.delete(t))}));return{addReactionToTrack:function(t,i,o){var a=r++;return n.register(o,a,t),t.current=u(i),t.current.finalizationRegistryCleanupToken=a,e.set(a,t.current),t.current},recordReactionAsCommitted:function(t){n.unregister(t),t.current&&t.current.finalizationRegistryCleanupToken&&e.delete(t.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}(h):function(){var t,e=new Set;function r(){void 0===t&&(t=setTimeout(n,1e4))}function n(){t=void 0;var n=Date.now();e.forEach((function(t){var r=t.current;r&&n>=r.cleanAt&&(r.reaction.dispose(),t.current=null,e.delete(t))})),e.size>0&&r()}return{addReactionToTrack:function(t,n,i){var o;return t.current=u(n),o=t,e.add(o),r(),t.current},recordReactionAsCommitted:function(t){e.delete(t)},forceCleanupTimerToRunNowForTests:function(){t&&(clearTimeout(t),n())},resetCleanupScheduleForTests:function(){var r,n;if(e.size>0){try{for(var i=f(e),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.current;s&&(s.reaction.dispose(),a.current=null)}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.clear()}t&&(clearTimeout(t),t=void 0)}}}(),d=p.addReactionToTrack,m=p.recordReactionAsCommitted,v=(p.resetCleanupScheduleForTests,p.forceCleanupTimerToRunNowForTests,!1);function y(){return v}var g=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};function _(t){return"observer".concat(t)}var b=function(){};function x(){return new b}function w(t,e){if(void 0===e&&(e="observed"),y())return t();var r=g(o.a.useState(x),1)[0],i=g(o.a.useState(),2)[1],a=function(){return i([])},s=o.a.useRef(null);if(!s.current)var h=new n.b(_(e),(function(){u.mounted?a():u.changedBeforeMount=!0})),u=d(s,h,r);var c,f,p=s.current.reaction;if(o.a.useDebugValue(p,l),o.a.useEffect((function(){return m(s),s.current?(s.current.mounted=!0,s.current.changedBeforeMount&&(s.current.changedBeforeMount=!1,a())):(s.current={reaction:new n.b(_(e),(function(){a()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},a()),function(){s.current.reaction.dispose(),s.current=null}}),[]),p.track((function(){try{c=t()}catch(t){f=t}})),f)throw f;return c}var T=function(){return(T=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function S(t,e){if(y())return t;var r,n,o,a=T({forwardRef:!1},e),s=t.displayName||t.name,l=function(e,r){return w((function(){return t(e,r)}),s)};return""!==s&&(l.displayName=s),t.contextTypes&&(l.contextTypes=t.contextTypes),r=a.forwardRef?Object(i.memo)(Object(i.forwardRef)(l)):Object(i.memo)(l),n=t,o=r,Object.keys(n).forEach((function(t){E[t]||Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(n,t))})),r}var E={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function M(t){var e=t.children,r=t.render,n=e||r;return"function"!=typeof n?null:w(n)}M.displayName="Observer";var C;(C=a.unstable_batchedUpdates)||(C=s),Object(n.f)({reactionScheduler:C});var A=0;var P={};function k(t){return P[t]||(P[t]=function(t){if("function"==typeof Symbol)return Symbol(t);var e="__$mobx-react "+t+" ("+A+")";return A++,e}(t)),P[t]}function O(t,e){if(D(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.hasOwnProperty.call(e,r[i])||!D(t[r[i]],e[r[i]]))return!1;return!0}function D(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function I(t,e,r){Object.hasOwnProperty.call(t,e)?t[e]=r:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:r})}var R=k("patchMixins"),F=k("patchedDefinition");function L(t,e){for(var r=this,n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];e.locks++;try{var a;return null!=t&&(a=t.apply(this,i)),a}finally{e.locks--,0===e.locks&&e.methods.forEach((function(t){t.apply(r,i)}))}}function N(t,e){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];L.call.apply(L,[this,t,e].concat(n))}}function B(t,e,r){var n=function(t,e){var r=t[R]=t[R]||{},n=r[e]=r[e]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}(t,e);n.methods.indexOf(r)<0&&n.methods.push(r);var i=Object.getOwnPropertyDescriptor(t,e);if(!i||!i[F]){var o=t[e],a=function t(e,r,n,i,o){var a,s=N(o,i);return(a={})[F]=!0,a.get=function(){return s},a.set=function(o){if(this===e)s=N(o,i);else{var a=t(this,r,n,i,o);Object.defineProperty(this,r,a)}},a.configurable=!0,a.enumerable=n,a}(t,e,i?i.enumerable:void 0,n,o);Object.defineProperty(t,e,a)}}var z=n.a||"$mobx",j=k("isMobXReactObserver"),V=k("isUnmounted"),U=k("skipRender"),W=k("isForcingUpdate");function H(t){var e=t.prototype;if(t[j]){var r=G(e);console.warn("The provided component class ("+r+") \n                has already been declared as an observer component.")}else t[j]=!0;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==i.PureComponent)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==X)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=X;q(e,"props"),q(e,"state");var n=e.render;if("function"!=typeof n){var o=G(e);throw new Error("[mobx-react] class component ("+o+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}return e.render=function(){return Y.call(this,n)},B(e,"componentWillUnmount",(function(){var t;if(!0!==y()&&(null==(t=this.render[z])||t.dispose(),this[V]=!0,!this.render[z])){var e=G(this);console.warn("The reactive render of an observer class component ("+e+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),t}function G(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Y(t){var e=this;if(!0===y())return t.call(this);I(this,U,!1),I(this,W,!1);var r=G(this),o=t.bind(this),a=!1,s=new n.b(r+".render()",(function(){if(!a&&(a=!0,!0!==e[V])){var t=!0;try{I(e,W,!0),e[U]||i.Component.prototype.forceUpdate.call(e),t=!1}finally{I(e,W,!1),t&&s.dispose()}}}));function l(){a=!1;var t=void 0,e=void 0;if(s.track((function(){try{e=Object(n.c)(!1,o)}catch(e){t=e}})),t)throw t;return e}return s.reactComponent=this,l[z]=s,this.render=l,l.call(this)}function X(t,e){return y()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==e||!O(this.props,t)}function q(t,e){var r=k("reactProp_"+e+"_valueHolder"),i=k("reactProp_"+e+"_atomHolder");function o(){return this[i]||I(this,i,Object(n.g)("reactive "+e)),this[i]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var t=!1;return n.e&&n.d&&(t=Object(n.e)(!0)),o.call(this).reportObserved(),n.e&&n.d&&Object(n.d)(t),this[r]},set:function(t){this[W]||O(this[r],t)?I(this,r,t):(I(this,r,t),I(this,U,!0),o.call(this).reportChanged(),I(this,U,!1))}})}var K="function"==typeof Symbol&&Symbol.for,Z=K?Symbol.for("react.forward_ref"):"function"==typeof i.forwardRef&&Object(i.forwardRef)((function(t){return null})).$$typeof,J=K?Symbol.for("react.memo"):"function"==typeof i.memo&&Object(i.memo)((function(t){return null})).$$typeof;function $(t){if(!0===t.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),J&&t.$$typeof===J)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Z&&t.$$typeof===Z){var e=t.render;if("function"!=typeof e)throw new Error("render property of ForwardRef was not a function");return Object(i.forwardRef)((function(){var t=arguments;return Object(i.createElement)(M,null,(function(){return e.apply(void 0,t)}))}))}return"function"!=typeof t||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(i.Component,t)?H(t):S(t)}if(!i.Component)throw new Error("mobx-react requires React to be available");if(!n.n)throw new Error("mobx-react requires mobx to be available")},VEoi:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.safeEval=e.getChildBySlot=e.compileTemplate=void 0;var n=r("q1tI");function i(t,e){void 0===e&&(e={});try{return new Function("scope","with (scope){return "+t+"}")(e)}catch(t){return void t.message}}e.compileTemplate=function(t,e,r){var o=t.props.children;Array.isArray(o)||(o=[o]);for(var a=[],s=function(t){var s,l=o[t],h=t+"_"+r,u=void 0,c=[];for(var f in l.props){var p=l.props[f];switch(f){case"__if":u=p;break;case"onClick":s=p;break;default:if(0===f.indexOf("__bind")){var d={expression:p},m=f.replace("__bind","");m.indexOf("_")<0?d.attr="inner":d.attr=m.split("_")[1],c.push(d)}}}var v=void 0;if(!u||i(u,e)){var y={key:h},g=void 0;if(c.length>0)for(var _=0,b=c;_<b.length;_++){var x=(d=b[_]).attr,w=i(d.expression,e);"inner"===x?g=w:y[x]=w}s&&(y.onClick=function(t){s(t,e,r)}),v=g?(0,n.cloneElement)(l,y,g):(0,n.cloneElement)(l,y),a.push(v)}},l=0;l<o.length;l++)s(l);return(0,n.cloneElement)(t,{},a)},e.getChildBySlot=function(t,e){Array.isArray(t)||(t=[t]);for(var r=0,n=t;r<n.length;r++){var i=n[r];if(i.props.__slot===e)return i}},e.safeEval=i},W8MJ:function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},WYAk:function(t,e,r){var n,i,o,a;t.exports=(n=r("Ib8C"),o=(i=n).lib.Base,a=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=a.parse(e));var r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),o=this._iKey=e.clone(),s=i.words,l=o.words,h=0;h<r;h++)s[h]^=1549556828,l[h]^=909522486;i.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(r))}})))},WbBG:function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},Wgss:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var n=r("gK8M"),i=r("zgwS"),o=r("Yb6r");r("DwoO");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function a(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))}function s(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=location.href.indexOf(".com.cn/projectx")>=0,h=!1,u=!1,c=[];function f(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return l?[2,new Promise((function(t,e){c.push({resolve:t,reject:e}),setTimeout(p,10)}))]:[2,"test_token"]}))}))}function p(){return a(this,void 0,void 0,(function(){var t,e,r;return s(this,(function(n){switch(n.label){case 0:if(u)return[2];if(!(c.length>0))return[3,4];t=c.shift(),n.label=1;case 1:return n.trys.push([1,3,,4]),u=!0,[4,d()];case 2:return e=n.sent(),t.resolve(e),u=!1,setTimeout(p,10),[3,4];case 3:return r=n.sent(),u=!1,t.reject(r),[3,4];case 4:return[2]}}))}))}function d(){return a(this,void 0,void 0,(function(){var t,e,r,n;return s(this,(function(i){switch(i.label){case 0:r=0,i.label=1;case 1:if(!(r<2))return[3,6];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,m()];case 3:return t=i.sent(),[3,6];case 4:return n=i.sent(),e=n,h=!1,[3,5];case 5:return r++,[3,1];case 6:if(t)return[2,t];throw e}}))}))}function m(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return h?[3,2]:[4,v()];case 1:t.sent(),t.label=2;case 2:return[2,y()]}}))}))}function v(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return l?(h=!1,[4,Object(i.d)("getTokenKey?_t="+Date.now())]):(h=!0,[2]);case 1:return t.sent(),h=!0,[2]}}))}))}function y(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(r){switch(r.label){case 0:return[4,Object(i.c)("getToken",void 0,void 0,void 0,!1)];case 1:if((t=r.sent()).success){if(Object(o.c)(t.data),e=window.ohjaiohdf())return[2,e];throw new n.a(n.b.GET_PX_TOKEN_FAILED,"获取token失败，请查明key是否被覆盖")}throw new n.a(t)}}))}))}},WkPL:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports},Wr5T:function(t,e){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var e=window.document,r=i(e);r;)r=i(e=r.ownerDocument);return e}(),e=[],r=null,n=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return r||(r=function(t,r){n=t&&r?f(t,r):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach((function(t){t._checkForIntersections()}))}),r},a._resetCrossOriginUpdater=function(){r=null,n=null},a.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},a.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,r){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==r[e-1]}))},a.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},a.prototype._monitorIntersections=function(e){var r=e.defaultView;if(r&&-1==this._monitoringDocuments.indexOf(e)){var n=this._checkForIntersections,o=null,a=null;if(this.POLL_INTERVAL?o=r.setInterval(n,this.POLL_INTERVAL):(s(r,"resize",n,!0),s(e,"scroll",n,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in r&&(a=new r.MutationObserver(n)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(o&&t.clearInterval(o),l(t,"resize",n,!0)),l(e,"scroll",n,!0),a&&a.disconnect()})),e!=(this.root&&this.root.ownerDocument||t)){var h=i(e);h&&this._monitorIntersections(h.ownerDocument)}}},a.prototype._unmonitorIntersections=function(e){var r=this._monitoringDocuments.indexOf(e);if(-1!=r){var n=this.root&&this.root.ownerDocument||t;if(!this._observationTargets.some((function(t){var r=t.element.ownerDocument;if(r==e)return!0;for(;r&&r!=n;){var o=i(r);if((r=o&&o.ownerDocument)==e)return!0}return!1}))){var o=this._monitoringUnsubscribes[r];if(this._monitoringDocuments.splice(r,1),this._monitoringUnsubscribes.splice(r,1),o(),e!=n){var a=i(e);a&&this._unmonitorIntersections(a.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},a.prototype._checkForIntersections=function(){if(this.root||!r||n){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(n){var i=n.element,a=u(i),s=this._rootContainsTarget(i),l=n.entry,h=t&&s&&this._computeTargetAndRootIntersection(i,a,e),c=n.entry=new o({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:r&&!this.root?null:e,intersectionRect:h});l?t&&s?this._hasCrossedThreshold(l,c)&&this._queuedEntries.push(c):l&&l.isIntersecting&&this._queuedEntries.push(c):this._queuedEntries.push(c)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(e,i,o){if("none"!=window.getComputedStyle(e).display){for(var a=i,s=d(e),l=!1;!l&&s;){var c=null,p=1==s.nodeType?window.getComputedStyle(s):{};if("none"==p.display)return null;if(s==this.root||9==s.nodeType)if(l=!0,s==this.root||s==t)r&&!this.root?!n||0==n.width&&0==n.height?(s=null,c=null,a=null):c=n:c=o;else{var m=d(s),v=m&&u(m),y=m&&this._computeTargetAndRootIntersection(m,v,o);v&&y?(s=m,c=f(v,y)):(s=null,a=null)}else{var g=s.ownerDocument;s!=g.body&&s!=g.documentElement&&"visible"!=p.overflow&&(c=u(s))}if(c&&(a=h(c,a)),!a)break;s=s&&d(s)}return a}},a.prototype._getRootRect=function(){var e;if(this.root)e=u(this.root);else{var r=t.documentElement,n=t.body;e={top:0,left:0,right:r.clientWidth||n.clientWidth,width:r.clientWidth||n.clientWidth,bottom:r.clientHeight||n.clientHeight,height:r.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(e)},a.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,r){return"px"==e.unit?e.value:e.value*(r%2?t.width:t.height)/100})),r={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return r.width=r.right-r.left,r.height=r.bottom-r.top,r},a.prototype._hasCrossedThreshold=function(t,e){var r=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(r!==n)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==r||o==n||o<r!=o<n)return!0}},a.prototype._rootIsInDom=function(){return!this.root||p(t,this.root)},a.prototype._rootContainsTarget=function(e){return p(this.root||t,e)&&(!this.root||this.root.ownerDocument==e.ownerDocument)},a.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},a.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=o}function i(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function o(t){this.time=t.time,this.target=t.target,this.rootBounds=c(t.rootBounds),this.boundingClientRect=c(t.boundingClientRect),this.intersectionRect=c(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,r=e.width*e.height,n=this.intersectionRect,i=n.width*n.height;this.intersectionRatio=r?Number((i/r).toFixed(4)):this.isIntersecting?1:0}function a(t,e){var r,n,i,o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(r=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){r(),i=null}),n))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(t,e,r,n){"function"==typeof t.addEventListener?t.addEventListener(e,r,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,r)}function l(t,e,r,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,r,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,r)}function h(t,e){var r=Math.max(t.top,e.top),n=Math.min(t.bottom,e.bottom),i=Math.max(t.left,e.left),o=Math.min(t.right,e.right),a=o-i,s=n-r;return a>=0&&s>=0&&{top:r,bottom:n,left:i,right:o,width:a,height:s}||null}function u(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function f(t,e){var r=e.top-t.top,n=e.left-t.left;return{top:r,left:n,height:e.height,width:e.width,bottom:r+e.height,right:n+e.width}}function p(t,e){for(var r=e;r;){if(r==t)return!0;r=d(r)}return!1}function d(e){var r=e.parentNode;return 9==e.nodeType&&e!=t?i(e):r&&11==r.nodeType&&r.host?r.host:r&&r.assignedSlot?r.assignedSlot.parentNode:r}}()},XZNu:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));r("Yb6r"),r("zgwS");var n=r("gK8M");r("Zqct");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function i(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))}function o(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var a={uploadImage:{uri:"/customActivity/duiba/imgUrl",method:"post",headers:{"Content-Type":"application/json"},requestContentType:"json"},uploadImageAndGreend:{uri:"/customActivity/duiba/imgUrlAndGreend",method:"post",headers:{"Content-Type":"application/json"},requestContentType:"json"},getQrcode:"/customActivity/qrcode/getQrcode",wechatSign:{uri:"/wechatShare/getShareInfo/v2",justData:!1},wechatMiniAppSign:{uri:"/wechatMiniApp/ticket/info"},getProjectUserInfo:"/ctool/getProjectUserInfo",getAppInfo:"/aaw/projectx/getAppInfo",creditsCost:{uri:"credits/creditsCost.do",method:"post"},queryStatus:"credits/queryStatus.do",getRule:"projectRule.query"},s=Object(n.c)(a);function l(t,e,r){return void 0===e&&(e=!1),i(this,void 0,void 0,(function(){var n,i,a;return o(this,(function(o){return n=t||location.href,(i=n.indexOf("#"))>=0&&(n=n.substring(0,i)),a=encodeURIComponent(n),e?[2,s.wechatMiniAppSign({apk:r,url:a}).then((function(t){return{wxappid:t.wxAppId,wxtimestamp:t.wxTimestamp,wxnonceStr:t.wxNonceStr,wxsignature:t.wxSignature}}))]:[2,s.wechatSign({url:a})]}))}))}},YQrK:function(t){t.exports=JSON.parse("{}")},Yb6r:function(t,e,r){"use strict";r.d(e,"a",(function(){return g})),r.d(e,"b",(function(){return v})),r.d(e,"c",(function(){return y})),r.d(e,"d",(function(){return P})),r.d(e,"e",(function(){return m})),r.d(e,"f",(function(){return _})),r.d(e,"g",(function(){return f})),r.d(e,"h",(function(){return E})),r.d(e,"i",(function(){return A})),r.d(e,"j",(function(){return k})),r.d(e,"k",(function(){return M})),r.d(e,"l",(function(){return w}));var n=r("cv67"),i=r.n(n),o=(r("wZgz"),r("NFKh")),a=r.n(o),s=r("gK8M");window["html-shot/debug-mode"];var l;!function(t){t[t.ANY=0]="ANY",t[t.TEXT=1]="TEXT",t[t.IMAGE=2]="IMAGE",t[t.CANVAS=3]="CANVAS"}(l||(l={}));Object.create;Object.create;r("zgwS"),r("HlzF"),r("ZqNV");var h,u=function(){return(u=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};void 0!==document.hidden?h="visibilitychange":void 0!==document.msHidden?h="msvisibilitychange":void 0!==document.webkitHidden&&(h="webkitvisibilitychange"),document.addEventListener(h,(function(t){!function(t){for(var e=0,r=c;e<r.length;e++){var n=r[e];n&&n(t)}}("visible"==document.visibilityState)}),!1);var c=[];function f(t){return i()(t).toString()}var p,d;a.a.pad.Pkcs7,a.a.pad.AnsiX923,a.a.pad.Iso10126,a.a.pad.Iso97971,a.a.pad.ZeroPadding,a.a.pad.NoPadding,a.a.mode.CBC,a.a.mode.CFB,a.a.mode.CTR,a.a.mode.CTRGladman,a.a.mode.OFB,a.a.mode.ECB;function m(t){return new Promise((function(e,r){var n;window.XMLHttpRequest?n=new XMLHttpRequest:window.ActiveXObject?n=new window.ActiveXObject(void 0):alert("no xhr"),n.open("get",t,!0),n.responseType="blob",n.onload=function(){if(200==this.status){var t=this.response,n=new FileReader;n.onloadend=function(t){e(n.result)},n.onerror=function(t){r({message:"failed"})},n.readAsDataURL(t)}},n.onerror=function(t){r({message:"failed"})},n.send()}))}function v(t,e){if(void 0===e&&(e=document.head),!t)return{type:"failed"};if(0===t.indexOf("<script")){var r=document.createElement("div");r.innerHTML=t;for(var n=0,i=r.children.length;n<i;n++){var o=r.children[n];o.src?(g(o.src,e),n--,i--):y(o.innerHTML)}}else y(t)}function y(t,e){var r=document.createElement("script");r.innerHTML=t,document.head.appendChild(r),setTimeout((function(){document.head.removeChild(r)}),1)}function g(t,e){return void 0===e&&(e=document.head),new Promise((function(r,n){var i=document.createElement("script");i.src=t,i.onload=function(){document.head.removeChild(i),r(!0)},i.onerror=function(){document.head.removeChild(i),n(new s.a(s.b.NET_ERROR,"网络异常"))},e.appendChild(i)}))}!function(t){t.CBC="CBC",t.CFB="CFB",t.CTR="CTR",t.CTRGladman="CTRGladman",t.OFB="OFB",t.ECB="ECB"}(p||(p={})),function(t){t.Pkcs7="Pkcs7",t.AnsiX923="AnsiX923",t.Iso10126="Iso10126",t.Iso97971="Iso97971",t.ZeroPadding="ZeroPadding",t.NoPadding="NoPadding"}(d||(d={}));function _(t,e){return void 0===e&&(e=!1),new Promise((function(r,n){var i=new Image;e&&(i.crossOrigin="anonymous"),i.onload=function(){r(i)},i.onerror=function(t){n(t)},i.src=t}))}var b=[],x=[];!function(t,e){if(t&&"undefined"!=typeof document){var r,n=!0===e.prepend?"prepend":"append",i=!0===e.singleTag,o="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(i){var a=b.indexOf(o);-1===a&&(a=b.push(o)-1,x[a]={}),r=x[a]&&x[a][n]?x[a][n]:x[a][n]=s()}else r=s();65279===t.charCodeAt(0)&&(t=t.substring(1)),r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(document.createTextNode(t))}function s(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var r=Object.keys(e.attributes),i=0;i<r.length;i++)t.setAttribute(r[i],e.attributes[r[i]]);var a="prepend"===n?"afterbegin":"beforeend";return o.insertAdjacentElement(a,t),t}}("/* 易盾css*/\n\n.sui-captcha {\n  visibility: hidden;\n  position: fixed;\n  z-index: 10000;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  /*.neCaptcha-dialog::after {\n\t\tposition: absolute;\n\t\tcontent: '加载中…';\n\t\twidth: 100%;\n\t\theight: 30px;\n\t\ttop: -40px;\n\t\tleft: 0;\n\t\ttext-align: center;\n\t\tline-height: 30px;\n\t\tfont-size: 16px;\n\t\tcolor: #ffff00;\n\t}*/\n}\n\n.sui-captcha .neCaptcha-dialog {\n  visibility: hidden;\n  background-color: #fff;\n  box-shadow: 0 0 0.08rem 0 rgba(0, 0, 0, 0.35);\n  -webkit-box-shadow: 0 0 0.08rem 0 rgba(0, 0, 0, 0.35);\n  position: absolute;\n  left: 50%;\n  top: 45%;\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  -webkit-transform: translate(-50%, -50%);\n  padding: 0.1rem;\n  min-width: 1rem;\n  border-radius: 0.1rem;\n  width: 80%;\n}",{});!function(){function t(t){this._tsOffset=0,this.updateRemoteTimestamp(t)}t.prototype.updateRemoteTimestamp=function(t){void 0!==t&&(this._tsOffset=this.localTimestamp-t)},Object.defineProperty(t.prototype,"remoteTimestamp",{get:function(){return this.localTimestamp-this._tsOffset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTimestamp",{get:function(){return Date.now()},enumerable:!1,configurable:!0})}();function w(t,e,r){void 0===r&&(r=!1);for(var n=S(t,e),i=n[0],o=n[1],a=0,s=i.length;a<s;a++){var l=i[a],h=o[a];if(r){if(l>=h)return!0;if(l<=h)return!1}else{if(l>h)return!0;if(l<h)return!1}}return!1}function T(t,e){void 0===e&&(e=!1);var r=t.split(".").map((function(t){return parseInt(t)}));if(e&&3!==r.length)throw new Error("Invalid version: "+t);return r}function S(t,e){for(var r=T(t),n=T(e),i=r.length,o=n.length,a=0,s=Math.max(i,o);a<s;a++)void 0===r[a]&&(r[a]=0),void 0===n[a]&&(n[a]=0);return[r,n]}function E(t){if(!t)return"";var e=[];for(var r in t)e.push(r+(r?"=":"")+t[r]);return e.join("&")}function M(t,e){return e?(t+=t.indexOf("?")<0?"?":"",(t+="?"===t[t.length-1]?"":"&")+e):t}var C,A=u;function P(){return C||(C=/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?"iOS":/(Android)/i.test(navigator.userAgent)?"Android":"PC"),C}P(),P(),P();function k(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]}},ZhPi:function(t,e,r){var n=r("WkPL");t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},ZqNV:function(t){t.exports=JSON.parse("{}")},Zqct:function(t){t.exports=JSON.parse("{}")},a1gu:function(t,e,r){var n=r("cDf5").default,i=r("PJYZ");t.exports=function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},aFzQ:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return W})),r.d(e,"b",(function(){return de})),r.d(e,"c",(function(){return Lt})),r.d(e,"d",(function(){return ee})),r.d(e,"e",(function(){return te})),r.d(e,"f",(function(){return Ie})),r.d(e,"g",(function(){return Y})),r.d(e,"h",(function(){return Fe})),r.d(e,"i",(function(){return gr})),r.d(e,"j",(function(){return wr})),r.d(e,"k",(function(){return Or})),r.d(e,"l",(function(){return sr})),r.d(e,"m",(function(){return or})),r.d(e,"n",(function(){return Et})),r.d(e,"o",(function(){return Me})),r.d(e,"p",(function(){return qe})),r.d(e,"q",(function(){return Jt}));function n(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw new Error("number"==typeof t?"[MobX] minified error nr: "+t+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var i={};function o(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:i}var a=Object.assign,s=Object.getOwnPropertyDescriptor,l=Object.defineProperty,h=Object.prototype,u=[];Object.freeze(u);var c={};Object.freeze(c);var f="undefined"!=typeof Proxy,p=Object.toString();function d(){f||n("Proxy not available")}function m(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var v=function(){};function y(t){return"function"==typeof t}function g(t){switch(typeof t){case"string":case"symbol":case"number":return!0}return!1}function _(t){return null!==t&&"object"==typeof t}function b(t){if(!_(t))return!1;var e=Object.getPrototypeOf(t);if(null==e)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r.toString()===p}function x(t){var e=null==t?void 0:t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName)}function w(t,e,r){l(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}function T(t,e,r){l(t,e,{enumerable:!1,writable:!1,configurable:!0,value:r})}function S(t,e){var r="isMobX"+t;return e.prototype[r]=!0,function(t){return _(t)&&!0===t[r]}}function E(t){return t instanceof Map}function M(t){return t instanceof Set}var C=void 0!==Object.getOwnPropertySymbols;var A="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:C?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function P(t){return null===t?null:"object"==typeof t?""+t:t}function k(t,e){return h.hasOwnProperty.call(t,e)}var O=Object.getOwnPropertyDescriptors||function(t){var e={};return A(t).forEach((function(r){e[r]=s(t,r)})),e};function D(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function I(t,e,r){return e&&D(t.prototype,e),r&&D(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function R(){return(R=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function F(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,L(t,e)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function N(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return B(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var j=Symbol("mobx-stored-annotations");function V(t){return Object.assign((function(e,r){U(e,r,t)}),t)}function U(t,e,r){k(t,j)||w(t,j,R({},t[j])),function(t){return"override"===t.annotationType_}(r)||(t[j][e]=r)}var W=Symbol("mobx administration"),H=function(){function t(t){void 0===t&&(t="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=zt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach((function(t){return t()}))},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(t){return t()}))},e.reportObserved=function(){return fe(this)},e.reportChanged=function(){ue(),pe(this),ce()},e.toString=function(){return this.name_},t}(),G=S("Atom",H);function Y(t,e,r){void 0===e&&(e=v),void 0===r&&(r=v);var n,i=new H(t);return e!==v&&De("onBO",i,e,n),r!==v&&Oe(i,r),i}var X={identity:function(t,e){return t===e},structural:function(t,e){return Yr(t,e)},default:function(t,e){return Object.is?Object.is(t,e):t===e?0!==t||1/t==1/e:t!=t&&e!=e},shallow:function(t,e){return Yr(t,e,1)}};function q(t,e,r){return Ge(t)?t:Array.isArray(t)?Et.array(t,{name:r}):b(t)?Et.object(t,void 0,{name:r}):E(t)?Et.map(t,{name:r}):M(t)?Et.set(t,{name:r}):"function"!=typeof t||Ce(t)||We(t)?t:x(t)?Ve(t):Ee(r,t)}function K(t){return t}function Z(t,e){return{annotationType_:t,options_:e,make_:J,extend_:$}}function J(t,e,r,n){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(t,e,r,!1)?0:1;if(n===t.target_)return null===this.extend_(t,e,r,!1)?0:2;if(Ce(r.value))return 1;var o=Q(t,this,e,r,!1);return l(n,e,o),2}function $(t,e,r,n){var i=Q(t,this,e,r);return t.defineProperty_(e,i,n)}function Q(t,e,r,n,i){var o,a,s,l,h,u,c,f;void 0===i&&(i=ae.safeDescriptors),f=n,e.annotationType_,f.value;var p,d=n.value;null!=(o=e.options_)&&o.bound&&(d=d.bind(null!=(p=t.proxy_)?p:t.target_));return{value:Rt(null!=(a=null==(s=e.options_)?void 0:s.name)?a:r.toString(),d,null!=(l=null==(h=e.options_)?void 0:h.autoAction)&&l,null!=(u=e.options_)&&u.bound?null!=(c=t.proxy_)?c:t.target_:void 0),configurable:!i||t.isPlainObject_,enumerable:!1,writable:!i}}function tt(t,e){return{annotationType_:t,options_:e,make_:et,extend_:rt}}function et(t,e,r,n){var i;if(n===t.target_)return null===this.extend_(t,e,r,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!k(t.target_,e)||!We(t.target_[e]))&&null===this.extend_(t,e,r,!1))return 0;if(We(r.value))return 1;var o=nt(t,this,e,r,!1,!1);return l(n,e,o),2}function rt(t,e,r,n){var i,o=nt(t,this,e,r,null==(i=this.options_)?void 0:i.bound);return t.defineProperty_(e,o,n)}function nt(t,e,r,n,i,o){var a;void 0===o&&(o=ae.safeDescriptors),a=n,e.annotationType_,a.value;var s,l=n.value;(We(l)||(l=Ve(l)),i)&&((l=l.bind(null!=(s=t.proxy_)?s:t.target_)).isMobXFlow=!0);return{value:l,configurable:!o||t.isPlainObject_,enumerable:!1,writable:!o}}function it(t,e){return{annotationType_:t,options_:e,make_:ot,extend_:at}}function ot(t,e,r){return null===this.extend_(t,e,r,!1)?0:1}function at(t,e,r,n){return function(t,e,r,n){e.annotationType_,n.get;0}(0,this,0,r),t.defineComputedProperty_(e,R({},this.options_,{get:r.get,set:r.set}),n)}function st(t,e){return{annotationType_:t,options_:e,make_:lt,extend_:ht}}function lt(t,e,r){return null===this.extend_(t,e,r,!1)?0:1}function ht(t,e,r,n){var i,o;return function(t,e,r,n){e.annotationType_;0}(0,this),t.defineObservableProperty_(e,r.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:q,n)}var ut=ct();function ct(t){return{annotationType_:"true",options_:t,make_:ft,extend_:pt}}function ft(t,e,r,n){var i,o,a,s;if(r.get)return At.make_(t,e,r,n);if(r.set){var h=Rt(e.toString(),r.set);return n===t.target_?null===t.defineProperty_(e,{configurable:!ae.safeDescriptors||t.isPlainObject_,set:h})?0:2:(l(n,e,{configurable:!0,set:h}),2)}if(n!==t.target_&&"function"==typeof r.value)return x(r.value)?(null!=(s=this.options_)&&s.autoBind?Ve.bound:Ve).make_(t,e,r,n):(null!=(a=this.options_)&&a.autoBind?Ee.bound:Ee).make_(t,e,r,n);var u,c=!1===(null==(i=this.options_)?void 0:i.deep)?Et.ref:Et;"function"==typeof r.value&&null!=(o=this.options_)&&o.autoBind&&(r.value=r.value.bind(null!=(u=t.proxy_)?u:t.target_));return c.make_(t,e,r,n)}function pt(t,e,r,n){var i,o,a;if(r.get)return At.extend_(t,e,r,n);if(r.set)return t.defineProperty_(e,{configurable:!ae.safeDescriptors||t.isPlainObject_,set:Rt(e.toString(),r.set)},n);"function"==typeof r.value&&null!=(i=this.options_)&&i.autoBind&&(r.value=r.value.bind(null!=(a=t.proxy_)?a:t.target_));return(!1===(null==(o=this.options_)?void 0:o.deep)?Et.ref:Et).extend_(t,e,r,n)}var dt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function mt(t){return t||dt}Object.freeze(dt);var vt=st("observable"),yt=st("observable.ref",{enhancer:K}),gt=st("observable.shallow",{enhancer:function(t,e,r){return null==t||Or(t)||gr(t)||wr(t)||Er(t)?t:Array.isArray(t)?Et.array(t,{name:r,deep:!1}):b(t)?Et.object(t,void 0,{name:r,deep:!1}):E(t)?Et.map(t,{name:r,deep:!1}):M(t)?Et.set(t,{name:r,deep:!1}):void 0}}),_t=st("observable.struct",{enhancer:function(t,e){return Yr(t,e)?e:t}}),bt=V(vt);function xt(t){return!0===t.deep?q:!1===t.deep?K:(e=t.defaultDecorator)&&null!=(r=null==(n=e.options_)?void 0:n.enhancer)?r:q;var e,r,n}function wt(t,e,r){if(!g(e))return Ge(t)?t:b(t)?Et.object(t,e,r):Array.isArray(t)?Et.array(t,e):E(t)?Et.map(t,e):M(t)?Et.set(t,e):"object"==typeof t&&null!==t?t:Et.box(t,e);U(t,e,vt)}Object.assign(wt,bt);var Tt,St,Et=a(wt,{box:function(t,e){var r=mt(e);return new Vt(t,xt(r),r.name,!0,r.equals)},array:function(t,e){var r=mt(e);return(!1===ae.useProxies||!1===r.proxy?Vr:cr)(t,xt(r),r.name)},map:function(t,e){var r=mt(e);return new xr(t,xt(r),r.name)},set:function(t,e){var r=mt(e);return new Sr(t,xt(r),r.name)},object:function(t,e,r){return Re(!1===ae.useProxies||!1===(null==r?void 0:r.proxy)?Ar({},r):function(t,e){var r,n;return d(),t=Ar(t,e),null!=(n=(r=t[W]).proxy_)?n:r.proxy_=new Proxy(t,$e)}({},r),t,e)},ref:V(yt),shallow:V(gt),deep:bt,struct:V(_t)}),Mt=it("computed"),Ct=it("computed.struct",{equals:X.structural}),At=function(t,e){if(g(e))return U(t,e,Mt);if(b(t))return V(it("computed",t));var r=b(e)?e:{};return r.get=t,r.name||(r.name=t.name||""),new Wt(r)};Object.assign(At,Mt),At.struct=V(Ct);var Pt,kt=0,Ot=1,Dt=null!=(Tt=null==(St=s((function(){}),"name"))?void 0:St.configurable)&&Tt,It={value:"action",configurable:!0,writable:!1,enumerable:!1};function Rt(t,e,r,n){function i(){return Ft(t,r,e,n||this,arguments)}return void 0===r&&(r=!1),i.isMobxAction=!0,Dt&&(It.value=t,Object.defineProperty(i,"name",It)),i}function Ft(t,e,r,i,o){var a=function(t,e,r,n){0;var i=ae.trackingDerivation,o=!e||!i;ue();var a=ae.allowStateChanges;o&&($t(),a=Nt(!0));var s=te(!0),l={runAsAction_:o,prevDerivation_:i,prevAllowStateChanges_:a,prevAllowStateReads_:s,notifySpy_:!1,startTime_:0,actionId_:Ot++,parentActionId_:kt};return kt=l.actionId_,l}(0,e);try{return r.apply(i,o)}catch(t){throw a.error_=t,t}finally{!function(t){kt!==t.actionId_&&n(30);kt=t.parentActionId_,void 0!==t.error_&&(ae.suppressReactionErrors=!0);Bt(t.prevAllowStateChanges_),ee(t.prevAllowStateReads_),ce(),t.runAsAction_&&Qt(t.prevDerivation_);0;ae.suppressReactionErrors=!1}(a)}}function Lt(t,e){var r=Nt(t);try{return e()}finally{Bt(r)}}function Nt(t){var e=ae.allowStateChanges;return ae.allowStateChanges=t,e}function Bt(t){ae.allowStateChanges=t}Pt=Symbol.toPrimitive;var zt,jt,Vt=function(t,e){function r(e,r,n,i,o){var a;return void 0===n&&(n="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=X.default),(a=t.call(this,n)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=r,a.name_=n,a.equals=o,a.value_=r(e,void 0,n),a}F(r,t);var n=r.prototype;return n.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},n.set=function(t){this.value_;if((t=this.prepareNewValue_(t))!==ae.UNCHANGED){0,this.setNewValue_(t)}},n.prepareNewValue_=function(t){if(qt(this),Qe(this)){var e=er(this,{object:this,type:lr,newValue:t});if(!e)return ae.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?ae.UNCHANGED:t},n.setNewValue_=function(t){var e=this.value_;this.value_=t,this.reportChanged(),rr(this)&&ir(this,{type:lr,object:this,newValue:t,oldValue:e})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(t){return tr(this,t)},n.observe_=function(t,e){return e&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:lr,newValue:this.value_,oldValue:void 0}),nr(this,t)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return P(this.get())},n[e]=function(){return this.valueOf()},r}(H,Pt),Ut=S("ObservableValue",Vt),Wt=function(t){function e(t){this.dependenciesState_=zt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=zt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Gt(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=jt.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||n(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=Rt("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?X.structural:X.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var r=e.prototype;return r.onBecomeStale_=function(){!function(t){if(t.lowestObserverState_!==zt.UP_TO_DATE_)return;t.lowestObserverState_=zt.POSSIBLY_STALE_,t.observers_.forEach((function(t){t.dependenciesState_===zt.UP_TO_DATE_&&(t.dependenciesState_=zt.POSSIBLY_STALE_,t.onBecomeStale_())}))}(this)},r.onBO=function(){this.onBOL&&this.onBOL.forEach((function(t){return t()}))},r.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(t){return t()}))},r.get=function(){if(this.isComputing_&&n(32,this.name_,this.derivation),0!==ae.inBatch||0!==this.observers_.size||this.keepAlive_){if(fe(this),Xt(this)){var t=ae.trackingContext;this.keepAlive_&&!t&&(ae.trackingContext=this),this.trackAndCompute()&&function(t){if(t.lowestObserverState_===zt.STALE_)return;t.lowestObserverState_=zt.STALE_,t.observers_.forEach((function(e){e.dependenciesState_===zt.POSSIBLY_STALE_?e.dependenciesState_=zt.STALE_:e.dependenciesState_===zt.UP_TO_DATE_&&(t.lowestObserverState_=zt.UP_TO_DATE_)}))}(this),ae.trackingContext=t}}else Xt(this)&&(this.warnAboutUntrackedRead_(),ue(),this.value_=this.computeValue_(!1),ce());var e=this.value_;if(Yt(e))throw e.cause;return e},r.set=function(t){if(this.setter_){this.isRunningSetter_&&n(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else n(34,this.name_)},r.trackAndCompute=function(){var t=this.value_,e=this.dependenciesState_===zt.NOT_TRACKING_,r=this.computeValue_(!0),n=e||Yt(t)||Yt(r)||!this.equals_(t,r);return n&&(this.value_=r),n},r.computeValue_=function(t){this.isComputing_=!0;var e,r=Nt(!1);if(t)e=Kt(this,this.derivation,this.scope_);else if(!0===ae.disableErrorBoundaries)e=this.derivation.call(this.scope_);else try{e=this.derivation.call(this.scope_)}catch(t){e=new Gt(t)}return Bt(r),this.isComputing_=!1,e},r.suspend_=function(){this.keepAlive_||(Zt(this),this.value_=void 0)},r.observe_=function(t,e){var r=this,n=!0,i=void 0;return Ae((function(){var o=r.get();if(!n||e){var a=$t();t({observableKind:"computed",debugObjectName:r.name_,type:lr,object:r,newValue:o,oldValue:i}),Qt(a)}n=!1,i=o}))},r.warnAboutUntrackedRead_=function(){},r.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},r.valueOf=function(){return P(this.get())},r[t]=function(){return this.valueOf()},e}(Symbol.toPrimitive),Ht=S("ComputedValue",Wt);!function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"}(zt||(zt={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(jt||(jt={}));var Gt=function(t){this.cause=void 0,this.cause=t};function Yt(t){return t instanceof Gt}function Xt(t){switch(t.dependenciesState_){case zt.UP_TO_DATE_:return!1;case zt.NOT_TRACKING_:case zt.STALE_:return!0;case zt.POSSIBLY_STALE_:for(var e=te(!0),r=$t(),n=t.observing_,i=n.length,o=0;o<i;o++){var a=n[o];if(Ht(a)){if(ae.disableErrorBoundaries)a.get();else try{a.get()}catch(t){return Qt(r),ee(e),!0}if(t.dependenciesState_===zt.STALE_)return Qt(r),ee(e),!0}}return re(t),Qt(r),ee(e),!1}}function qt(t){}function Kt(t,e,r){var n=te(!0);re(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++ae.runId;var i,o=ae.trackingDerivation;if(ae.trackingDerivation=t,ae.inBatch++,!0===ae.disableErrorBoundaries)i=e.call(r);else try{i=e.call(r)}catch(t){i=new Gt(t)}return ae.inBatch--,ae.trackingDerivation=o,function(t){for(var e=t.observing_,r=t.observing_=t.newObserving_,n=zt.UP_TO_DATE_,i=0,o=t.unboundDepsCount_,a=0;a<o;a++){var s=r[a];0===s.diffValue_&&(s.diffValue_=1,i!==a&&(r[i]=s),i++),s.dependenciesState_>n&&(n=s.dependenciesState_)}r.length=i,t.newObserving_=null,o=e.length;for(;o--;){var l=e[o];0===l.diffValue_&&le(l,t),l.diffValue_=0}for(;i--;){var h=r[i];1===h.diffValue_&&(h.diffValue_=0,se(h,t))}n!==zt.UP_TO_DATE_&&(t.dependenciesState_=n,t.onBecomeStale_())}(t),ee(n),i}function Zt(t){var e=t.observing_;t.observing_=[];for(var r=e.length;r--;)le(e[r],t);t.dependenciesState_=zt.NOT_TRACKING_}function Jt(t){var e=$t();try{return t()}finally{Qt(e)}}function $t(){var t=ae.trackingDerivation;return ae.trackingDerivation=null,t}function Qt(t){ae.trackingDerivation=t}function te(t){var e=ae.allowStateReads;return ae.allowStateReads=t,e}function ee(t){ae.allowStateReads=t}function re(t){if(t.dependenciesState_!==zt.UP_TO_DATE_){t.dependenciesState_=zt.UP_TO_DATE_;for(var e=t.observing_,r=e.length;r--;)e[r].lowestObserverState_=zt.UP_TO_DATE_}}var ne=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},ie=!0,oe=!1,ae=function(){var t=o();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(ie=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new ne).version&&(ie=!1),ie?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new ne):(setTimeout((function(){oe||n(35)}),1),new ne)}();function se(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function le(t,e){t.observers_.delete(e),0===t.observers_.size&&he(t)}function he(t){!1===t.isPendingUnobservation_&&(t.isPendingUnobservation_=!0,ae.pendingUnobservations.push(t))}function ue(){ae.inBatch++}function ce(){if(0==--ae.inBatch){ve();for(var t=ae.pendingUnobservations,e=0;e<t.length;e++){var r=t[e];r.isPendingUnobservation_=!1,0===r.observers_.size&&(r.isBeingObserved_&&(r.isBeingObserved_=!1,r.onBUO()),r instanceof Wt&&r.suspend_())}ae.pendingUnobservations=[]}}function fe(t){var e=ae.trackingDerivation;return null!==e?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&ae.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),!0):(0===t.observers_.size&&ae.inBatch>0&&he(t),!1)}function pe(t){t.lowestObserverState_!==zt.STALE_&&(t.lowestObserverState_=zt.STALE_,t.observers_.forEach((function(t){t.dependenciesState_===zt.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=zt.STALE_})))}var de=function(){function t(t,e,r,n){void 0===t&&(t="Reaction"),void 0===n&&(n=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=zt.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=jt.NONE,this.name_=t,this.onInvalidate_=e,this.errorHandler_=r,this.requiresObservable_=n}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,ae.pendingReactions.push(this),ve())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){ue(),this.isScheduled_=!1;var t=ae.trackingContext;if(ae.trackingContext=this,Xt(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(t){this.reportExceptionInDerivation_(t)}}ae.trackingContext=t,ce()}},e.track=function(t){if(!this.isDisposed_){ue();0,this.isRunning_=!0;var e=ae.trackingContext;ae.trackingContext=this;var r=Kt(this,t,void 0);ae.trackingContext=e,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Zt(this),Yt(r)&&this.reportExceptionInDerivation_(r.cause),ce()}},e.reportExceptionInDerivation_=function(t){var e=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(ae.disableErrorBoundaries)throw t;var r="[mobx] uncaught error in '"+this+"'";ae.suppressReactionErrors||console.error(r,t),ae.globalReactionErrorHandlers.forEach((function(r){return r(t,e)}))}},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(ue(),Zt(this),ce()))},e.getDisposer_=function(){var t=this.dispose.bind(this);return t[W]=this,t},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(t){void 0===t&&(t=!1),function(){n("trace() is not available in production builds");for(var t=!1,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];"boolean"==typeof r[r.length-1]&&(t=r.pop());var o=Ke(r);if(!o)return n("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===jt.NONE&&o.name_;o.isTracing_=t?jt.BREAK:jt.LOG}(this,t)},t}();var me=function(t){return t()};function ve(){ae.inBatch>0||ae.isRunningReactions||me(ye)}function ye(){ae.isRunningReactions=!0;for(var t=ae.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var r=t.splice(0),n=0,i=r.length;n<i;n++)r[n].runReaction_()}ae.isRunningReactions=!1}var ge=S("Reaction",de);var _e=Z("action"),be=Z("action.bound",{bound:!0}),xe=Z("autoAction",{autoAction:!0}),we=Z("autoAction.bound",{autoAction:!0,bound:!0});function Te(t){return function(e,r){return y(e)?Rt(e.name||"<unnamed action>",e,t):y(r)?Rt(e,r,t):g(r)?U(e,r,t?xe:_e):g(e)?V(Z(t?"autoAction":"action",{name:e,autoAction:t})):void 0}}var Se=Te(!1);Object.assign(Se,_e);var Ee=Te(!0);function Me(t){return Ft(t.name,!1,t,this,void 0)}function Ce(t){return y(t)&&!0===t.isMobxAction}function Ae(t,e){var r,n;void 0===e&&(e=c);var i,o=null!=(r=null==(n=e)?void 0:n.name)?r:"Autorun";if(!e.scheduler&&!e.delay)i=new de(o,(function(){this.track(l)}),e.onError,e.requiresObservable);else{var a=ke(e),s=!1;i=new de(o,(function(){s||(s=!0,a((function(){s=!1,i.isDisposed_||i.track(l)})))}),e.onError,e.requiresObservable)}function l(){t(i)}return i.schedule_(),i.getDisposer_()}Object.assign(Ee,xe),Se.bound=V(be),Ee.bound=V(we);var Pe=function(t){return t()};function ke(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:Pe}function Oe(t,e,r){return De("onBUO",t,e,r)}function De(t,e,r,n){var i="function"==typeof n?Ur(e,r):Ur(e),o=y(n)?n:r,a=t+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var t=i[a];t&&(t.delete(o),0===t.size&&delete i[a])}}function Ie(t){!0===t.isolateGlobalState&&function(){if((ae.pendingReactions.length||ae.inBatch||ae.isRunningReactions)&&n(36),oe=!0,ie){var t=o();0==--t.__mobxInstanceCount&&(t.__mobxGlobals=void 0),ae=new ne}}();var e,r,i=t.useProxies,a=t.enforceActions;if(void 0!==i&&(ae.useProxies="always"===i||"never"!==i&&"undefined"!=typeof Proxy),"ifavailable"===i&&(ae.verifyProxies=!0),void 0!==a){var s="always"===a?"always":"observed"===a;ae.enforceActions=s,ae.allowStateChanges=!0!==s&&"always"!==s}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(e){e in t&&(ae[e]=!!t[e])})),ae.allowStateReads=!ae.observableRequiresReaction,t.reactionScheduler&&(e=t.reactionScheduler,r=me,me=function(t){return e((function(){return r(t)}))})}function Re(t,e,r,n){var i=O(e),o=Ar(t,n)[W];ue();try{A(i).forEach((function(t){o.extend_(t,i[t],!r||(!(t in r)||r[t]))}))}finally{ce()}return t}function Fe(t,e){return Le(Ur(t,e))}function Le(t){var e,r={name:t.name_};return t.observing_&&t.observing_.length>0&&(r.dependencies=(e=t.observing_,Array.from(new Set(e))).map(Le)),r}var Ne=0;function Be(){this.message="FLOW_CANCELLED"}Be.prototype=Object.create(Error.prototype);var ze=tt("flow"),je=tt("flow.bound",{bound:!0}),Ve=Object.assign((function(t,e){if(g(e))return U(t,e,ze);var r=t,n=r.name||"<unnamed flow>",i=function(){var t,e=this,i=arguments,o=++Ne,a=Se(n+" - runid: "+o+" - init",r).apply(e,i),s=void 0,l=new Promise((function(e,r){var i=0;function l(t){var e;s=void 0;try{e=Se(n+" - runid: "+o+" - yield "+i++,a.next).call(a,t)}catch(t){return r(t)}u(e)}function h(t){var e;s=void 0;try{e=Se(n+" - runid: "+o+" - yield "+i++,a.throw).call(a,t)}catch(t){return r(t)}u(e)}function u(t){if(!y(null==t?void 0:t.then))return t.done?e(t.value):(s=Promise.resolve(t.value)).then(l,h);t.then(u,r)}t=r,l(void 0)}));return l.cancel=Se(n+" - runid: "+o+" - cancel",(function(){try{s&&Ue(s);var e=a.return(void 0),r=Promise.resolve(e.value);r.then(v,v),Ue(r),t(new Be)}catch(e){t(e)}})),l};return i.isMobXFlow=!0,i}),ze);function Ue(t){y(t.cancel)&&t.cancel()}function We(t){return!0===(null==t?void 0:t.isMobXFlow)}function He(t,e){return!!t&&(void 0!==e?!!Or(t)&&t[W].values_.has(e):Or(t)||!!t[W]||G(t)||ge(t)||Ht(t))}function Ge(t){return He(t)}function Ye(t,e,r){return t.set(e,r),r}function Xe(t,e){if(null==t||"object"!=typeof t||t instanceof Date||!Ge(t))return t;if(Ut(t)||Ht(t))return Xe(t.get(),e);if(e.has(t))return e.get(t);if(gr(t)){var r=Ye(e,t,new Array(t.length));return t.forEach((function(t,n){r[n]=Xe(t,e)})),r}if(Er(t)){var i=Ye(e,t,new Set);return t.forEach((function(t){i.add(Xe(t,e))})),i}if(wr(t)){var o=Ye(e,t,new Map);return t.forEach((function(t,r){o.set(r,Xe(t,e))})),o}var a=Ye(e,t,{});return function(t){if(Or(t))return t[W].ownKeys_();n(38)}(t).forEach((function(r){h.propertyIsEnumerable.call(t,r)&&(a[r]=Xe(t[r],e))})),a}function qe(t,e){return Xe(t,new Map)}function Ke(t){switch(t.length){case 0:return ae.trackingDerivation;case 1:return Ur(t[0]);case 2:return Ur(t[0],t[1])}}function Ze(t,e){void 0===e&&(e=void 0),ue();try{return t.apply(e)}finally{ce()}}function Je(t){return t[W]}Ve.bound=V(je);var $e={has:function(t,e){return Je(t).has_(e)},get:function(t,e){return Je(t).get_(e)},set:function(t,e,r){var n;return!!g(e)&&(null==(n=Je(t).set_(e,r,!0))||n)},deleteProperty:function(t,e){var r;return!!g(e)&&(null==(r=Je(t).delete_(e,!0))||r)},defineProperty:function(t,e,r){var n;return null==(n=Je(t).defineProperty_(e,r))||n},ownKeys:function(t){return Je(t).ownKeys_()},preventExtensions:function(t){n(13)}};function Qe(t){return void 0!==t.interceptors_&&t.interceptors_.length>0}function tr(t,e){var r=t.interceptors_||(t.interceptors_=[]);return r.push(e),m((function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}))}function er(t,e){var r=$t();try{for(var i=[].concat(t.interceptors_||[]),o=0,a=i.length;o<a&&((e=i[o](e))&&!e.type&&n(14),e);o++);return e}finally{Qt(r)}}function rr(t){return void 0!==t.changeListeners_&&t.changeListeners_.length>0}function nr(t,e){var r=t.changeListeners_||(t.changeListeners_=[]);return r.push(e),m((function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}))}function ir(t,e){var r=$t(),n=t.changeListeners_;if(n){for(var i=0,o=(n=n.slice()).length;i<o;i++)n[i](e);Qt(r)}}function or(t,e,r){var n=Ar(t,r)[W];ue();try{0,null!=e||(e=function(t){return k(t,j)||w(t,j,R({},t[j])),t[j]}(t)),A(e).forEach((function(t){return n.make_(t,e[t])}))}finally{ce()}return t}var ar=Symbol("mobx-keys");function sr(t,e,r){if(b(t))return Re(t,t,e,r);var n=Ar(t,r)[W];if(!t[ar]){var i=Object.getPrototypeOf(t),o=new Set([].concat(A(t),A(i)));o.delete("constructor"),o.delete(W),w(i,ar,o)}ue();try{t[ar].forEach((function(t){return n.make_(t,!e||(!(t in e)||e[t]))}))}finally{ce()}return t}var lr="update",hr={get:function(t,e){var r=t[W];return e===W?r:"length"===e?r.getArrayLength_():"string"!=typeof e||isNaN(e)?k(fr,e)?fr[e]:t[e]:r.get_(parseInt(e))},set:function(t,e,r){var n=t[W];return"length"===e&&n.setArrayLength_(r),"symbol"==typeof e||isNaN(e)?t[e]=r:n.set_(parseInt(e),r),!0},preventExtensions:function(){n(15)}},ur=function(){function t(t,e,r,n){void 0===t&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=n,this.atom_=new H(t),this.enhancer_=function(t,r){return e(t,r,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.dehanceValues_=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},e.intercept_=function(t){return tr(this,t)},e.observe_=function(t,e){return void 0===e&&(e=!1),e&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),nr(this,t)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(t){("number"!=typeof t||isNaN(t)||t<0)&&n("Out of range: "+t);var e=this.values_.length;if(t!==e)if(t>e){for(var r=new Array(t-e),i=0;i<t-e;i++)r[i]=void 0;this.spliceWithArray_(e,0,r)}else this.spliceWithArray_(t,e-t)},e.updateArrayLength_=function(t,e){t!==this.lastKnownLength_&&n(16),this.lastKnownLength_+=e,this.legacyMode_&&e>0&&jr(t+e+1)},e.spliceWithArray_=function(t,e,r){var n=this;this.atom_;var i=this.values_.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===r&&(r=u),Qe(this)){var o=er(this,{object:this.proxy_,type:"splice",index:t,removedCount:e,added:r});if(!o)return u;e=o.removedCount,r=o.added}if(r=0===r.length?r:r.map((function(t){return n.enhancer_(t,void 0)})),this.legacyMode_){var a=r.length-e;this.updateArrayLength_(i,a)}var s=this.spliceItemsIntoValues_(t,e,r);return 0===e&&0===r.length||this.notifyArraySplice_(t,r,s),this.dehanceValues_(s)},e.spliceItemsIntoValues_=function(t,e,r){var n;if(r.length<1e4)return(n=this.values_).splice.apply(n,[t,e].concat(r));var i=this.values_.slice(t,t+e),o=this.values_.slice(t+e);this.values_.length+=r.length-e;for(var a=0;a<r.length;a++)this.values_[t+a]=r[a];for(var s=0;s<o.length;s++)this.values_[t+r.length+s]=o[s];return i},e.notifyArrayChildUpdate_=function(t,e,r){var n=!this.owned_&&!1,i=rr(this),o=i||n?{observableKind:"array",object:this.proxy_,type:lr,debugObjectName:this.atom_.name_,index:t,newValue:e,oldValue:r}:null;this.atom_.reportChanged(),i&&ir(this,o)},e.notifyArraySplice_=function(t,e,r){var n=!this.owned_&&!1,i=rr(this),o=i||n?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:t,removed:r,added:e,removedCount:r.length,addedCount:e.length}:null;this.atom_.reportChanged(),i&&ir(this,o)},e.get_=function(t){if(t<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},e.set_=function(t,e){var r=this.values_;if(t<r.length){this.atom_;var i=r[t];if(Qe(this)){var o=er(this,{type:lr,object:this.proxy_,index:t,newValue:e});if(!o)return;e=o.newValue}(e=this.enhancer_(e,i))!==i&&(r[t]=e,this.notifyArrayChildUpdate_(t,e,i))}else t===r.length?this.spliceWithArray_(t,0,[e]):n(17,t,r.length)},t}();function cr(t,e,r,n){void 0===r&&(r="ObservableArray"),void 0===n&&(n=!1),d();var i=new ur(r,e,n,!1);T(i.values_,W,i);var o=new Proxy(i.values_,hr);if(i.proxy_=o,t&&t.length){var a=Nt(!0);i.spliceWithArray_(0,0,t),Bt(a)}return o}var fr={clear:function(){return this.splice(0)},replace:function(t){var e=this[W];return e.spliceWithArray_(0,e.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var o=this[W];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(t);case 2:return o.spliceWithArray_(t,e)}return o.spliceWithArray_(t,e,n)},spliceWithArray:function(t,e,r){return this[W].spliceWithArray_(t,e,r)},push:function(){for(var t=this[W],e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[W].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[W],e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return ae.trackingDerivation&&n(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ae.trackingDerivation&&n(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var e=this[W],r=e.dehanceValues_(e.values_).indexOf(t);return r>-1&&(this.splice(r,1),!0)}};function pr(t,e){"function"==typeof Array.prototype[t]&&(fr[t]=e(t))}function dr(t){return function(){var e=this[W];e.atom_.reportObserved();var r=e.dehanceValues_(e.values_);return r[t].apply(r,arguments)}}function mr(t){return function(e,r){var n=this,i=this[W];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[t]((function(t,i){return e.call(r,t,i,n)}))}}function vr(t){return function(){var e=this,r=this[W];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),i=arguments[0];return arguments[0]=function(t,r,n){return i(t,r,n,e)},n[t].apply(n,arguments)}}pr("concat",dr),pr("flat",dr),pr("includes",dr),pr("indexOf",dr),pr("join",dr),pr("lastIndexOf",dr),pr("slice",dr),pr("toString",dr),pr("toLocaleString",dr),pr("every",mr),pr("filter",mr),pr("find",mr),pr("findIndex",mr),pr("flatMap",mr),pr("forEach",mr),pr("map",mr),pr("some",mr),pr("reduce",vr),pr("reduceRight",vr);var yr=S("ObservableArrayAdministration",ur);function gr(t){return _(t)&&yr(t[W])}var _r={},br="add",xr=function(t,e){function r(t,e,r){var i=this;void 0===e&&(e=q),void 0===r&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[W]=_r,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=e,this.name_=r,y(Map)||n(18),this.keysAtom_=Y("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,Lt(!0,(function(){i.merge(t)}))}var i=r.prototype;return i.has_=function(t){return this.data_.has(t)},i.has=function(t){var e=this;if(!ae.trackingDerivation)return this.has_(t);var r=this.hasMap_.get(t);if(!r){var n=r=new Vt(this.has_(t),K,"ObservableMap.key?",!1);this.hasMap_.set(t,n),Oe(n,(function(){return e.hasMap_.delete(t)}))}return r.get()},i.set=function(t,e){var r=this.has_(t);if(Qe(this)){var n=er(this,{type:r?lr:br,object:this,newValue:e,name:t});if(!n)return this;e=n.newValue}return r?this.updateValue_(t,e):this.addValue_(t,e),this},i.delete=function(t){var e=this;if((this.keysAtom_,Qe(this))&&!er(this,{type:"delete",object:this,name:t}))return!1;if(this.has_(t)){var r=rr(this),n=r?{observableKind:"map",debugObjectName:this.name_,type:"delete",object:this,oldValue:this.data_.get(t).value_,name:t}:null;return Ze((function(){var r;e.keysAtom_.reportChanged(),null==(r=e.hasMap_.get(t))||r.setNewValue_(!1),e.data_.get(t).setNewValue_(void 0),e.data_.delete(t)})),r&&ir(this,n),!0}return!1},i.updateValue_=function(t,e){var r=this.data_.get(t);if((e=r.prepareNewValue_(e))!==ae.UNCHANGED){var n=rr(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:lr,object:this,oldValue:r.value_,name:t,newValue:e}:null;0,r.setNewValue_(e),n&&ir(this,i)}},i.addValue_=function(t,e){var r=this;this.keysAtom_,Ze((function(){var n,i=new Vt(e,r.enhancer_,"ObservableMap.key",!1);r.data_.set(t,i),e=i.value_,null==(n=r.hasMap_.get(t))||n.setNewValue_(!0),r.keysAtom_.reportChanged()}));var n=rr(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:br,object:this,name:t,newValue:e}:null;n&&ir(this,i)},i.get=function(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},i.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},i.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},i.values=function(){var t=this,e=this.keys();return qr({next:function(){var r=e.next(),n=r.done,i=r.value;return{done:n,value:n?void 0:t.get(i)}}})},i.entries=function(){var t=this,e=this.keys();return qr({next:function(){var r=e.next(),n=r.done,i=r.value;return{done:n,value:n?void 0:[i,t.get(i)]}}})},i[t]=function(){return this.entries()},i.forEach=function(t,e){for(var r,n=z(this);!(r=n()).done;){var i=r.value,o=i[0],a=i[1];t.call(e,a,o,this)}},i.merge=function(t){var e=this;return wr(t)&&(t=new Map(t)),Ze((function(){b(t)?function(t){var e=Object.keys(t);if(!C)return e;var r=Object.getOwnPropertySymbols(t);return r.length?[].concat(e,r.filter((function(e){return h.propertyIsEnumerable.call(t,e)}))):e}(t).forEach((function(r){return e.set(r,t[r])})):Array.isArray(t)?t.forEach((function(t){var r=t[0],n=t[1];return e.set(r,n)})):E(t)?(t.constructor!==Map&&n(19,t),t.forEach((function(t,r){return e.set(r,t)}))):null!=t&&n(20,t)})),this},i.clear=function(){var t=this;Ze((function(){Jt((function(){for(var e,r=z(t.keys());!(e=r()).done;){var n=e.value;t.delete(n)}}))}))},i.replace=function(t){var e=this;return Ze((function(){for(var r,i=function(t){if(E(t)||wr(t))return t;if(Array.isArray(t))return new Map(t);if(b(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}return n(21,t)}(t),o=new Map,a=!1,s=z(e.data_.keys());!(r=s()).done;){var l=r.value;if(!i.has(l))if(e.delete(l))a=!0;else{var h=e.data_.get(l);o.set(l,h)}}for(var u,c=z(i.entries());!(u=c()).done;){var f=u.value,p=f[0],d=f[1],m=e.data_.has(p);if(e.set(p,d),e.data_.has(p)){var v=e.data_.get(p);o.set(p,v),m||(a=!0)}}if(!a)if(e.data_.size!==o.size)e.keysAtom_.reportChanged();else for(var y=e.data_.keys(),g=o.keys(),_=y.next(),x=g.next();!_.done;){if(_.value!==x.value){e.keysAtom_.reportChanged();break}_=y.next(),x=g.next()}e.data_=o})),this},i.toString=function(){return"[object ObservableMap]"},i.toJSON=function(){return Array.from(this)},i.observe_=function(t,e){return nr(this,t)},i.intercept_=function(t){return tr(this,t)},I(r,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:e,get:function(){return"Map"}}]),r}(Symbol.iterator,Symbol.toStringTag),wr=S("ObservableMap",xr);var Tr={},Sr=function(t,e){function r(t,e,r){void 0===e&&(e=q),void 0===r&&(r="ObservableSet"),this.name_=void 0,this[W]=Tr,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,y(Set)||n(22),this.atom_=Y(this.name_),this.enhancer_=function(t,n){return e(t,n,r)},t&&this.replace(t)}var i=r.prototype;return i.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},i.clear=function(){var t=this;Ze((function(){Jt((function(){for(var e,r=z(t.data_.values());!(e=r()).done;){var n=e.value;t.delete(n)}}))}))},i.forEach=function(t,e){for(var r,n=z(this);!(r=n()).done;){var i=r.value;t.call(e,i,i,this)}},i.add=function(t){var e=this;if((this.atom_,Qe(this))&&!er(this,{type:br,object:this,newValue:t}))return this;if(!this.has(t)){Ze((function(){e.data_.add(e.enhancer_(t,void 0)),e.atom_.reportChanged()}));var r=rr(this),n=r?{observableKind:"set",debugObjectName:this.name_,type:br,object:this,newValue:t}:null;0,r&&ir(this,n)}return this},i.delete=function(t){var e=this;if(Qe(this)&&!er(this,{type:"delete",object:this,oldValue:t}))return!1;if(this.has(t)){var r=rr(this),n=r?{observableKind:"set",debugObjectName:this.name_,type:"delete",object:this,oldValue:t}:null;return Ze((function(){e.atom_.reportChanged(),e.data_.delete(t)})),r&&ir(this,n),!0}return!1},i.has=function(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},i.entries=function(){var t=0,e=Array.from(this.keys()),r=Array.from(this.values());return qr({next:function(){var n=t;return t+=1,n<r.length?{value:[e[n],r[n]],done:!1}:{done:!0}}})},i.keys=function(){return this.values()},i.values=function(){this.atom_.reportObserved();var t=this,e=0,r=Array.from(this.data_.values());return qr({next:function(){return e<r.length?{value:t.dehanceValue_(r[e++]),done:!1}:{done:!0}}})},i.replace=function(t){var e=this;return Er(t)&&(t=new Set(t)),Ze((function(){Array.isArray(t)||M(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&n("Cannot initialize set from "+t)})),this},i.observe_=function(t,e){return nr(this,t)},i.intercept_=function(t){return tr(this,t)},i.toJSON=function(){return Array.from(this)},i.toString=function(){return"[object ObservableSet]"},i[t]=function(){return this.values()},I(r,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:e,get:function(){return"Set"}}]),r}(Symbol.iterator,Symbol.toStringTag),Er=S("ObservableSet",Sr),Mr=Object.create(null),Cr=function(){function t(t,e,r,n){void 0===e&&(e=new Map),void 0===n&&(n=ut),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=e,this.name_=r,this.defaultAnnotation_=n,this.keysAtom_=new H("ObservableObject.keys"),this.isPlainObject_=b(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(t){return this.values_.get(t).get()},e.setObservablePropValue_=function(t,e){var r=this.values_.get(t);if(r instanceof Wt)return r.set(e),!0;if(Qe(this)){var n=er(this,{type:lr,object:this.proxy_||this.target_,name:t,newValue:e});if(!n)return null;e=n.newValue}if((e=r.prepareNewValue_(e))!==ae.UNCHANGED){var i=rr(this),o=i?{type:lr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:r.value_,name:t,newValue:e}:null;0,r.setNewValue_(e),i&&ir(this,o)}return!0},e.get_=function(t){return ae.trackingDerivation&&!k(this.target_,t)&&this.has_(t),this.target_[t]},e.set_=function(t,e,r){return void 0===r&&(r=!1),k(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,e):r?Reflect.set(this.target_,t,e):(this.target_[t]=e,!0):this.extend_(t,{value:e,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,r)},e.has_=function(t){if(!ae.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var e=this.pendingKeys_.get(t);return e||(e=new Vt(t in this.target_,K,"ObservableObject.key?",!1),this.pendingKeys_.set(t,e)),e.get()},e.make_=function(t,e){if(!0===e&&(e=this.defaultAnnotation_),!1!==e){if(Ir(this,e,t),!(t in this.target_)){var r;if(null!=(r=this.target_[j])&&r[t])return;n(1,e.annotationType_,this.name_+"."+t.toString())}for(var i=this.target_;i&&i!==h;){var o=s(i,t);if(o){var a=e.make_(this,t,o,i);if(0===a)return;if(1===a)break}i=Object.getPrototypeOf(i)}Dr(this,e,t)}},e.extend_=function(t,e,r,n){if(void 0===n&&(n=!1),!0===r&&(r=this.defaultAnnotation_),!1===r)return this.defineProperty_(t,e,n);Ir(this,r,t);var i=r.extend_(this,t,e,n);return i&&Dr(this,r,t),i},e.defineProperty_=function(t,e,r){void 0===r&&(r=!1);try{ue();var n=this.delete_(t);if(!n)return n;if(Qe(this)){var i=er(this,{object:this.proxy_||this.target_,name:t,type:br,newValue:e.value});if(!i)return null;var o=i.newValue;e.value!==o&&(e=R({},e,{value:o}))}if(r){if(!Reflect.defineProperty(this.target_,t,e))return!1}else l(this.target_,t,e);this.notifyPropertyAddition_(t,e.value)}finally{ce()}return!0},e.defineObservableProperty_=function(t,e,r,n){void 0===n&&(n=!1);try{ue();var i=this.delete_(t);if(!i)return i;if(Qe(this)){var o=er(this,{object:this.proxy_||this.target_,name:t,type:br,newValue:e});if(!o)return null;e=o.newValue}var a=kr(t),s={configurable:!ae.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(n){if(!Reflect.defineProperty(this.target_,t,s))return!1}else l(this.target_,t,s);var h=new Vt(e,r,"ObservableObject.key",!1);this.values_.set(t,h),this.notifyPropertyAddition_(t,h.value_)}finally{ce()}return!0},e.defineComputedProperty_=function(t,e,r){void 0===r&&(r=!1);try{ue();var n=this.delete_(t);if(!n)return n;if(Qe(this))if(!er(this,{object:this.proxy_||this.target_,name:t,type:br,newValue:void 0}))return null;e.name||(e.name="ObservableObject.key"),e.context=this.proxy_||this.target_;var i=kr(t),o={configurable:!ae.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(r){if(!Reflect.defineProperty(this.target_,t,o))return!1}else l(this.target_,t,o);this.values_.set(t,new Wt(e)),this.notifyPropertyAddition_(t,void 0)}finally{ce()}return!0},e.delete_=function(t,e){if(void 0===e&&(e=!1),!k(this.target_,t))return!0;if(Qe(this)&&!er(this,{object:this.proxy_||this.target_,name:t,type:"remove"}))return null;try{var r,n;ue();var i,o=rr(this),a=this.values_.get(t),l=void 0;if(!a&&o)l=null==(i=s(this.target_,t))?void 0:i.value;if(e){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if(a&&(this.values_.delete(t),a instanceof Vt&&(l=a.value_),pe(a)),this.keysAtom_.reportChanged(),null==(r=this.pendingKeys_)||null==(n=r.get(t))||n.set(t in this.target_),o){var h={type:"remove",observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:l,name:t};0,o&&ir(this,h)}}finally{ce()}return!0},e.observe_=function(t,e){return nr(this,t)},e.intercept_=function(t){return tr(this,t)},e.notifyPropertyAddition_=function(t,e){var r,n,i=rr(this);if(i){var o=i?{type:br,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:e}:null;0,i&&ir(this,o)}null==(r=this.pendingKeys_)||null==(n=r.get(t))||n.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),A(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function Ar(t,e){var r;if(k(t,W))return t;var n=null!=(r=null==e?void 0:e.name)?r:"ObservableObject",i=new Cr(t,new Map,String(n),function(t){var e;return t?null!=(e=t.defaultDecorator)?e:ct(t):void 0}(e));return w(t,W,i),t}var Pr=S("ObservableObjectAdministration",Cr);function kr(t){return Mr[t]||(Mr[t]={get:function(){return this[W].getObservablePropValue_(t)},set:function(e){return this[W].setObservablePropValue_(t,e)}})}function Or(t){return!!_(t)&&Pr(t[W])}function Dr(t,e,r){var n;null==(n=t.target_[j])||delete n[r]}function Ir(t,e,r){}var Rr,Fr,Lr=0,Nr=function(){};Rr=Nr,Fr=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Rr.prototype,Fr):void 0!==Rr.prototype.__proto__?Rr.prototype.__proto__=Fr:Rr.prototype=Fr;var Br=function(t,e,r){function n(e,r,n,i){var o;void 0===n&&(n="ObservableArray"),void 0===i&&(i=!1),o=t.call(this)||this;var a=new ur(n,r,i,!0);if(a.proxy_=N(o),T(N(o),W,a),e&&e.length){var s=Nt(!0);o.spliceWithArray(0,0,e),Bt(s)}return o}F(n,t);var i=n.prototype;return i.concat=function(){this[W].atom_.reportObserved();for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Array.prototype.concat.apply(this.slice(),e.map((function(t){return gr(t)?t.slice():t})))},i[r]=function(){var t=this,e=0;return qr({next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0,value:void 0}}})},I(n,[{key:"length",get:function(){return this[W].getArrayLength_()},set:function(t){this[W].setArrayLength_(t)}},{key:e,get:function(){return"Array"}}]),n}(Nr,Symbol.toStringTag,Symbol.iterator);function zr(t){l(Br.prototype,""+t,function(t){return{enumerable:!1,configurable:!0,get:function(){return this[W].get_(t)},set:function(e){this[W].set_(t,e)}}}(t))}function jr(t){if(t>Lr){for(var e=Lr;e<t+100;e++)zr(e);Lr=t}}function Vr(t,e,r){return new Br(t,e,r)}function Ur(t,e){if("object"==typeof t&&null!==t){if(gr(t))return void 0!==e&&n(23),t[W].atom_;if(Er(t))return t[W];if(wr(t)){if(void 0===e)return t.keysAtom_;var r=t.data_.get(e)||t.hasMap_.get(e);return r||n(25,e,Hr(t)),r}if(Or(t)){if(!e)return n(26);var i=t[W].values_.get(e);return i||n(27,e,Hr(t)),i}if(G(t)||Ht(t)||ge(t))return t}else if(y(t)&&ge(t[W]))return t[W];n(28)}function Wr(t,e){return t||n(29),void 0!==e?Wr(Ur(t,e)):G(t)||Ht(t)||ge(t)||wr(t)||Er(t)?t:t[W]?t[W]:void n(24,t)}function Hr(t,e){var r;if(void 0!==e)r=Ur(t,e);else{if(Ce(t))return t.name;r=Or(t)||wr(t)||Er(t)?Wr(t):Ur(t)}return r.name_}Object.entries(fr).forEach((function(t){var e=t[0],r=t[1];"concat"!==e&&w(Br.prototype,e,r)})),jr(1e3);var Gr=h.toString;function Yr(t,e,r){return void 0===r&&(r=-1),function t(e,r,n,i,o){if(e===r)return 0!==e||1/e==1/r;if(null==e||null==r)return!1;if(e!=e)return r!=r;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof r)return!1;var s=Gr.call(e);if(s!==Gr.call(r))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+r;case"[object Number]":return+e!=+e?+r!=+r:0==+e?1/+e==1/r:+e==+r;case"[object Date]":case"[object Boolean]":return+e==+r;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(r);case"[object Map]":case"[object Set]":n>=0&&n++}e=Xr(e),r=Xr(r);var l="[object Array]"===s;if(!l){if("object"!=typeof e||"object"!=typeof r)return!1;var h=e.constructor,u=r.constructor;if(h!==u&&!(y(h)&&h instanceof h&&y(u)&&u instanceof u)&&"constructor"in e&&"constructor"in r)return!1}if(0===n)return!1;n<0&&(n=-1);o=o||[];var c=(i=i||[]).length;for(;c--;)if(i[c]===e)return o[c]===r;if(i.push(e),o.push(r),l){if((c=e.length)!==r.length)return!1;for(;c--;)if(!t(e[c],r[c],n-1,i,o))return!1}else{var f,p=Object.keys(e);if(c=p.length,Object.keys(r).length!==c)return!1;for(;c--;)if(f=p[c],!k(r,f)||!t(e[f],r[f],n-1,i,o))return!1}return i.pop(),o.pop(),!0}(t,e,r)}function Xr(t){return gr(t)?t.slice():E(t)||wr(t)||M(t)||Er(t)?Array.from(t.entries()):t}function qr(t){return t[Symbol.iterator]=Kr,t}function Kr(){return this}["Symbol","Map","Set"].forEach((function(t){void 0===o()[t]&&n("MobX requires global '"+t+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:Hr},$mobx:W})}).call(this,r("yLpj"))},bCyt:function(t,e,r){"use strict";r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return c}));var n={},i=window.location.search;try{i=top.location.search}catch(t){}for(var o=0,a=i.replace("?","").split("&");o<a.length;o++){var s=a[o].split("=");n[s[0]]=1===s.length||s[1]}var l,h,u,c=!0;if(n.appID?l=n.appID:CFG.appID&&(l=CFG.appID),n.channelType&&n.channelType,n.projectID)h=n.projectID;else{var f=window.location.pathname.match(/\/projectx\/(.*?)\/.*?/);f&&(h=f[1])}function p(t,e){var r={pageBizId:t};return d(r,e),function(t,e,r,n,i){void 0===e&&(e="get");void 0===n&&(n="text");var o=0===t.indexOf("blob")?t:y(t,"__ts__="+Date.now()),a={};return d(a,r),"jsonp"===n?function(t,e){return new Promise((function(r,n){var i=y(t,m(e)),o=document.createElement("script");o.src=i,o.onload=function(){r(),document.body.removeChild(o)},o.onerror=function(){n(),document.body.removeChild(o)},document.body.appendChild(o)}))}(o,a):new Promise((function(r,s){var l={"Content-Type":"application/x-www-form-urlencoded"};d(l,i);var h={url:t,method:e,params:a,type:n,headers:l},u=window.mock;u?u(h,(function(t){t||v(h,r,s)}),r,s):(h.url=o,v(h,r,s))}))}("buriedPoint","get",r)}function d(t,e,r,n,i){if(void 0===n&&(n=!0),void 0===i&&(i=!0),!t||!e)return!1;var o=!1;for(var a in e){var s=e[a];if(!(n&&"function"==typeof s||i&&null==s)){if(r)r(t,a,s);else try{t[a]=s}catch(t){}o=!0}}return o}function m(t){if(!t)return"";var e=[];for(var r in t)e.push(r+(r?"=":"")+t[r]);return e.join("&")}function v(t,e,r){window.proxy_window&&0!==t.url.indexOf("blob")?function(t,e,r){var n=window.proxy_window;window.addEventListener("message",(function t(n){window.removeEventListener("message",t);try{var i=JSON.parse(n.data);switch(n.data,i.action){case"http-request-proxy-resolve":e(i.payload);break;case"http-request-proxy-reject":r(i.payload)}}catch(t){}}),!1),n.postMessage(JSON.stringify({action:"http-request-proxy",payload:t}),"*")}(t,(function(t){e(t)}),r):function(t,e,r){var n,i=t.url,o=t.method,a=t.params,s=t.type,l=t.headers;if(window.XMLHttpRequest?n=new XMLHttpRequest:window.ActiveXObject&&(n=new window.ActiveXObject),null!=n){var h="GET"===o.toUpperCase(),u=m(a),c=i;for(var f in 0==c.indexOf("projectx")&&(c="/"+c),h&&(c=y(c,u)),n.open(o,c,!0),l)n.setRequestHeader(f,l[f]);n.responseType=s,n.onreadystatechange=function(){4==n.readyState&&200==n.status&&e(n.response)},n.onerror=function(t){r(t)},n.onloadend=function(){404==n.status&&r(i+" 404 (Not Found)")},h?n.send():n.send(u)}}(t,e,r)}function y(t,e){return e?(t+=t.indexOf("?")<0?"?":"",(t+="?"===t[t.length-1]?"":"&")+e):t}u=window.hasOwnProperty("isFromShare")?window.isFromShare:!!n.is_from_share,window.setFromShare=function(){u=!0},function(){if(localStorage){var t="nu_"+l+"_"+h;localStorage.getItem(t)?c=!1:localStorage.setItem(t,"1")}}(),window.isSharePage&&setTimeout((function(){p(506)}),100),window.stop_report_page_remain_time||function(){var t,e,r,n=(new Date).getTime();e=function(e){e?n=(new Date).getTime():(t=(new Date).getTime(),i())},void 0!==document.hidden?r="visibilitychange":void 0!==document.msHidden?r="msvisibilitychange":void 0!==document.webkitHidden&&(r="webkitvisibilitychange"),document.addEventListener(r,(function(t){e&&e("visible"==document.visibilityState)}),!1);var i=function(){p(156,{remain:t-n})};document.body.onbeforeunload=function(){return t=(new Date).getTime(),i()}}()},bQjk:function(t,e,r){var n,i,o,a;t.exports=(a=r("Ib8C"),r("OLod"),i=(n=a).lib.CipherParams,o=n.enc.Hex,n.format.Hex={stringify:function(t){return t.ciphertext.toString(o)},parse:function(t){var e=o.parse(t);return i.create({ciphertext:e})}},a.format.Hex)},cDf5:function(t,e){function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},cM7G:function(t,e,r){"use strict";r.d(e,"a",(function(){return Ut})),r.d(e,"b",(function(){return Ro}));var n,i=navigator&&navigator.userAgent&&(n=navigator.userAgent.toLocaleLowerCase(),/android/.test(n)?"android":/iphone|ipod|ipad/.test(n)?"ios":"pc")||my.getSystemInfoSync().platform.toLowerCase(),o=Math.PI,a=o>>1,s=o+a;function l(t){switch(t){case a:case-s:return 0;case o:case-o:return-1;case s:case-a:return 0;default:return Math.cos(t)}}function h(t){switch(t){case a:case-s:return 1;case o:case-o:return 0;case s:case-a:return-1;default:return Math.sin(t)}}var u,c,f,p,d,m,v,y,g,_,b,x,w,T,S,E=2*o,M=180/o,C=o/180;!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(u||(u={})),function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(c||(c={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(f||(f={})),function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(p||(p={})),function(t){t.CENTER="center",t.LEFT="left",t.RIGHT="right"}(d||(d={})),function(t){t.MIDDLE="middle",t.UP="up",t.DOWN="down"}(m||(m={})),function(t){t.SINGLE="single",t.MULTI="multi"}(v||(v={})),function(t){t[t.middle=.5]="middle",t[t.outter=1]="outter",t[t.inner=0]="inner"}(y||(y={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(g||(g={})),function(t){t.MITER="miter",t.ROUND="round",t.BEVEL="bevel"}(_||(_={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=21]="SRC_OVER",t[t.SRC_IN=22]="SRC_IN",t[t.SRC_OUT=23]="SRC_OUT",t[t.SRC_ATOP=24]="SRC_ATOP",t[t.DST_OVER=25]="DST_OVER",t[t.DST_IN=26]="DST_IN",t[t.DST_OUT=27]="DST_OUT",t[t.DST_ATOP=28]="DST_ATOP",t[t.ERASE=29]="ERASE",t[t.SUBTRACT=30]="SUBTRACT"}(b||(b={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(x||(x={})),function(t){t[t.LINEAR=0]="LINEAR",t[t.NEAREST=1]="NEAREST"}(w||(w={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(T||(T={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(S||(S={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var A=function(t,e){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function P(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function k(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))}function O(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var D=function(){function t(){this._instanceId=0,this._instanceType="HashObject",this._instanceId=t._object_id++}return Object.defineProperty(t.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instanceType",{get:function(){return this._instanceType},enumerable:!0,configurable:!0}),t._object_id=0,t}(),I=function(t){function e(e){var r=t.call(this)||this;return r.type="",r.target=null,r.data=null,r._pd=!1,r._instanceType="Event",r.type=e,r}return P(e,t),e.prototype.stopPropagation=function(){this._pd=!0},e.prototype.destroy=function(){this.target=null,this.data=null},e.prototype.reset=function(t,e){var r=this;r.target=e,r._pd=!1,r.type=t,r.data=null},e.RESIZE="onResize",e.SCROLL_TO_HEAD="onScrollToHead",e.SCROLL_STOP="onScrollStop",e.SCROLL_START="onScrollStart",e.SCROLL_TO_END="onScrollToEnd",e.INIT_STAGE="onInitStage",e.ADDED_TO_STAGE="onAddedToStage",e.REMOVED_FROM_STAGE="onRemovedFromStage",e.ENTER_FRAME="onEnterFrame",e.END_FRAME="onEndFrame",e.CALL_FRAME="onCallFrame",e.COMPLETE="onComplete",e.PROGRESS="onProgress",e.ERROR="onError",e.ABORT="onAbort",e.START="onStart",e.TIMER="onTimer",e.TIMER_COMPLETE="onTimerComplete",e}(D),R=function(t){function e(){var e=t.call(this)||this;return e.eventTypes={},e.eventTypes1={},e._instanceType="EventDispatcher",e}return P(e,t),e.getMouseEventCount=function(t){void 0===t&&(t="");var r=0;if(""==t)for(var n in e._MECO)0==n.indexOf("onMouse")&&(r+=e._MECO[n]);else e._MECO[t]&&(r=e._MECO[t]);return r},e.prototype.addEventListener=function(t,e,r,n){if(void 0===n&&(n=!0),!t)throw new Error("添加侦听的type值为undefined");if(!e)throw new Error("侦听回调函数不能为null");var i=this,o=i.eventTypes;n||(o=i.eventTypes1),o[t]||(o[t]=[]);for(var a=0,s=o[t].length;a<s;a++){var l=o[t][a];if(l.fn===e&&l.context===r)return i}return o[t].unshift(new F(e,r||i)),0==t.indexOf("onMouse")&&i._changeMouseCount(t,!0),i},e.prototype.once=function(t,e,r,n){if(void 0===n&&(n=!0),!t)throw new Error("添加侦听的type值为undefined");if(!e)throw new Error("侦听回调函数不能为null");var i=this,o=i.eventTypes;return n||(o=i.eventTypes1),o[t]||(o[t]=[]),o[t].unshift(new F(e,r||i,!0)),0==t.indexOf("onMouse")&&i._changeMouseCount(t,!0),i},e.prototype._changeMouseCount=function(t,r){var n=r?1:-1;e._MECO[t]||(e._MECO[t]=0),e._MECO[t]+=n,e._MECO[t]<0&&(e._MECO[t]=0),e._totalMEC+=n},e.prototype.dispatchEvent=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=!0);var n=this;"string"==typeof t&&(n._defaultEvent?n._defaultEvent.reset(t,n):n._defaultEvent=new I(t),t=n._defaultEvent);var i=n.eventTypes[t.type];if(r||(i=n.eventTypes1[t.type]),i){var o=i.length;null==t.target&&(t.target=n),null!=e&&(t.data=e);for(var a=o-1;a>=0;a--)if(!t._pd)if(i[a]){var s=i[a],l=t.type;s.fn.call(s.context,t),s.once&&n.removeEventListener(l,s.fn,s.context,r)}else i.splice(a,1);return!0}return!1},e.prototype.hasEventListener=function(t,e){void 0===e&&(e=!0);var r=this;if(e){if(r.eventTypes[t]&&r.eventTypes[t].length>0)return!0}else if(r.eventTypes1[t]&&r.eventTypes1[t].length>0)return!0;return!1},e.prototype.removeAllEventListenerByType=function(t,e){void 0===e&&(e=!0);var r=this;if(e){if(r.eventTypes[t]&&r.eventTypes[t].length>0){if(0==t.indexOf("onMouse"))for(var n=0;n<r.eventTypes[t].length;n++)r._changeMouseCount(t,!1);r.eventTypes[t]=[]}}else if(r.eventTypes1[t]&&r.eventTypes1[t].length>0){if(0==t.indexOf("onMouse"))for(n=0;n<r.eventTypes1[t].length;n++)r._changeMouseCount(t,!1);r.eventTypes1[t]=[]}return r},e.prototype.removeEventListener=function(t,e,r,n){void 0===n&&(n=!0);var i=this,o=i.eventTypes[t];if(n||(o=i.eventTypes1[t]),o)for(var a=r||i,s=o.length-1;s>=0;s--)o[s].fn===e&&o[s].context===a&&(o.splice(s,1),0==t.indexOf("onMouse")&&i._changeMouseCount(t,!1));return i},e.prototype.removeAllEventListener=function(){var t=this;for(var e in t.eventTypes)if(0==e.indexOf("onMouse"))for(var r=0;r<t.eventTypes[e].length;r++)t._changeMouseCount(e,!1);for(var e in t.eventTypes1)if(0==e.indexOf("onMouse"))for(r=0;r<t.eventTypes1[e].length;r++)t._changeMouseCount(e,!1);t.eventTypes1={},t.eventTypes={}},e.prototype.destroy=function(){var t=this;t.removeAllEventListener(),t.eventTypes=null,t.eventTypes1=null},e._MECO={},e._totalMEC=0,e}(D),F=function(t,e,r){void 0===r&&(r=!1),this.fn=t,this.context=e,this.once=r},L=function(t){function e(e,r){void 0===e&&(e=0),void 0===r&&(r=0);var n=t.call(this)||this;n.x=0,n.y=0;var i=n;return i._instanceType="Point",i.x=e,i.y=r,n}return P(e,t),e.prototype.destroy=function(){},e.distance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;return 4==r?Math.sqrt((t[0]-t[2])*(t[0]-t[2])+(t[1]-t[3])*(t[1]-t[3])):2==r?Math.sqrt((t[0].x-t[1].x)*(t[0].x-t[1].x)+(t[0].y-t[1].y)*(t[0].y-t[1].y)):void 0},e.prototype.set=function(t,e){this.x=t,this.y=e},e}(D),N=function(t){function e(e,r,n,i,o,a){void 0===e&&(e=1),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=1),void 0===o&&(o=0),void 0===a&&(a=0);var s=t.call(this)||this;s.a=1,s.b=0,s.c=0,s.d=1,s.tx=0,s.ty=0,s.array=null,s.prepend=function(t){var e=this,r=t.a,n=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,l=e.a,h=e.c,u=e.tx;return e.a=r*l+i*e.b,e.b=n*l+o*e.b,e.c=r*h+i*e.d,e.d=n*h+o*e.d,e.tx=r*u+i*e.ty+a,e.ty=n*u+o*e.ty+s,this};var l=s;return l._instanceType="Matrix",l.a=e,l.b=r,l.c=n,l.d=i,l.tx=o,l.ty=a,s}return P(e,t),e.prototype.clone=function(){var t=this;return new e(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.prototype.copy=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},e.prototype.transformPoint=function(t,e,r){void 0===r&&(r=null);var n=this;return r||(r=new L),r.x=t*n.a+e*n.c+n.tx,r.y=t*n.b+e*n.d+n.ty,r},e.prototype.transformPointInverse=function(t,e,r){void 0===r&&(r=null),r||(r=new L);var n=1/(this.a*this.d+this.c*-this.b);return r.x=this.d*n*t+-this.c*n*e+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*e+-this.b*n*t+(-this.ty*this.a+this.tx*this.b)*n,r},e.prototype.setFrom=function(t){var e=this;e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.tx=t.tx,e.ty=t.ty},e.prototype.identity=function(){var t=this;t.a=t.d=1,t.b=t.c=t.tx=t.ty=0},e.prototype.invert=function(){var t=this,e=t.a,r=t.b,n=t.c,i=t.d,o=t.tx,a=t.ty;if(0==r&&0==n)return 0==e||0==i?t.a=t.d=t.tx=t.ty=0:(e=t.a=1/e,i=t.d=1/i,t.tx=-e*o,t.ty=-i*a),t;var s=e*i-r*n;if(0==s)return t.identity(),t;s=1/s;var l=t.a=i*s;return r=t.b=-r*s,n=t.c=-n*s,i=t.d=e*s,t.tx=-(l*o+n*a),t.ty=-(r*o+i*a),t},e.prototype.createBox=function(t,e,r,n,i,o,a,s,u){var c=this;if(0!=i?o=a=i%360:(o%=360,a%=360),0==o&&0==a)c.a=r,c.b=c.c=0,c.d=n;else{a*=C;var f=l(o*=C),p=h(o);o==a?(c.a=f*r,c.b=p*r):(c.a=l(a)*r,c.b=h(a)*r),c.c=-p*n,c.d=f*n}c.tx=t+s-(s*c.a+u*c.c),c.ty=e+u-(s*c.b+u*c.d)},e.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty},e.isEqual=function(t,e){return t.tx==e.tx&&t.ty==e.ty&&t.a==e.a&&t.b==e.b&&t.c==e.c&&t.d==e.d},e.prototype.concat=function(t){var e=this,r=e.a,n=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,l=t.a,h=t.b,u=t.c,c=t.d,f=t.tx,p=t.ty;e.a=r*l+n*u,e.b=r*h+n*c,e.c=i*l+o*u,e.d=i*h+o*c,e.tx=a*l+s*u+f,e.ty=a*h+s*c+p},e.prototype.rotate=function(t){var e=this,r=Math.sin(t),n=Math.cos(t),i=e.a,o=e.b,a=e.c,s=e.d,l=e.tx,h=e.ty;e.a=i*n-o*r,e.b=i*r+o*n,e.c=a*n-s*r,e.d=a*r+s*n,e.tx=l*n-h*r,e.ty=l*r+h*n},e.prototype.scale=function(t,e){var r=this;r.a*=t,r.d*=e,r.c*=t,r.b*=e,r.tx*=t,r.ty*=e},e.prototype.translate=function(t,e){this.tx+=t,this.ty+=e},e.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},e.prototype.getRotation=function(){return Math.round(Math.atan2(this.b,this.a)*M)},e.prototype.toArray=function(t,e){void 0===t&&(t=!1),this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),a=Math.atan2(r,e),s=Math.abs(o+a);return s<1e-5||Math.abs(E-s)<1e-5?(t.rotation=a,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){},e}(D),B=function(t){function e(e,r,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var o=t.call(this)||this;return o._instanceType="ObservablePoint",o._x=n,o._y=i,o.cb=e,o.scope=r,o}return P(e,t),e.prototype.set=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t);var r=t||0,n=e||0;this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))},e.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){},e}(D),z=function(t){function e(e,r,n,i){void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=0);var o=t.call(this)||this;o.x=0,o.y=0,o.width=0,o.height=0;var a=o;return a._instanceType="Rectangle",a.x=e,a.y=r,a.height=i,a.width=n,o.type=c.RECT,o}return P(e,t),e.prototype.clear=function(){this.x=0,this.y=0,this.width=0,this.height=0},e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),e.prototype.isPointIn=function(t){var e=this;return t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},e.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(r-e,0),this.y=n,this.height=Math.max(i-n,0)},e.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},e.createFromRects=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0==t.length)return null;if(1==t.length)return t[0];for(var r=t[0],n=r.x,i=r.y,o=r.width,a=r.height,s=void 0,l=void 0,h=void 0,u=void 0,c=1;c<t.length;c++)(t[c].width||t[c].height)&&(s=n+o,h=i+a,l=t[c].x+t[c].width,u=t[c].y+t[c].height,(n>t[c].x||0==n&&0==o)&&(n=t[c].x),(i>t[c].y||0==i&&0==a)&&(i=t[c].y),s<l&&(s=l),h<u&&(h=u),r.x=n,r.y=i,r.width=s-n,r.height=h-i);return r},e.createFromPoints=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=e[0].x,i=e[0].y,o=e[0].x,a=e[0].y,s=1;s<e.length;s++)null!=e[s]&&(n>e[s].x&&(n=e[s].x),i>e[s].y&&(i=e[s].y),o<e[s].x&&(o=e[s].x),a<e[s].y&&(a=e[s].y));return t.x=n,t.y=i,t.width=o-n,t.height=a-i,t},e.createFromVertexData=function(t,e,r){var n=new L,i=e[0],o=e[1],a=e[0],s=e[1];r&&(r.transformPoint(i,o,n),i=a=n.x,o=s=n.y);for(var l=2;l<e.length;l+=2)null!=e[l]&&(n.set(e[l],e[l+1]),r&&r.transformPoint(n.x,n.y,n),i>n.x&&(i=n.x),o>n.y&&(o=n.y),a<n.x&&(a=n.x),s<n.y&&(s=n.y));return t.x=i,t.y=o,t.width=a-i,t.height=s-o,t},e.createRectfrom2Point=function(t,e,r){var n=e.x,i=e.y,o=e.x,a=e.y;return n>r.x&&(n=r.x),i>r.y&&(i=r.y),o<r.x&&(o=r.x),a<r.y&&(a=r.y),t.x=n,t.y=i,t.width=o-n,t.height=a-i,t},e.testRectCross=function(t,e){var r,n,i,o;return r=t.x+t.width/2,n=t.y+t.height/2,i=e.x+e.width/2,o=e.y+e.height/2,Math.abs(r-i)<=t.width/2+e.width/2&&Math.abs(n-o)<=t.height/2+e.height/2},e.prototype.destroy=function(){},e}(D),j=function(t){function e(){var e=t.call(this)||this;return e._instanceType="Transform",e.worldMatrix=new N,e.localMatrix=new N,e._worldID=0,e._parentID=0,e.position=new B(e.onChange,e,0,0),e.scale=new B(e.onChange,e,1,1),e.anchor=new B(e.onChange,e,0,0),e.skew=new B(e.updateSkew,e,0,0),e._rotation=0,e._cx=1,e._sx=0,e._cy=0,e._sy=1,e._localID=0,e._currentLocalID=0,e}return P(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=l(this._rotation+this.skew._y),this._sx=h(this._rotation+this.skew._y),this._cy=-h(this._rotation-this.skew._x),this._sy=l(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalMatrix=function(){var t=this.localMatrix;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x+this.anchor._x-(this.anchor._x*t.a+this.anchor._y*t.c),t.ty=this.position._y+this.anchor._y-(this.anchor._x*t.b+this.anchor._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateWorldMatrix=function(t){var e=this.localMatrix;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x+this.anchor._x-(this.anchor._x*e.a+this.anchor._y*e.c),e.ty=this.position._y+this.anchor._y-(this.anchor._x*e.b+this.anchor._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldMatrix,n=this.worldMatrix;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++}},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){t!==this._rotation&&(this._rotation=t,this.updateSkew())},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.worldMatrix=null,this.localMatrix=null,this.position=null,this.skew=null,this.scale=null,this.anchor=null},e}(D),V=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],U=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],W=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],H=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],G=[],Y=[];function X(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];Y.push(e);for(var r=0;r<16;r++)for(var n=X(V[t]*V[r]+W[t]*U[r]),i=X(U[t]*V[r]+H[t]*U[r]),o=X(V[t]*W[r]+W[t]*H[r]),a=X(U[t]*W[r]+H[t]*H[r]),s=0;s<16;s++)if(V[s]===n&&U[s]===i&&W[s]===o&&H[s]===a){e.push(s);break}}for(t=0;t<16;t++){var l=new N;l.set(V[t],U[t],W[t],H[t],0,0),G.push(l)}}();var q={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return V[t]},uY:function(t){return U[t]},vX:function(t){return W[t]},vY:function(t){return H[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return Y[t][e]},sub:function(t,e){return Y[t][q.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?q.S:q.N:2*Math.abs(e)<=Math.abs(t)?t>0?q.E:q.W:e>0?t>0?q.SE:q.SW:t>0?q.NE:q.NW},matrixAppendRotationInv:function(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=G[q.inv(e)];i.tx=r,i.ty=n,t.append(i)}},K=function(t){function e(){var e=t.call(this)||this;return e.mouseEnable=!0,e._instanceType="DisplayObject",e.tempDisplayObjectParent=null,e.transform=new j,e._alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e._worldAlpha=1,e.filterArea=null,e._filters=null,e._enabledFilters=null,e._localBoundsSelf=new z,e._bounds=new z,e._boundsID=0,e._lastBoundsID=-1,e._mask=null,e.destroyed=!1,e}return P(e,t),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},enumerable:!0,configurable:!0}),e.prototype.updateTransform=function(){this.transform.updateWorldMatrix(this.parent.transform),this._worldAlpha=this.alpha*this.parent._worldAlpha},e.prototype.hitTestPoint=function(t,r){void 0===r&&(r=!1);var n=this;if(!n.visible)return null;if(r&&!n.mouseEnable)return null;if(r){if(n._localBoundsSelf.isPointIn(n.globalToLocal(t,e._bp)))return n}else if(n._localBoundsSelf.isPointIn(t))return n;return null},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateWorldMatrix(this.parent.transform)):this.transform.updateWorldMatrix(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,r){return void 0===t&&(t=!1),void 0===r&&(r=e.temBounds),t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this.calculateBounds(),r.copy(this._bounds)},e.prototype.getLocalBounds=function(t){void 0===t&&(t=e.temBounds);var r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this.getBounds(!1,t);return this.parent=n,this.transform=r,this.parent&&this.updateTransform(),i},e.prototype.calculateBounds=function(){this._lastBoundsID!=this._boundsID&&(this._lastBoundsID=this._boundsID)},e.prototype.globalToLocal=function(t,r){return void 0===r&&(r=null),this.worldMatrix.transformPointInverse(t.x,t.y,r||e._bp)},e.prototype.localToGlobal=function(t,r){void 0===r&&(r=null);var n=this.worldMatrix.transformPoint(t.x,t.y,r||e._bp);return this.stage?this.stage.globalToLocal(n,r||e._bp):n},e.prototype._onDispatchBubbledEvent=function(t){var e=this;(t!=I.REMOVED_FROM_STAGE||e.stage)&&(t==I.REMOVED_FROM_STAGE?(e.dispatchEvent(t),e.stage=null):t==I.ADDED_TO_STAGE&&(e.stage=e.parent.stage,e.dispatchEvent(t)))},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setTransform=function(t,e,r,n,i,o,a,s,l){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.anchor.x=s,this.anchor.y=l,this},e.prototype.destroy=function(){this.removeAllEventListener(),this.parent&&this.parent.removeChild(this),this.transform.destroy(),this.transform=null,this._localBoundsSelf=null,this._bounds=null,this.tempDisplayObjectParent=null,this._mask=null,this.filterArea=null,this._filters=null,this._enabledFilters=null,this.mouseEnable=!1,this.destroyed=!0},Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._alpha!=t&&(this._alpha=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worldMatrix",{get:function(){return this.transform.worldMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localMatrix",{get:function(){return this.transform.localMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.transform.scale.x},set:function(t){this.transform.scale.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.transform.scale.y},set:function(t){this.transform.scale.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this.transform.anchor},set:function(t){this.transform.anchor.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorX",{get:function(){return this.transform.anchor.x},set:function(t){this.transform.anchor.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this.transform.anchor.y},set:function(t){this.transform.anchor.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skewX",{get:function(){return this.transform.skew.x*M},set:function(t){this.transform.skew.x=t*C},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skewY",{get:function(){return this.transform.skew.y*M},set:function(t){this.transform.skew.y=t*C},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation*M},set:function(t){this.transform.rotation=t*C},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask!=t&&(this._mask&&(this._mask.renderable=!0,this._mask.isUsedToMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isUsedToMask=!0,this._boundsID++))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!0,configurable:!0}),e.prototype.update=function(){this.hasEventListener(I.ENTER_FRAME)&&this.dispatchEvent(I.ENTER_FRAME)},e._bp=new L,e._p1=new L,e._p2=new L,e._p3=new L,e._p4=new L,e.temBounds=new z,e}(R);K.prototype.displayObjectUpdateTransform=K.prototype.updateTransform,K.prototype.displayObjectHitTestPoint=K.prototype.hitTestPoint;var Z=function(t){function e(){var e=t.call(this)||this;return e.mouseChildren=!0,e._instanceType="Container",e.children=[],e}return P(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(t){return this.addChildAt(t,this.children.length),t},e.prototype.addChildren=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.forEach((function(e){t.addChild(e)})),e},e.prototype.addChildAt=function(t,e){if(t){var r,n=this,i=n==t.parent;if(t.parent)if(i){r=n.children.length;for(var o=0;o<r;o++)if(n.children[o]==t){n.children.splice(o,1);break}}else t.parent.removeChild(t);return t.parent=n,t.transform._parentID=-1,this._boundsID++,e>=(r=n.children.length)?(n.children[n.children.length]=t,e=r):0==e||e<0?(n.children.unshift(t),e=0):n.children.splice(e,0,t),n.stage&&!i&&t._onDispatchBubbledEvent(I.ADDED_TO_STAGE),this.onChildrenChange(e),t}},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this,n=-1,i=-1,o=r.children.length;if((n="number"==typeof t?t:r.getChildIndex(t))==(i="number"==typeof e?e:r.getChildIndex(e))||n<0||n>=o||i<0||i>=o)return!1;var a=r.children[n];return r.children[n]=r.children[i],r.children[i]=a,this.onChildrenChange(n<i?n:i),!0}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);return-1===e?null:e},e.prototype.setChildIndex=function(t,e){this.addChildAt(t,e)},e.prototype.getChildAt=function(t){return t<0||t>=this.children.length?null:this.children[t]},e.prototype.getChildByName=function(t,r,n){if(void 0===r&&(r=!0),void 0===n&&(n=!1),!t)return null;var i;i="string"==typeof t?new RegExp("^"+t+"$"):t;var o=[];e._getElementsByName(i,this,r,n,o);var a=o.length;return 0==a?null:1==a?o[0]:o},e.prototype.removeChild=function(t){var e=this.children.indexOf(t);return-1===e?null:(this.removeChildAt(e),t)},e.prototype.removeChildAt=function(t){var e,r=this,n=r.children.length-1;if(!(n<0))return(e=t==n?r.children.pop():0==t?r.children.shift():r.children.splice(t,1)[0])._onDispatchBubbledEvent(I.REMOVED_FROM_STAGE),e.parent=null,e.transform._parentID=-1,this._boundsID++,this.onChildrenChange(t),e},e.prototype.removeChildren=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length?(e.forEach((function(e){t.removeChild(e)})),e):this.spliceChildren(0,this.children.length)},e.prototype.removeAllChildren=function(){return this.removeChildren()},e.prototype.removeChildrenAt=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r=t,n="number"==typeof e?e:this.children.length,i=n-r;if(i>0&&i<=n)return this.spliceChildren(r,i);if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: 移除范围有误")},e.prototype.spliceChildren=function(t,e){var r=this.children.splice(t,e);if(!r.length)return[];for(var n=0;n<r.length;++n)r[n].parent=null,r[n].transform&&(r[n].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(n=0;n<r.length;++n)r[n]._onDispatchBubbledEvent(I.REMOVED_FROM_STAGE);return r},e.prototype.updateTransform=function(){t.prototype.updateTransform.call(this);for(var e=0,r=this.children.length;e<r;++e){var n=this.children[e];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function(){if(this._lastBoundsID!=this._boundsID){this._lastBoundsID=this._boundsID,this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e.mask?(e.mask.calculateBounds(),e._bounds.x<e.mask._bounds.x&&(e._bounds.x=e.mask._bounds.x),e._bounds.y<e.mask._bounds.y&&(e._bounds.y=e.mask._bounds.y),e._bounds.width>e.mask._bounds.width&&(e._bounds.width=e.mask._bounds.width),e._bounds.height>e.mask._bounds.height&&(e._bounds.height=e.mask._bounds.height),z.createFromRects(this._bounds,e._bounds)):e.filterArea||z.createFromRects(this._bounds,e._bounds))}}},e.prototype._calculateBounds=function(){},e.prototype.hitTestPoint=function(t,e){if(void 0===e&&(e=!1),!this.visible)return null;if(e&&!this.mouseChildren)return null;for(var r,n,i=this.children,o=i.length-1;o>=0;o--)if(!(r=i[o]).isUsedToMask&&(!r.mask||r.mask.hitTestPoint(t,e))&&(n=r.hitTestPoint(t,e)))return n;return null},e.prototype.renderWebGL=function(t){if(this.visible&&!(this._worldAlpha<=0)&&this.renderable)if(this.mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.batchManager.flush();var e=this.filters;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}var n=this.mask;n&&t.maskManager.pushMask(this,this.mask),this._renderWebGL(t);r=0;for(var i=this.children.length;r<i;r++)this.children[r].renderWebGL(t);t.batchManager.flush(),n&&t.maskManager.popMask(this,this.mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this._worldAlpha<=0)&&this.renderable){this.mask&&t.maskManager.pushMask(this.mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this.mask&&t.maskManager.popMask(t)}},e.prototype._renderCanvas=function(t){},e.prototype.update=function(){if(this.visible){t.prototype.update.call(this);for(var e=this.children.length-1;e>=0;e--){var r=this.children[e];r.visible&&r.update()}}},e.prototype._onDispatchBubbledEvent=function(e){var r=this,n=r.children.length;if(e!=I.REMOVED_FROM_STAGE||r.stage){t.prototype._onDispatchBubbledEvent.call(this,e);for(var i=0;i<n;i++)r.children[i]._onDispatchBubbledEvent(e)}},e.prototype.destroy=function(){for(var e=this.children.length-1;e>=0;e--)this.children[e].destroy();t.prototype.destroy.call(this),this.mouseChildren=!1},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!0,configurable:!0}),e._getElementsByName=function(t,r,n,i,o){var a=r.children.length;if(a>0)for(var s=void 0,l=void 0,h=0;h<a;h++){if((s=(l=r.children[h]).name)&&""!=s&&t.test(s)&&(o[o.length]=l,n))return;i&&null!=l.children&&e._getElementsByName(t,l,n,i,o)}},e}(K);Z.prototype.containerUpdateTransform=Z.prototype.updateTransform;var J=function(t){function e(){var e=t.call(this)||this;e.htmlElement=null,e._isAdded=!1;var r=e;return r._instanceType="FloatDisplay",r.addEventListener(I.REMOVED_FROM_STAGE,(function(t){r.htmlElement&&(r.htmlElement.style.display="none")})),r.addEventListener(I.ADDED_TO_STAGE,(function(t){if(r.htmlElement){var e=r.htmlElement.style;r._isAdded?r.htmlElement&&r.visible&&(e.display="block"):(r._isAdded=!0,r.stage.rootDiv?r.stage.rootDiv.insertBefore(r.htmlElement,r.stage.rootDiv.childNodes[0]):document.body.appendChild(r.htmlElement))}})),e._transformID=-1,e}return P(e,t),e.prototype.init=function(t){var e,r=this;e="string"==typeof t?document.getElementById(t):"Video"==t._instanceType?t.media:t,r.htmlElement&&r.removeHtmlElement();var n=e.style;n.position="absolute",n.display="none",n.transformOrigin=n.WebkitTransformOrigin="0 0 0";var i=r.getStyle(e,"width"),o=r.getStyle(e,"height"),a=0,s=0;i.indexOf("px")&&(a=parseInt(i)),o.indexOf("px")&&(s=parseInt(o)),r._localBoundsSelf.width=a,r._localBoundsSelf.height=s,r.htmlElement=e,r.stage&&(r._isAdded=!0,r.stage.rootDiv?r.stage.rootDiv.insertBefore(r.htmlElement,r.stage.rootDiv.childNodes[0]):document.body.appendChild(r.htmlElement))},e.prototype.getStyle=function(t,e){if(t.style[e])return t.style[e];if(document.defaultView&&document.defaultView.getComputedStyle){e=(e=e.replace(/([A-Z])/g,"-$1")).toLowerCase();var r=document.defaultView.getComputedStyle(t,"");return r&&r.getPropertyValue(e)}return null},e.prototype.updateStyle=function(){var t=this,e=t.htmlElement;if(e){var r=e.style,n=t.visible;if(t.stage||(n=!1),n)for(var i=t.parent;i;){if(!i.visible){n=!1;break}i=i.parent}var o=n?"block":"none";if(o!=r.display&&(r.display=o),n){if(this._transformID!=this.transform._worldID){this._transformID=this.transform._worldID;var a=t.transform.worldMatrix,s=t.stage._dpi||t.stage.dpi;r.transform=r.webkitTransform="matrix("+(a.a/s).toFixed(4)+","+(a.b/s).toFixed(4)+","+(a.c/s).toFixed(4)+","+(a.d/s).toFixed(4)+","+(a.tx/s).toFixed(4)+","+(a.ty/s).toFixed(4)+")"}r.opacity=t._worldAlpha}}},e.prototype.removeHtmlElement=function(){var t=this,e=t.htmlElement;e&&(e.style.display="none",e.parentNode&&e.parentNode.removeChild(e),t._isAdded=!1,t.htmlElement=null)},e.prototype.renderCanvas=function(){this.updateStyle()},e.prototype.renderWebGL=function(){this.updateStyle()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeHtmlElement()},e}(K);var $,Q="web";function tt(){return Q}function et(){return document&&document.createElement("canvas")||my._createOffscreenCanvas()}function rt(){return $&&$.createImage()||new Image}window&&(window.my=null);function nt(t){return!(t&t-1||!t)}function it(t){var e,r;return t>>>=e=Number(t>65535)<<4,t>>>=r=Number(t>255)<<3,e|=r,t>>>=r=Number(t>15)<<2,e|=r,(e|=r=Number(t>3)<<1)|(t>>>=r)>>1}function ot(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}var at=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(at);var st=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t._worldAlpha,i=t.transform.worldMatrix;r.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),e.setBlendMode(t.blendMode);for(var o=0;o<t.graphicsData.length;o++){var a=t.graphicsData[o],s=a.shape,l=a.fillStyle,h=a.lineStyle,u=l.color,f=h.color;r.lineWidth=h.width;var p=!0;if(a.type===c.POLY){r.beginPath();var d=s.points;r.moveTo(d[0],d[1]);for(var m=1;m<d.length/2;++m)r.lineTo(d[2*m],d[2*m+1]);p=!ht(d)}else if(a.type===c.RECT){if(!a.holes.length){l.visible&&(r.globalAlpha=l.alpha*n,r.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.fillRect(s.x,s.y,s.width,s.height)),h.visible&&(r.globalAlpha=h.alpha*n,r.strokeStyle="#"+("00000"+(0|f).toString(16)).substr(-6),r.strokeRect(s.x,s.y,s.width,s.height));continue}r.beginPath(),r.moveTo(s.x,s.y),r.lineTo(s.x+s.width,s.y),r.lineTo(s.x+s.width,s.y+s.height),r.lineTo(s.x,s.y+s.height),r.lineTo(s.x,s.y)}else if(a.type===c.CIRC)r.beginPath(),r.arc(s.x,s.y,s.radius,0,2*Math.PI,!1);else if(a.type===c.ELIP){var v=2*s.width,y=2*s.height,g=s.x-v/2,_=s.y-y/2;r.beginPath();var b=v/2*.5522848,x=y/2*.5522848,w=g+v,T=_+y,S=g+v/2,E=_+y/2;r.moveTo(g,E),r.bezierCurveTo(g,E-x,S-b,_,S,_),r.bezierCurveTo(S+b,_,w,E-x,w,E),r.bezierCurveTo(w,E+x,S+b,T,S,T),r.bezierCurveTo(S-b,T,g,E+x,g,E)}else if(a.type===c.RREC){var M=s.x,C=s.y,A=s.width,P=s.height,k=s.radius,O=Math.min(A,P)/2|0;k=k>O?O:k,r.beginPath(),r.moveTo(M,C+k),r.quadraticCurveTo(M,C,M+k,C),r.lineTo(M+A-k,C),r.quadraticCurveTo(M+A,C,M+A,C+k),r.lineTo(M+A,C+P-k),r.quadraticCurveTo(M+A,C+P,M+A-k,C+P),r.lineTo(M+k,C+P),r.quadraticCurveTo(M,C+P,M,C+P-k),r.lineTo(M,C+k)}for(var D=0;D<a.holes.length;D++)lt(a.holes[D],r,p);l.visible&&(r.globalAlpha=l.alpha*n,r.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),r.fill()),h.visible&&(s.closed&&r.closePath(),r.globalAlpha=h.alpha*n,r.strokeStyle="#"+("00000"+(0|f).toString(16)).substr(-6),r.stroke())}},t.prototype.destroy=function(){this.renderer=null},t}();function lt(t,e,r){void 0===r&&(r=!0);var n=t.type,i=t.shape;switch(n){case c.POLY:var o=i.points;if(r==ht(o)){e.moveTo(o[0],o[1]);for(var a=1;a<o.length/2;++a)e.lineTo(o[2*a],o[2*a+1])}else{e.moveTo(o[o.length-2],o[o.length-1]);for(a=o.length/2-2;a>=0;--a)e.lineTo(o[2*a],o[2*a+1])}o[0]===o[o.length-2]&&o[1]===o[o.length-1]||e.closePath();break;case c.RECT:e.moveTo(i.x,i.y),r?(e.lineTo(i.x,i.y+i.height),e.lineTo(i.x+i.width,i.y+i.height),e.lineTo(i.x+i.width,i.y),e.lineTo(i.x,i.y)):(e.lineTo(i.x+i.width,i.y),e.lineTo(i.x+i.width,i.y+i.height),e.lineTo(i.x,i.y+i.height),e.lineTo(i.x,i.y));break;case c.CIRC:e.moveTo(i.x+i.radius,i.y),e.arc(i.x,i.y,i.radius,0,2*Math.PI,r);break;case c.ELIP:var s=2*i.width,l=2*i.height,h=i.x-s/2,u=i.y-l/2,f=s/2*.5522848,p=l/2*.5522848,d=h+s,m=u+l,v=h+s/2,y=u+l/2;e.moveTo(h,y),r?(e.bezierCurveTo(v-f,m,h,y+p,v,m),e.bezierCurveTo(d,y+p,v+f,m,d,y),e.bezierCurveTo(v+f,u,d,y-p,v,u),e.bezierCurveTo(h,y-p,v-f,u,h,y)):(e.bezierCurveTo(h,y-p,v-f,u,v,u),e.bezierCurveTo(v+f,u,d,y-p,d,y),e.bezierCurveTo(d,y+p,v+f,m,v,m),e.bezierCurveTo(v-f,m,h,y+p,h,y));break;case c.RREC:var g=i.x,_=i.y,b=i.width,x=i.height,w=i.radius,T=Math.min(b,x)/2|0;w=w>T?T:w,e.moveTo(g,_+w),r?(e.lineTo(g,_+x-w),e.quadraticCurveTo(g,_+x,g+w,_+x),e.lineTo(g+b-w,_+x),e.quadraticCurveTo(g+b,_+x,g+b,_+x-w),e.lineTo(g+b,_+w),e.quadraticCurveTo(g+b,_,g+b-w,_),e.lineTo(g+w,_),e.quadraticCurveTo(g,_,g,_+w)):(e.quadraticCurveTo(g,_,g+w,_),e.lineTo(g+b-w,_),e.quadraticCurveTo(g+b,_,g+b,_+w),e.lineTo(g+b,_+x-w),e.quadraticCurveTo(g+b,_+x,g+b-w,_+x),e.lineTo(g+w,_+x),e.quadraticCurveTo(g,_+x,g,_+x-w),e.lineTo(g,_+w))}}function ht(t){var e=[];t[0]===t[t.length-2]&&(t[1],t[t.length-1]);for(var r=0;r<t.length-2;r+=2)e.push(t[r+2]-t[r],t[r+3]-t[r+1]);t[0]===t[t.length-2]&&t[1]===t[t.length-1]||e.push(t[0]-t[t.length-2],t[1]-t[t.length-1]);var n=0;for(r=0;r<e.length-2;r+=2)n=n+e[r]*e[r+3]-e[r+1]*e[r+2];return!((n=n+e[e.length-2]*e[1]-e[e.length-1]*e[0])>0)}var ut=function(t){function e(e){var r=t.call(this)||this;return r._instanceType="CanvasMaskManager",r.renderer=e,r}return P(e,t),e.prototype.pushMask=function(t){var e=this.renderer;e.context.save(),e.context.globalAlpha=0;var r=t.transform.worldMatrix;e.context.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),"Shape"==t.instanceType?t._drawShape(e.context):"Graphics"==t.instanceType&&(t.finishPoly(),this.renderGraphicsShape(t)),e.context.clip()},e.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var n=0;n<r;n++){var i=t.graphicsData[n],o=i.shape,a=!0;if(i.type===c.POLY){var s=o.points;e.moveTo(s[0],s[1]);for(var l=1;l<s.length/2;l++)e.lineTo(s[2*l],s[2*l+1]);a=!ht(s),s[0]===s[s.length-2]&&s[1]===s[s.length-1]||e.closePath()}else if(i.type===c.RECT)e.rect(o.x,o.y,o.width,o.height);else if(i.type===c.CIRC)e.arc(o.x,o.y,o.radius,0,2*Math.PI);else if(i.type===c.ELIP){var h=2*o.width,u=2*o.height,f=o.x-h/2,p=o.y-u/2,d=h/2*.5522848,m=u/2*.5522848,v=f+h,y=p+u,g=f+h/2,_=p+u/2;e.moveTo(f,_),e.bezierCurveTo(f,_-m,g-d,p,g,p),e.bezierCurveTo(g+d,p,v,_-m,v,_),e.bezierCurveTo(v,_+m,g+d,y,g,y),e.bezierCurveTo(g-d,y,f,_+m,f,_)}else if(i.type===c.RREC){var b=o.x,x=o.y,w=o.width,T=o.height,S=o.radius,E=Math.min(w,T)/2|0;S=S>E?E:S,e.moveTo(b,x+S),e.quadraticCurveTo(b,x,b+S,x),e.lineTo(b+w-S,x),e.quadraticCurveTo(b+w,x,b+w,x+S),e.lineTo(b+w,x+T-S),e.quadraticCurveTo(b+w,x+T,b+w-S,x+T),e.lineTo(b+S,x+T),e.quadraticCurveTo(b,x+T,b,x+T-S),e.lineTo(b,x+S)}for(l=0;l<i.holes.length;l++)lt(i.holes[n],e,a)}}},e.prototype.popMask=function(t){t.context.restore()},e.prototype.destroy=function(){},e}(D),ct=new N,ft=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,n=e._frame.width,i=e._frame.height,o=t.transform.worldMatrix,a=0,s=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&e.valid){r.setBlendMode(t.blendMode),r.context.globalAlpha=t._worldAlpha,t._anchorTexture?(e.trim?(a=e.trim.width/2+e.trim.x-t._anchorTexture.x*e.orig.width,s=e.trim.height/2+e.trim.y-t._anchorTexture.y*e.orig.height):(a=(.5-t._anchorTexture.x)*e.orig.width,s=(.5-t._anchorTexture.y)*e.orig.height),e.rotate&&(ct.copy(o),o=ct,q.matrixAppendRotationInv(o,e.rotate,a,s),a=0,s=0),a-=n/2,s-=i/2):(a=t.offsetX||0,s=t.offsetY||0),r.context.setTransform(o.a,o.b,o.c,o.d,o.tx,o.ty);var l=r._outerBlend;l&&(r.context.save(),r.context.beginPath(),r.context.rect(a,s,n,i),r.context.clip()),16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=function(t,e){var r="#"+("00000"+(0|(e=function(t){var e=wt(t);return e[0]=Math.min(255,e[0]/8*8),e[1]=Math.min(255,e[1]/8*8),e[2]=Math.min(255,e[2]/8*8),function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}(e)}(e))).toString(16)).substr(-6);t.tintCache=t.tintCache||{};var n,i=t.tintCache[r];if(i){if(i.tintId===t._updateID)return t.tintCache[r];n=t.tintCache[r]}else n=bt||et();return xt(t,e,n),n.tintId=t._updateID,t.tintCache[r]=n,bt=null,n}(t._texture,t.tint)),r.context.drawImage(t.tintedTexture,0,0,n,i,a,s,n,i)):r.context.drawImage(e.baseTexture.source,e._frame.x,e._frame.y,n,i,a,s,n,i),l&&r.context.restore(),r.setBlendMode(b.NORMAL)}},t.prototype.destroy=function(){this.renderer=null},t}(),pt=function(t){function e(){var e=t.call(this)||this;return e.transparent=!0,e._backgroundColor=0,e._backgroundColorRgba=[0,0,0,0],e._backgroundColorString="#000000",e.backgroundColor=e._backgroundColor,e._tempDisplayObjectParent=new Z,e._lastObjectRendered=e._tempDisplayObjectParent,e}return P(e,t),e.prototype.resize=function(t,e){this.width=t,this.height=e},e.prototype.render=function(t,e,r){},e.prototype.destroy=function(){this.type=u.UNKNOWN,this.transparent=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor!==t&&(this._backgroundColor=t,this._backgroundColorString=Ot(t),kt(t,this._backgroundColorRgba))},enumerable:!0,configurable:!0}),e}(R),dt=function(){function t(t,e){this.canvas=et(),this.resize(t,e),this.context=this.canvas.getContext("2d"),this.resize(t,e),this.clear()}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!0,configurable:!0}),t}(),mt=function(){function t(t){this.renderer=t}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldMatrix;r.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),e.context.globalAlpha=t._worldAlpha,e.setBlendMode(t.blendMode),this._renderTriangles(t)},t.prototype._renderTriangles=function(t){for(var e=t._indices,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],a=2*e[n+2];this._renderDrawTriangle(t,i,o,a)}},t.prototype._renderDrawTriangle=function(t,e,r,n){var i=this.renderer.context,o=t._uvs,a=t._vertices,s=t.texture;if(s.valid){var l=s.baseTexture,h=l.source,u=l.width,c=l.height,f=o[e]*l.width,p=o[r]*l.width,d=o[n]*l.width,m=o[e+1]*l.height,v=o[r+1]*l.height,y=o[n+1]*l.height,g=a[e],_=a[r],b=a[n],x=a[e+1],w=a[r+1],T=a[n+1],S=t.canvasPadding;if(S>0){var E=S/Math.abs(t.worldMatrix.a),M=S/Math.abs(t.worldMatrix.d),C=(g+_+b)/3,A=(x+w+T)/3,P=g-C,k=x-A,O=Math.sqrt(P*P+k*k);g=C+P/O*(O+E),x=A+k/O*(O+M),k=w-A,_=C+(P=_-C)/(O=Math.sqrt(P*P+k*k))*(O+E),w=A+k/O*(O+M),k=T-A,b=C+(P=b-C)/(O=Math.sqrt(P*P+k*k))*(O+E),T=A+k/O*(O+M)}i.save(),i.beginPath(),i.moveTo(g,x),i.lineTo(_,w),i.lineTo(b,T),i.closePath(),i.clip();var D=f*v+m*d+p*y-v*d-m*p-f*y,I=g*v+m*b+_*y-v*b-m*_-g*y,R=f*_+g*d+p*b-_*d-g*p-f*b,F=f*v*b+m*_*d+g*p*y-g*v*d-m*p*b-f*_*y,L=x*v+m*T+w*y-v*T-m*w-x*y,N=f*w+x*d+p*T-w*d-x*p-f*T,B=f*v*T+m*w*d+x*p*y-x*v*d-m*p*T-f*w*y;i.transform(I/D,L/D,R/D,N/D,F/D,B/D),i.drawImage(h,0,0,u,c,0,0,u,c),i.restore()}},t.prototype.destroy=function(){this.renderer=null},t}(),vt=function(t){function e(e,r,n){var i=t.call(this)||this;return i.type=u.CANVAS,i._instanceType="CanvasRenderer",i.rootContext=e,i.maskManager=new ut(i),i.plugins={sprite:null,graphics:null},i.plugins.sprite=new ft(i),i.plugins.graphics=new st(i),i.plugins.mesh=new mt(i),i.blendModes=function(t){void 0===t&&(t=[]);_t()?(t[b.NORMAL]="source-over",t[b.ADD]="lighter",t[b.MULTIPLY]="multiply",t[b.SCREEN]="screen",t[b.OVERLAY]="overlay",t[b.DARKEN]="darken",t[b.LIGHTEN]="lighten",t[b.COLOR_DODGE]="color-dodge",t[b.COLOR_BURN]="color-burn",t[b.HARD_LIGHT]="hard-light",t[b.SOFT_LIGHT]="soft-light",t[b.DIFFERENCE]="difference",t[b.EXCLUSION]="exclusion",t[b.HUE]="hue",t[b.SATURATION]="saturate",t[b.COLOR]="color",t[b.LUMINOSITY]="luminosity"):(t[b.NORMAL]="source-over",t[b.ADD]="lighter",t[b.MULTIPLY]="source-over",t[b.SCREEN]="source-over",t[b.OVERLAY]="source-over",t[b.DARKEN]="source-over",t[b.LIGHTEN]="source-over",t[b.COLOR_DODGE]="source-over",t[b.COLOR_BURN]="source-over",t[b.HARD_LIGHT]="source-over",t[b.SOFT_LIGHT]="source-over",t[b.DIFFERENCE]="source-over",t[b.EXCLUSION]="source-over",t[b.HUE]="source-over",t[b.SATURATION]="source-over",t[b.COLOR]="source-over",t[b.LUMINOSITY]="source-over");return t[b.NORMAL_NPM]=t[b.NORMAL],t[b.ADD_NPM]=t[b.ADD],t[b.SCREEN_NPM]=t[b.SCREEN],t[b.SRC_OVER]="source-over",t[b.SRC_IN]="source-in",t[b.SRC_OUT]="source-out",t[b.SRC_ATOP]="source-atop",t[b.DST_OVER]="destination-over",t[b.DST_IN]="destination-in",t[b.DST_OUT]="destination-out",t[b.DST_ATOP]="destination-atop",t[b.SUBTRACT]="source-over",t}(),i._activeBlendMode=null,i._outerBlend=!1,i.resize(r,n),i}return P(e,t),e.prototype.render=function(t,e,r){this.dispatchEvent("onPreRender");var n=!e;e?((e=e.baseTexture||e)._canvasRenderTarget?(e._canvasRenderTarget.clear(),e._canvasRenderTarget.resize(e.width,e.height)):(e._canvasRenderTarget=new dt(e.width,e.height),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context):this.context=this.rootContext;var i=this.context;e||(this._lastObjectRendered=t),t.update();var o=t.parent,a=this._tempDisplayObjectParent.transform.worldMatrix;r?(a.copy(r),this._tempDisplayObjectParent.transform._worldID++):a.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o,i.save(),i.setTransform(1,0,0,1,0,0),i.globalAlpha=1,this._activeBlendMode=b.NORMAL,this._outerBlend=!1,i.globalCompositeOperation=this.blendModes[b.NORMAL],n&&(this.transparent?i.clearRect(0,0,this.width,this.height):(i.fillStyle=this._backgroundColorString,i.fillRect(0,0,this.width,this.height))),t.renderCanvas(this),i.restore(),this.dispatchEvent("onPostRender")},e.prototype.setBlendMode=function(t,e){void 0===e&&(e=!1);var r=t===b.SRC_IN||t===b.SRC_OUT||t===b.DST_IN||t===b.DST_ATOP;!e&&r&&(t=b.NORMAL),this._activeBlendMode!==t&&(this._activeBlendMode=t,this._outerBlend=r,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(){this.destroyPlugins(),t.prototype.destroy.call(this),this.context=null,this.maskManager.destroy(),this.maskManager=null},e.prototype.destroyPlugins=function(){this.plugins.sprite.destroy(),this.plugins.graphics.destroy()},e}(pt);new N;var yt=null;function gt(t){var e=et();e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}function _t(){if(null!=yt)return yt;if("undefined"==typeof document)return yt=!1;var t=gt("#ff00ff"),e=gt("#ffff00"),r=et();r.width=6,r.height=1;var n=r.getContext("2d");n.globalCompositeOperation="multiply",n.drawImage(t,0,0),n.drawImage(e,2,0);var i=n.getImageData(2,0,1,1);if(!i)return yt=!1;var o=i.data;return yt=255===o[0]&&0===o[1]&&0===o[2]}var bt,xt=_t()?function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone();r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore()}:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone();r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.restore();for(var o=wt(e),a=o[0],s=o[1],l=o[2],h=n.getImageData(0,0,i.width,i.height),u=h.data,c=0;c<u.length;c+=4)u[c+0]*=a,u[c+1]*=s,u[c+2]*=l;n.putImageData(h,0,0)};function wt(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}var Tt,St=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[b.NORMAL_NPM]=b.NORMAL,t[b.ADD_NPM]=b.ADD,t[b.SCREEN_NPM]=b.SCREEN,e[b.NORMAL]=b.NORMAL_NPM,e[b.ADD]=b.ADD_NPM,e[b.SCREEN]=b.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}(),Et=0;function Mt(){return++Et}function Ct(){if(!Tt){var t=et();t.width=1,t.height=1,Tt=t.getContext("2d")}return Tt}function At(t,e){var r,n=Ct();r=4==t.length?n.createLinearGradient(t[0],t[1],t[2],t[3]):n.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5]);for(var i=0,o=e.length;i<o;i++)r.addColorStop(e[i][0],Rt(e[i][1],e[i][2]));return r}function Pt(t){return Ct().createPattern(t,"repeat")}function kt(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Ot(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function Dt(t){return 0==t.indexOf("#")&&(t=t.replace("#","0x")),parseInt(t)}function It(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}function Rt(t,e){if(0==t.indexOf("0x")&&(t=t.replace("0x","#")),t.length<7&&(t="#000000"),1!=e){var r=parseInt("0x"+t.substr(1,2)),n=parseInt("0x"+t.substr(3,2)),i=parseInt("0x"+t.substr(5,2));t="rgba("+r+","+n+","+i+","+e+")"}return t}function Ft(t){return 0===t?0:t<0?-1:1}var Lt=Object.create(null),Nt=Object.create(null);Object.create(null);var Bt;function zt(t,e,r){return Math.max(e,Math.min(r,t))}function jt(t){for(var e,r,n,i="",o=new Uint8Array(t),a=8*t.byteLength,s=0;s<a;s+=6)r=s%8,n=(o[e=s/8|0]||0)<<r>>2,r>2&&(n|=(o[e+1]||0)>>10-r),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n);return i+=4==r?"=":6==r?"==":""}function Vt(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",r=0,n=t.length;r<n;r++)e+=String.fromCharCode(t[r]);return decodeURIComponent(escape(e))}var Ut=new(function(t){function e(){var e=t.call(this)||this;return e.caches={},e._instanceType="Loader",e}return P(e,t),e.prototype.loadSheet=function(t,e){var r=this,n=e.substring(0,e.lastIndexOf("."))+".png";this.loadImage((function(i,o){i?(r.cache(n,o),r.caches[e]&&(t(!0,{json:r.caches[e],img:o}),r.caches[e]=null,r.caches[n]=null)):t(!1)}),n),this.loadJson((function(i,o){i?(r.cache(e,o),r.caches[n]&&(t(!0,{json:o,img:r.caches[n]}),r.caches[e]=null,r.caches[n]=null)):t(!1)}),e)},e.prototype.loadJson=function(t,e){"tb"!=tt()?this.loadRawWeb((function(e,r){t(e,e?JSON.parse(r):r)}),e,"text"):this.tbLoad((function(e,r){t(e,e?JSON.parse(r):r)}),e,"utf8")},e.prototype.loadAB=function(t,e){"tb"==tt()?Ut.tbLoad(t,e,"ArrayBuffer"):Ut.loadRawWeb(t,e,"arraybuffer")},e.prototype.loadRawWeb=function(t,e,r){var n;void 0===r&&(r="json"),window.XMLHttpRequest?n=new XMLHttpRequest:window.ActiveXObject?n=new window.ActiveXObject:alert("请升级至最新版本的浏览器"),null!=n&&(n.open("GET",e,!0),n.responseType=r,n.send(),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&t(!0,n.response)},n.onerror=function(e){t(!1,e)})},e.prototype.loadImage=function(t,e){var r=rt();r.onload=function(){t(!0,r)},r.onerror=function(){t(!1)},0!==(e=encodeURI(e)).indexOf("data:")&&(r.crossOrigin="anonymous"),r.src=e},e.prototype.loadTexture=function(t,e,r){this.caches[e]||this.loadImage((function(n,i){n?(Yt.addToCache(Yt.from(i),r||e),t(!0,Lt[r||e])):t(!1)}),e)},e.prototype.tbLoad=function(t,e,r){var n=this;void 0===r&&(r="ArrayBuffer"),0==e.indexOf("cloud://")?this.getTbTempUrl((function(e){n.downloadReadFile(t,e,r)}),e):this.downloadReadFile(t,e,r)},e.prototype.getTbTempUrl=function(t,e){getApp().cloud.file.getTempFileURL({fileId:[e]}).then((function(e){t(e[0].url.replace("-internal",""))})).catch((function(t){console.error(t)}))},e.prototype.downloadReadFile=function(t,e,r){void 0===r&&(r="ArrayBuffer");var n=my;n.downloadFile({url:e,success:function(e){var i=e.apFilePath;n.getFileSystemManager().readFile({filePath:i,encoding:"ArrayBuffer"===r?"":r,success:function(e){t(!0,e.data)},fail:function(e){t(!1,e)}})},fail:function(e){t(!1,e)}})},e.prototype.cache=function(t,e){this.caches[t],this.caches[t]=e},e.prototype.get=function(t){return this.caches[t]},e}(R)),Wt=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=w.LINEAR);var n=t.call(this)||this;if(n._touchedId=0,n.width=100,n.height=100,n.scaleMode=r,n.hasLoaded=!1,n._isLoading=!1,n.source=null,n.imageType=null,n.premultipliedAlpha=!0,n.imageUrl=null,n.isPowerOfTwo=!1,n.mipmap=!0,n.wrapMode=T.CLAMP,n._glTextures={},n._enabledId=0,n.textureCacheIds=[],e)if(e.data)n._sourceChange(e);else if(e.getContext)n._sourceChange(e);else if(e.complete)n._sourceChange(e),n.dispatchEvent("loaded");else{var i=n;e.onload=function(){i._sourceChange(e),i.dispatchEvent("loaded")}}return n}return P(e,t),e.prototype.update=function(){this.width=this.source.width,this.height=this.source.height,this.hasLoaded=!(!this.width||!this.height),this.isPowerOfTwo=nt(this.width)&&nt(this.height),this.dispatchEvent("update")},e.prototype._sourceChange=function(t){this.source=t,this.imageUrl=t.src||t.path||null,this.imageType=this.source.type||null,this.hasLoaded=!0,this.update(),this.dispatchEvent("loaded")},e.prototype.destroy=function(){this.imageUrl&&(delete Lt[this.imageUrl],this.imageUrl=null),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null},e.prototype.dispose=function(){this.dispatchEvent("dispose")},e.fromUrl=function(t){if(Nt[t])return Nt[t];var r=new e;return Ut.loadImage((function(n,i){n&&(r._sourceChange(i),0!==t.indexOf("data:")&&e.addToCache(r,t))}),t),r},e.fromData=function(t){return new e(t)},e.fromCanvas=function(t,r){void 0===r&&(r="canvas"),t._canvasId||(t._canvasId=r+"_"+Mt());var n=Nt[t._canvasId];return n||(n=new e(t),e.addToCache(n,t._canvasId)),n},e.fromImage=function(t){var r=t.src,n=Nt[r];return n||(n=new e(t),r&&0!==r.indexOf("data:")&&e.addToCache(n,r)),n},e.from=function(t){return"string"==typeof t?e.fromUrl(t):t.data?e.fromData(t):t.getContext?e.fromCanvas(t):e.fromImage(t)},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Nt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),Nt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Nt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Nt[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete Nt[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e}(R),Ht=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4),this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var o=t.width/2/n,a=t.height/2/i,s=t.x/n+o,l=t.y/i+a;r=q.add(r,q.NW),this.x0=s+o*q.uX(r),this.y0=l+a*q.uY(r),r=q.add(r,2),this.x1=s+o*q.uX(r),this.y1=l+a*q.uY(r),r=q.add(r,2),this.x2=s+o*q.uX(r),this.y2=l+a*q.uY(r),r=q.add(r,2),this.x3=s+o*q.uX(r),this.y3=l+a*q.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535,this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),Gt=function(t){function e(r,n,i,o,a,s){var l=t.call(this)||this;return l._instanceType="Texture",l.noFrame=!1,n||(l.noFrame=!0,n=new z(0,0,1,1)),r instanceof e&&(r=r.baseTexture),l.baseTexture=r,l._frame=n,l.trim=o||null,l.valid=!1,l._uvs=null,l.orig=i||n,l._rotate=Number(a||0),r.hasLoaded||r.source&&r.source.getContext?(l.noFrame&&(n=new z(0,0,r.width,r.height),r.addEventListener("update",l.onBaseTextureUpdated,l)),l.frame=n):r.once("loaded",l.onBaseTextureLoaded,l),l.defaultAnchor=s?new L(s.x,s.y):new L(0,0),l._updateID=0,l.transform=null,l.textureCacheIds=[],l}return P(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){var e=t.target;this._updateID++,this.noFrame?(this.frame=new z(0,0,e.width,e.height),this.baseTexture.addEventListener("update",this.onBaseTextureUpdated,this)):this.frame=this._frame,this.dispatchEvent("update"),this.dispatchEvent("loaded")},e.prototype.onBaseTextureUpdated=function(t){var e=t.target;this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.orig.width=this._frame.width,this.orig.height=this._frame.height,this.valid=e.hasLoaded,this.dispatchEvent("update")},e.prototype.destroy=function(){this.baseTexture&&(this.baseTexture.removeEventListener("update",this.onBaseTextureUpdated,this),this.baseTexture.removeEventListener("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs||(this._uvs=new Ht),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,a=r+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",l="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,h="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+s+" "+h)}this.valid=n&&i&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate!=t&&(this._rotate=t,this.valid&&this.updateUvs())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!0,configurable:!0}),e.fromUrl=function(t){var r=Lt[t];return r||(r=new e(Wt.fromUrl(t)),e.addToCache(r,t)),r},e.fromCanvas=function(t,r){return void 0===r&&(r="canvas"),new e(Wt.fromCanvas(t,r))},e.fromData=function(t){return new e(Wt.fromData(t))},e.fromImage=function(t){var r=t.src,n=Lt[r];return n||(n=new e(Wt.fromImage(t)),r&&0!==r.indexOf("data:")&&e.addToCache(n,r)),n},e.from=function(t){return"string"==typeof t?e.fromUrl(t):t.data?e.fromData(t):t.getContext?e.fromCanvas(t):e.fromImage(t)},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Lt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),Lt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Lt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Lt[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)Lt[t.textureCacheIds[n]]===t&&delete Lt[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e}(R),Yt=Gt;function Xt(t){t.destroy=function(){},t.addEventListener=function(){},t.once=function(){},t.dispatchEvent=function(){}}Gt.EMPTY=new Gt(new Wt),Xt(Gt.EMPTY),Xt(Gt.EMPTY.baseTexture);var qt={data:function(){for(var t=[],e=0;e<1024;e++)t.push(255);return new Uint8Array(t)}(),width:16,height:16,type:null,path:null};Gt.WHITE=new Gt(new Wt(qt)),Xt(Gt.WHITE),Xt(Gt.WHITE.baseTexture);var Kt=new Uint16Array([0,1,2,0,2,3]),Zt=function(t){function e(e){var r=t.call(this)||this;return r._blendMode=b.NORMAL,r._instanceType="Sprite",r._anchorTexture=new B(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r._cachedTint=16777215,r._uvs=null,r.texture=e||Yt.EMPTY,r._vertexData=new Float32Array(8),r._vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r._indices=Kt,r.pluginName="sprite",r}return P(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){},enumerable:!0,configurable:!0}),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._texture.valid&&(this._uvs=this._texture._uvs.uvsFloat32),this._width&&(this.scale.x=Ft(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ft(this.scale.y)*this._height/this._texture.orig.height),this.updateLocalBoundsSelf()},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1,this.updateLocalBoundsSelf()},e.prototype.updateLocalBoundsSelf=function(){var t=this._texture.orig.width,e=this._texture.orig.height;this._localBoundsSelf.x=-t*this.anchorTexture.x,this._localBoundsSelf.y=-e*this.anchorTexture.y,this._localBoundsSelf.width=t,this._localBoundsSelf.height=e},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldMatrix,r=e.a,n=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,l=this._vertexData,h=t.trim,u=t.orig,c=this._anchorTexture,f=0,p=0,d=0,m=0;h?(f=(p=h.x-c._x*u.width)+h.width,d=(m=h.y-c._y*u.height)+h.height):(f=(p=-c._x*u.width)+u.width,d=(m=-c._y*u.height)+u.height),l[0]=r*p+i*m+a,l[1]=o*m+n*p+s,l[2]=r*f+i*m+a,l[3]=o*m+n*f+s,l[4]=r*f+i*d+a,l[5]=o*d+n*f+s,l[6]=r*p+i*d+a,l[7]=o*d+n*p+s}},e.prototype.calculateTrimmedVertices=function(){if(this._vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this._vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this._vertexTrimmedData,r=t.orig,n=this._anchorTexture,i=this.transform.worldMatrix,o=i.a,a=i.b,s=i.c,l=i.d,h=i.tx,u=i.ty,c=-n._x*r.width,f=c+r.width,p=-n._y*r.height,d=p+r.height;e[0]=o*c+s*p+h,e[1]=l*p+a*c+u,e[2]=o*f+s*p+h,e[3]=l*p+a*f+u,e[4]=o*f+s*d+h,e[5]=l*d+a*f+u,e[6]=o*c+s*d+h,e[7]=l*d+a*c+u},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.batchManager.setObjectRenderer(t.plugins.batch),t.plugins.batch.render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),z.createFromVertexData(this._bounds,this._vertexData)):(this.calculateTrimmedVertices(),z.createFromVertexData(this._bounds,this._vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(e||(e=K.temBounds),e.copy(this._localBoundsSelf),e):t.prototype.getLocalBounds.call(this,e)},e.prototype.hitTestPoint=function(e,r){return void 0===r&&(r=!1),this.visible?(n=t.prototype.hitTestPoint.call(this,e,r))?n:(n=this.displayObjectHitTestPoint(e,r))||null:null;var n},e.prototype.destroy=function(){t.prototype.destroy.call(this),this._texture.removeEventListener("update",this._onTextureUpdate,this),this._anchorTexture=null,this._texture=null,this._indices=null,this._uvs=null,this._vertexData=null,this._vertexTrimmedData=null,this.tintedTexture&&(this.tintedTexture=null)},Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=Ft(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=Ft(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorTexture",{get:function(){return this._anchorTexture},set:function(t){this._anchorTexture.copy(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture===Yt.EMPTY?null:this._texture},set:function(t){this._texture!==t&&(this._texture==Yt.EMPTY||null==this._texture||this._texture.baseTexture.hasLoaded||this._texture.removeEventListener("update",this._onTextureUpdate,this),this._texture=t||Yt.EMPTY,this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,t?t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this):this.updateLocalBoundsSelf())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16))},enumerable:!0,configurable:!0}),e.fromUrl=function(t){return new e(Yt.fromUrl(t))},e.fromFrame=function(t){var r=Lt[t];return r||console.warn("TextureCache中不存在纹理frameId"),new e(r)},e}(Z),Jt=function(t){function e(e){var r=t.call(this,e)||this;return r.clientX=0,r.clientY=0,r.stageX=0,r.stageY=0,r.localX=0,r.localY=0,r.currentTarget=null,r.identifier=0,r._instanceType="MouseEvent",r}return P(e,t),e.prototype.updateAfterEvent=function(){this.target.stage._cp=!0},e.prototype.destroy=function(){this.currentTarget=null,t.prototype.destroy.call(this)},e.MOUSE_DOWN="onMouseDown",e.MOUSE_UP="onMouseUp",e.CLICK="onMouseClick",e.MOUSE_MOVE="onMouseMove",e.MOUSE_OVER="onMouseOver",e.MOUSE_OUT="onMouseOut",e}(I),$t=function(){this.textures=[],this.blend=0,this.textureCount=0,this.start=0,this.size=0,this.type=x.TRIANGLES},Qt=function(){function t(t){this.renderer=t,this.renderer.addEventListener("onContextChange",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.flush=function(){},t.prototype.render=function(t){},t.prototype.destroy=function(){this.renderer.removeEventListener("onContextChange",this.onContextChange,this),this.renderer=null},t}();var te=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function ee(t,e){var r=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(r){var n=et();n.width=1,n.height=1,e=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r}(n)}for(var i=e.createShader(e.FRAGMENT_SHADER);;){var o=te.replace(/%forloop%/gi,re(t));if(e.shaderSource(i,o),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t}function re(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}var ne=function(){function t(t){this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}(),ie=function(){function t(t,e,r,n,i){this.uploadData=function(t,e,r){this.bind();var n=this.gl;if(t instanceof Float32Array){if(!oe){if(!n.getExtension("OES_texture_float"))throw new Error("floating point textures not available");oe=!0}this.type=n.FLOAT}else this.type=this.type||n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE}return t.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n},t.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},t.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},t.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},t.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},t.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},t.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},t.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},t.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},t.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},t.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},t.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},t.fromSource=function(e,r,n){var i=new t(e);return i.premultiplyAlpha=n||!1,i.upload(r),i},t.fromData=function(e,r,n,i){var o=new t(e);return o.uploadData(r,n,i),o},t}(),oe=!1,ae=new ArrayBuffer(0),se=function(){function t(t,e,r,n){this.destroy=function(){this.gl.deleteBuffer(this.buffer)},this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=n||t.STATIC_DRAW,this.data=ae,r&&this.upload(r),this._updateID=0}return t.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},t.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},t.createVertexBuffer=function(e,r,n){return new t(e,e.ARRAY_BUFFER,r,n)},t.createIndexBuffer=function(e,r,n){return new t(e,e.ELEMENT_ARRAY_BUFFER,r,n)},t.create=function(e,r,n,i){return new t(e,r,n,i)},t}();var le=function(){function t(e,r){if(this.nativeVaoExtension=null,t.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=r,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(n),attribState:new Array(n)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}return t.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},t.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},t.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var n=this.attributes[r];e!==n.buffer&&(n.buffer.bind(),e=n.buffer),n.attribute.pointer(n.type||t.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var a=e[n];t.enableVertexAttribArray(a.attribute.location)}}(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},t.prototype.addAttribute=function(t,e,r,n,i,o,a){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0,name:a}),this.dirty=!0,this},t.prototype.removeAttribute=function(t,e){void 0===e&&(e=!0);for(var r=this.attributes.length-1;r>=0;r--){if(this.attributes[r].name===t&&(this.attributes.splice(r,1),this.dirty=!0,e))break}return this},t.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},t.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},t.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r||0,e||this.getSize()),this},t.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},t.prototype.getSize=function(){var t=this.attributes[0];return(t.buffer.data.length||t.buffer.data.byteLength/4)/(t.stride/4||t.attribute.size)},t.FORCE_NATIVE=!1,t}(),he=function(){function t(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100}return t.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new ie(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},t.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},t.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},t.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},t.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},t.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},t.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},t.createRGBA=function(e,r,n,i){var o=ie.fromData(e,i||null,r,n);o.enableNearestScaling(),o.enableWrapClamp();var a=new t(e,r,n);return a.enableTexture(o),a.enableStencil(),a.unbind(),a},t.createFloat32=function(e,r,n,i){var o=ie.fromData(e,i,r,n);o.enableNearestScaling(),o.enableWrapClamp();var a=new t(e,r,n);return a.enableTexture(o),a.unbind(),a},t}();var ue=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(t.getShaderInfoLog(n),null)};function ce(t,e){if(!fe){var r=Object.keys(pe);fe={};for(var n=0;n<r.length;++n){var i=r[n];fe[t[i]]=pe[i]}}return fe[e]}var fe=null,pe={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};function de(t){return me[t]}var me={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ve(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return ye(2*e);case"bvec3":return ye(3*e);case"bvec4":return ye(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}var ye=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};function ge(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}function _e(t,e){var r={data:{}};r.gl=t;for(var n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],a=o.split("."),s=a[a.length-1],l=Se(a,r),h=e[o];l.data[s]=h,l.gl=t,Object.defineProperty(l,s,{get:be(s),set:Te(s,h)})}return r}var be=function(t){return function(){return this.data[t].value}},xe={float:function(t,e,r){t.uniform1f(e,r)},vec2:function(t,e,r){t.uniform2f(e,r[0],r[1])},vec3:function(t,e,r){t.uniform3f(e,r[0],r[1],r[2])},vec4:function(t,e,r){t.uniform4f(e,r[0],r[1],r[2],r[3])},int:function(t,e,r){t.uniform1i(e,r)},ivec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},ivec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},ivec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},bool:function(t,e,r){t.uniform1i(e,r)},bvec2:function(t,e,r){t.uniform2i(e,r[0],r[1])},bvec3:function(t,e,r){t.uniform3i(e,r[0],r[1],r[2])},bvec4:function(t,e,r){t.uniform4i(e,r[0],r[1],r[2],r[3])},mat2:function(t,e,r){t.uniformMatrix2fv(e,!1,r)},mat3:function(t,e,r){t.uniformMatrix3fv(e,!1,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)},sampler2D:function(t,e,r){t.uniform1i(e,r)}},we={float:function(t,e,r){t.uniform1fv(e,r)},vec2:function(t,e,r){t.uniform2fv(e,r)},vec3:function(t,e,r){t.uniform3fv(e,r)},vec4:function(t,e,r){t.uniform4fv(e,r)},int:function(t,e,r){t.uniform1iv(e,r)},ivec2:function(t,e,r){t.uniform2iv(e,r)},ivec3:function(t,e,r){t.uniform3iv(e,r)},ivec4:function(t,e,r){t.uniform4iv(e,r)},bool:function(t,e,r){t.uniform1iv(e,r)},bvec2:function(t,e,r){t.uniform2iv(e,r)},bvec3:function(t,e,r){t.uniform3iv(e,r)},bvec4:function(t,e,r){t.uniform4iv(e,r)},sampler2D:function(t,e,r){t.uniform1iv(e,r)},mat4:function(t,e,r){t.uniformMatrix4fv(e,!1,r)}};function Te(t,e){return function(r){this.data[t].value=r;var n=this.data[t].location;1===e.size?xe[e.type](this.gl,n,r):we[e.type](this.gl,n,r)}}function Se(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r}var Ee=function(){function t(t,e,r,n,i){this.gl=t,n&&(e=ge(e,n),r=ge(r,n)),this.program=function(t,e,r,n){var i=ue(t,t.VERTEX_SHADER,e),o=ue(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,i),t.attachShader(a,o),n)for(var s in n)t.bindAttribLocation(a,n[s],s);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(i),t.deleteShader(o),a}(t,e,r,i),this.attributes=function(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=t.getActiveAttrib(e,i),a=ce(t,o.type);r[o.name]={type:a,size:de(a),location:t.getAttribLocation(e,o.name),pointer:function(e,r,n,i){void 0===e&&(e=t.FLOAT),void 0===r&&(r=!1),void 0===n&&(n=0),void 0===i&&(i=0),t.vertexAttribPointer(this.location,this.size,e,r,n,i)}}}return r}(t,this.program),this.uniformData=function(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\[.*?\]/,""),s=ce(t,o.type);r[a]={type:s,size:o.size,location:t.getUniformLocation(e,a),value:ve(s,o.size)}}return r}(t,this.program),this.uniforms=_e(t,this.uniformData)}return t.prototype.bind=function(){return this.gl.useProgram(this.program),this},t.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},t}(),Me=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n");var Ce=0,Ae=function(t){function e(e){var r=t.call(this,e)||this;r.vertSize=6,r.vertByteSize=4*r.vertSize,r.size=8e3,r.currentSize=0,r.currentIndexSize=0,r.aBuffers={},r.iBuffers={},r.shader=null,r.currentIndex=0,r.groups=[];for(var n=0;n<r.size/4;n++)r.groups[n]=new $t;return r.elements=[],r.vertexBuffers=[],r.indexBuffers=[],r.vaos=[],r.vaoMax=2,r.vertexCount=0,r.renderer.addEventListener("onPreRender",r.onPreRender,r),r}return P(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),16),this.MAX_TEXTURES=ee(this.MAX_TEXTURES,t),this.shader=function(t,e){var r=Me;r=(r=r.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var n=new Ee(t,"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;attribute vec4 aColor;attribute float aTextureId;uniform mat3 projectionMatrix;varying vec2 vTextureCoord;varying vec4 vColor;varying float vTextureId;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;vTextureId = aTextureId;vColor = aColor;}",r),i=[],o=0;o<e;o++)i[o]=o;return n.bind(),n.uniforms.uSamplers=i,n}(t,this.MAX_TEXTURES),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=se.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.indexBuffers[r]=se.createIndexBuffer(t,null,t.STREAM_DRAW),o=this.renderer.createVao().addIndex(i).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.FLOAT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,16).addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,20);this.vaos[r]=o}},e.prototype.onPreRender=function(){this.vertexCount=0},e.prototype.render=function(t){t._texture&&t._texture.valid&&(this.currentSize+t._vertexData.length/2>this.size&&this.flush(),this.elements[this.currentIndex++]=t,this.currentSize+=t._vertexData.length/2,this.currentIndexSize+=t._indices.length)},e.prototype.getIndexBuffer=function(t){var e=ot(Math.ceil(t/12)),r=it(e),n=12*e,i=this.iBuffers[r];return i||(this.iBuffers[r]=i=new Uint16Array(n)),i},e.prototype.getAttributeBuffer=function(t){var e=ot(Math.ceil(t/8));it(e);var r=8*e,n=this.aBuffers[r];return n||(this.aBuffers[r]=n=new ne(r*this.vertByteSize)),n},e.prototype.flush=function(){if(0!==this.currentSize){var t,e,r,n=this.renderer.gl,i=this.MAX_TEXTURES,o=this.getAttributeBuffer(this.currentSize),a=this.getIndexBuffer(this.currentIndexSize),s=this.elements,l=this.groups,h=o.float32View,u=o.uint32View,c=this.renderer.textureGC.count,f=0,p=0,d=1,m=0,v=l[0],y=St[s[0]._texture.baseTexture.premultipliedAlpha?1:0][s[0]._blendMode];for(v.textureCount=0,v.start=0,Ce++,r=0;r<this.currentIndex;++r){var g=s[r];s[r]=null,t=g._texture.baseTexture;var _=St[t.premultipliedAlpha?1:0][g._blendMode];y!==_&&(y=_,e=null,m=i,Ce++),e!==t&&(e=t,t._enabledId!==Ce&&(m===i&&(Ce++,m=0,v.size=p-v.start,(v=l[d++]).textureCount=0,v.blend=y,v.start=p),t._touchedId=c,t._enabledId=Ce,t._id=m,v.textures[v.textureCount++]=t,m++)),this.packGeometry(g,h,u,a,f,p),f+=g._vertexData.length/2*this.vertSize,p+=g._indices.length}v.size=p-v.start,this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!0),this.indexBuffers[this.vertexCount].upload(a,0,!0);var b=this.renderer.textureManager;for(r=0;r<d;r++){for(var x=l[r],w=x.textureCount,T=0;T<w;T++)x.textures[T]!=b.boundTextures[T]&&b.bindTexture(x.textures[T],T,!0),x.textures[T]=null;this.renderer.setBlendMode(x.blend),n.drawElements(x.type,x.size,n.UNSIGNED_SHORT,2*x.start)}this.currentIndex=0,this.currentSize=0,this.currentIndexSize=0}},e.prototype.packGeometry=function(t,e,r,n,i,o){for(var a=i/this.vertSize,s=t._uvs,l=t._indices,h=t._vertexData,u=t._texture.baseTexture._id,c=null==t._tintRGB?16777215:t._tintRGB,f=Math.min(t._worldAlpha,1),p=f<1&&t._texture.baseTexture.premultipliedAlpha?function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i=i*e+.5|0)}(c,f):c+(255*f<<24),d=0;d<h.length;d+=2)e[i++]=h[d],e[i++]=h[d+1],e[i++]=s[d],e[i++]=s[d+1],r[i++]=p,e[i++]=u;for(d=0;d<l.length;d++)n[o++]=a+l[d]},e.prototype.start=function(){this.renderer.bindShader(this.shader),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind(),this.indexBuffers[this.vertexCount].bind()},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vaos[e]&&this.vaos[e].destroy();this.renderer.removeEventListener("onPreRender",this.onPreRender,this),this.shader&&(this.shader.destroy(),this.shader=null),this.vaos=null,t.prototype.destroy.call(this)},e}(Qt),Pe=function(){function t(t,e,r,n,i){void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=w.LINEAR),void 0===i&&(i=!1),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new z(0,0,1,1),this.projectionMatrix=new N,this.transform=null,this.frame=null,this.defaultFrame=new z,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=n,this.root=i,this.root?(this.frameBuffer=new he(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=he.createRGBA(t,100,100),this.scaleMode===w.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(e,r)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width,0|this.destinationFrame.height)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width,0|this.destinationFrame.height)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t,e);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}(),ke=function(){function t(t){this._nextTextureLocation=0,this.renderer=t,this.gl=t.gl,this._managedTextures=[],this.renderer.addEventListener("onContextChange",this.onContextChange,this)}return t.prototype.onContextChange=function(){var t=this.gl,e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=new Array(e),this.emptyTextures=new Array(e);var r=ie.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.renderer.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new Wt;o._glTextures[this.renderer.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}},t.prototype.bindTexture=function(t,e,r){if((t=(t=t||this.emptyTextures[e]).baseTexture||t)._touchedId=this.renderer.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.renderer.CONTEXT_UID];return o?(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.boundTextures[e]!==t&&i.bindTexture(i.TEXTURE_2D,o.texture),this.boundTextures[e]=t):this.updateTexture(t,e),e},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){t="Event"===t.instanceType?t.target.baseTexture||t.target:t.baseTexture||t;var r=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var i=this.boundTextures;if(void 0===e){e=0;for(var o=0;o<i.length;++o)if(i[o]===t){e=o;break}}i[e]=t,this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e));var a=t._glTextures[this.renderer.CONTEXT_UID];if(a)n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):t.source.data?a.uploadData(t.source.data,t.width,t.height):a.upload(t.source);else{if(n){var s=new Pe(this.gl,t.width,t.height,t.scaleMode,!1);s.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=s,a=s.texture}else(a=new ie(this.gl,null,null,null,null)).premultiplyAlpha=!0,t.source.data?a.uploadData(t.source.data,t.width,t.height):a.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=a,t.addEventListener("update",this.updateTexture,this),t.addEventListener("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&a.enableMipmap(),t.wrapMode===T.CLAMP?a.enableWrapClamp():t.wrapMode===T.REPEAT?a.enableWrapRepeat():a.enableWrapMirrorRepeat()):a.enableWrapClamp(),t.scaleMode===w.NEAREST?a.enableNearestScaling():a.enableLinearScaling()}return a},t.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.renderer.CONTEXT_UID].texture))},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var r=this.renderer.CONTEXT_UID,n=t._glTextures,i=t._glRenderTargets;if(n[r]&&(this.unbindTexture(t),n[r].destroy(),t.removeEventListener("update",this.updateTexture,this),t.removeEventListener("dispose",this.destroyTexture,this),delete n[r],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&function(t,e,r){var n,i=t.length;if(!(e>=i||0===r)){var o=i-(r=e+r>i?i-e:r);for(n=e;n<o;++n)t[n]=t[n+r];t.length=o}}(this._managedTextures,o,1)}i&&i[r]&&(i[r].destroy(),delete i[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0)}this.renderer.removeEventListener("onContextChange",this.onContextChange,this),this.renderer=null,this._managedTextures=null},t}(),Oe=function(){function t(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=3600,this.checkCountMax=600,this.mode=S.AUTO}return t.prototype.update=function(){this.count++,this.mode!==S.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i._touchedId>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){var o=0;for(n=0;n<e.length;n++)null!==e[n]&&(e[o++]=e[n]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}(),De=function(){function t(t){this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=function(t,e){return void 0===e&&(e=[]),e[b.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.ADD]=[t.ONE,t.DST_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.NONE]=[0,0],e[b.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[b.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e[b.SRC_OVER]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[b.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[b.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[b.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[b.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[b.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[b.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[b.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[b.ERASE]=[t.ZERO,t.ONE,t.SRC_ALPHA,0],e[b.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(t=0;t<this.attribState.attribState.length;t++)this.attribState.attribState[t]=0;for(t=1;t<this.maxAttribs;t++)this.gl.disableVertexAttribArray(t)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t.prototype.resetTo3D=function(){this.setDepthTest(1),this.setFrontFace(0),this.setCullFace(1)},t}(),Ie=function(){function t(t){this.renderer=t,this.emptyRenderer=new Qt(t),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t}();function Re(t){for(var e,r=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),n={},i=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<i.length;o++){var a=i[o].trim();if(a.indexOf("uniform")>-1){var s=a.split(" "),l=s[1],h=s[2],u=1;h.indexOf("[")>-1&&(e=h.split(/\[|]/),h=e[0],u*=Number(e[1])),h.match(r)||(n[h]={value:ve(l,u),name:h,type:l})}}return n}var Fe={},Le=function(){function t(e,r,n){for(var i in this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=b.NORMAL,this.uniformData=n||function(t,e){var r=Re(t),n=Re(e);return Object.assign(r,n)}(this.vertexSrc,this.fragmentSrc),this.uniforms={},this.uniformData)this.uniforms[i]=this.uniformData[i].value,this.uniformData[i].type&&(this.uniformData[i].type=this.uniformData[i].type.toLowerCase());this.glShaders={},Fe[this.vertexSrc+this.fragmentSrc]||(Fe[this.vertexSrc+this.fragmentSrc]=Mt()),this.glShaderKey=Fe[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=1,this.enabled=!0,this.autoFit=!0}return Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this._blendMode=t},enumerable:!0,configurable:!0}),t.prototype.apply=function(t,e,r,n){t.applyFilter(this,e,r,n)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")},enumerable:!0,configurable:!0}),t}(),Ne=["precision highp float;","varying vec2 v_rgbNW;","varying vec2 v_rgbNE;","varying vec2 v_rgbSW;","varying vec2 v_rgbSE;","varying vec2 v_rgbM;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform vec4 filterArea;","#ifndef FXAA_REDUCE_MIN","#define FXAA_REDUCE_MIN   (1.0/ 128.0)","#endif","#ifndef FXAA_REDUCE_MUL","#define FXAA_REDUCE_MUL   (1.0 / 8.0)","#endif","#ifndef FXAA_SPAN_MAX","#define FXAA_SPAN_MAX     8.0","#endif","vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,","vec2 v_rgbNW, vec2 v_rgbNE,","vec2 v_rgbSW, vec2 v_rgbSE,","vec2 v_rgbM) {","vec4 color;","mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);","vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;","vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;","vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;","vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;","vec4 texColor = texture2D(tex, v_rgbM);","vec3 rgbM  = texColor.xyz;","vec3 luma = vec3(0.299, 0.587, 0.114);","float lumaNW = dot(rgbNW, luma);","float lumaNE = dot(rgbNE, luma);","float lumaSW = dot(rgbSW, luma);","float lumaSE = dot(rgbSE, luma);","float lumaM  = dot(rgbM,  luma);","float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));","float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));","mediump vec2 dir;","dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));","dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));","float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *","(0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);","float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);","dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),","max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),","dir * rcpDirMin)) * inverseVP;","vec3 rgbA = 0.5 * (","texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +","texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);","vec3 rgbB = rgbA * 0.5 + 0.25 * (","texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +","texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);","float lumaB = dot(rgbB, luma);","if ((lumaB < lumaMin) || (lumaB > lumaMax))","color = vec4(rgbA, texColor.a);","else","color = vec4(rgbB, texColor.a);","return color;","}","void main() {","vec2 fragCoord = vTextureCoord * filterArea.xy;","vec4 color;","color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);","gl_FragColor = color;","}"].join("\n"),Be=(function(t){function e(){return t.call(this,"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;varying vec2 v_rgbNW;varying vec2 v_rgbNE;varying vec2 v_rgbSW;varying vec2 v_rgbSE;varying vec2 v_rgbM;uniform vec4 filterArea;varying vec2 vTextureCoord;vec2 mapCoord( vec2 coord ){coord *= filterArea.xy;coord += filterArea.zw;return coord;}vec2 unmapCoord( vec2 coord ){coord -= filterArea.zw;coord /= filterArea.xy;return coord;}void texcoords(vec2 fragCoord, vec2 resolution,out vec2 v_rgbNW, out vec2 v_rgbNE,out vec2 v_rgbSW, out vec2 v_rgbSE,out vec2 v_rgbM) {vec2 inverseVP = 1.0 / resolution.xy;v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;v_rgbM = vec2(fragCoord * inverseVP);}void main(void) {gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;vec2 fragCoord = vTextureCoord * filterArea.xy;texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);}",Ne)||this}P(e,t)}(Le),"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;varying vec2 vTextureCoord;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;}"),ze=(function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var n=t.call(this,Be,"precision mediump float;varying vec2 vTextureCoord;varying vec4 vColor;uniform float uNoise;uniform float uSeed;uniform sampler2D uSampler;float rand(vec2 co){return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);}void main(){vec4 color = texture2D(uSampler, vTextureCoord);float randomValue = rand(gl_FragCoord.xy * uSeed);float diff = (randomValue - 0.5) * uNoise;if (color.a > 0.0) {color.rgb /= color.a;}color.r += diff;color.g += diff;color.b += diff;color.rgb *= color.a;gl_FragColor = color;}")||this;return n.noise=e,n.seed=r,n}P(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!0,configurable:!0})}(Le),function(t){function e(e,r){var n=this,i=new N;return e.renderable=!1,(n=t.call(this,"precision highp float;attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;uniform mat3 filterMatrix;varying vec2 vTextureCoord;varying vec2 vFilterCoord;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;vTextureCoord = aTextureCoord;}","precision mediump float;varying vec2 vFilterCoord;varying vec2 vTextureCoord;uniform vec2 scale;uniform sampler2D uSampler;uniform sampler2D mapSampler;uniform vec4 filterArea;uniform vec4 filterClamp;void main(void){vec4 map = texture2D(mapSampler, vFilterCoord);map -= 0.5;map.xy *= scale / filterArea.xy;gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));}")||this).maskSprite=e,n.maskMatrix=i,n.uniforms.mapSampler=e._texture,n.uniforms.filterMatrix=i,n.uniforms.scale={x:1,y:1},null==r&&(r=20),n.scale=new L(r,r),n}P(e,t),e.prototype.apply=function(t,e,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,r)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!0,configurable:!0})}(Le),["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n"));function je(t,e){var r,n=Math.ceil(t/2),i=ze,o="";r=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var s=r.replace("%index%",a);o+=s=s.replace("%sampleIndex%",a-(n-1)+".0"),o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t)}var Ve={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Ue=["precision mediump float;","varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function We(t){for(var e,r=Ve[t],n=r.length,i=Ue,o="",a=0;a<t;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a+"");e=a,a>=n&&(e=t-a-1),o+=s=s.replace("%value%",r[e]),o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",t)}function He(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;r>e;)r-=2;return r}var Ge=function(t){function e(e,r,n,i){var o=this,a=je(i=i||5,!0),s=We(i);return(o=t.call(this,a,s)||this).resolution=n||1,o._quality=0,o.quality=r||4,o.strength=e||8,o.firstRun=!0,o}return P(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!0,configurable:!0}),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=He(t.renderer.gl);this.vertexSrc=je(i,!0),this.fragmentSrc=We(i),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var o=t.getRenderTarget(!0),a=e,s=o,l=0;l<this.passes-1;l++){t.applyFilter(this,a,s,!0);var h=s;s=a,a=h}t.applyFilter(this,a,r,n),t.returnRenderTarget(o)}},e}(Le),Ye=function(t){function e(e,r,n,i){var o=this,a=je(i=i||5,!1),s=We(i);return(o=t.call(this,a,s)||this).resolution=n||1,o._quality=0,o.quality=r||4,o.strength=e||8,o.firstRun=!0,o}return P(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!0,configurable:!0}),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=He(t.renderer.gl);this.vertexSrc=je(i,!1),this.fragmentSrc=We(i),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var o=t.getRenderTarget(!0),a=e,s=o,l=0;l<this.passes-1;l++){t.applyFilter(this,a,s,!0);var h=s;s=a,a=h}t.applyFilter(this,a,r,n),t.returnRenderTarget(o)}},e}(Le),Xe=(function(t){function e(e,r,n,i){var o=t.call(this)||this;return o.blurXFilter=new Ge(e,r,n,i),o.blurYFilter=new Ye(e,r,n,i),o.padding=0,o.resolution=n||1,o.quality=r||4,o.blur=e||8,o}P(e,t),e.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!0,configurable:!0})}(Le),function(t){function e(e){var r=t.call(this,Be,"precision mediump float;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform float m[20];uniform float uAlpha;void main(void){vec4 c = texture2D(uSampler, vTextureCoord);if (uAlpha == 0.0) {gl_FragColor = c;return;}if (c.a > 0.0) {c.rgb /= c.a;}vec4 result;result.r = (m[0] * c.r);result.r += (m[1] * c.g);result.r += (m[2] * c.b);result.r += (m[3] * c.a);result.r += m[4];result.g = (m[5] * c.r);result.g += (m[6] * c.g);result.g += (m[7] * c.b);result.g += (m[8] * c.a);result.g += m[9];result.b = (m[10] * c.r);result.b += (m[11] * c.g);result.b += (m[12] * c.b);result.b += (m[13] * c.a);result.b += m[14];result.a = (m[15] * c.r);result.a += (m[16] * c.g);result.a += (m[17] * c.b);result.a += (m[18] * c.a);result.a += m[19];vec3 rgb = mix(c.rgb, result.rgb, uAlpha);rgb *= result.a;gl_FragColor = vec4(rgb, result.a);}")||this;return r.uniforms.m=e||[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return P(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),a=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,n,i){var o=((r=r||16770432)>>16&255)/255,a=(r>>8&255)/255,s=(255&r)/255,l=((n=n||3375104)>>16&255)/255,h=(n>>8&255)/255,u=(255&n)/255,c=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,l,h,u,e=e||.15,0,o-l,a-h,s-u,0,0];this._loadMatrix(c,i)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!0,configurable:!0}),e}(Le));Xe.prototype.grayscale=Xe.prototype.greyscale;!function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,Be,"precision mediump float;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform float uAlpha;void main(void){gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;}")||this;return r.alpha=e,r.glShaderKey="alpha",r}P(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!0,configurable:!0})}(Le);var qe=new N,Ke=function(){function t(t,e){void 0===e&&(e=.5),this._texture=t,this.mapCoord=new N,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=e}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1},enumerable:!0,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(qe.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(qe));var o=e.baseTexture,a=this.uClampFrame,s=this.clampMargin,l=this.clampOffset;return a[0]=(e._frame.x+s+l)/o.width,a[1]=(e._frame.y+s+l)/o.height,a[2]=(e._frame.x+e._frame.width-s+l)/o.width,a[3]=(e._frame.y+e._frame.height-s+l)/o.height,this.uClampOffset[0]=l/o.width,this.uClampOffset[1]=l/o.height,!0},t}(),Ze=function(t){function e(e){var r=this,n=new N;return r=t.call(this,"attribute vec2 aVertexPosition;attribute vec2 aTextureCoord;uniform mat3 projectionMatrix;uniform mat3 otherMatrix;varying vec2 vMaskCoord;varying vec2 vTextureCoord;void main(void){gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);vTextureCoord = aTextureCoord;vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;}","precision mediump float;varying vec2 vMaskCoord;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform sampler2D mask;uniform float alpha;uniform vec4 maskClamp;void main(void){float clip = step(3.5,step(maskClamp.x, vMaskCoord.x) +step(maskClamp.y, vMaskCoord.y) +step(vMaskCoord.x, maskClamp.z) +step(vMaskCoord.y, maskClamp.w));vec4 original = texture2D(uSampler, vTextureCoord);vec4 masky = texture2D(mask, vMaskCoord);original *= (masky.a * alpha * clip);gl_FragColor = original;}")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=n,r}return P(e,t),e.prototype.apply=function(t,e,r){var n=this.maskSprite,i=this.maskSprite.texture;i&&i.valid&&(i.transform||(i.transform=new Ke(i,0)),i.transform.update(),this.uniforms.mask=i,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(i.transform.mapCoord),this.uniforms.alpha=n._worldAlpha,this.uniforms.maskClamp=i.transform.uClampFrame,t.applyFilter(this,e,r))},e}(Le),Je=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","const float resolution=1024.0;","uniform float radius;","uniform vec2 dir;","void main() {","vec4 sum = vec4(0.0);","vec2 tc = vTextureCoord;","float blur = radius/resolution;","float hstep = dir.x;","float vstep = dir.y;","sum += texture2D(uSampler, vec2(tc.x - 4.0*blur*hstep, tc.y - 4.0*blur*vstep)) * 0.0162162162;","sum += texture2D(uSampler, vec2(tc.x - 3.0*blur*hstep, tc.y - 3.0*blur*vstep)) * 0.0540540541;","sum += texture2D(uSampler, vec2(tc.x - 2.0*blur*hstep, tc.y - 2.0*blur*vstep)) * 0.1216216216;","sum += texture2D(uSampler, vec2(tc.x - 1.0*blur*hstep, tc.y - 1.0*blur*vstep)) * 0.1945945946;","sum += texture2D(uSampler, vec2(tc.x, tc.y)) * 0.2270270270;","sum += texture2D(uSampler, vec2(tc.x + 1.0*blur*hstep, tc.y + 1.0*blur*vstep)) * 0.1945945946;","sum += texture2D(uSampler, vec2(tc.x + 2.0*blur*hstep, tc.y + 2.0*blur*vstep)) * 0.1216216216;","sum += texture2D(uSampler, vec2(tc.x + 3.0*blur*hstep, tc.y + 3.0*blur*vstep)) * 0.0540540541;","sum += texture2D(uSampler, vec2(tc.x + 4.0*blur*hstep, tc.y + 4.0*blur*vstep)) * 0.0162162162;","vec4 cc= texture2D(uSampler,vTextureCoord );","gl_FragColor =vec4(sum.rgb, cc.a);","}"].join("\n"),$e=(function(t){function e(e){void 0===e&&(e=.5);var r=t.call(this,Be,Je)||this;return r.blur=e,r.uniforms.dir=[1,1],r}P(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur!==t&&(t>1&&(t=1),t<0&&(t=0),this._blur=t,this.uniforms.radius=10*t)},enumerable:!0,configurable:!0})}(Le),["precision mediump float;","uniform sampler2D uSampler;","varying vec2 vTextureCoord;","uniform float threshold;","void main() {","vec4 color = texture2D(uSampler, vTextureCoord);","float _max = max(max(color.r, color.g), color.b);","float _min = min(min(color.r, color.g), color.b);","float brightness = (_max + _min) * 0.5;","if(brightness > threshold) {","gl_FragColor = color;","} else {","gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);","}","}"].join("\n")),Qe=function(t){function e(e){void 0===e&&(e=.5);var r=t.call(this,Be,$e)||this;return r.threshold=e,r}return P(e,t),Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(t){this.uniforms.threshold=t},enumerable:!0,configurable:!0}),e}(Le),tr=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform vec2 uOffset;","uniform vec4 filterClamp;","void main(void)","{","vec4 color = vec4(0.0);","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));","color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));","color *= 0.25;","gl_FragColor = color;","}"].join("\n"),er=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","uniform vec2 uOffset;","void main(void)","{","vec4 color = vec4(0.0);","color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));","color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));","color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));","color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));","color *= 0.25;","gl_FragColor = color;","}"].join("\n"),rr=function(t){function e(e,r,n){void 0===e&&(e=4),void 0===r&&(r=3),void 0===n&&(n=!1);var i=t.call(this,Be,n?tr:er)||this;return i.uniforms.uOffset=new Float32Array(2),i._pixelSize=new L,i.pixelSize=1,i._clamp=n,i._kernels=null,Array.isArray(e)?i.kernels=e:(i._blur=e,i.quality=r),i}return P(e,t),e.prototype.apply=function(t,e,r,n){var i,o=this.pixelSize.x/e.size.width,a=this.pixelSize.y/e.size.height;if(1===this._quality||0===this._blur)i=this._kernels[0]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,t.applyFilter(this,e,r,n);else{for(var s=t.getRenderTarget(),l=e,h=s,u=void 0,c=this._quality-1,f=0;f<c;f++)i=this._kernels[f]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,t.applyFilter(this,l,h,!0),u=l,l=h,h=u;i=this._kernels[c]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,t.applyFilter(this,l,r,n),t.returnRenderTarget(s)}},e.prototype._generateKernels=function(){var t=this._blur,e=this._quality,r=[t];if(t>0)for(var n=t,i=t/e,o=1;o<e;o++)n-=i,r.push(n);this._kernels=r},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(t){Array.isArray(t)&&t.length>0?(this._kernels=t,this._quality=t.length,this._blur=Math.max.apply(Math,t)):(this._kernels=[0],this._quality=1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(t){"number"==typeof t?(this._pixelSize.x=t,this._pixelSize.y=t):Array.isArray(t)?(this._pixelSize.x=t[0],this._pixelSize.y=t[1]):t instanceof L?(this._pixelSize.x=t.x,this._pixelSize.y=t.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=Math.max(1,Math.round(t)),this._generateKernels()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur=t,this._generateKernels()},enumerable:!0,configurable:!0}),e}(Le),nr=["precision mediump float;","uniform sampler2D uSampler;","varying vec2 vTextureCoord;","uniform sampler2D bloomTexture;","uniform float bloomScale;","uniform float brightness;","void main() {","vec4 color = texture2D(uSampler, vTextureCoord);","color.rgb *= brightness;","vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);","bloomColor.rgb *= bloomScale;","gl_FragColor = color + bloomColor;","}"].join("\n"),ir=(function(t){function e(e){var r=t.call(this,Be,nr)||this;"number"==typeof e&&(e={threshold:e}),e=Object.assign({threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:1},e),r.bloomScale=e.bloomScale,r.brightness=e.brightness;var n=e.kernels,i=e.blur,o=e.quality,a=e.pixelSize,s=e.resolution;return r._extractFilter=new Qe(e.threshold),r._extractFilter.resolution=s,r._blurFilter=n?new rr(n):new rr(i,o),r.pixelSize=a,r.resolution=s,r}P(e,t),e.prototype.apply=function(t,e,r,n){var i=t.getRenderTarget();this._extractFilter.apply(t,e,i,!0);var o=t.getRenderTarget();this._blurFilter.apply(t,i,o,!0),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=o,t.applyFilter(this,e,r,n),t.returnRenderTarget(o),t.returnRenderTarget(i)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t,this._extractFilter&&(this._extractFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(t){this._extractFilter.threshold=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(t){this._blurFilter.kernels=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(t){this._blurFilter.blur=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(t){this._blurFilter.quality=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(t){this._blurFilter.pixelSize=t},enumerable:!0,configurable:!0})}(Le),function(){function t(t){this.renderer=t,this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!0,this.alphaMaskPool=[],this.alphaMaskIndex=0}return t.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(e)},t.prototype.popMask=function(t,e){e.texture?this.popSpriteMask():this.popStencilMask()},t.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new Ze(e)]),r[0].resolution=1,r[0].maskSprite=e;var n=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),t.filterArea=n,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(t){this.renderer.batchManager.flush(),this.renderer.stencilManager.pushStencil(t)},t.prototype.popStencilMask=function(){this.renderer.stencilManager.popStencil()},t.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(n.x,r.root?r.size.height-n.y-n.height:n.y,n.width,n.height),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},t.prototype.destroy=function(){this.renderer=null},t}()),or=function(){function t(t){this.renderer=t,this.stencilMaskStack=null}return t.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},t.prototype.pushStencil=function(t){this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),t.renderable=!0;var n=t._worldAlpha;t._worldAlpha=1,t.renderWebGL(this.renderer),this.renderer.batchManager.flush(),t.renderable=!1,t._worldAlpha=n,this._useCurrent()},t.prototype.popStencil=function(){var t=this.renderer.gl,e=this.stencilMaskStack.pop();if(0===this.stencilMaskStack.length)t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0);else{t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0;var r=e._worldAlpha;e._worldAlpha=1,e.renderWebGL(this.renderer),this.renderer.batchManager.flush(),e.renderable=!1,e._worldAlpha=r,this._useCurrent()}},t.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},t.prototype.destroy=function(){this.renderer=null,this.stencilMaskStack=null},t}();var ar=function(){function t(t,e){this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var r=0;r<4;r++)this.interleaved[4*r]=this.vertices[2*r],this.interleaved[4*r+1]=this.vertices[2*r+1],this.interleaved[4*r+2]=this.uvs[2*r],this.interleaved[4*r+3]=this.uvs[2*r+1];this.indices=function(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}(1),this.vertexBuffer=se.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=se.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new le(t,e)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer),this.gl=null,this.vertices=null,this.uvs=null,this.interleaved=null,this.indices=null,this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.vao.destroy()},t}();var sr=function(){function t(){this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new z,this.destinationFrame=new z,this.filters=[]}return t.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},t}(),lr=function(){function t(t){this.renderer=t,this.gl=this.renderer.gl,this.quad=new ar(this.gl,t.state.attribState),this.shaderCache={},this.pool={},this.filterData=null,this.managedFilters=[],this.renderer.addEventListener("onPreRender",this.onPreRender,this),this._screenWidth=t.width,this._screenHeight=t.height}return t.prototype.pushFilter=function(t,e){var r=this.renderer,n=this.filterData;if(!n){var i=new sr;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index],a=n.stack[0].destinationFrame;o||(o=n.stack[n.index]=new sr);var s=e[0].resolution,l=0|e[0].padding,h=t.filterArea||t.getBounds(!0),u=o.sourceFrame,c=o.destinationFrame;u.x=(h.x*s|0)/s,u.y=(h.y*s|0)/s,u.width=(h.width*s|0)/s,u.height=(h.height*s|0)/s,n.stack[0].renderTarget.transform||e[0].autoFit&&u.fit(a),u.pad(l),c.width=u.width,c.height=u.height;var f=this.getPotRenderTarget(r.gl,u.width,u.height,s);o.target=t,o.filters=e,o.resolution=s,o.renderTarget=f,f.setFrame(c,u),r.bindRenderTarget(f),f.clear()},t.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var a=0;for(a=0;a<n.length-1;++a){n[a].apply(this,i,o,!0,r);var s=i;i=o,o=s}n[a].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}r.clear(),t.index--,0===t.index&&(this.filterData=null)},t.prototype.applyFilter=function(t,e,r,n){var i=this.renderer,o=i.gl,a=t.glShaders[i.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey])||(a=new Ee(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a,this.managedFilters.push(t)):(a=t.glShaders[i.CONTEXT_UID]=new Ee(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),i.bindVao(null),this.quad.initVao(a)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(a);var s=this.renderer.textureManager.emptyTextures[0];this.renderer.textureManager.boundTextures[0]=s,this.syncUniforms(a,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture),this.renderer.textureManager.currentLocation=-1},t.prototype.syncUniforms=function(t,e){var r,n=e.uniformData,i=e.uniforms,o=1;if(t.uniforms.filterArea){r=this.filterData.stack[this.filterData.index];var a=t.uniforms.filterArea;a[0]=r.renderTarget.size.width,a[1]=r.renderTarget.size.height,a[2]=r.sourceFrame.x,a[3]=r.sourceFrame.y,t.uniforms.filterArea=a}if(t.uniforms.filterClamp){r=r||this.filterData.stack[this.filterData.index];var s=t.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(r.sourceFrame.width-1)/r.renderTarget.size.width,s[3]=(r.sourceFrame.height-1)/r.renderTarget.size.height,t.uniforms.filterClamp=s}for(var l in n){var h=n[l].type;if("sampler2d"===h&&0!==i[l]){if(i[l].baseTexture)t.uniforms[l]=this.renderer.textureManager.bindTexture(i[l].baseTexture,o);else{t.uniforms[l]=o;var u=this.renderer.gl;this.renderer.textureManager.boundTextures[o]=this.renderer.textureManager.emptyTextures[o],u.activeTexture(u.TEXTURE0+o),i[l].texture.bind()}o++}else if("mat3"===h)void 0!==i[l].a?t.uniforms[l]=i[l].toArray(!0):t.uniforms[l]=i[l];else if("vec2"===h)if(void 0!==i[l].x){var c=t.uniforms[l]||new Float32Array(2);c[0]=i[l].x,c[1]=i[l].y,t.uniforms[l]=c}else t.uniforms[l]=i[l];else"float"===h?t.uniforms.data[l].value!==n[l]&&(t.uniforms[l]=i[l]):t.uniforms[l]=i[l]}},t.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},t.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},t.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return function(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n}(t,e.sourceFrame,e.renderTarget.size)},t.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return function(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n}(t,e.sourceFrame,e.renderTarget.size)},t.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return function(t,e,r,n){var i=n._texture.orig,o=t.set(r.width,0,0,r.height,e.x,e.y),a=N.TEMP_MATRIX.copy(n.worldMatrix);return a.invert(),o.prepend(a),o.scale(1/i.width,1/i.height),o.translate(n.anchorTexture.x,n.anchorTexture.y),o}(t,r.sourceFrame,r.renderTarget.size,e)},t.prototype.destroy=function(t){void 0===t&&(t=!1);var e=this.renderer,r=this.managedFilters;e.removeEventListener("onPreRender",this.onPreRender,this),this.renderer=null;for(var n=0;n<r.length;n++)t||r[n].glShaders[e.CONTEXT_UID].destroy(),delete r[n].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},t.prototype.getPotRenderTarget=function(t,e,r,n){var i="screen";r*=n,(e*=n)===this._screenWidth&&r===this._screenHeight||(i=(65535&(e=ot(e)))<<16|65535&(r=ot(r))),this.pool[i]||(this.pool[i]=[]);var o=this.pool[i].pop();if(!o){var a=this.renderer.textureManager.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new Pe(t,e,r,void 0),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture),this.renderer.textureManager.currentLocation=-1}return o.resolution=n,o.defaultFrame.width=o.size.width=e/n,o.defaultFrame.height=o.size.height=r/n,o.filterPoolKey=i,o},t.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},t.prototype.freePotRenderTarget=function(t){this.pool[t.filterPoolKey].push(t)},t.prototype.onPreRender=function(){if(this._screenWidth!==this.renderer.width||this._screenHeight!==this.renderer.height){this._screenWidth=this.renderer.width,this._screenHeight=this.renderer.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},t}(),hr=0,ur=function(t){function e(r,n,i){var o=t.call(this)||this;return o.plugins={},o._instanceType="WebglRenderer",o.type=u.WEBGL,o._backgroundColorRgba[3]=o.transparent?0:1,o.gl=r,o.CONTEXT_UID=hr++,o.maskManager=new ir(o),o.stencilManager=new or(o),o.batchManager=new Ie(o),o.textureManager=null,o.initPlugins(e.__plugins),o.state=new De(o.gl),o.renderingToScreen=!0,o._activeShader=null,o._activeVao=null,o._activeRenderTarget=null,o._initContext(),o.resize(n,i),o}return P(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext(),this._activeShader=null,this._activeVao=null,this.textureManager=new ke(this),this.filterManager=new lr(this),this.textureGC=new Oe(this),this.state.resetToDefault(),this.rootRenderTarget=new Pe(t,1,1,w.LINEAR,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget),this.dispatchEvent("onContextChange")},e.prototype.render=function(t,e,r){if(this.dispatchEvent("onPreRender"),this.renderingToScreen=!e,this.gl&&!this.gl.isContextLost()){e||(this._lastObjectRendered=t),t.update();var n=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=n,this.bindRenderTexture(e,r),this.batchManager.currentRenderer.start(),this._activeRenderTarget.clear(),t.renderWebGL(this),this.batchManager.currentRenderer.flush(),this.dispatchEvent("onPostRender")}},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(e),this},e.prototype.bindShader=function(t,e){return void 0===e&&(e=!0),this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.createVao=function(){return new le(this.gl,this.state.attribState)},e.prototype.bindVao=function(t,e){return void 0===e&&(e=!1),this._activeVao===t?(e&&t.bind(),this):(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){this.batchManager.reset(),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.textureManager.boundTextures.length;t++)this.textureManager.boundTextures[t]=this.textureManager.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.bindRenderTexture=function(t,e){var r;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.textureManager.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.rootRenderTarget.resize(e,r),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.destroy=function(){this.destroyPlugins(),this.textureManager.destroy(),t.prototype.destroy.call(this),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.handleContextLost=null,this.handleContextRestored=null},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext(),this.resize(this.width,this.height)},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},e.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(pt);ur.registerPlugin("batch",Ae);(function(t){function e(r,n,i,o,a,s,l,h,c){void 0===n&&(n=750),void 0===i&&(i=1624),void 0===s&&(s=u.CANVAS),void 0===l&&(l=!1),void 0===h&&(h=!1);var f=t.call(this)||this;f.renderObj=null,f.viewRect=new z,f.desWidth=0,f.desHeight=0,f.divHeight=0,f.divWidth=0,f._bgColor=0,f._lastDpList={},f.canvasOffsetTb={x:0,y:0},f._ml=[],f._mp=[],f._mouseDownPoint={},f._mouseEventTypes={mousedown:"onMouseDown",mousemove:"onMouseMove",mouseup:"onMouseUp",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp",touchStart:"onMouseDown",touchMove:"onMouseMove",touchEnd:"onMouseUp"},f.canvas=r;var p=f;if(f._instanceType="Stage",e._stageList.canvas=p,p.stage=f,p.name="stageInstance_"+p.instanceId,p.desWidth=n,p.desHeight=i,p.divWidth=o,p.divHeight=a,c){p._dpi=c;var d=o*c,m=a*c;"tb"==tt()&&(d+=c,m+=c),r.width=d,r.height=m}else console.warn("尝试设置分辨率，内部会根据分辨率设置画布的实际尺寸"),p._dpi=r.width/o;if(s!=u.WEBGL||function(){if("tb"==tt())return!0;if(void 0!==Bt)return Bt;var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=et(),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,Bt=n}catch(t){return Bt=!1}}()||(s=u.CANVAS,console.warn("不支持webgl")),s==u.CANVAS){var v=r.getContext("2d");p.renderObj=new vt(v,r.width,r.height)}else{var y={alpha:!0,antialias:!1,premultipliedAlpha:!0,stencil:!0};v=r.getContext("webgl",y)||r.getContext("experimental-webgl",y);p.renderObj=new ur(v,r.width,r.height),"web"==tt()&&(r.addEventListener("webglcontextlost",p.renderObj.handleContextLost.bind(p.renderObj),!1),r.addEventListener("webglcontextrestored",p.renderObj.handleContextRestored.bind(p.renderObj),!1))}return p._stageCenter=l,p._scaleMode=h?"fixedHeight":"fixedWidth",p._setAlign(),setTimeout((function(){p.dispatchEvent(I.INIT_STAGE)}),100),f}P(e,t),e.getStage=function(t){return void 0===t&&(t="cusEngine"),e._stageList[t]},Object.defineProperty(e.prototype,"bgColor",{get:function(){return this._bgColor},set:function(t){this._bgColor!==t&&(this._bgColor=t,this.renderObj.backgroundColor=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stageWidth",{get:function(){return this.viewRect.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stageHeight",{get:function(){return this.viewRect.height},enumerable:!0,configurable:!0}),e.prototype._setAlign=function(){var t=this,e=t.canvas;t._stageCenter&&(t.anchorX=t.desWidth>>1,t.anchorY=t.desHeight>>1,t.x=e.width-t.desWidth>>1,t.y=e.height-t.desHeight>>1);var r="fixedHeight"==t._scaleMode?e.height/t.desHeight:e.width/t.desWidth;t.scaleX=r,t.scaleY=r,t.viewRect=t.viewRect||new z,t.viewRect.x=t.desWidth-e.width/r>>1,t.viewRect.y=t.desHeight-e.height/r>>1,t.viewRect.width=t.desWidth-2*t.viewRect.x,t.viewRect.height=t.desHeight-2*t.viewRect.y,t._stageCenter||(t.viewRect.x=t.viewRect.y=0)},e.prototype.resize=function(t,e){if("web"==tt()&&(t=t||document.body.clientWidth,e=e||document.body.clientHeight),t&&t){var r=this,n=r._dpi,i=r.canvas;t==r.divWidth&&e==r.divHeight||(t!=r.divWidth&&(i.width=t*n),e!=r.divHeight&&(i.height=e*n),r.divWidth=t,r.divHeight=e,r._setAlign(),r.renderObj.resize(i.width,i.height),r.dispatchEvent(I.RESIZE))}else console.error("传入的显示尺寸不能为空")},e.prototype._initMouseEvent=function(t,e,r,n){t._pd=!1,t.clientX=e.x,t.clientY=e.y,t.stageX=r.x,t.stageY=r.y,t.identifier=n},e.prototype.flush=function(){this.renderObj.render(this)},e.prototype.onMouseEvent=function(t){"web"==tt()&&(this.webMouseEventPreventDefault&&t.preventDefault(),this.webMouseEventStopPropagation&&t.stopPropagation());var e=this;if(R._totalMEC>0){var r=void 0,n=e._mouseEventTypes[t.type],o=void 0,a=void 0,s=void 0,l=void 0,h=void 0,u=void 0,c=void 0;"pc"==i?(t.identifier=0,r=[t]):r=[t.changedTouches[0]];var f=e.canvasOffsetTb,p=f.x,d=f.y;if("web"==tt()){var m=document.documentElement,v=e.canvas.getBoundingClientRect();p=v.left+window.pageXOffset-m.clientLeft,d=v.top+window.pageYOffset-m.clientTop}for(var y=0;y<r.length;y++)if(r[y]&&(u=0,o=[],c="m"+r[y].identifier,(h=e._mp.length>0?e._mp.shift():new L).x=((r[y].pageX||r[y].x||r[y].b)-p)*e._dpi,h.y=((r[y].pageY||r[y].y||r[y].c)-d)*e._dpi,s=e.globalToLocal(h,K._bp),R.getMouseEventCount()>0&&(e._ml[u]?(a=e._ml[u]).type=n:(a=new Jt(n),e._ml[u]=a),o[o.length]=a,e._initMouseEvent(a,h,s,c),u++),"onMouseDown"==n?e._mouseDownPoint[c]=h:"onMouseUp"==n&&e._mouseDownPoint[c]&&L.distance(e._mouseDownPoint[c],h)<20&&R.getMouseEventCount("onMouseClick")>0&&(e._ml[u]?(a=e._ml[u]).type="onMouseClick":(a=new Jt("onMouseClick"),e._ml[u]=a),o[o.length]=a,e._initMouseEvent(a,h,s,c),u++),u>0)){var g=e.hitTestPoint(h,!0),_=[];if(g)for(;g;)!1===g.mouseChildren&&(_.length=0),_[_.length]=g,g=g.parent;else _[_.length]=e;for(var b=_.length,x=b-1;x>=0;x--){g=_[x];for(var w=0;w<u;w++)o[w]._pd||g.hasEventListener(o[w].type)&&g.mouseEnable&&(o[w].target=g,o[w].currentTarget=_[0],l=g.globalToLocal(h,K._bp),o[w].localX=l.x,o[w].localY=l.y,g.dispatchEvent(o[w]))}_.reverse();for(x=b-1;x>=0;x--){g=_[x];for(w=0;w<u;w++)o[w]._pd||g.hasEventListener(o[w].type,!1)&&g.mouseEnable&&(o[w].target=g,o[w].currentTarget=_[u-1],l=g.globalToLocal(h,K._bp),o[w].localX=l.x,o[w].localY=l.y,g.dispatchEvent(o[w],null,!1))}if("onMouseDown"!=n){if((R.getMouseEventCount("onMouseOver")>0||R.getMouseEventCount("onMouseOut")>0)&&e._lastDpList[c]){var T=e._lastDpList[c].length,S=_.length;b=T>S?T:S;var E=!1,M=void 0,C=void 0;for(x=1;x<b;x++)E||e._lastDpList[c][x]!=_[x]&&(E=!0,e._ml[u]?(M=e._ml[u]).type="onMouseOver":(M=new Jt("onMouseOver"),e._ml[u]=M),e._initMouseEvent(M,h,s,c),u++,e._ml[u]?(C=e._ml[u]).type="onMouseOut":(C=new Jt("onMouseOut"),e._ml[u]=C),e._initMouseEvent(C,h,s,c)),E&&(e._lastDpList[c][x]&&(C._pd||(g=e._lastDpList[c][x]).hasEventListener("onMouseOut")&&(C.currentTarget=e._lastDpList[c][T-1],C.target=g,l=g.globalToLocal(h,K._bp),C.localX=l.x,C.localY=l.y,g.dispatchEvent(C))),_[x]&&(M._pd||(g=_[x]).hasEventListener("onMouseOver")&&(M.currentTarget=_[S-1],M.target=g,l=g.globalToLocal(h,K._bp),M.localX=l.x,M.localY=l.y,g.dispatchEvent(M))))}e._mp[e._mp.length]=h}"onMouseUp"==n?(delete e._mouseDownPoint[c],delete e._lastDpList[c]):e._lastDpList[c]=_}}},e.prototype.addWebMouseEvent=function(){if("web"===tt()){var t=this.canvas,e=this.onMouseEvent.bind(this);"pc"==i?(t.addEventListener("mousedown",e,!1),t.addEventListener("mousemove",e,!1),t.addEventListener("mouseup",e,!1)):(t.addEventListener("touchstart",e,!1),t.addEventListener("touchmove",e,!1),t.addEventListener("touchend",e,!1))}},e.prototype.getBounds=function(){return this.viewRect},e.prototype.destroy=function(){var e=this;e.renderObj.destroy(),e.renderObj=null,e.viewRect=null,e._lastDpList=null,e._ml=null,t.prototype.destroy.call(this)},e._stageList={}})(Z),new R;var cr=function(t){function e(e,r,n,i){void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=null);var o=t.call(this)||this;return o._instanceType="GraphicsData",o.shape=e,o.lineStyle=n,o.fillStyle=r,o.matrix=i,o.holes=[],o.type=e.type,o.points=[],o}return P(e,t),e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(D),fr=function(t){function e(e,r,n){void 0===e&&(e=100),void 0===r&&(r=100),void 0===n&&(n=w.LINEAR);var i=t.call(this,null,n)||this;return i.width=Math.ceil(e),i.height=Math.ceil(r),i.scaleMode=n,i.hasLoaded=!0,i._glRenderTargets={},i._canvasRenderTarget=null,i.valid=!1,i}return P(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.valid&&this.dispatchEvent("update"))},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(Wt),pr=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.valid=!0,n.updateUvs(),n}return P(e,t),e.prototype.resize=function(t,e,r){void 0===r&&(r=!1),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this.updateUvs()},e.create=function(t,r,n){return void 0===n&&(n=w.LINEAR),new e(new fr(t,r,n))},e}(Yt),dr=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=c.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.isPointIn=function(t){if(this.radius<=0)return!1;var e=this.radius*this.radius,r=this.x-t.x,n=this.y-t.y;return(r*=r)+(n*=n)<=e},t.prototype.getBounds=function(){return new z(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),mr=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=r,this.height=n,this.type=c.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.isPointIn=function(t){if(this.width<=0||this.height<=0)return!1;var e=(t.x-this.x)/this.width,r=(t.y-this.y)/this.height;return(e*=e)+(r*=r)<=1},t.prototype.getBounds=function(){return new z(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),vr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(Array.isArray(t[0])&&(t=t[0]),t[0]instanceof L){for(var r=[],n=0,i=t.length;n<i;n++)r.push(t[n].x,t[n].y);t=r}this.closed=!0,this.points=t,this.type=c.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.isPointIn=function(t){for(var e=t.x,r=t.y,n=!1,i=this.points.length/2,o=0,a=i-1;o<i;a=o++){var s=this.points[2*o],l=this.points[2*o+1],h=this.points[2*a],u=this.points[2*a+1];l>r!=u>r&&e<(r-l)/(u-l)*(h-s)+s&&(n=!n)}return n},t}(),yr=function(){function t(t,e,r,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=20),this.x=t,this.y=e,this.width=r,this.height=n;var o=(r<n?r:n)/2;i=(i=i<0?-i:i)>o?o:i,this.radius=i,this.type=c.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.isPointIn=function(t){var e=t.x,r=t.y;if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){if(r>=this.y+this.radius&&r<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var n=e-(this.x+this.radius),i=r-(this.y+this.radius),o=this.radius*this.radius;if(n*n+i*i<=o)return!0;if((n=e-(this.x+this.width-this.radius))*n+i*i<=o)return!0;if(n*n+(i=r-(this.y+this.height-this.radius))*i<=o)return!0;if((n=e-(this.x+this.radius))*n+i*i<=o)return!0}return!1},t}();function gr(t,e,r){r=r||2;var n,i,o,a,s,l,h,u=e&&e.length,c=u?e[0]*r:t.length,f=_r(t,0,c,r,!0),p=[];if(!f||f.next===f.prev)return p;if(u&&(f=function(t,e,r,n){var i,o,a,s,l,h=[];for(i=0,o=e.length;i<o;i++)a=e[i]*n,s=i<o-1?e[i+1]*n:t.length,(l=_r(t,a,s,n,!1))===l.next&&(l.steiner=!0),h.push(Pr(l));for(h.sort(Mr),i=0;i<h.length;i++)Cr(h[i],r),r=br(r,r.next);return r}(t,e,f,r)),t.length>80*r){n=o=t[0],i=a=t[1];for(var d=r;d<c;d+=r)(s=t[d])<n&&(n=s),(l=t[d+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);h=0!==(h=Math.max(o-n,a-i))?1/h:0}return xr(f,p,r,n,i,h),p}function _r(t,e,r,n,i){var o,a;if(i===jr(t,e,r,n)>0)for(o=e;o<r;o+=n)a=Nr(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=Nr(o,t[o],t[o+1],a);return a&&Ir(a,a.next)&&(Br(a),a=a.next),a}function br(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!Ir(n,n.next)&&0!==Dr(n.prev,n,n.next))n=n.next;else{if(Br(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function xr(t,e,r,n,i,o,a){if(t){!a&&o&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=Ar(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,a,s,l,h=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,n=r,s=0,e=0;e<h&&(s++,n=n.nextZ);e++);for(l=h;s>0||l>0&&n;)0!==s&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,h*=2}while(a>1)}(i)}(t,n,i,o);for(var s,l,h=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?Tr(t,n,i,o):wr(t))e.push(s.i/r),e.push(t.i/r),e.push(l.i/r),Br(t),t=l.next,h=l.next;else if((t=l)===h){a?1===a?xr(t=Sr(t,e,r),e,r,n,i,o,2):2===a&&Er(t,e,r,n,i,o):xr(br(t),e,r,n,i,o,1);break}}}function wr(t){var e=t.prev,r=t,n=t.next;if(Dr(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(kr(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Dr(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Tr(t,e,r,n){var i=t.prev,o=t,a=t.next;if(Dr(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,h=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,c=Ar(s,l,e,r,n),f=Ar(h,u,e,r,n),p=t.prevZ,d=t.nextZ;p&&p.z>=c&&d&&d.z<=f;){if(p!==t.prev&&p!==t.next&&kr(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Dr(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,d!==t.prev&&d!==t.next&&kr(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Dr(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&kr(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Dr(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&kr(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Dr(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function Sr(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!Ir(i,o)&&Rr(i,n,n.next,o)&&Fr(i,o)&&Fr(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),Br(n),Br(n.next),n=t=o),n=n.next}while(n!==t);return n}function Er(t,e,r,n,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Or(a,s)){var l=Lr(a,s);return a=br(a,a.next),l=br(l,l.next),xr(a,e,r,n,i,o),void xr(l,e,r,n,i,o)}s=s.next}a=a.next}while(a!==t)}function Mr(t,e){return t.x-e.x}function Cr(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===a)return r.prev;var l,h=r,u=r.x,c=r.y,f=1/0;n=r.next;for(;n!==h;)i>=n.x&&n.x>=u&&i!==n.x&&kr(o<c?i:a,o,u,c,o<c?a:i,o,n.x,n.y)&&((l=Math.abs(o-n.y)/(i-n.x))<f||l===f&&n.x>r.x)&&Fr(n,t)&&(r=n,f=l),n=n.next;return r}(t,e)){var r=Lr(e,t);br(r,r.next)}}function Ar(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Pr(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function kr(t,e,r,n,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(n-s)-(r-a)*(e-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function Or(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Rr(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&Fr(t,e)&&Fr(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)}function Dr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Ir(t,e){return t.x===e.x&&t.y===e.y}function Rr(t,e,r,n){return!!(Ir(t,e)&&Ir(r,n)||Ir(t,n)&&Ir(r,e))||Dr(t,e,r)>0!=Dr(t,e,n)>0&&Dr(r,n,t)>0!=Dr(r,n,e)>0}function Fr(t,e){return Dr(t.prev,t,t.next)<0?Dr(t,e,t.next)>=0&&Dr(t,t.prev,e)>=0:Dr(t,e,t.prev)<0||Dr(t,t.next,e)<0}function Lr(t,e){var r=new zr(t.i,t.x,t.y),n=new zr(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function Nr(t,e,r,n){var i=new zr(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Br(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function zr(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function jr(t,e,r,n){for(var i=0,o=e,a=r-n;o<r;o+=n)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}gr.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,a=Math.abs(jr(t,0,o,r));if(i)for(var s=0,l=e.length;s<l;s++){var h=e[s]*r,u=s<l-1?e[s+1]*r:t.length;a-=Math.abs(jr(t,h,u,r))}var c=0;for(s=0;s<n.length;s+=3){var f=n[s]*r,p=n[s+1]*r,d=n[s+2]*r;c+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},gr.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[i][o][a]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var Vr={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.verts,o=e.indices;if(r.length>=6){for(var a=[],s=0;s<n.length;s++){var l=n[s];a.push(r.length/2),r=r.concat(l.points)}var h=gr(r,a,2);if(!h)return;var u=i.length/2;for(s=0;s<h.length;s+=3)o.push(h[s]+u),o.push(h[s+1]+u),o.push(h[s+2]+u);for(s=0;s<r.length;s++)i.push(r[s])}}},Ur={build:function(t){var e,r,n=t.shape,i=t.points,o=n.x,a=n.y;if(i.length=0,t.type===c.CIRC?(e=n.radius,r=n.radius):(e=n.width,r=n.height),0!==e&&0!==r){var s=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height));s/=2.3;for(var l=2*Math.PI/s,h=0;h<s;h++)i.push(o+Math.sin(l*h)*e,a+Math.cos(l*h)*r);i.push(i[0],i[1])}},triangulate:function(t,e){var r=t.points,n=e.verts,i=e.indices,o=n.length/2,a=o;n.push(t.shape.x,t.shape.y);for(var s=0;s<r.length;s+=2)n.push(r[s],r[s+1]),i.push(o++,a,o)}},Wr={build:function(t){var e=t.shape,r=t.points,n=e.x,i=e.y,o=e.width,a=e.height,s=e.radius;r.length=0,r.push(n,i+s),Gr(n,i+a-s,n,i+a,n+s,i+a,r),Gr(n+o-s,i+a,n+o,i+a,n+o,i+a-s,r),Gr(n+o,i+s,n+o,i,n+o-s,i,r),Gr(n+s,i,n,i,n,i+s+1e-10,r)},triangulate:function(t,e){for(var r=t.points,n=e.verts,i=e.indices,o=n.length/2,a=gr(r,null,2),s=0,l=a.length;s<l;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(s=0,l=r.length;s<l;s++)n.push(r[s],r[++s])}};function Hr(t,e,r){return t+(e-t)*r}function Gr(t,e,r,n,i,o,a){void 0===a&&(a=[]);for(var s=a,l=0,h=0,u=0,c=0,f=0,p=0,d=0,m=0;d<=20;++d)l=Hr(t,r,m=d/20),h=Hr(e,n,m),u=Hr(r,i,m),c=Hr(n,o,m),f=Hr(l,u,m),p=Hr(h,c,m),s.push(f,p);return s}function Yr(t,e){!function(t,e){var r=t.shape,n=t.points||r.points.slice();if(0===n.length)return;var i=t.lineStyle,o=new L(n[0],n[1]),a=new L(n[n.length-2],n[n.length-1]),s=r.type!==c.POLY,l=o.x===a.x&&o.y===a.y;if(l||s){n=n.slice(),l&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));var h=a.x+.5*(o.x-a.x),u=a.y+.5*(o.y-a.y);n.unshift(h,u),n.push(h,u)}var f=e.verts,p=n.length/2,d=n.length,m=f.length/2,v=i.width/2,y=n[0],g=n[1],_=n[2],b=n[3],x=0,w=0,T=-(g-b),S=y-_,E=0,M=0,C=0,A=0,P=Math.sqrt(T*T+S*S);T/=P,S/=P,T*=v,S*=v;var k=i.alignment,O=2*(1-k),D=2*k;f.push(y-T*O,g-S*O),f.push(y+T*D,g+S*D);for(var I=1;I<p-1;++I){y=n[2*(I-1)],g=n[2*(I-1)+1],_=n[2*I],b=n[2*I+1],x=n[2*(I+1)],w=n[2*(I+1)+1],T=-(g-b),S=y-_,P=Math.sqrt(T*T+S*S),T/=P,S/=P,T*=v,S*=v,E=-(b-w),M=_-x,P=Math.sqrt(E*E+M*M),E/=P,M/=P;var R=-S+g-(-S+b),F=-T+_-(-T+y),N=(-T+y)*(-S+b)-(-T+_)*(-S+g),B=-(M*=v)+w-(-M+b),z=-(E*=v)+_-(-E+x),j=(-E+x)*(-M+b)-(-E+_)*(-M+w),V=R*z-B*F;if(Math.abs(V)<.1)V+=10.1,f.push(_-T*O,b-S*O),f.push(_+T*D,b+S*D);else{var U=(F*j-z*N)/V,W=(B*N-R*j)/V;(U-_)*(U-_)+(W-b)*(W-b)>196*v*v?(C=T-E,A=S-M,P=Math.sqrt(C*C+A*A),C/=P,A/=P,C*=v,A*=v,f.push(_-C*O,b-A*O),f.push(_+C*D,b+A*D),f.push(_-C*D*O,b-A*O),d++):(f.push(_+(U-_)*O,b+(W-b)*O),f.push(_-(U-_)*D,b-(W-b)*D))}}y=n[2*(p-2)],g=n[2*(p-2)+1],_=n[2*(p-1)],b=n[2*(p-1)+1],T=-(g-b),S=y-_,P=Math.sqrt(T*T+S*S),T/=P,S/=P,T*=v,S*=v,f.push(_-T*O,b-S*O),f.push(_+T*D,b+S*D);var H=e.indices;for(I=0;I<d-2;++I)H.push(m,m+1,m+2),m++}(t,e)}var Xr=function(){function t(){this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.alphaBlock=this.alphaBlock,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Yt.WHITE,this.matrix=null,this.visible=!1,this.alphaBlock=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(Xr);var Kr,Zr={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048,segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive)return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};var Jr=new N,$r=new L,Qr=new Float32Array(3),tn=[],en={};en[c.POLY]=Vr,en[c.CIRC]=Ur,en[c.ELIP]=Ur,en[c.RECT]={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,o=e.height,a=t.points;a.length=0,a.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate:function(t,e){var r=t.points,n=e.verts,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},en[c.RREC]=Wr;var rn=function(t){function e(){var e=t.call(this)||this;return e._blendMode=b.NORMAL,e.batchTint=-1,e.hitTestByPixel=!0,e.cacheAsBitmap=!0,e._instanceType="Graphics",e._fillStyle=new Xr,e._lineStyle=new qr,e.tint=16777215,e.batchTint=-1,e._matrix=null,e._holeMode=!1,e._currentPath=null,e.graphicsData=[],e.isUsedToMask=!1,e.boundsPadding=0,e.dirty=0,e.boundsDirty=-1,e.cacheDirty=-1,e.verts=[],e.indices=[],e.batches=[],e.geoBatches=[],e.uvs=[],e.batchDirty=-1,e.shapeIndex=0,e.vertexData=null,e._transformID=-1,e}return P(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matrix",{get:function(){return this._matrix},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t._fillStyle=this._fillStyle,t._lineStyle=this._lineStyle,t.isUsedToMask=this.isUsedToMask,t.boundsPadding=this.boundsPadding,t.dirty=0;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t._currentPath=null,t.updateLocalBoundsSelf(),t},e.prototype.lineStyle=function(t,e,r,n,i){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=.5),void 0===i&&(i=!1),this.lineTextureStyle(t,Yt.WHITE,e,r,null,n,i),this},e.prototype.lineTextureStyle=function(t,e,r,n,i,o,a){void 0===t&&(t=0),void 0===e&&(e=Yt.WHITE),void 0===r&&(r=16777215),void 0===n&&(n=1),void 0===i&&(i=null),void 0===o&&(o=.5),void 0===a&&(a=!1),this._currentPath&&this.startPoly();var s=t>0&&n>0;return s?(i&&(i=i.clone()).invert(),this._lineStyle.color=r,this._lineStyle.width=t,this._lineStyle.alpha=n,this._lineStyle.matrix=i,this._lineStyle.texture=e,this._lineStyle.alignment=o,this._lineStyle.native=a,this._lineStyle.visible=s):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this._currentPath){var t=this._currentPath.points,e=this._currentPath.points.length;e>2&&(this.drawShape(this._currentPath),this._currentPath=new vr,this._currentPath.closed=!1,this._currentPath.points.push(t[e-2],t[e-1]))}else this._currentPath=new vr,this._currentPath.closed=!1},e.prototype.finishPoly=function(){this._currentPath&&(this._currentPath.points.length>2?(this.drawShape(this._currentPath),this._currentPath=null):this._currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this._currentPath.points[0]=t,this._currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this._currentPath||this.moveTo(0,0);var r=this._currentPath.points,n=r[r.length-2],i=r[r.length-1];return n===t&&i===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._currentPath?0===this._currentPath.points.length&&(this._currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,n){this._initCurve();var i=this._currentPath.points;0===i.length&&this.moveTo(0,0);for(var o=0,a=0,s=i[i.length-2],l=i[i.length-1],h=Zr.segmentsCount(function(t,e,r,n,i,o){var a=t-(2*r+i),s=e-(2*n+o),l=(r-2)*t*2,h=(n-2)*e*2,u=4*(a*a+s*s),c=4*(a*l+s*h),f=l*l+h*h,p=2*Math.sqrt(u+c+f),d=Math.sqrt(u),m=2*u*d,v=2*Math.sqrt(f),y=c/d;return(m*p+d*c*(p-v)+(4*f*u-c*c)*Math.log((2*d+y+p)/(y+v)))/(4*m)}(s,l,t,e,r,n)),u=1;u<=h;++u){var c=u/h;o=s+(t-s)*c,a=l+(e-l)*c,i.push(o+(t+(r-t)*c-o)*c,a+(e+(n-e)*c-a)*c)}return this},e.prototype.bezierCurveTo=function(t,e,r,n,i,o){this._initCurve();var a=this._currentPath.points,s=a[a.length-2],l=a[a.length-1];return a.length-=2,function(t,e,r,n,i,o,a,s,l,h){void 0===h&&(h=[]);var u=0,c=0,f=0,p=0,d=0;h.push(t,e);for(var m=1,v=0;m<=l;++m)f=(c=(u=1-(v=m/l))*u)*u,d=(p=v*v)*v,h.push(f*t+3*c*v*r+3*u*p*i+d*a,f*e+3*c*v*n+3*u*p*o+d*s)}(s,l,t,e,r,n,i,o,Zr.segmentsCount(function(t,e,r,n,i,o,a,s){for(var l=0,h=0,u=0,c=0,f=0,p=0,d=0,m=0,v=0,y=0,g=0,_=t,b=e,x=1;x<=10;++x)y=_-(m=(d=(p=(f=1-(h=x/10))*f)*f)*t+3*p*h*r+3*f*(u=h*h)*i+(c=u*h)*a),g=b-(v=d*e+3*p*h*n+3*f*u*o+c*s),_=m,b=v,l+=Math.sqrt(y*y+g*g);return l}(s,l,t,e,r,n,i,o)),a),this},e.prototype.arcTo=function(t,e,r,n,i){this._initCurve(t,e);var o=this._currentPath.points,a=o[o.length-2],s=o[o.length-1]-e,l=a-t,h=n-e,u=r-t,c=Math.abs(s*u-l*h);if(c<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=s*s+l*l,p=h*h+u*u,d=s*h+l*u,m=i*Math.sqrt(f)/c,v=i*Math.sqrt(p)/c,y=m*d/f,g=v*d/p,_=m*u+v*l,b=m*h+v*s,x=l*(v+y),w=s*(v+y),T=u*(m+g),S=h*(m+g),E=Math.atan2(w-b,x-_),M=Math.atan2(S-b,T-_);this.arc(_+t,b+e,i,E,M,l*h>u*s)}return this},e.prototype.arc=function(t,e,r,n,i,o){if(void 0===o&&(o=!1),n===i)return this;!o&&i<=n?i+=E:o&&n<=i&&(n+=E);var a=i-n;if(0===a)return this;var s=t+Math.cos(n)*r,l=e+Math.sin(n)*r,h=this._currentPath?this._currentPath.points:null;if(h){var u=Math.abs(h[h.length-2]-s),c=Math.abs(h[h.length-1]-l);u<.001&&c<.001||h.push(s,l)}else this.moveTo(s,l),h=this._currentPath.points;for(var f=Zr.segmentsCount(Math.abs(a)*r,40*Math.ceil(Math.abs(a)/E)),p=a/(2*f),d=2*p,m=Math.cos(p),v=Math.sin(p),y=f-1,g=y%1/y,_=0;_<=y;++_){var b=p+n+d*(_+g*_),x=Math.cos(b),w=-Math.sin(b);h.push((m*x+v*w)*r+t,(m*-w+v*x)*r+e)}return this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),"string"==typeof t&&(t=Dt(t)),this.beginTextureFill(Yt.WHITE,t,e)},e.prototype.beginTextureFill=function(t,e,r,n){void 0===t&&(t=Yt.WHITE),void 0===e&&(e=16777215),void 0===r&&(r=1),void 0===n&&(n=null),this._currentPath&&this.startPoly();var i=r>0;return i?(this._fillStyle.color=e,this._fillStyle.alpha=r,this._fillStyle.texture=t,this._fillStyle.matrix=n,this._fillStyle.visible=i):(this._fillStyle.reset(),this._fillStyle.alphaBlock=!0),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.endStroke=function(){return this.finishPoly(),this._lineStyle.reset(),this},e.prototype.closePath=function(){var t=this._currentPath;return this._currentPath&&t.close(),this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new z(t,e,r,n))},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new yr(t,e,r,n,i))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new dr(t,e,r))},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new mr(t,e,r,n))},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof vr&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new vr(e);return i.closed=r,this.drawShape(i),this},e.prototype.drawStar=function(t,e,r,n,i,o){void 0===o&&(o=0),i=i||n/2;for(var a=-1*Math.PI/2+o,s=2*r,l=E/s,h=[],u=0;u<s;u++){var c=u%2?i:n,f=u*l+a;h.push(t+c*Math.cos(f),e+c*Math.sin(f))}return this.drawPolygon(h)},e.prototype.drawShape=function(t){if(this._holeMode){if(!this.graphicsData.length)return this;e=new cr(t,null,null,this._matrix);this.graphicsData[this.graphicsData.length-1].holes.push(e),this.dirty++}else{var e=new cr(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix);this.graphicsData.push(e),this.dirty++}return this},e.prototype.clear=function(){if(this.graphicsData.length>0){this.boundsDirty=-1,this.dirty++,this.graphicsData.length=0,this.verts.length=0,this.uvs.length=0,this.indices.length=0,this.shapeIndex=0;for(var t=0;t<this.geoBatches.length;t++){var e=this.geoBatches[t];e.start=0,e.attribStart=0,e.style=null,tn.push(e)}this.geoBatches.length=0,this.batches.length=0}return this._currentPath=null,this._matrix=null,this._holeMode=!1,this._currentPath=null,this},e.prototype.isFastRect=function(){return!1},e.prototype._renderWebGL=function(t){if(this.finishPoly(),this.updateBatch(),t.batchManager.setObjectRenderer(t.plugins.batch),this.batches.length){this.calculateVertices(),this.calculateTints();for(var e=0;e<this.batches.length;e++){var r=this.batches[e];r._worldAlpha=this._worldAlpha*r.graAlpha,t.plugins.batch.render(r)}}},e.prototype.updateBatch=function(){if(this.batchDirty!==this.dirty&&0!==this.graphicsData.length){this.batchDirty=this.dirty;var t,e=this.uvs;(t=this.geoBatches.pop())||((t=tn.pop()||new nn).style=t.style||this.graphicsData[0].fillStyle||this.graphicsData[0].lineStyle);var r=t.style.texture.baseTexture,n=t.style.color+t.style.alpha;this.geoBatches.push(t);for(var i=this.shapeIndex;i<this.graphicsData.length;i++){this.shapeIndex++;var o=this.graphicsData[i],a=en[o.type],s=o.fillStyle,l=o.lineStyle;a.build(o),o.matrix&&this.transformPoints(o.points,o.matrix);for(var h=0;h<2;h++){var u=0===h?s:l;if(u.visible){var c=u.texture.baseTexture;if(r!==c||u.color+u.alpha!==n){c.wrapMode=T.REPEAT,r=c,n=u.color+u.alpha;var f=this.indices.length,p=this.verts.length/2;t.size=f-t.start,t.attribSize=p-t.attribStart,t.size>0&&(t=tn.pop()||new nn,this.geoBatches.push(t)),t.style=u,t.start=f,t.attribStart=p}var d=this.verts.length/2;0===h?o.holes.length?(this.proccessHoles(o.holes),Vr.triangulate(o,this)):a.triangulate(o,this):Yr(o,this);var m=this.verts.length/2-d;this.addUvs(this.verts,e,u.texture,d,m,u.matrix)}}}var v=this.indices.length,y=this.verts.length/2;t.size=v-t.start,t.attribSize=y-t.attribStart;for(var g=new Uint16Array(this.indices),_=new Float32Array(this.uvs),b=0;b<this.geoBatches.length;b++){var x=this.geoBatches[b];for(h=0;h<x.size;h++){var w=x.start+h;g[w]=g[w]-x.attribStart}}this._transformID=-1,this.batchTint=-1,this.batches=[],this.vertexData=new Float32Array(this.verts);for(var S=this.blendMode,E=0;E<this.geoBatches.length;E++){var M=this.geoBatches[E],C=M.style.color,A=new Float32Array(this.vertexData.buffer,4*M.attribStart*2,2*M.attribSize),P=new Float32Array(_.buffer,4*M.attribStart*2,2*M.attribSize);x={_vertexData:A,_indices:new Uint16Array(g.buffer,2*M.start,M.size),_uvs:P,_tintRGB:C,_texture:M.style.texture,_worldAlpha:1,_blendMode:S,graAlpha:M.style.alpha,_batchRGB:kt(C)};this.batches[E]=x}}},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=kt(this.tint,Qr),e=0;e<this.batches.length;e++){var r=this.batches[e],n=r._batchRGB,i=(t[0]*n[0]*255<<16)+(t[1]*n[1]*255<<8)+(0|t[2]*n[2]*255);r._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldMatrix,e=t.a,r=t.b,n=t.c,i=t.d,o=t.tx,a=t.ty,s=this.verts,l=this.vertexData,h=0,u=0;u<s.length;u+=2){var c=s[u],f=s[u+1];l[h++]=e*c+n*f+o,l[h++]=i*f+r*c+a}}},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var n=t[2*r],i=t[2*r+1];t[2*r]=e.a*n+e.c*i+e.tx,t[2*r+1]=e.b*n+e.d*i+e.ty}},e.prototype._renderCanvas=function(t){if(this.finishPoly(),this.cacheAsBitmap){if(this.cacheDirty!=this.dirty){this.cacheDirty=this.dirty;var e=this.mask;this.mask=null,this.cacheAsBitmap=!1;var r=this.alpha;this.alpha=1;var n=this.children;this.children=[],this.generateCanvasTexture(),this.mask=e,this.alpha=r,this.cacheAsBitmap=!0,this.children=n,this.transform._parentID=-1,this.parent&&this.updateTransform()}t.plugins.sprite.render(this)}else t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.updateLocalBoundsSelf();var t=this._localBoundsSelf,e=this.transform.worldMatrix;e.transformPoint(t.x,t.y,K._p1),e.transformPoint(t.x+t.width,t.y,K._p2),e.transformPoint(t.x+t.width,t.y+t.height,K._p3),e.transformPoint(t.x,t.y+t.height,K._p4),z.createFromPoints(this._bounds,K._p1,K._p2,K._p3,K._p4)},e.prototype.hitTestPoint=function(e,r){return void 0===r&&(r=!1),this.visible?(n=t.prototype.hitTestPoint.call(this,e,r))?n:r&&!this.mouseEnable?null:(this.updateLocalBoundsSelf(),(n=this.displayObjectHitTestPoint(e,r))?this.hitTestByPixel?this.hitTestPointAccuratly(e,r):n:null):null;var n},e.prototype.hitTestPointAccuratly=function(t,e){e?this.worldMatrix.transformPointInverse(t.x,t.y,$r):$r.set(t.x,t.y);for(var r=this.graphicsData,n=0;n<r.length;++n){var i=r[n];if((i.fillStyle.visible||i.fillStyle.alphaBlock)&&(i.shape&&i.shape.isPointIn($r))){if(i.holes)for(var o=0;o<i.holes.length;o++){if(i.holes[o].shape.isPointIn($r))return null}return this}}return null},e.prototype.updateLocalBoundsSelf=function(){if(this.boundsDirty!=this.dirty){this.boundsDirty=this.dirty;var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=void 0,o=0,a=0,s=0,l=0,h=0;h<this.graphicsData.length;h++){var u=this.graphicsData[h],f=u.type,p=u.lineStyle;u.matrix||N.IDENTITY;var d=0;if(p&&p.visible){var m=p.alignment;d=p.width,f===c.POLY?d*=.5+Math.abs(.5-m):d*=Math.max(0,m)}if(i=u.shape,f===c.RECT||f===c.RREC)o=i.x-d/2,a=i.y-d/2,t=o<t?o:t,e=o+(s=i.width+d)>e?o+s:e,r=a<r?a:r,n=a+(l=i.height+d)>n?a+l:n;else if(f===c.CIRC)o=i.x,a=i.y,t=o-(s=i.radius+d/2)<t?o-s:t,e=o+s>e?o+s:e,r=a-(l=i.radius+d/2)<r?a-l:r,n=a+l>n?a+l:n;else if(f===c.ELIP)o=i.x,a=i.y,t=o-(s=i.width+d/2)<t?o-s:t,e=o+s>e?o+s:e,r=a-(l=i.height+d/2)<r?a-l:r,n=a+l>n?a+l:n;else for(var v=i.points,y=0,g=0,_=0,b=0,x=0,w=0,T=0,S=0,E=0;E+2<v.length;E+=2)o=v[E],a=v[E+1],y=v[E+2],g=v[E+3],_=Math.abs(y-o),b=Math.abs(g-a),l=d,(s=Math.sqrt(_*_+b*b))<1e-9||(t=(T=(y+o)/2)-(x=(l/s*b+_)/2)<t?T-x:t,e=T+x>e?T+x:e,r=(S=(g+a)/2)-(w=(l/s*_+b)/2)<r?S-w:r,n=S+w>n?S+w:n)}else t=0,e=0,r=0,n=0;var M=this.boundsPadding;this._localBoundsSelf.x=t-M,this._localBoundsSelf.y=r-M,this._localBoundsSelf.width=e-t+2*M,this._localBoundsSelf.height=n-r+2*M}},e.prototype.generateCanvasTexture=function(t){void 0===t&&(t=w.LINEAR),this.updateLocalBoundsSelf();var e=this._localBoundsSelf;return this._canvasBuffer?this._canvasBuffer.resize(e.width,e.height):this._canvasBuffer=pr.create(e.width,e.height,t),Kr||(Kr=new vt(null,0,0)),this.transform.updateLocalMatrix(),Jr.copy(this.transform.localMatrix),Jr.invert(),Jr.tx-=e.x,Jr.ty-=e.y,Kr.render(this,this._canvasBuffer,Jr),this._texture||(this._texture=Yt.fromCanvas(this._canvasBuffer.baseTexture._canvasRenderTarget.canvas,"graphics")),this._texture.baseTexture.update(),this.offsetX=e.x,this.offsetY=e.y,this._texture},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this._matrix=null,this._currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.vertexData=null,this.geoBatches.length=0,this.geoBatches=null,this.batches.length=0,this.batches=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateLocalBoundsSelf(),Math.abs(this.scale.x)*this._localBoundsSelf.width},set:function(t){this.updateLocalBoundsSelf();var e=this._localBoundsSelf.width;if(0!==e){var r=Ft(this.scale.x)||1;this.scale.x=r*t/e}else this.scale.x=1;this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateLocalBoundsSelf(),Math.abs(this.scale.y)*this._localBoundsSelf.height},set:function(t){this.updateLocalBoundsSelf();var e=this._localBoundsSelf.height;if(0!==e){var r=Ft(this.scale.y)||1;this.scale.y=r*t/e}else this.scale.y=1;this._height=t},enumerable:!0,configurable:!0}),e.prototype.proccessHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];en[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.addUvs=function(t,e,r,n,i,o){for(var a=0,s=e.length,l=r.frame;a<i;){var h=t[2*(n+a)],u=t[2*(n+a)+1];if(o){var c=o.a*h+o.c*u+o.tx;u=o.b*h+o.d*u+o.ty,h=c}a++;var f=r.frame;e.push(h/f.width,u/f.height)}var p=r.baseTexture;(l.width<p.width||l.height<p.height)&&this.adjustUvs(e,r,s,i)},e.prototype.adjustUvs=function(t,e,r,n){for(var i=e.baseTexture,o=1e-6,a=r+2*n,s=e.frame,l=s.width/i.width,h=s.height/i.height,u=s.x/s.width,c=s.y/s.height,f=Math.floor(t[r]+o),p=Math.floor(t[r+1]+o),d=r+2;d<a;d+=2)f=Math.min(f,Math.floor(t[d]+o)),p=Math.min(p,Math.floor(t[d+1]+o));u-=f,c-=p;for(d=r;d<a;d+=2)t[d]=(t[d]+u)*l,t[d+1]=(t[d+1]+c)*h},e}(Z),nn=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},on=function(t){function e(){var e=t.call(this)||this;e._command=[],e.hitTestByPixel=!0,e._instanceType="Shape";var r=et();return r.width=3,r.height=3,e.texture=Yt.fromCanvas(r,"shapeCanvas"),Yt.addToCache(e.texture,e.texture.baseTexture.textureCacheIds[0]),e.canvas=r,e.context=r.getContext("2d"),e.dirty=!0,e}return P(e,t),e.prototype.drawRoundedRect=function(t,e,r,n,i,o,a,s){void 0===i&&(i=0);var l=(r<n?r:n)/2,h=0,u=0,c=0,f=0;null==o&&(o=i),null==a&&(a=i),null==s&&(s=i),i<0&&(i*=h=-1),i>l&&(i=l),o<0&&(o*=u=-1),o>l&&(o=l),s<0&&(s*=c=-1),s>l&&(s=l),a<0&&(a*=f=-1),a>l&&(a=l);var p=this._command;return p[p.length]=[1,"moveTo",[t+r-o,e]],p[p.length]=[1,"arcTo",[t+r+o*u,e-o*u,t+r,e+o,o]],p[p.length]=[1,"lineTo",[t+r,e+n-s]],p[p.length]=[1,"arcTo",[t+r+s*c,e+n+s*c,t+r-s,e+n,s]],p[p.length]=[1,"lineTo",[t+a,e+n]],p[p.length]=[1,"arcTo",[t-a*f,e+n+a*f,t,e+n-a,a]],p[p.length]=[1,"lineTo",[t,e+i]],p[p.length]=[1,"arcTo",[t-i*h,e-i*h,t+i,e,i]],p[p.length]=[1,"closePath",[]],this},e.prototype.moveTo=function(t,e){return this._command[this._command.length]=[1,"moveTo",[t,e]],this},e.prototype.lineTo=function(t,e){return this._command[this._command.length]=[1,"lineTo",[t,e]],this},e.prototype.arcTo=function(t,e,r,n,i){return this._command[this._command.length]=[1,"arcTo",[t,e,r,n,i]],this},e.prototype.quadraticCurveTo=function(t,e,r,n){return this._command[this._command.length]=[1,"quadraticCurveTo",[t,e,r,n]],this},e.prototype.bezierCurveTo=function(t,e,r,n,i,o){return this._command[this._command.length]=[1,"bezierCurveTo",[t,e,r,n,i,o]],this},e.prototype.closePath=function(){return this._command[this._command.length]=[1,"closePath",[]],this},e.prototype.drawRect=function(t,e,r,n){var i=this._command;return i[i.length]=[1,"moveTo",[t,e]],i[i.length]=[1,"lineTo",[t+r,e]],i[i.length]=[1,"lineTo",[t+r,e+n]],i[i.length]=[1,"lineTo",[t,e+n]],i[i.length]=[1,"closePath",[]],this},e.prototype.arc=function(t,e,r,n,i,o){return void 0===o&&(o=!1),this._command[this._command.length]=[1,"arc",[t,e,r,n,i,o]],this},e.prototype.drawCircle=function(t,e,r,n){return void 0===n&&(n=!1),this._command[this._command.length]=[1,"arc",[t,e,r,0,2*Math.PI,n]],this},e.prototype.drawEllipse=function(t,e,r,n){var i=.5522848,o=r/2*i,a=n/2*i,s=t+r,l=e+n,h=t+r/2,u=e+n/2,c=this._command;return c[c.length]=[1,"moveTo",[t,u]],c[c.length]=[1,"bezierCurveTo",[t,u-a,h-o,e,h,e]],c[c.length]=[1,"bezierCurveTo",[h+o,e,s,u-a,s,u]],c[c.length]=[1,"bezierCurveTo",[s,u+a,h+o,l,h,l]],c[c.length]=[1,"bezierCurveTo",[h-o,l,t,u+a,t,u]],this},e.prototype.clear=function(){var t=this;return t._command=[],t.dirty=!0,t},e.prototype.beginFill=function(t,e){void 0===t&&(t=0),void 0===e&&(e=1),"string"==typeof t&&(t=Dt(t));var r=Rt(Ot(t),e);return this._fill(r),this},e.prototype.beginGradientFill=function(t,e){return this._fill(At(t,e)),this},e.prototype.beginBitmapFill=function(t,e){var r=this;return e&&(r._isBitmapFill=e),r._fill(Pt(t)),r},e.prototype._fill=function(t){var e=this._command;e[e.length]=[0,"fillStyle",t],e[e.length]=[1,"beginPath",[]],this.dirty=!0},e.prototype.beginStroke=function(t,e,r,n,i,o){void 0===e&&(e=1),void 0===r&&(r=g.BUTT),void 0===n&&(n=_.MITER),void 0===i&&(i=0),void 0===o&&(o=1);var a=Rt(Ot(t),o);return this._stroke(a,e,r,n,i),this},e.prototype.beginGradientStroke=function(t,e,r,n,i,o){return void 0===r&&(r=1),void 0===n&&(n=g.BUTT),void 0===i&&(i=_.MITER),void 0===o&&(o=10),this._stroke(At(t,e),r,n,i,o),this},e.prototype.beginBitmapStroke=function(t,e,r,n,i,o){void 0===r&&(r=1),void 0===n&&(n=g.BUTT),void 0===i&&(i=_.MITER),void 0===o&&(o=10);var a=this;return e&&(a._isBitmapStroke=e),a._stroke(Pt(t),r,n,i,o),a},e.prototype._stroke=function(t,e,r,n,i){var o=this._command;o[o.length]=[0,"lineWidth",e],o[o.length]=[0,"lineCap",r],o[o.length]=[0,"lineJoin",n],o[o.length]=[0,"miterLimit",i],o[o.length]=[0,"strokeStyle",t],o[o.length]=[1,"beginPath",[]],this.dirty=!0},e.prototype.endFill=function(){var t=this,e=t._command,r=t._isBitmapFill;return r&&(e[e.length]=[2,"setTransform",r]),e[e.length]=[1,"fill",[]],r&&(t._isBitmapFill=null),t},e.prototype.endStroke=function(){var t=this,e=t._command,r=t._isBitmapStroke;return r&&(e[e.length]=[2,"setTransform",r]),e[e.length]=[1,"stroke",[]],r&&(t._isBitmapStroke=null),t},e.prototype.updateShape=function(){var t=this;if(t.visible&&t.dirty){t.dirty=!1,t._boundsID++;var e,r,n,i,o,a,s=t._command.length,l=0,h=0,u=0;for(o=0;o<s;o++)if(1==(a=t._command[o])[0]){if("moveTo"==a[1]||"lineTo"==a[1]||"arcTo"==a[1]||"bezierCurveTo"==a[1])null==e&&(e=a[2][0]),null==r&&(r=a[2][1]),null==n&&(n=a[2][0]),null==i&&(i=a[2][1]),"bezierCurveTo"==a[1]?(e=Math.min(e,a[2][0],a[2][2],a[2][4]),r=Math.min(r,a[2][1],a[2][3],a[2][5]),n=Math.max(n,a[2][0],a[2][2],a[2][4]),i=Math.max(i,a[2][1],a[2][3],a[2][5]),l=a[2][4],h=a[2][5]):(e=Math.min(e,a[2][0]),r=Math.min(r,a[2][1]),n=Math.max(n,a[2][0]),i=Math.max(i,a[2][1]),l=a[2][0],h=a[2][1]);else if("quadraticCurveTo"==a[1]){var c=.5*(l+a[2][0]),f=.5*(h+a[2][1]),p=.5*(a[2][0]+a[2][2]),d=.5*(a[2][1]+a[2][3]);null==e&&(e=c),null==r&&(r=f),null==n&&(n=c),null==i&&(i=f),e=Math.min(e,c,p,a[2][2]),r=Math.min(r,f,d,a[2][3]),n=Math.max(n,c,p,a[2][2]),i=Math.max(i,f,d,a[2][3]),l=a[2][2],h=a[2][3]}else if("arc"==a[1]){var m=a[2][0],v=a[2][1],y=a[2][2],g=m-y,_=v-y,b=m+y,x=v+y;null==e&&(e=g),null==r&&(r=_),null==n&&(n=b),null==i&&(i=x),e=Math.min(e,g),r=Math.min(r,_),n=Math.max(n,b),i=Math.max(i,x)}}else"lineWidth"==a[1]&&u<a[2]&&(u=a[2]);if(null!=e||u>0){null==e&&(e=0,r=0);var w=(n+=20+u>>1)-(e-=20+u>>1),T=(i+=20+u>>1)-(r-=20+u>>1);t.offsetX=e,t.offsetY=r,t._localBoundsSelf.x=e+10,t._localBoundsSelf.y=r+10,t._localBoundsSelf.width=w-20,t._localBoundsSelf.height=T-20;var S=t.canvas,E=t.context;S.width=w,S.height=T,E.clearRect(0,0,w,T),E.setTransform(1,0,0,1,-e,-r),t._drawShape(E),t.anchorTexture.set(-e/w,-r/T)}else t.canvas.width=0,t.canvas.height=0,t.offsetX=0,t.offsetY=0,t._localBoundsSelf.clear(),t.anchorTexture.set(0,0);t.texture.update(),t._onTextureUpdate()}},e.prototype._drawShape=function(t){for(var e,r=this,n=r._command,i=n.length,o=r.offsetX,a=r.offsetY,s=0;s<i;s++)if((e=n[s])[0]>0){var l=e[2].length;if(0==l)t[e[1]]();else if(2==l)t[e[1]](e[2][0],e[2][1]);else if(4==l)t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3]);else if(5==l)t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3],e[2][4]);else if(6==l){var h=e[2][4],u=e[2][5];2==e[0]&&(h-=o,u-=a),t[e[1]](e[2][0],e[2][1],e[2][2],e[2][3],h,u)}}else t[e[1]]=e[2]},e.prototype.hitTestPoint=function(e,r){void 0===r&&(r=!1);var n=this;this.updateShape();var i=t.prototype.hitTestPoint.call(this,e,r);if(!i)return null;if(i!=n)return i;if(!n.hitTestByPixel)return n;var o=e;r&&(o=n.globalToLocal(e));var a=n._texture;if(!a||0==a.width||0==a.height)return null;o.x-=n.offsetX,o.y-=n.offsetY;var s=Ct();s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,1,1),s.setTransform(1,0,0,1,-o.x,-o.y),s.drawImage(n.canvas,0,0);var l=s.getImageData(0,0,1,1);return l&&l.data?l.data[3]>0?n:null:n},e.prototype.changeColor=function(t){for(var e=this,r=e._command.length,n=e._command,i=0;i<r;i++)0==n[i][0]&&("fillStyle"==n[i][1]&&t.fillColor&&n[i][2]!=t.fillColor&&(n[i][2]=t.fillColor,e.dirty=!0),"strokeStyle"==n[i][1]&&t.strokeColor&&n[i][2]!=t.strokeColor&&(n[i][2]=t.strokeColor,e.dirty=!0),"lineWidth"==n[i][1]&&t.lineWidth&&n[i][2]!=t.lineWidth&&(n[i][2]=t.lineWidth,e.dirty=!0))},e.prototype.calculateBounds=function(){this.updateShape(),t.prototype.calculateBounds.call(this)},e.prototype._renderCanvas=function(e){this.updateShape(),t.prototype._renderCanvas.call(this,e)},e.prototype._renderWebGL=function(e){this.updateShape(),t.prototype._renderWebGL.call(this,e)},e.prototype.destroy=function(){var e=this;e._command=null,e._isBitmapStroke=null,e._isBitmapFill=null,t.prototype.destroy.call(this)},e}(Zt),an=new L,sn=new vr,ln=function(t){function e(e,r,n,i){var o=t.call(this)||this;return o._blendMode=b.NORMAL,o._texture=e||Yt.EMPTY,o._uvs=n||new Float32Array([0,0,1,0,1,1,0,1]),o._vertices=r||new Float32Array([0,0,100,0,100,100,0,100]),o._indices=i||new Uint16Array([0,1,3,2]),o._vertexDirty=0,o._vertexId=-1,o._localBoundsSelfId=-1,o.blendMode=b.NORMAL,o.canvasPadding=0,o._tint=null,o._tintRGB=null,o.tint=16777215,o._uvTransform=new Ke(o._texture),o._needRefresh=!0,o}return P(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){},enumerable:!0,configurable:!0}),e.prototype._renderWebGL=function(t){this.refresh(),this.calculateVertices(),t.batchManager.setObjectRenderer(t.plugins.batch),t.plugins.batch.render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins.mesh.render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this._needRefresh=!0},e.prototype.multiplyUvs=function(){this._uvTransform.multiplyUvs(this._uvs)},e.prototype.refresh=function(t){void 0===t&&(t=!1),this._texture&&this._texture.valid&&(this._uvTransform.update(t)||this._needRefresh||t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype.calculateVertices=function(){if(!(this._vertexId===this._vertexDirty&&this._transformID===this.transform._worldID||(this._vertexId=this._vertexDirty,this._transformID=this.transform._worldID,this._vertices.length<=2))){this._vertexData||(this._vertexData=new Float32Array(this._vertices.length));for(var t=this.transform.worldMatrix,e=t.a,r=t.b,n=t.c,i=t.d,o=t.tx,a=t.ty,s=this._vertexData,l=0;l<s.length/2;l++){var h=this._vertices[2*l],u=this._vertices[2*l+1];s[2*l]=e*h+n*u+o,s[2*l+1]=r*h+i*u+a}}},e.prototype._calculateBounds=function(){this.updateLocalBoundsSelf();var t=this._localBoundsSelf,e=this.transform.worldMatrix;e.transformPoint(t.x,t.y,K._p1),e.transformPoint(t.x+t.width,t.y,K._p2),e.transformPoint(t.x+t.width,t.y+t.height,K._p3),e.transformPoint(t.x,t.y+t.height,K._p4),z.createFromPoints(this._bounds,K._p1,K._p2,K._p3,K._p4)},e.prototype.updateLocalBoundsSelf=function(){this._localBoundsSelfId!=this._vertexDirty&&(this._localBoundsSelfId=this._vertexDirty,this._vertices.length<=2&&this._localBoundsSelf.clear(),z.createFromVertexData(this._localBoundsSelf,this._vertices))},e.prototype.hitTestPoint=function(e,r){return void 0===r&&(r=!1),this.visible?(n=t.prototype.hitTestPoint.call(this,e,r))?n:r&&!this.mouseEnable?null:(this.updateLocalBoundsSelf(),(n=this.displayObjectHitTestPoint(e,r))?this.hitTestPointAccuratly(e,r):null):null;var n},e.prototype.hitTestPointAccuratly=function(t,e){e?this.globalToLocal(t,an):an.set(t.x,t.y);for(var r=this._vertices,n=sn.points,i=this._indices,o=this._indices.length,a=0;a+2<o;a+=3){var s=2*i[a],l=2*i[a+1],h=2*i[a+2];if(n[0]=r[s],n[1]=r[s+1],n[2]=r[l],n[3]=r[l+1],n[4]=r[h],n[5]=r[h+1],sn.isPointIn(an))return this}return null},Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._texture.removeEventListener("update",this._onTextureUpdate,this),this._uvs=null,this._vertices=null,this._indices=null,this._vertexData=null},e}(Z);!function(t){function e(e,r,n){void 0===r&&(r=10),void 0===n&&(n=10);var i=t.call(this,e)||this;return i.verticesX=r||10,i.verticesY=n||10,i.refresh(),i}P(e,t),e.prototype._refresh=function(){for(var t=this.texture,e=this.verticesX*this.verticesY,r=[],n=[],i=this.verticesX-1,o=this.verticesY-1,a=t.width/i,s=t.height/o,l=0;l<e;l++){var h=l%this.verticesX,u=l/this.verticesX|0;r.push(h*a,u*s),n.push(h/i,u/o)}this._vertices=new Float32Array(r),this._uvs=new Float32Array(n),this._indices=hn(this.verticesX,this.verticesY),this._vertexDirty++,this.multiplyUvs()}}(ln);function hn(t,e){for(var r=t-1,n=r*(e-1),i=[],o=0;o<n;o++){var a=o%r,s=o/r|0,l=s*t+a,h=s*t+a+1,u=(s+1)*t+a,c=(s+1)*t+a+1;i.push(l,h,u),i.push(h,c,u)}return new Uint16Array(i)}var un=hn(4,4),cn=(function(t){function e(e,r,n,i,o){void 0===r&&(r=10),void 0===n&&(n=10),void 0===i&&(i=10),void 0===o&&(o=10);var a=t.call(this,e)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=r,a._rightWidth=i,a._topHeight=n,a._bottomHeight=o,a._indices=un,a._vertices=new Float32Array(32),a._uvs=new Float32Array(32),a.refresh(!0),a}P(e,t),e.prototype.updateHorizontalVertices=function(){var t=this._vertices,e=this._topHeight+this._bottomHeight,r=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this._vertices,e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this._worldAlpha,t.setBlendMode(this.blendMode);var r=this.worldMatrix;e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty);var n=this.texture.baseTexture,i=n.source,o=n.width,a=n.height;this.drawSegment(e,i,o,a,0,1,10,11),this.drawSegment(e,i,o,a,2,3,12,13),this.drawSegment(e,i,o,a,4,5,14,15),this.drawSegment(e,i,o,a,8,9,18,19),this.drawSegment(e,i,o,a,10,11,20,21),this.drawSegment(e,i,o,a,12,13,22,23),this.drawSegment(e,i,o,a,16,17,26,27),this.drawSegment(e,i,o,a,18,19,28,29),this.drawSegment(e,i,o,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,n,i,o,a,s){var l=this._uvs,h=this._vertices,u=(l[a]-l[i])*r,c=(l[s]-l[o])*n,f=h[a]-h[i],p=h[s]-h[o];u<1&&(u=1),c<1&&(c=1),f<1&&(f=1),p<1&&(p=1),t.drawImage(e,l[i]*r,l[o]*n,u,c,h[i],h[o],f,p)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._needRefresh=!0},enumerable:!0,configurable:!0}),e.prototype._refresh=function(){var t=this._uvs,e=this.texture;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,n=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=n*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this._vertexDirty++,this.multiplyUvs()}}(ln),function(t){function e(e,r){var n=t.call(this,e)||this;return n.points=r,n._vertices=new Float32Array(4*r.length),n._uvs=new Float32Array(4*r.length),n._indices=new Uint16Array(6*(r.length-1)),n.textureHeight=e.height,n.refresh(!0),n.refreshVertices(),n}P(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this.texture._uvs){this._vertices.length/4!==t.length&&(this._vertices=new Float32Array(4*t.length),this._uvs=new Float32Array(4*t.length),this._indices=new Uint16Array(6*(t.length-1)));var e=this._uvs,r=this._indices;e[0]=0,e[1]=0,e[2]=0,e[3]=1;for(var n=t.length,i=1;i<n;i++){var o=i/(n-1);e[s=4*i]=o,e[s+1]=0,e[s+2]=o,e[s+3]=1}var a=0;for(i=0;i<n-1;i++){var s=2*i;r[a++]=s,r[a++]=s+1,r[a++]=s+2,r[a++]=s+2,r[a++]=s+1,r[a++]=s+3}this.multiplyUvs()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1)){if(this._vertices.length/4!==t.length)return this._refresh(),void this.refreshVertices();for(var e,r=t[0],n=0,i=0,o=this._vertices,a=t.length,s=0;s<a;s++){var l=t[s],h=4*s;i=-((e=s<t.length-1?t[s+1]:l).x-r.x),n=e.y-r.y;var u=Math.sqrt(n*n+i*i),c=this.textureHeight/2;n/=u,i/=u,n*=c,i*=c,o[h]=l.x+n,o[h+1]=l.y+i,o[h+2]=l.x-n,o[h+3]=l.y-i,r=l}this._vertexDirty++}},e.prototype.update=function(){t.prototype.update.call(this),(this.autoUpdateVertices||this.textureHeight!==this.texture.height)&&(this.textureHeight=this.texture.height,this.refreshVertices())}}(ln),function(t){function e(){var e=t.call(this)||this;e._textAlpha=1,e._textAlign=d.LEFT,e._verticalAlign=m.UP,e._textWidth=0,e._textHeight=0,e._lineSpacing=14,e._lineType=v.SINGLE,e._text="",e._font="Arial",e._size=12,e._fillColor="#ffffff",e._strokeColor="#ffffff",e._stroke=0,e._italic=!1,e._bold=!1,e._border=!1,e.realLines=[],e._instanceType="TextField";var r=et();return r.width=r.height=3,e.texture=Yt.fromCanvas(r,"textCanvas"),e.canvas=r,e.context=r.getContext("2d"),Yt.addToCache(e.texture,e.texture.baseTexture.textureCacheIds[0]),e.dirty=!0,e}return P(e,t),Object.defineProperty(e.prototype,"textAlpha",{get:function(){return this._textAlpha},set:function(t){this._textAlpha!=t&&(this._textAlpha=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign!=t&&(this._textAlign=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this._textWidth?this._textWidth:(this.updateText(),this.width-20)},set:function(t){this._textWidth!=t&&(this._textWidth=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this._textHeight?this._textHeight:(this.updateText(),this.height-20)},set:function(t){this._textHeight!=t&&(this._textHeight=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(t){this._lineSpacing!=t&&(this._lineSpacing=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineType",{get:function(){return this._lineType},set:function(t){this._lineType!=t&&(this._lineType=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text!=t&&(this._text=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this._font},set:function(t){this._font!=t&&(this._font=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size!=t&&(this._size=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillColor",{get:function(){return this._fillColor},set:function(t){this._fillColor!=t&&(this._fillColor=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._strokeColor!=t&&(this._strokeColor=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke!=t&&(this._stroke=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"italic",{get:function(){return this._italic},set:function(t){this._italic!=t&&(this._italic=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bold",{get:function(){return this._bold},set:function(t){this._bold!=t&&(this._bold=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"border",{get:function(){return this._border},set:function(t){this._border!=t&&(this._border=t,this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype._prepContext=function(t){var e=this,r=e.size||12;r+="px ",r+=e.font,e._bold&&(r="bold "+r),e._italic&&(r="italic "+r),t.font=r,t.textAlign=e._textAlign||d.LEFT,t.textBaseline="top",t.fillStyle=Rt(e._fillColor,e._textAlpha)},e.prototype.getTextWidth=function(t){void 0===t&&(t=0);var e=this;return e.updateText(),e.context.measureText(e.realLines[t]).width},Object.defineProperty(e.prototype,"lines",{get:function(){return this.realLines.length},enumerable:!0,configurable:!0}),e.prototype._getMeasuredWidth=function(t){if("web"==tt())return this.context.measureText(t).width;for(var e=new RegExp("[一-龥]+"),r=/[\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3008|\u3009|\u3010|\u3011|\u300e|\u300f|\u300c|\u300d|\ufe43|\ufe44|\u3014|\u3015|\u2026|\u2014|\uff5e|\ufe4f|\uffe5]/,n=this.size,i=0,o=0;o<t.length;o++){var a=t[o];e.test(a)||r.test(a)?i+=n:i+=4*n/7}return i},e.prototype.updateText=function(){var t=this;if(t.dirty){if(t.dirty=!1,t._boundsID++,!t._text)return t.canvas.width=0,t.canvas.height=0,t._localBoundsSelf.clear(),t.anchorTexture={x:0,y:0},void t.texture.update();t._text+="";var e=t.canvas,r=t.context,n=t._text.toString().split(/(?:\r\n|\r|\n)/),i=[];t.realLines=i,t._prepContext(r);var o=t._textWidth;if(t._text.indexOf("\n")<0&&t._text.indexOf("\r")<0&&t._text.indexOf("\r\n")<0&&t.lineType==v.SINGLE){i[i.length]=n[0];var a=n[0],s=t._getMeasuredWidth(a);if(s>(o=o||s))for(var l=t._getMeasuredWidth(a[0]),h=a[0],u=0,c=a.length,f=1;f<c;f++){if((l+=u=t._getMeasuredWidth(a[f]))>o){i[0]=h;break}h+=a[f]}}else{if(!o)for(var p=0,y=n.length;p<y;p++){(a=n[p])&&(o=Math.max(t._getMeasuredWidth(a),o))}for(p=0,y=n.length;p<y;p++){if(a=n[p]){for(l=t._getMeasuredWidth(a[0]),h=a[0],u=0,c=a.length,f=1;f<c;f++)(l+=u=t._getMeasuredWidth(a[f]))>o?(i[i.length]=h,h=a[f],l=u):h+=a[f];i[i.length]=h}}}var g=t.size*i.length+t._lineSpacing*(i.length-1),_=t._textHeight||g,b=o,x=0;t._textAlign==d.CENTER?x=.5*b:t._textAlign==d.RIGHT&&(x=b);var w=b+20,T=_+20;e.width=w,e.height=T,r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height),t.border&&(r.beginPath(),r.strokeStyle="#000",r.lineWidth=1,r.strokeRect(10.5,10.5,b,_),r.closePath()),r.setTransform(1,0,0,1,x+10,10),t._prepContext(r);var S=t._lineSpacing+t.size,E=0;t._textHeight&&(t._verticalAlign==m.MIDDLE?E=.5*(t._textHeight-g):t._verticalAlign==m.DOWN&&(E=t._textHeight-g)),"tb"==tt()&&(E-=4);for(p=0;p<i.length;p++){t.stroke&&(r.strokeStyle=t.strokeColor,r.lineWidth=2*t.stroke,r.strokeText(i[p],0,E+p*S)),r.fillText(i[p],0,E+p*S)}t.offsetX=-10,t.offsetY=-10,this.anchorTexture={x:10.5/w,y:10/T},t.texture.update(),t._onTextureUpdate()}},e.prototype.calculateBounds=function(){this.updateText(),t.prototype.calculateBounds.call(this)},e.prototype._renderCanvas=function(e){this.updateText(),t.prototype._renderCanvas.call(this,e)},e.prototype._renderWebGL=function(e){this.updateText(),t.prototype._renderWebGL.call(this,e)},e.prototype.destroy=function(){this.canvas=null,this.context=null,t.prototype.destroy.call(this)},e}(Zt)),fn=(function(t){function e(){var e=t.call(this)||this;e._prompt="",e._promptColor="#eeeeee",e._textColor="#000000",e._instanceType="EditableText";var r=e,n=function(){r.htmlElement&&r.htmlElement.blur(),r.htmlElement.style.display="none",r.htmlElement.value?(r.text=r.htmlElement.value,r.fillColor=r.textColor):(r.text=r.prompt,r.fillColor=r.promptColor),window.scrollTo(0,0)};return e.addEventListener(Jt.CLICK,(function(t){r.initElement(),r.htmlElement.style.font=r.size+"px "+this.font,r.htmlElement.style.color=r.textColor,r.htmlElement.style.textAlign=r.textAlign,r.htmlElement.style.height=r.textHeight+"px",r.htmlElement.style.width=r.textWidth+"px",r.text!==r.prompt&&(r.htmlElement.value=r.text),r.text="",r.htmlElement.style.display="block",r.htmlElement.focus();var e=r.transform.worldMatrix,i=r.stage._dpi||r.stage.dpi;r.htmlElement.style.transform=r.htmlElement.style.webkitTransform="matrix("+(e.a/i).toFixed(4)+","+(e.b/i).toFixed(4)+","+(e.c/i).toFixed(4)+","+(e.d/i).toFixed(4)+","+(e.tx/i).toFixed(4)+","+(e.ty/i).toFixed(4)+")",r.stage.once(Jt.MOUSE_UP,n)})),e}P(e,t),Object.defineProperty(e.prototype,"prompt",{get:function(){return this._prompt},set:function(t){this._prompt!=t&&(this._prompt=t,this.dirty=!0,this.htmlElement&&this.htmlElement.value||(this.text=this._prompt))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"promptColor",{get:function(){return this._promptColor},set:function(t){this._promptColor!=t&&(this._promptColor=t,this.dirty=!0,this.htmlElement&&this.htmlElement.value||(this.fillColor=this._promptColor))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._textColor},set:function(t){this._textColor!=t&&(this._textColor=t,this.dirty=!0,this.htmlElement&&this.htmlElement.value&&(this.fillColor=this._textColor))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputValue",{get:function(){return this.htmlElement&&this.htmlElement.value||(this.text!=this._prompt?this.text:"")},set:function(t){this.htmlElement&&(this.htmlElement.value=t),this.text=t,this.fillColor=this.textColor},enumerable:!0,configurable:!0}),e.prototype.initElement=function(){var t=this;if(!t.htmlElement){t.htmlElement=document.createElement("input");var e=t.htmlElement,r=e.style;e.type="input",r.position="absolute",r.display="none",r.transformOrigin=r.WebkitTransformOrigin=r.webkitTransformOrigin="0 0 0",r.outline="none",r.borderWidth="thin",r.borderColor="#000",e.placeholder="",r.borderStyle="none",r.backgroundColor="transparent";var n=t.stage.canvas.parentNode;n?n.insertBefore(e,n.childNodes[0]):document.body.appendChild(e),e.onblur=function(){"ios"==i&&window.scrollTo({top:0,left:0,behavior:"smooth"})}}}}(cn),function(t){function e(r){void 0===r&&(r=0);var n=t.call(this)||this;n.inputType=0,n.isAutoDownKeyBoard=!0;var o=null,a=n;a._instanceType="InputText",r<2?(o=document.createElement("input")).type=e._inputTypeList[r]:((o=document.createElement("textarea")).style.resize="none",o.style.overflow="hidden"),a.inputType=r;var s=function(){a.isAutoDownKeyBoard&&"pc"!=i&&(a.htmlElement&&a.htmlElement.blur(),window.scrollTo(0,0))}.bind(a);return a.addEventListener(I.REMOVED_FROM_STAGE,(function(t){a.stage.removeEventListener(Jt.MOUSE_UP,s)})),a.addEventListener(I.ADDED_TO_STAGE,(function(t){a.stage.addEventListener(Jt.MOUSE_UP,s)})),a.init(o),n}P(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e);var r=this;r.htmlElement.style.outline="none",r.htmlElement.style.borderWidth="thin",r.htmlElement.style.borderColor="#000"},e.prototype.initInfo=function(t,e,r,n,i,o,a,s,l){void 0===l&&(l=!1);var h=this;h.htmlElement.placeholder=t,h.htmlElement.style.font=n+"px "+(i||"微软雅黑"),h.htmlElement.style.color=e,h.htmlElement.style.textAlign=r,h.border=l,h.textWidth=o,h.textHeight=a,2==h.inputType&&(h.htmlElement.style.lineHeight=s+"px")},Object.defineProperty(e.prototype,"lineSpacing",{get:function(){return parseInt(this.htmlElement.style.lineHeight)},set:function(t){this.htmlElement.style.lineHeight=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bold",{get:function(){return"bold"==this.htmlElement.style.fontWeight},set:function(t){var e=this.htmlElement.style;e.fontWeight=t?"bold":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"italic",{get:function(){return"italic"==this.htmlElement.style.fontStyle},set:function(t){var e=this.htmlElement.style;e.fontStyle=t?"italic":"normal"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return parseInt(this.htmlElement.style.height)},set:function(t){this.htmlElement.style.height=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return parseInt(this.htmlElement.style.width)},set:function(t){this.htmlElement.style.width=t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.htmlElement.style.color},set:function(t){this.htmlElement.style.color=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"border",{get:function(){return"none"!=this.htmlElement.style.borderStyle},set:function(t){var e=this;t?(e.htmlElement.style.borderStyle="inset",e.htmlElement.style.backgroundColor="#fff"):(e.htmlElement.style.borderStyle="none",e.htmlElement.style.backgroundColor="transparent")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){if(this.htmlElement)return this.htmlElement.value},set:function(t){this.htmlElement&&(this.htmlElement.value=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxCharacters",{get:function(){var t=this.htmlElement.getAttribute("maxlength");return null===t?0:t},set:function(t){this.htmlElement.setAttribute("maxlength",t)},enumerable:!0,configurable:!0}),e.prototype.convertToTextField=function(t){return this.htmlElement&&this.text?((t=t||new cn).fillColor=this.color,t.text=this.text,t.size=parseInt(this.htmlElement.style.font.split("px")[0]),t.textAlign=this.htmlElement.style.textAlign,t.bold=this.bold,t.italic=this.italic,t.textWidth=this.textWidth,t.lineType=2==this.inputType?v.MULTI:v.SINGLE,t.position.copy(this.position),t.scale.copy(this.scale),t.rotation=this.rotation,t):null},e._inputTypeList=["input","password","textarea"]}(J),[]),pn=(function(t){function e(e){var r=t.call(this)||this;return r._textAlign=d.CENTER,r._verticalAlign=m.MIDDLE,r._gap=0,r.textures=e,r}P(e,t),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign!==t&&(this._textAlign=t,this.adaptate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!==t&&(this._verticalAlign=t,this.adaptate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap!=t&&(this._gap=t,this.adaptate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){if(t!==this._text){this._text=t;for(var e=t||[],r=0;r<e.length;r++)if(this.children[r])this.children[r].text=e[r];else{var n=fn.shift();n?n.reset(this.textures):n=new pn(this.textures),n.text=e[r],this.addChild(n)}if(this.children.length>e.length)for(r=this.children.length-1;r>=e.length;r--){var i=this.children[r];this.removeChild(i),fn.push(i)}this.adaptate()}},enumerable:!0,configurable:!0}),e.prototype.adaptate=function(){if(this.children.length){for(var t,e=this.children.length,r=0,n=0;n<e;n++)r+=this.children[n].width;r+=(e-1)*this._gap,t=this._textAlign==d.LEFT?0:this._textAlign==d.RIGHT?-r:-r/2;for(var i=0,o=0;o<this.children.length;o++)this.children[o].x=t+i,i+=this.children[o].width+this._gap;var a=0;this._verticalAlign==m.DOWN?a=-1:this._verticalAlign==m.MIDDLE&&(a=-.5),this.children.forEach((function(t){t.y=t.height*a}))}}}(Z),function(t){function e(e){var r=t.call(this)||this;return r.textures=e,r}return P(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t,this.texture=this.textures[this._text]},enumerable:!0,configurable:!0}),e.prototype.reset=function(t){this.textures=t},e}(Zt)),dn=function(){function t(t,e,r){this._target=null,this._useTicks=!1,this.ignoreGlobalPause=!1,this.loop=!1,this.pluginData=null,this._steps=null,this.paused=!1,this.duration=0,this._prevPos=-1,this.position=null,this._prevPosition=0,this._stepPosition=0,this.passive=!1,this.initialize(t,e,r)}return t.get=function(e,r,n,i){return void 0===n&&(n=null),void 0===i&&(i=!1),i&&t.removeTweens(e),new t(e,r,n)},t.removeTweens=function(e){if(e.tween_count){for(var r=t._tweens,n=r.length-1;n>=0;n--)r[n]._target==e&&(r[n].paused=!0,r.splice(n,1));e.tween_count=0}},t.removeTweenSelf=function(e){if(e&&e._target&&e._target.tween_count){e.paused=!0;var r=t._tweens,n=r.indexOf(e);n>-1&&r.splice(n,1),e._target.tween_count--}},t.pauseTweens=function(e){if(e.tween_count)for(var r=t._tweens,n=r.length-1;n>=0;n--)r[n]._target==e&&(r[n].paused=!0)},t.resumeTweens=function(e){if(e.tween_count)for(var r=t._tweens,n=r.length-1;n>=0;n--)r[n]._target==e&&(r[n].paused=!1)},t.tick=function(e,r){void 0===r&&(r=!1);var n=e-t._lastTime;t._lastTime=e;for(var i=t._tweens.concat(),o=i.length-1;o>=0;o--){var a=i[o];r&&!a.ignoreGlobalPause||a.paused||a.$tick(a._useTicks?1:n)}return!1},t.flush=function(){var e=Date.now(),r=t._lastTime?e-t._lastTime:16.67;t._lastTime=e;for(var n=t._tweens.concat(),i=n.length-1;i>=0;i--){var o=n[i];o.paused||o.$tick(o._useTicks?1:r)}},t._register=function(e,r){var n=e._target,i=t._tweens;if(r)n&&(n.tween_count=n.tween_count>0?n.tween_count+1:1),i.push(e),t._inited||(t._inited=!0);else{n&&n.tween_count--;for(var o=i.length;o--;)if(i[o]==e)return void i.splice(o,1)}},t.removeAllTweens=function(){for(var e=t._tweens,r=0,n=e.length;r<n;r++){var i=e[r];i.paused=!0,i._target.tween_count=0}e.length=0},t.prototype.initialize=function(e,r,n){this._target=e,r&&(this._useTicks=r.useTicks,this.ignoreGlobalPause=r.ignoreGlobalPause,this.loop=r.loop,r.onChange?this.onChange=r.onChange.bind(r.onChangeObj):this.onChange=null,r.override&&t.removeTweens(e)),this.pluginData=n||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],r&&r.paused?this.paused=!0:t._register(this,!0),r&&null!=r.position&&this.setPosition(r.position,t.NONE)},t.prototype.setPosition=function(t,e){void 0===e&&(e=1),t<0&&(t=0);var r=t,n=!1;if(r>=this.duration)if(this.loop){var i=r%this.duration;r=r>0&&0===i?this.duration:i}else r=this.duration,n=!0;if(r==this._prevPos)return n;n&&this.setPaused(!0);var o=this._prevPos;if(this.position=this._prevPos=r,this._prevPosition=t,this._target&&this._steps.length>0){for(var a=this._steps.length,s=-1,l=0;l<a&&!("step"==this._steps[l].type&&(s=l,this._steps[l].t<=r&&this._steps[l].t+this._steps[l].d>=r));l++);for(l=0;l<a;l++)if("action"==this._steps[l].type)0!=e&&(this._useTicks?this._runAction(this._steps[l],r,r):1==e&&r<o?(o!=this.duration&&this._runAction(this._steps[l],o,this.duration),this._runAction(this._steps[l],0,r,!0)):this._runAction(this._steps[l],o,r));else if("step"==this._steps[l].type&&s==l){var h=this._steps[s];this._updateTargetProps(h,Math.min((this._stepPosition=r-h.t)/h.d,1))}}return this.onChange&&this.onChange(),n},t.prototype._runAction=function(t,e,r,n){void 0===n&&(n=!1);var i=e,o=r;e>r&&(i=r,o=e);var a=t.t;(a==o||a>i&&a<o||n&&a==e)&&t.f.apply(t.o,t.p)},t.prototype._updateTargetProps=function(e,r){var n,i,o,a,s,l;if(e||1!=r){if(this.passive=!!e.v,this.passive)return;e.e&&(r=e.e(r,0,1,1)),n=e.p0,i=e.p1}else this.passive=!1,n=i=this._curQueueProps;for(var h in this._initQueueProps){null==(a=n[h])&&(n[h]=a=this._initQueueProps[h]),null==(s=i[h])&&(i[h]=s=a),o=a==s||0==r||1==r||"number"!=typeof a?1==r?s:a:a+(s-a)*r;var u=!1;if(l=t._plugins[h])for(var c=0,f=l.length;c<f;c++){var p=l[c].tween(this,h,o,n,i,r,!!e&&n==i,!e);p==t.IGNORE?u=!0:o=p}u||(this._target[h]=o)}},t.prototype.setPaused=function(e){return this.paused==e||(this.paused=e,t._register(this,!e)),this},t.prototype._cloneProps=function(t){var e={};for(var r in t)e[r]=t[r];return e},t.prototype._addStep=function(t){return t.d>0&&(t.type="step",this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},t.prototype._appendQueueProps=function(e){var r,n,i,o,a;for(var s in e)if(void 0===this._initQueueProps[s]){if(n=this._target[s],r=t._plugins[s])for(i=0,o=r.length;i<o;i++)n=r[i].init(this,s,n);this._initQueueProps[s]=this._curQueueProps[s]=void 0===n?null:n}else n=this._curQueueProps[s];for(var s in e){if(n=this._curQueueProps[s],r=t._plugins[s])for(a=a||{},i=0,o=r.length;i<o;i++)r[i].step&&r[i].step(this,s,n,e[s],a);this._curQueueProps[s]=e[s]}return a&&this._appendQueueProps(a),this._curQueueProps},t.prototype._addAction=function(t){return t.t=this.duration,t.type="action",this._steps.push(t),this},t.prototype._set=function(t,e){for(var r in t)e[r]=t[r]},t.prototype.wait=function(t,e){if(null==t||t<=0)return this;var r=this._cloneProps(this._curQueueProps);return this._addStep({d:t,p0:r,p1:r,v:e})},t.prototype.to=function(t,e,r){return void 0===r&&(r=void 0),(isNaN(e)||e<0)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:r,p1:this._cloneProps(this._appendQueueProps(t))}),this.set(t)},t.prototype.by=function(t,e,r){for(var n in void 0===e&&(e=0),void 0===r&&(r=void 0),t)t[n]+=this._curQueueProps[n]||this._target[n];return this.to(t,e,r)},t.prototype.call=function(t,e,r){return void 0===e&&(e=void 0),void 0===r&&(r=void 0),this._addAction({f:t,p:r||[],o:e||this._target})},t.prototype.set=function(t,e){return void 0===e&&(e=null),this._appendQueueProps(t),this._addAction({f:this._set,o:this,p:[t,e||this._target]})},t.prototype.play=function(t){return t||(t=this),this.call(t.setPaused,t,[!1])},t.prototype.pause=function(t){return t||(t=this),this.call(t.setPaused,t,[!0])},t.prototype.$tick=function(t){this.paused||this.setPosition(this._prevPosition+t)},t.NONE=0,t.LOOP=1,t.REVERSE=2,t._tweens=[],t.IGNORE={},t._plugins={},t._inited=!1,t._lastTime=0,t}();(function(t){function e(e,r,n){var i=t.call(this,e)||this;return i._clicked=!1,i._instanceType="Button",i.textureUp=e,i.textureDown=r===e?null:r,i.textureDisable=n||e,i.textureUp&&(i.anchorX=i.textureUp.width/2,i.anchorY=i.textureUp.height/2),i.initButton(),i}P(e,t),e.prototype.changeTexture=function(t,e,r){this.textureUp=t,this.textureDown=e===t?null:e,this.textureDisable=r||t,this.textureUp&&(this.anchorX=this.textureUp.width/2,this.anchorY=this.textureUp.height/2),this._clicked&&this.textureDown?this.texture=this.textureDown:this.mouseEnable||this.textureStatusEnable?this.texture=this.textureUp:this.texture=this.textureDisable},e.prototype._mouseEvent=function(t){var e=this;e._clicked||(t.type==Jt.MOUSE_DOWN?e.textureDown?e.texture=e.textureDown:(this.frames=null,dn.removeTweens(this),dn.get(this).to({scaleX:.9,scaleY:.9},50)):e.textureDown?e.texture=e.textureUp:(this.frames=this.framesOri,dn.removeTweens(this),dn.get(this).to({scaleX:1,scaleY:1},50)))},e.prototype.initButton=function(){var t=this;t.mouseChildren=!1,t.addEventListener("onMouseDown",t._mouseEvent,t),t.addEventListener("onMouseUp",t._mouseEvent,t),t.addEventListener("onMouseOut",t._mouseEvent,t),t.texture=t.textureUp},Object.defineProperty(e.prototype,"clicked",{get:function(){return this._clicked},set:function(t){var e=this;t!=e._clicked&&(t&&e._mouseEvent({type:"onMouseDown"}),e._clicked=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textureStatusEnable",{set:function(t){t?this.texture=this.textureUp:this.textureDisable&&(this.texture=this.textureDisable,this.frames=null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{set:function(t){this.mouseEnable=t,this.textureStatusEnable=t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.textureUp=null,this.textureDown=null,this.textureDisable=null,dn.removeTweens(this),t.prototype.destroy.call(this)}})(Zt),function(t){function e(e){var r=t.call(this)||this;return r.loop=1,r.count=0,r.showImage=new Zt,r.showImage.anchorTexture.set(.5,.5),r.addChild(r.showImage),r.texturesAll=e,r.currentFrame=0,r.addEventListener(I.ENTER_FRAME,r.onEnterFrame,r),r.frameRate=30,r}P(e,t),Object.defineProperty(e.prototype,"currentFrame",{set:function(t){this.texturesAll[t]?this.showImage.texture=this.texturesAll[t]:this.showImage.texture=null},enumerable:!0,configurable:!0}),e.prototype.getCurrentFrame=function(){return this.texturesAll.indexOf(this.showImage.texture)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this.texturesAll.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameRate",{get:function(){return this._frameRate},set:function(t){this._frameRate=t,this.allTime=this.texturesAll.length/this._frameRate*1e3},enumerable:!0,configurable:!0}),e.prototype.onEnterFrame=function(){if(this.isPlay){var t=(Date.now()-this.startTime)/this.allTime;t>=1?(this.loop--,0==this.loop?(this.isPlay=!1,this.callback&&this.callback()):(this.startTime=Date.now(),this.currentFrame=0)):this.currentFrame=t*this.texturesAll.length>>0}},e.prototype.play=function(t,e){void 0===t&&(t=1),this.startTime=Date.now(),this.isPlay=!0,this.currentFrame=0,this.loop=t,this.callback=e},e.prototype.reset=function(t){void 0===t&&(t=0),this.isPlay=!1,this.currentFrame=t},e.prototype.resetTexturesAll=function(t){this.texturesAll=t,this.currentFrame=0,this.frameRate=30}}(Z),function(){function t(){}t.get=function(t){return t<-1&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:t<0?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return e<.5?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){var r=2*Math.PI;return function(n){if(0==n||1==n)return n;var i=e/r*Math.asin(1/t);return-t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*r/e)}},t.getElasticOut=function(t,e){var r=2*Math.PI;return function(n){if(0==n||1==n)return n;var i=e/r*Math.asin(1/t);return t*Math.pow(2,-10*n)*Math.sin((n-i)*r/e)+1}},t.getElasticInOut=function(t,e){var r=2*Math.PI;return function(n){var i=e/r*Math.asin(1/t);return(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*r/e)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-i)*r/e)*.5+1}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.backIn=t.getBackIn(1.7),t.backOut=t.getBackOut(1.7),t.backInOut=t.getBackInOut(1.7),t.elasticIn=t.getElasticIn(1,.3),t.elasticOut=t.getElasticOut(1,.3),t.elasticInOut=t.getElasticInOut(1,.3*1.5)}(),function(t){function e(e,r,n,i,o,a,s){void 0===a&&(a=!0),void 0===s&&(s=1);var l=t.call(this,i,o,0,a)||this;l._items=null,l._isInit=0,l.data=[],l.downL=null,l._lastFirstId=-1,l._updateId=-1;var h=l;return h._instanceType="ScrollList",h._itemW=r,h._itemH=n,h._items=[],h._itemClass=e,h._itemCount=0,h._cols=s,h._updateViewRect(),h.addEventListener(I.ENTER_FRAME,h.flushData.bind(h)),l}P(e,t),Object.defineProperty(e.prototype,"loadingView",{get:function(){return this.downL},enumerable:!0,configurable:!0}),e.prototype.updateData=function(t,e){void 0===e&&(e=!0);var r=this;if(!r._isInit||e?r.data=t:r.data=r.data.concat(t),r._isInit=1,r._lastFirstId=-1,r._updateId=-1,r.maxDistance=Math.ceil(r.data.length/r._cols)*r._itemRow,r.downL){r.downL[r.paramXY]=Math.max(r.distance,r.maxDistance);var n=r.downL.getWH();r.maxDistance+="x"==r.paramXY?n.width:n.height}},e.prototype.flushData=function(){var t=this;if(t._isInit>0&&t._updateId!=t.view.transform._localID){t._updateId=t.view.transform._localID;var e=t.view[t.paramXY]>0?0:(Math.abs(Math.floor(t.view[t.paramXY]/t._itemRow))-1)*t._cols;if((e=e<0?0:e)!=t._lastFirstId&&(t._lastFirstId=e,e!=t._items[0].id))for(var r=0;r<t._cols;r++)t.speed>0?t._items.unshift(t._items.pop()):t._items.push(t._items.shift());for(var n=0;n<t._itemCount;n++){var i=t._items[n];1==t._isInit&&(i.sli_id=-1),i.sli_id!=e&&(i.initData(t.data[e]?e:-1,t.data[e]),i[t.paramXY]=Math.floor(e/t._cols)*t._itemRow,i[t._disParam]=e%t._cols*t._itemCol,t.data[e]?(i.sli_id=e,i.visible=!0):(i.sli_id=-1,i.visible=!1)),e++}t._isInit=2}},e.prototype.setViewRect=function(e,r,n){t.prototype.setViewRect.call(this,e,r,n);var i=this;i._itemRow&&i._itemCol&&i._updateViewRect()},e.prototype._updateViewRect=function(){var t=this;t.isVertical?(t._disParam="x",t._itemRow=t._itemH,t._itemCol=t._itemW):(t._disParam="y",t._itemRow=t._itemW,t._itemCol=t._itemH);var e=(Math.ceil(t.distance/t._itemRow)+1)*t._cols;if(e!=t._itemCount){if(e>t._itemCount)for(var r=t._itemCount;r<e;r++){var n=new t._itemClass;n.id=-1,n.data=null,t._items.push(n),t.view.addChild(n)}else for(r=0;r<t._itemCount-e;r++)t.view.removeChild(t._items.pop());t._itemCount=e,t._lastFirstId=-1}},e.prototype.setLoading=function(t){var e=this;if(e.downL){e.view.removeChild(e.downL);var r=e.downL.getWH();e.maxDistance-="x"==e.paramXY?r.width:r.height,e.downL=null}if(t){e.downL=t,e.view.addChild(t),e.downL[e.paramXY]=Math.max(e.distance,e.maxDistance);r=e.downL.getWH();e.maxDistance+="x"==e.paramXY?r.width:r.height}else e.isStop=!1},e.prototype.destroy=function(){var e=this;e._items=null,e._itemClass=null,e.data=null,e.downL=null,t.prototype.destroy.call(this)}}(function(t){function e(e,r,n,i,o){void 0===i&&(i=!0),void 0===o&&(o=!1);var a=t.call(this)||this;a.isVertical=!0,a.viewWidth=0,a.viewHeight=0,a._tweenId=0,a.maxDistance=1040,a.distance=0,a.minDis=2,a.maskObj=new rn,a.view=new Z,a.lastValue=0,a.speed=0,a.addSpeed=0,a.isStop=!0,a.maxSpeed=100,a.fSpeed=20,a.paramXY="y",a.stopTimes=-1,a.isMouseDownState=0,a.autoScroll=!1,a.isSpringBack=!0;var s=a;return s._instanceType="ScrollPage",s.addChild(s.maskObj),s.addChild(s.view),o||(s.view.mask=s.maskObj,s.maskObj.isUsedToMask=!1),s.maskObj.alpha=0,s.maxDistance=n,s.setViewRect(e,r,i),s.addEventListener(I.ADDED_TO_STAGE,(function(t){s.stage.addEventListener(Jt.MOUSE_MOVE,s.onMouseEvent,s),s.stage.addEventListener(Jt.MOUSE_UP,s.onMouseEvent,s)})),s.addEventListener(I.REMOVED_FROM_STAGE,(function(t){s.stage.removeEventListener(Jt.MOUSE_MOVE,s.onMouseEvent,s),s.stage.removeEventListener(Jt.MOUSE_UP,s.onMouseEvent,s)})),s.addEventListener(Jt.MOUSE_DOWN,s.onMouseEvent,s,!1),s.addEventListener(I.ENTER_FRAME,(function(){var t=s.view;if(!s.autoScroll){if(!s.isSpringBack){if(t[s.paramXY]>0)return s.addSpeed=0,s.speed=0,s.isStop=!0,void(t[s.paramXY]=0);if(t[s.paramXY]<s.distance-s.maxDistance)return s.addSpeed=0,s.speed=0,s.isStop=!0,t[s.paramXY]=s.distance-s.maxDistance,void(s.distance>s.maxDistance&&(t[s.paramXY]=0))}if(s.isStop)s.stopTimes>=0&&(s.stopTimes++,s.stopTimes>=15&&(s.speed=0,(t[s.paramXY]>0||t[s.paramXY]<s.distance-s.maxDistance)&&(s.isStop=!1,s.stopTimes=-1,s.isMouseDownState=0)));else if(Math.abs(s.speed)>0)t[s.paramXY]+=s.speed,t[s.paramXY]>0||t[s.paramXY]<s.distance-s.maxDistance?s.speed+=s.addSpeed*s.fSpeed:s.speed+=s.addSpeed,s.speed*s.addSpeed>0&&(s.dispatchEvent(I.SCROLL_STOP),s.speed=0);else if(0!=s.addSpeed){if(t[s.paramXY]>0||t[s.paramXY]<s.distance-s.maxDistance){var e=0;t[s.paramXY]<s.distance-s.maxDistance&&s.distance<s.maxDistance&&(e=s.distance-s.maxDistance),t[s.paramXY]+=.4*(e-t[s.paramXY]),Math.abs(e-t[s.paramXY])<.1&&(s.isStop=!0,s.addSpeed>0?s.dispatchEvent(I.SCROLL_TO_END):s.dispatchEvent(I.SCROLL_TO_HEAD))}}else s.isStop=!0}})),a}return P(e,t),e.prototype.setViewRect=function(t,e,r){var n=this;n.maskObj.clear(),n.maskObj.beginFill("#000000"),n.maskObj.drawRect(0,0,t,e),n.viewWidth=t,n.viewHeight=e,n.maskObj.endFill(),n.isVertical=r,r?(n.distance=n.viewHeight,n.paramXY="y"):(n.distance=n.viewWidth,n.paramXY="x"),n.isVertical=r},e.prototype.onMouseEvent=function(t){var e=this,r=e.view;if(t.type==Jt.MOUSE_DOWN)t.stopPropagation(),e.isStop||(e.isStop=!0),e.autoScroll&&(e.autoScroll=!1,dn.removeTweens(e.view)),e.isVertical?e.lastValue=t.stageY:e.lastValue=t.stageX,e.speed=0,e.isMouseDownState=1;else if(t.type==Jt.MOUSE_MOVE){if(0==e.isMouseDownState)return;1==e.isMouseDownState&&e.dispatchEvent(I.SCROLL_START),e.isMouseDownState=2;var n=void 0;if(n=e.isVertical?t.stageY:t.stageX,e.speed=n-e.lastValue,e.speed>e.minDis?(e.addSpeed=-2,e.speed>e.maxSpeed&&(e.speed=e.maxSpeed)):e.speed<-e.minDis?(e.speed<-e.maxSpeed&&(e.speed=-e.maxSpeed),e.addSpeed=2):e.speed=0,0!=e.speed){var i=1;(r[e.paramXY]>0||r[e.paramXY]<e.distance-e.maxDistance)&&(i=.2),r[e.paramXY]+=(n-e.lastValue)*i}e.lastValue=n,e.stopTimes=0}else e.isStop=!1,e.stopTimes=-1,0==e.speed&&2==e.isMouseDownState&&e.dispatchEvent(I.SCROLL_STOP),e.isMouseDownState=0},e.prototype.scrollTo=function(t,e){var r;void 0===e&&(e=0);var n=this,i="x"==n.paramXY?n.viewWidth:n.viewHeight;t<0?t=0:t>n.maxDistance-i&&(t=n.maxDistance-i),Math.abs(n.view[n.paramXY]+t)>2&&(n.autoScroll=!0,n.isStop=!0,n.isMouseDownState=0,dn.get(n.view).to((r={},r[n.paramXY]=-t,r),e).call((function(){n.view[n.paramXY]=-t,n.autoScroll=!1})),0==n.speed&&n.dispatchEvent(I.SCROLL_START))},e.prototype.destroy=function(){dn.removeTweens(this.view);var e=this;e.maskObj.destroy(),e.view.destroy(),e.maskObj=null,e.view=null,t.prototype.destroy.call(this)},e}(Z)),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}P(e,t),e.prototype.playWords=function(t,e,r){var n=this;void 0===e&&(e=100);for(var i=t.split("\n"),o=[],a=0;a<i.length;a++){for(var s=i[a],l="",h=0;h<a;)l+=i[h],l+="\n",h++;for(var u=0;u<s.length;u++){var c=""+l;c+=s.substring(0,u+1),o.push(c)}}for(var f=function(t){var i=o[t];setTimeout((function(){n.text=i,t==o.length-1&&r&&r()}),e*t)},p=0;p<o.length;p++)f(p)}}(cn),function(t){function e(e){var r=t.call(this)||this;r.lockStep=!1,r._curFrame=1,r._isPlaying=!0,r._isFront=!0,r.frameCount=0,r._lastFrame=0,r.commonDeltaTime=1e3/60;var n=r;return n._instanceType="MovieClip",e&&n.init(e),r}P(e,t),Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._curFrame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFront",{get:function(){return this._isFront},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this.rawData&&this.rawData.frames||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoWidth",{get:function(){return this.rawData&&this.rawData.videoSize.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoHeight",{get:function(){return this.rawData&&this.rawData.videoSize.height},enumerable:!0,configurable:!0}),e.prototype.init=function(t){if(t){if(this.removeAllChildren(),this.startAniRangeFun&&this.removeEventListener(I.ENTER_FRAME,this.startAniRangeFun,this),this.rawData=t,this.timeInterval=1e3/t.FPS,this.startTime=Date.now(),this.startFrame=1,this.deltaFrame=60/t.FPS,this.frameCount=this.deltaFrame,this._curFrame=1,t.images&&!t.textures)for(var e in t.textures={},t.images){var r=t.images[e];0!==r.indexOf("iVBO")&&0!==r.indexOf("/9j/2w")||(r="data:image/png;base64,"+r);var n=rt();n.src=r,t.textures[e]=new Yt(new Wt(n))}this.initChildren(t.sprites)}},e.prototype.initChildren=function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];if(n.imageKey){var i=this.addChild(new Zt(this.rawData.textures?this.rawData.textures[n.imageKey]:Lt[n.imageKey]||Lt[n.imageKey+".png"]||null));i.frames=n.frames,n.frames[0].alpha<.05?i.alpha=0:(i.alpha=n.frames[0].alpha,i.transform.localMatrix.copy(n.frames[0].transform),i.transform._parentID=-1),i.framesOri=n.frames,i.imageKey=n.imageKey}}},e.prototype.setImage=function(t,e){for(var r=[],n=0;n<this.children.length;n++)this.children[n].imageKey==t&&r.push(this.children[n]);if(r.length){var i=r[0].texture,o=i.width,a=i.height,s=rt();s.onload=function(){var t;if(s.width==o&&s.height==a)t=Yt.from(s);else{var e=et();e.width=o,e.height=a;var n=e.getContext("2d"),i=o/a,l=s.width/s.height;i>l?n.drawImage(s,0,0,s.width,s.height,(o-l*a)/2,0,l*a,a):n.drawImage(s,0,0,s.width,s.height,0,(a-o/l)/2,o,o/l),t=Yt.fromCanvas(e)}r.forEach((function(e){e.texture=t}))},s.src=e}},e.prototype.stop=function(){this._isPlaying=!1},e.prototype.nextFrame=function(){var t=this;t._curFrame<t.totalFrames&&t._curFrame++,t._isPlaying=!1},e.prototype.prevFrame=function(){var t=this;t._curFrame>1&&t._curFrame--,t._isPlaying=!1},e.prototype.gotoAndStop=function(t){var e=this;e._isPlaying=!1,t>e.totalFrames&&(t=e.totalFrames),t<1&&(t=1),e._curFrame=t},e.prototype.play=function(t){void 0===t&&(t=!0);var e=this;e.frameCount=e.deltaFrame,e.startTime=Date.now(),e.startFrame=e._curFrame,e._isPlaying=!0,e._isFront=t},Object.defineProperty(e.prototype,"isInTimeFrame",{get:function(){return this.frameCount==this.deltaFrame},enumerable:!0,configurable:!0}),e.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=!0);var r=this;r._isFront=e,r._isPlaying=!0,t>r.totalFrames&&(t=r.totalFrames),t<1&&(t=1),r.frameCount=r.deltaFrame,r.startTime=Date.now(),r._curFrame=t,r.startFrame=r._curFrame},e.prototype.startAniRange=function(t,e,r,n){var i=this;if(void 0===t&&(t=1),void 0===e&&(e=this.totalFrames),void 0===r&&(r=1),t=t||1,e=e||this.totalFrames,r=r||0,r=Math.max(0,r),t<1&&(t=1),t>this.totalFrames&&(t=this.totalFrames),e<1&&(e=1),e>this.totalFrames&&(e=this.totalFrames),t!==e){this._isFront=t<e,this.startAniRangeFun&&this.removeEventListener(I.ENTER_FRAME,this.startAniRangeFun,this),this._curFrame=t,this.frameCount=this.deltaFrame,this.startTime=Date.now(),this.startFrame=this._curFrame,this._isPlaying=!0;var o=r?r+.5>>0:1/0;this.addEventListener(I.ENTER_FRAME,this.startAniRangeFun=function(r){r.target._isFront?(r.target.currentFrame>=e||r.target._endMark)&&(--o<=0?(r.target.gotoAndStop(e),r.target.removeEventListener(I.ENTER_FRAME,i.startAniRangeFun,i),i.startAniRangeFun=null,n&&n()):r.target.gotoAndPlay(t)):(r.target.currentFrame<=t||r.target._endMark)&&(--o<=0?(r.target.gotoAndStop(t),r.target.removeEventListener(I.ENTER_FRAME,i.startAniRangeFun,i),i.startAniRangeFun=null,n&&n()):r.target.gotoAndPlay(e,!1))},this)}else this.gotoAndStop(t)},e.prototype.updateFrame=function(){var t=this;if(0!=t.totalFrames&&1!=t.totalFrames){var e=!1;if(t._lastFrame!=t._curFrame?(e=!0,t._lastFrame=t._curFrame,t.startTime=Date.now(),t.startFrame=t._curFrame,t._endMark=!1):t._isPlaying&&(t.lockStep?e=t.getCurFrameWhenLockStep():0==--t.frameCount&&(t.frameCount=t.deltaFrame,e=!0,t._isFront?(t._curFrame++,t._curFrame>t.totalFrames&&(t._curFrame=1)):(t._curFrame--,t._curFrame<1&&(t._curFrame=t.totalFrames)),t._lastFrame=t._curFrame)),e){for(var r=0,n=t.children.length;r<n;r++){var i=t.children[r];if(i.frames&&i.frames[t._curFrame-1]){var o=i.frames[t._curFrame-1];if(o.alpha<.05)i.alpha=0;else if(i.alpha=o.alpha,N.isEqual(i.transform.localMatrix,o.transform)||(i.transform.localMatrix.copy(o.transform),i.transform._parentID=-1),o.maskPath){i.cusMask||(i.cusMask=new on),i.mask||(i.mask=i.addChild(i.cusMask));var a=i.mask;this.updateMask(a,o.maskPath)}else i.mask&&(i.removeChild(i.mask),i.mask=null)}}t.lockStep?t._endMark&&t.hasEventListener(I.END_FRAME)&&t.dispatchEvent(I.END_FRAME,{frameIndex:t._curFrame,frameName:"endFrame"}):(1==t._curFrame&&!t._isFront||t._curFrame==t.totalFrames&&t._isFront)&&t.hasEventListener(I.END_FRAME)&&t.dispatchEvent(I.END_FRAME,{frameIndex:t._curFrame,frameName:"endFrame"})}}},e.prototype.getCurFrameWhenLockStep=function(){var t=(Date.now()-this.startTime)/this.timeInterval>>0;return t==this.lastDeltaFrame?(this.frameCount=0,!1):(this._endMark=!1,this.frameCount=this.deltaFrame,this.lastDeltaFrame=t,this._isFront?(this._curFrame=(this.startFrame+t)%this.totalFrames,0==this._curFrame?(this._curFrame=this.totalFrames,this._endMark=!0):this._lastFrame>this._curFrame&&this._lastFrame!=this.totalFrames&&(this._endMark=!0)):(this._curFrame=(this.startFrame-t)%this.totalFrames,0==this._curFrame?this._curFrame=this.totalFrames:this._curFrame<0&&(this._curFrame+=this.totalFrames),(1==this._curFrame||this._lastFrame<this._curFrame&&1!=this._lastFrame)&&(this._endMark=!0)),this._lastFrame=this._curFrame,!0)},e.prototype.update=function(){this.updateFrame(),t.prototype.update.call(this)},e.prototype.destroy=function(){this.rawData=null,t.prototype.destroy.call(this)},e.prototype.updateMask=function(t,e){t.clear(),e._transform;var r={x:0,y:0,x1:0,y1:0,x2:0,y2:0};t.beginFill();e._d.replace(/([a-zA-Z])/g,"|||$1 ").replace(/,/g," ").split("|||").forEach((function(e){if(0!=e.length){var n=e.substr(0,1);if("MLHVCSQRZmlhvcsqrz".indexOf(n)>=0){var i=e.substr(1).trim().split(" ");switch(n){case"M":r.x=Number(i[0]),r.y=Number(i[1]),t.moveTo(r.x,r.y);break;case"m":r.x+=Number(i[0]),r.y+=Number(i[1]),t.moveTo(r.x,r.y);break;case"L":r.x=Number(i[0]),r.y=Number(i[1]),t.lineTo(r.x,r.y);break;case"l":r.x+=Number(i[0]),r.y+=Number(i[1]),t.lineTo(r.x,r.y);break;case"H":r.x=Number(i[0]),t.lineTo(r.x,r.y);break;case"h":r.x+=Number(i[0]),t.lineTo(r.x,r.y);break;case"V":r.y=Number(i[0]),t.lineTo(r.x,r.y);break;case"v":r.y+=Number(i[0]),t.lineTo(r.x,r.y);break;case"C":r.x1=Number(i[0]),r.y1=Number(i[1]),r.x2=Number(i[2]),r.y2=Number(i[3]),r.x=Number(i[4]),r.y=Number(i[5]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y);break;case"c":r.x1=r.x+Number(i[0]),r.y1=r.y+Number(i[1]),r.x2=r.x+Number(i[2]),r.y2=r.y+Number(i[3]),r.x+=Number(i[4]),r.y+=Number(i[5]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y);break;case"S":r.x1&&r.y1&&r.x2&&r.y2?(r.x1=r.x-r.x2+r.x,r.y1=r.y-r.y2+r.y,r.x2=Number(i[0]),r.y2=Number(i[1]),r.x=Number(i[2]),r.y=Number(i[3]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y)):(r.x1=Number(i[0]),r.y1=Number(i[1]),r.x=Number(i[2]),r.y=Number(i[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y));break;case"s":r.x1&&r.y1&&r.x2&&r.y2?(r.x1=r.x-r.x2+r.x,r.y1=r.y-r.y2+r.y,r.x2=r.x+Number(i[0]),r.y2=r.y+Number(i[1]),r.x+=Number(i[2]),r.y+=Number(i[3]),t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y)):(r.x1=r.x+Number(i[0]),r.y1=r.y+Number(i[1]),r.x+=Number(i[2]),r.y+=Number(i[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y));break;case"Q":r.x1=Number(i[0]),r.y1=Number(i[1]),r.x=Number(i[2]),r.y=Number(i[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y);break;case"q":r.x1=r.x+Number(i[0]),r.y1=r.y+Number(i[1]),r.x+=Number(i[2]),r.y+=Number(i[3]),t.quadraticCurveTo(r.x1,r.y1,r.x,r.y);break;case"A":case"a":break;case"Z":case"z":t.closePath()}}}})),t.endFill()},e.deepCopyFrames=function(t,e,r,n,i,o,a,s){void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=1),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0);var l=[];o*=Math.PI/180;var h={};h.a=Math.cos(o)*n,h.b=Math.sin(o)*n,h.c=-Math.sin(o)*i,h.d=Math.cos(o)*i,h.tx=e+a-(a*h.a+s*h.c),h.ty=r+s-(a*h.b+s*h.d);for(var u=0;u<t.length;u++){var c=t[u],f=c.transform,p={alpha:0,transform:null};p.alpha=c.alpha,p.transform={a:h.a*f.a+h.b*f.c,b:h.a*f.b+h.b*f.d,c:h.c*f.a+h.d*f.c,d:h.c*f.b+h.d*f.d,tx:h.tx*f.a+h.ty*f.c+f.tx,ty:h.tx*f.b+h.ty*f.d+f.ty},l.push(p)}return l}}(Z),function(){var t={};var e="function"==typeof Float32Array;function r(t,e){return 1-3*e+3*t}function n(t,e){return 3*e-6*t}function i(t){return 3*t}function o(t,e,o){return((r(e,o)*t+n(e,o))*t+i(e))*t}function a(t,e,o){return 3*r(e,o)*t*t+2*n(e,o)*t+i(e)}function s(t){this._p=t,this._mSampleValues=e?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}s.prototype={get:function(t){var e=this._p[0],r=this._p[1],n=this._p[2],i=this._p[3];return this._precomputed||this._precompute(),e===r&&n===i?t:0===t?0:1===t?1:o(this._getTForX(t),r,i)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],n=this._p[3];this._precomputed=!0,t===e&&r===n||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],r=0;r<11;++r)this._mSampleValues[r]=o(.1*r,t,e)},_getTForX:function(t){for(var e=this._p[0],r=this._p[2],n=this._mSampleValues,i=0,s=1;10!==s&&n[s]<=t;++s)i+=.1;var l=i+.1*((t-n[--s])/(n[s+1]-n[s])),h=a(l,e,r);return h>=.001?function(t,e,r,n){for(var i=0;i<4;++i){var s=a(e,r,n);if(0===s)return e;e-=(o(e,r,n)-t)/s}return e}(t,l,e,r):0===h?l:function(t,e,r,n,i){var a,s,l=0;do{(a=o(s=e+(r-e)/2,n,i)-t)>0?r=s:e=s}while(Math.abs(a)>1e-7&&++l<10);return s}(t,i,i+.1,e,r)}}}();!function(t){function e(e){var r=t.call(this)||this;return r.deltaFrame=1,r._instanceType="Lottie",e&&r.init(e),r}P(e,t),Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this.rawData&&this.rawData.op-this.rawData.ip||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoWidth",{get:function(){return this.rawData&&this.rawData.w||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoHeight",{get:function(){return this.rawData&&this.rawData.h||0},enumerable:!0,configurable:!0}),e.prototype.init=function(t){t&&(this.rawData=t,this.timeInterval=1e3/t.fr,this.deltaFrame=60/t.fr,this.name=t.nm,t.assets&&!t.textures&&(t.textures={},t.assets.forEach((function(e){var r=rt();r.src=e.p,t.textures[e.id]=new Yt(new Wt(r))}))),this.initChildren())},e.prototype.initChildren=function(){for(var t=this.rawData.layers.slice(),e=t.length-1;e>=0;e--){var r=t[e];this.addChild(new Zt(r.refId?this.rawData.textures?this.rawData.textures[r.refId]:Lt[r.refId]||Lt[r.refId+".png"]:null)).layerData=r}this.initState()},e.prototype.initState=function(t){void 0===t&&(t=this.children);for(var e=0;e<t.length;e++){var r=t[e];if(r.layerData){var n=r.layerData;r.alpha=n.ks.o.k[0]?n.ks.o.k[0].s[0]/100:n.ks.o.k/100,r.rotation=n.ks.r.k[0]?n.ks.r.k[0].s[0]:n.ks.r.k;var i="number"==typeof n.ks.a.k[0]?n.ks.a.k:n.ks.a.k[0].s;r.anchor.set(i[0],i[1]);i="number"==typeof n.ks.p.k[0]?n.ks.p.k:n.ks.p.k[0].s;r.position.set(i[0]-r.anchorX,i[1]-r.anchorY);i="number"==typeof n.ks.s.k[0]?n.ks.s.k:n.ks.s.k[0].s;r.scale.set(i[0]/100,i[1]/100),r.visible=n.ip<=0}r.children.length&&this.initState(r.children)}},e.prototype.play=function(t,e){void 0===t&&(t=0),this.stop(!0),this.loops=t,this.callback=e,this.addTweens()},e.prototype.stop=function(t){void 0===t&&(t=!1),dn.removeTweens(this),this.children.forEach((function(t){dn.removeTweens(t)})),t&&this.initState()},e.prototype.addTweens=function(t){var e=this;void 0===t&&(t=this.children);for(var r,n,i,o=function(){var e=t[s];if(e.layerData){var o=e.layerData;o.ks.o.k.length&&a.addTween(e,"o"),o.ks.r.k.length&&a.addTween(e,"r"),"number"!=typeof o.ks.p.k[0]&&a.addTween(e,"p"),"number"!=typeof o.ks.s.k[0]&&a.addTween(e,"s"),r=dn.get(e,{loop:!0}),(o.ip>0||o.op<a.rawData.op)&&(n=o.ip<0?0:o.ip,i=o.op>a.rawData.op?a.rawData.op:o.op,r.wait(n*a.timeInterval).call((function(){e.visible=!0})).wait((i-n)*a.timeInterval).call((function(){e.visible=!1})).wait((a.rawData.op-i)*a.timeInterval))}e.children.length&&a.addTweens(e.children)},a=this,s=0;s<t.length;s++)o();dn.get(this,{loop:!0}).wait((this.rawData.op-this.rawData.ip)*this.timeInterval).call((function(){0==--e.loops&&(e.stop(),e.callback&&e.callback())}))},e.prototype.addTween=function(t,e){var r=t.layerData.ks[e].k,n=dn.get(t,{loop:!0}),i=0;if(t.layerData.ks[e].x){var o=t.layerData.ks[e].x,a=+o.replace(/[^0-9]/gi,"");if(o.indexOf("loopOut")>=0){for(var s=[],l=0,h=0;h<r.length;h++){if((T=r[h]).t>t.layerData.op)break;var u=(b=T.t-l)*this.timeInterval,c=E(T);0==h&&T.t>0?(n.wait(u),i+=u):0==h&&0==T.t?(n.set(c),s.push({obj:c,deltaT:b,deltaTime:u,isSet:!0})):T.t-l==1||1===T.h?(n.wait(u).set(c),s.push({obj:c,deltaT:b,deltaTime:u,isSet:!0}),i+=u):(n.to(c,u),s.push({obj:c,deltaT:b,deltaTime:u}),i+=u),l=T.t}if(o.indexOf("pingpong")>=0&&r[r.length-1].t<t.layerData.op){var f=Math.round((t.layerData.op-r[r.length-1].t)/(r[r.length-1].t-r[0].t));l+=f*(r[r.length-1].t-r[0].t);for(var p=!1;--f;){if(p)for(var d=0;d<s.length;d++)n.to(s[d].obj,s[d].deltaTime),i+=s[d].deltaTime;else for(d=s.length-1;d>=1;d--)n.to(s[d-1].obj,s[d].deltaTime),i+=s[d].deltaTime;p=!p}}else if(o.indexOf("cycle")>=0&&r[r.length-1].t<t.layerData.op){for(var m=r.length-1,v=Math.floor((t.layerData.op-r[m].t)/(r[m].t-r[m-(a||m)].t)),y=s.slice(-a);v;){v--;for(d=0;d<y.length;d++)y[d].isSet?n.wait(y[d].deltaTime).set(y[d].obj):n.to(y[d].obj,y[d].deltaTime),i+=y[d].deltaTime}var g=(t.layerData.op-r[m].t)%(r[m].t-r[m-(a||m)].t);for(d=0;d<y.length;d++){if(!(y[d].deltaT<=g)){if(g>0){var _=mn(0==d?vn(y[d].obj,n._initQueueProps):y[d-1].obj,y[d].obj,g/y[d].deltaT);n.to(_,g*this.timeInterval),i+=g*this.timeInterval}break}y[d].isSet?n.wait(y[d].deltaTime).set(y[d].obj):n.to(y[d].obj,y[d].deltaTime),g-=y[d].deltaT,i+=y[d].deltaTime}}}else if(o.indexOf("loopIn")>=0){for(s=[],l=0,h=0;h<r.length;h++){var b;u=(b=(T=r[h]).t-l)*this.timeInterval,c=E(T);T.t-l==1||1===T.h?s.push({obj:c,deltaT:b,deltaTime:u,isSet:!0,timeOri:T.t}):s.push({obj:c,deltaT:b,deltaTime:u,timeOri:T.t}),l=T.t}if(o.indexOf("pingpong")>=0&&r[0].t>0){s=function(t,e,r){var n=t[0].deltaT;e>=t.length&&(e=0);var i=t.slice(0,e?e+1:t.length),o=t[0].deltaTime/t[0].deltaT,a=[],s=!0,l=0,h=0;for(;n>0;){s?l++:l--,l>i.length-1?(s=!1,l-=2):l<0&&(s=!0,l+=2);var u=Math.abs(i[h].timeOri-i[l].timeOri);a.unshift({obj:i[h].obj,deltaT:u,deltaTime:u*o,timeOri:i[h].timeOri,isSet:i[h].isSet}),h=l,n-=u}a.unshift({obj:i[h].obj,deltaT:0,deltaTime:0,timeOri:i[h].timeOri,isSet:!0});for(var c=1;c<t.length&&!(t[c].timeOri>r);c++)a.push(t[c]);return a}(s,a,t.layerData.op);for(d=0;d<s.length;d++)s[d].isSet?n.wait(s[d].deltaTime).set(s[d].obj):n.to(s[d].obj,s[d].deltaTime),i+=s[d].deltaTime}else if(o.indexOf("cycle")>=0&&r[0].t>0){s=function(t,e,r,n){void 0===n&&(n=0);var i=t[0].deltaT-n;e>=t.length&&(e=0);var o=t.slice(0,e?e+1:t.length),a=[],s=0;for(;i>0;)--s<0&&(s=o.length-1),s?(a.unshift(o[s]),i-=o[s].deltaT):a.unshift({obj:o[0].obj,deltaT:0,deltaTime:0,timeOri:o[0].timeOri,isSet:!0});a.unshift({obj:o[0].obj,deltaT:0,deltaTime:0,timeOri:o[0].timeOri,isSet:!0}),a.push({obj:o[0].obj,deltaT:0,deltaTime:0,isSet:!0});for(var l=1;l<t.length&&!(t[l].timeOri>r);l++)a.push(t[l]);return a}(s,a,t.layerData.op,t.layerData.ip),t.layerData.ip&&(n.wait(t.layerData.ip*this.timeInterval),i+=t.layerData.ip*this.timeInterval);for(d=0;d<s.length;d++)s[d].isSet?n.wait(s[d].deltaTime).set(s[d].obj):n.to(s[d].obj,s[d].deltaTime),i+=s[d].deltaTime}var x=Math.min(t.layerData.op,this.rawData.op);if(i<x*this.timeInterval){var w=x*this.timeInterval-i;n.wait(w),i+=w}}t.layerData.op<this.rawData.op&&(n.wait((this.rawData.op-t.layerData.op)*this.timeInterval),i+=(this.rawData.op-t.layerData.op)*this.timeInterval)}else{for(l=0,h=0;h<r.length;h++){var T;c=E(T=r[h]),u=void 0;if(T.t<0){if(!r[h+1]||r[h+1].t<0)break;c=mn(c,E(r[h+1]),-T.t/(r[h+1].t-T.t)),n.set(c),l=0}else if(T.t>this.rawData.op){if(!r[h-1]||r[h-1].t>this.rawData.op)break;var S=this.rawData.op-r[h-1].t;u=S*this.timeInterval,c=mn(E(r[h-1]),c,S/(T.t-r[h-1].t)),n.to(c,u),i+=u,l=this.rawData.op}else u=(T.t-l)*this.timeInterval,0==h&&T.t>0?n.wait(u):0==h&&0==T.t?n.set(c):n.to(c,u),i+=u,l=T.t}this.rawData.op>l&&n.wait((this.rawData.op-l)*this.timeInterval)}function E(r){var n;switch(e){case"r":n={rotation:r.s[0]};break;case"o":n={alpha:r.s[0]/100};break;case"s":n={scaleX:r.s[0]/100,scaleY:r.s[1]/100};break;case"p":n={x:r.s[0]-t.anchorX,y:r.s[1]-t.anchorY}}return n}},e.prototype.updateTransform=function(){var t=this;this.displayObjectUpdateTransform(),this.children.forEach((function(e){t._recursivePostUpdateTransformAA(e)})),this.children.forEach((function(t){t.mark=!1}))},e.prototype.findChildByInd=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].layerData&&this.children[e].layerData.ind===t)return this.children[e];return null},e.prototype._recursivePostUpdateTransformAA=function(t){if(t.layerData&&t.layerData.parent){var e=this.findChildByInd(t.layerData.parent);this._recursivePostUpdateTransformAA(e),t.mark||(t.mark=!0,t.transform.updateWorldMatrix(e.transform),t._worldAlpha=t.alpha*t.parent._worldAlpha)}else t.mark||(t.updateTransform(),t.mark=!0)},e.prototype.startAniRange=function(t,e,r,n){void 0===r&&(r=1),this.play(r,n)},e.prototype.destroy=function(){dn.removeTweens(this),this.children.forEach((function(t){dn.removeTweens(t)})),t.prototype.destroy.call(this)}}(Z);function mn(t,e,r){var n={};for(var i in t)n[i]=(e[i]-t[i])*r+t[i];return n}function vn(t,e){var r={};if(!t)return r;for(var n in t)r[n]=e[n];return r}var yn,gn=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.z=r}return t.prototype.set=function(t,e,r){return this.x=t,this.y=e,this.z=r,this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},t.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this.z+=t,this},t.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},t.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},t.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this.z-=t,this},t.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this},t.prototype.multiplyVectors=function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},t.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},t.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},t.prototype.cross=function(t){return this.crossVectors(this,t)},t.prototype.crossVectors=function(t,e){var r=t.x,n=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z},t.prototype.normalize=function(){var t=1/(this.length()||1);return this.x*=t,this.y*=t,this.z*=t,this},t.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},t.prototype.distanceToSquared=function(t){var e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n},t.prototype.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},t.prototype.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},t.prototype.clamp=function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},t.prototype.clampScalar=function(e,r){return this.clamp(new t(e,e,e),new t(r,r,r))},t.prototype.clampLength=function(t,e){return this.divideScalar(this.length()||1).multiplyScalar(Math.max(t,Math.min(e,length)))},t.prototype.applyMatrix4=function(t){var e=this.x,r=this.y,n=this.z,i=t.elements,o=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*o,this},t.prototype.setFromMatrixPosition=function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},t.prototype.setFromMatrixScale=function(t){var e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=n,this},t.prototype.setFromMatrixColumn=function(t,e){return this.fromArray(t.elements,4*e)},t.prototype.transformDirection=function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()},t.prototype.project=function(t){return this.applyMatrix4(t.worldMatrixInverse).applyMatrix4(t.projectionMatrix)},t.prototype.unproject=function(t){return this.applyMatrix4((new _n).setInverseOf(t.projectionMatrix)).applyMatrix4(t._worldMatrix)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},t}(),_n=function(){function t(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return t.prototype.setIdentity=function(){var t=this.elements;return t[0]=1,t[4]=0,t[8]=0,t[12]=0,t[1]=0,t[5]=1,t[9]=0,t[13]=0,t[2]=0,t[6]=0,t[10]=1,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,this},t.prototype.set=function(t,e,r,n,i,o,a,s,l,h,u,c,f,p,d,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=r,v[12]=n,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=l,v[6]=h,v[10]=u,v[14]=c,v[3]=f,v[7]=p,v[11]=d,v[15]=m,this},t.prototype.copy=function(t){var e,r,n;for(r=t.elements,n=this.elements,e=0;e<16;++e)n[e]=r[e];return this},t.prototype.clone=function(){return(new t).fromArray(this.elements)},t.prototype.equals=function(t){for(var e=this.elements,r=t.elements,n=0;n<16;n++)if(e[n]!==r[n])return!1;return!0},t.prototype.fromArray=function(t,e){void 0===e&&(e=0);for(var r=0;r<16;r++)this.elements[r]=t[r+e];return this},t.prototype.toArray=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t},t.prototype.concat=function(t){var e,r,n,i,o,a,s,l;if(r=this.elements,n=this.elements,r===(i=t.elements))for(i=new Float32Array(16),e=0;e<16;++e)i[e]=r[e];for(e=0;e<4;e++)o=n[e],a=n[e+4],s=n[e+8],l=n[e+12],r[e]=o*i[0]+a*i[1]+s*i[2]+l*i[3],r[e+4]=o*i[4]+a*i[5]+s*i[6]+l*i[7],r[e+8]=o*i[8]+a*i[9]+s*i[10]+l*i[11],r[e+12]=o*i[12]+a*i[13]+s*i[14]+l*i[15];return this},t.prototype.multiply=function(t){return this.multiplyMatrices(this,t)},t.prototype.premultiply=function(t){return this.multiplyMatrices(t,this)},t.prototype.multiplyMatrices=function(t,e){var r=t.elements,n=e.elements,i=this.elements,o=r[0],a=r[4],s=r[8],l=r[12],h=r[1],u=r[5],c=r[9],f=r[13],p=r[2],d=r[6],m=r[10],v=r[14],y=r[3],g=r[7],_=r[11],b=r[15],x=n[0],w=n[4],T=n[8],S=n[12],E=n[1],M=n[5],C=n[9],A=n[13],P=n[2],k=n[6],O=n[10],D=n[14],I=n[3],R=n[7],F=n[11],L=n[15];return i[0]=o*x+a*E+s*P+l*I,i[4]=o*w+a*M+s*k+l*R,i[8]=o*T+a*C+s*O+l*F,i[12]=o*S+a*A+s*D+l*L,i[1]=h*x+u*E+c*P+f*I,i[5]=h*w+u*M+c*k+f*R,i[9]=h*T+u*C+c*O+f*F,i[13]=h*S+u*A+c*D+f*L,i[2]=p*x+d*E+m*P+v*I,i[6]=p*w+d*M+m*k+v*R,i[10]=p*T+d*C+m*O+v*F,i[14]=p*S+d*A+m*D+v*L,i[3]=y*x+g*E+_*P+b*I,i[7]=y*w+g*M+_*k+b*R,i[11]=y*T+g*C+_*O+b*F,i[15]=y*S+g*A+_*D+b*L,this},t.prototype.multiplyVector3=function(t){var e=this.elements;return(new gn).set(t.x*e[0]+t.y*e[4]+t.z*e[8]+e[12],t.x*e[1]+t.y*e[5]+t.z*e[9]+e[13],t.x*e[2]+t.y*e[6]+t.z*e[10]+e[14])},t.prototype.transpose=function(){var t,e;return e=(t=this.elements)[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},t.prototype.setInverseOf=function(t){var e,r,n,i,o;if(r=t.elements,n=this.elements,(i=new Float32Array(16))[0]=r[5]*r[10]*r[15]-r[5]*r[11]*r[14]-r[9]*r[6]*r[15]+r[9]*r[7]*r[14]+r[13]*r[6]*r[11]-r[13]*r[7]*r[10],i[4]=-r[4]*r[10]*r[15]+r[4]*r[11]*r[14]+r[8]*r[6]*r[15]-r[8]*r[7]*r[14]-r[12]*r[6]*r[11]+r[12]*r[7]*r[10],i[8]=r[4]*r[9]*r[15]-r[4]*r[11]*r[13]-r[8]*r[5]*r[15]+r[8]*r[7]*r[13]+r[12]*r[5]*r[11]-r[12]*r[7]*r[9],i[12]=-r[4]*r[9]*r[14]+r[4]*r[10]*r[13]+r[8]*r[5]*r[14]-r[8]*r[6]*r[13]-r[12]*r[5]*r[10]+r[12]*r[6]*r[9],i[1]=-r[1]*r[10]*r[15]+r[1]*r[11]*r[14]+r[9]*r[2]*r[15]-r[9]*r[3]*r[14]-r[13]*r[2]*r[11]+r[13]*r[3]*r[10],i[5]=r[0]*r[10]*r[15]-r[0]*r[11]*r[14]-r[8]*r[2]*r[15]+r[8]*r[3]*r[14]+r[12]*r[2]*r[11]-r[12]*r[3]*r[10],i[9]=-r[0]*r[9]*r[15]+r[0]*r[11]*r[13]+r[8]*r[1]*r[15]-r[8]*r[3]*r[13]-r[12]*r[1]*r[11]+r[12]*r[3]*r[9],i[13]=r[0]*r[9]*r[14]-r[0]*r[10]*r[13]-r[8]*r[1]*r[14]+r[8]*r[2]*r[13]+r[12]*r[1]*r[10]-r[12]*r[2]*r[9],i[2]=r[1]*r[6]*r[15]-r[1]*r[7]*r[14]-r[5]*r[2]*r[15]+r[5]*r[3]*r[14]+r[13]*r[2]*r[7]-r[13]*r[3]*r[6],i[6]=-r[0]*r[6]*r[15]+r[0]*r[7]*r[14]+r[4]*r[2]*r[15]-r[4]*r[3]*r[14]-r[12]*r[2]*r[7]+r[12]*r[3]*r[6],i[10]=r[0]*r[5]*r[15]-r[0]*r[7]*r[13]-r[4]*r[1]*r[15]+r[4]*r[3]*r[13]+r[12]*r[1]*r[7]-r[12]*r[3]*r[5],i[14]=-r[0]*r[5]*r[14]+r[0]*r[6]*r[13]+r[4]*r[1]*r[14]-r[4]*r[2]*r[13]-r[12]*r[1]*r[6]+r[12]*r[2]*r[5],i[3]=-r[1]*r[6]*r[11]+r[1]*r[7]*r[10]+r[5]*r[2]*r[11]-r[5]*r[3]*r[10]-r[9]*r[2]*r[7]+r[9]*r[3]*r[6],i[7]=r[0]*r[6]*r[11]-r[0]*r[7]*r[10]-r[4]*r[2]*r[11]+r[4]*r[3]*r[10]+r[8]*r[2]*r[7]-r[8]*r[3]*r[6],i[11]=-r[0]*r[5]*r[11]+r[0]*r[7]*r[9]+r[4]*r[1]*r[11]-r[4]*r[3]*r[9]-r[8]*r[1]*r[7]+r[8]*r[3]*r[5],i[15]=r[0]*r[5]*r[10]-r[0]*r[6]*r[9]-r[4]*r[1]*r[10]+r[4]*r[2]*r[9]+r[8]*r[1]*r[6]-r[8]*r[2]*r[5],0===(o=r[0]*i[0]+r[1]*i[4]+r[2]*i[8]+r[3]*i[12]))return this;for(o=1/o,e=0;e<16;e++)n[e]=i[e]*o;return this},t.prototype.invert=function(){return this.setInverseOf(this)},t.prototype.setOrtho=function(t,e,r,n,i,o){var a,s,l,h;if(t===e||n===r||i===o)throw"null frustum";return s=1/(e-t),l=1/(r-n),h=1/(o-i),(a=this.elements)[0]=2*s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*l,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=-2*h,a[11]=0,a[12]=-(e+t)*s,a[13]=-(r+n)*l,a[14]=-(o+i)*h,a[15]=1,this},t.prototype.ortho=function(e,r,n,i,o,a){return this.concat((new t).setOrtho(e,r,n,i,o,a))},t.prototype.setFrustum=function(t,e,r,n,i,o){var a,s,l,h;if(t===e||n===r||i===o)throw"null frustum";if(i<=0)throw"near <= 0";if(o<=0)throw"far <= 0";return s=1/(e-t),l=1/(n-r),h=1/(o-i),(a=this.elements)[0]=2*i*s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*i*l,a[6]=0,a[7]=0,a[8]=(e+t)*s,a[9]=(n+r)*l,a[10]=-(o+i)*h,a[11]=-1,a[12]=0,a[13]=0,a[14]=-2*i*o*h,a[15]=0,this},t.prototype.frustum=function(e,r,n,i,o,a){return this.concat((new t).setFrustum(e,r,n,i,o,a))},t.prototype.setPerspective=function(t,e,r,n){var i,o,a,s;if(r===n||0===e)throw"null frustum";if(r<=0)throw"near <= 0";if(n<=0)throw"far <= 0";if(t=Math.PI*t/180/2,0===(a=Math.sin(t)))throw"null frustum";return o=1/(n-r),s=Math.cos(t)/a,(i=this.elements)[0]=s/e,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=s,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=-(n+r)*o,i[11]=-1,i[12]=0,i[13]=0,i[14]=-2*r*n*o,i[15]=0,this},t.prototype.makePerspective=function(t,e,r,n,i,o){var a=this.elements,s=2*i/(e-t),l=2*i/(r-n),h=(e+t)/(e-t),u=(r+n)/(r-n),c=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=l,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=c,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},t.prototype.perspective=function(e,r,n,i){return this.concat((new t).setPerspective(e,r,n,i))},t.prototype.setScale=function(t,e,r){var n=this.elements;return n[0]=t,n[4]=0,n[8]=0,n[12]=0,n[1]=0,n[5]=e,n[9]=0,n[13]=0,n[2]=0,n[6]=0,n[10]=r,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,this},t.prototype.scale=function(t,e,r){var n=this.elements;return n[0]*=t,n[4]*=e,n[8]*=r,n[1]*=t,n[5]*=e,n[9]*=r,n[2]*=t,n[6]*=e,n[10]*=r,n[3]*=t,n[7]*=e,n[11]*=r,this},t.prototype.getMaxScaleOnAxis=function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))},t.prototype.setTranslate=function(t,e,r){var n=this.elements;return n[0]=1,n[4]=0,n[8]=0,n[12]=t,n[1]=0,n[5]=1,n[9]=0,n[13]=e,n[2]=0,n[6]=0,n[10]=1,n[14]=r,n[3]=0,n[7]=0,n[11]=0,n[15]=1,this},t.prototype.translate=function(t,e,r){var n=this.elements;return n[12]+=n[0]*t+n[4]*e+n[8]*r,n[13]+=n[1]*t+n[5]*e+n[9]*r,n[14]+=n[2]*t+n[6]*e+n[10]*r,n[15]+=n[3]*t+n[7]*e+n[11]*r,this},t.prototype.setRotate=function(t,e,r,n){var i,o,a,s,l,h,u,c,f,p,d,m;return t=Math.PI*t/180,i=this.elements,o=Math.sin(t),a=Math.cos(t),0!==e&&0===r&&0===n?(e<0&&(o=-o),i[0]=1,i[4]=0,i[8]=0,i[12]=0,i[1]=0,i[5]=a,i[9]=-o,i[13]=0,i[2]=0,i[6]=o,i[10]=a,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1):0===e&&0!==r&&0===n?(r<0&&(o=-o),i[0]=a,i[4]=0,i[8]=o,i[12]=0,i[1]=0,i[5]=1,i[9]=0,i[13]=0,i[2]=-o,i[6]=0,i[10]=a,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1):0===e&&0===r&&0!==n?(n<0&&(o=-o),i[0]=a,i[4]=-o,i[8]=0,i[12]=0,i[1]=o,i[5]=a,i[9]=0,i[13]=0,i[2]=0,i[6]=0,i[10]=1,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1):(1!==(s=Math.sqrt(e*e+r*r+n*n))&&(e*=l=1/s,r*=l,n*=l),h=1-a,u=e*r,c=r*n,f=n*e,p=e*o,d=r*o,m=n*o,i[0]=e*e*h+a,i[1]=u*h+m,i[2]=f*h-d,i[3]=0,i[4]=u*h-m,i[5]=r*r*h+a,i[6]=c*h+p,i[7]=0,i[8]=f*h+d,i[9]=c*h-p,i[10]=n*n*h+a,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1),this},t.prototype.rotate=function(e,r,n,i){return this.concat((new t).setRotate(e,r,n,i))},t.prototype.setLookAt=function(t,e,r,n,i,o,a,s,l){var h,u,c,f,p,d,m,v,y,g,_,b;return u=n-t,c=i-e,f=o-r,d=(c*=p=1/Math.sqrt(u*u+c*c+f*f))*l-(f*=p)*s,m=f*a-(u*=p)*l,v=u*s-c*a,g=(m*=y=1/Math.sqrt(d*d+m*m+v*v))*f-(v*=y)*c,_=v*u-(d*=y)*f,b=d*c-m*u,(h=this.elements)[0]=d,h[1]=g,h[2]=-u,h[3]=0,h[4]=m,h[5]=_,h[6]=-c,h[7]=0,h[8]=v,h[9]=b,h[10]=-f,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,this.translate(-t,-e,-r)},t.prototype.lookAt=function(t,e,r){var n=new gn,i=new gn,o=new gn,a=this.elements;return o.subVectors(t,e),0===o.lengthSq()&&(o.z=1),o.normalize(),n.crossVectors(r,o),0===n.lengthSq()&&(1===Math.abs(r.z)?o.x+=1e-4:o.z+=1e-4,o.normalize(),n.crossVectors(r,o)),n.normalize(),i.crossVectors(o,n),a[0]=n.x,a[4]=i.x,a[8]=o.x,a[1]=n.y,a[5]=i.y,a[9]=o.y,a[2]=n.z,a[6]=i.z,a[10]=o.z,this},t.prototype.dropShadow=function(e,r){var n=new t,i=n.elements,o=e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3];return i[0]=o-r[0]*e[0],i[1]=-r[1]*e[0],i[2]=-r[2]*e[0],i[3]=-r[3]*e[0],i[4]=-r[0]*e[1],i[5]=o-r[1]*e[1],i[6]=-r[2]*e[1],i[7]=-r[3]*e[1],i[8]=-r[0]*e[2],i[9]=-r[1]*e[2],i[10]=o-r[2]*e[2],i[11]=-r[3]*e[2],i[12]=-r[0]*e[3],i[13]=-r[1]*e[3],i[14]=-r[2]*e[3],i[15]=o-r[3]*e[3],this.concat(n)},t.prototype.dropShadowDirectionally=function(t,e,r,n,i,o,a,s,l){var h=n*t+i*e+o*r;return this.dropShadow([t,e,r,-h],[a,s,l,0])},t.prototype.makeRotationFromQuaternion=function(t){var e=new gn(0,0,0),r=new gn(1,1,1);return this.compose(e,t,r)},t.prototype.compose=function(t,e,r){var n=this.elements,i=e.x,o=e.y,a=e.z,s=e.w,l=i+i,h=o+o,u=a+a,c=i*l,f=i*h,p=i*u,d=o*h,m=o*u,v=a*u,y=s*l,g=s*h,_=s*u,b=r.x,x=r.y,w=r.z;return n[0]=(1-(d+v))*b,n[1]=(f+_)*b,n[2]=(p-g)*b,n[3]=0,n[4]=(f-_)*x,n[5]=(1-(c+v))*x,n[6]=(m+y)*x,n[7]=0,n[8]=(p+g)*w,n[9]=(m-y)*w,n[10]=(1-(c+d))*w,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this},t.prototype.decompose=function(e,r,n){var i=new gn,o=new t,a=this.elements,s=i.set(a[0],a[1],a[2]).length(),l=i.set(a[4],a[5],a[6]).length(),h=i.set(a[8],a[9],a[10]).length();this.determinant()<0&&(s=-s),e.x=a[12],e.y=a[13],e.z=a[14],o.copy(this);var u=1/s,c=1/l,f=1/h;return o.elements[0]*=u,o.elements[1]*=u,o.elements[2]*=u,o.elements[4]*=c,o.elements[5]*=c,o.elements[6]*=c,o.elements[8]*=f,o.elements[9]*=f,o.elements[10]*=f,r.setFromRotationMatrix(o),n.x=s,n.y=l,n.z=h,this},t.prototype.determinant=function(){var t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],o=t[1],a=t[5],s=t[9],l=t[13],h=t[2],u=t[6],c=t[10],f=t[14];return t[3]*(+i*s*u-n*l*u-i*a*c+r*l*c+n*a*f-r*s*f)+t[7]*(+e*s*f-e*l*c+i*o*c-n*o*f+n*l*h-i*s*h)+t[11]*(+e*l*u-e*a*f-i*o*u+r*o*f+i*a*h-r*l*h)+t[15]*(-n*a*h-e*s*u+e*a*c+n*o*u-r*o*c+r*s*h)},t.prototype.extractRotation=function(t){var e=new gn,r=this.elements,n=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r[3]=0,r[4]=n[4]*o,r[5]=n[5]*o,r[6]=n[6]*o,r[7]=0,r[8]=n[8]*a,r[9]=n[9]*a,r[10]=n[10]*a,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},t}(),bn=function(){function t(t,e,r,n){var i,o;this.setFromUnitVectors=(o=new gn,function(t,e){return void 0===o&&(o=new gn),(i=t.dot(e)+1)<1e-6?(i=0,Math.abs(t.x)>Math.abs(t.z)?o.set(-t.y,t.x,0):o.set(0,-t.z,t.y)):o.crossVectors(t,e),this._x=o.x,this._y=o.y,this._z=o.z,this._w=i,this.normalize()}),this._x=t||0,this._y=e||0,this._z=r||0,this._w=void 0!==n?n:1}return t.slerp=function(t,e,r,n){return r.copy(t).slerp(e,n)},t.slerpFlat=function(t,e,r,n,i,o,a){var s=r[n+0],l=r[n+1],h=r[n+2],u=r[n+3],c=i[o+0],f=i[o+1],p=i[o+2],d=i[o+3];if(u!==d||s!==c||l!==f||h!==p){var m=1-a,v=s*c+l*f+h*p+u*d,y=v>=0?1:-1,g=1-v*v;if(g>1e-19){var _=Math.sqrt(g),b=Math.atan2(_,v*y);m=Math.sin(m*b)/_,a=Math.sin(a*b)/_}var x=a*y;if(s=s*m+c*x,l=l*m+f*x,h=h*m+p*x,u=u*m+d*x,m===1-a){var w=1/Math.sqrt(s*s+l*l+h*h+u*u);s*=w,l*=w,h*=w,u*=w}}t[e]=s,t[e+1]=l,t[e+2]=h,t[e+3]=u},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this.onChangeCallback(),this},t.prototype.clone=function(){return new t(this._x,this._y,this._z,this._w)},t.prototype.copy=function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},t.prototype.setFromEuler=function(t,e){var r=t._x,n=t._y,i=t._z,o=t.order,a=Math.cos,s=Math.sin,l=a(r/2),h=a(n/2),u=a(i/2),c=s(r/2),f=s(n/2),p=s(i/2);return"XYZ"===o?(this._x=c*h*u+l*f*p,this._y=l*f*u-c*h*p,this._z=l*h*p+c*f*u,this._w=l*h*u-c*f*p):"YXZ"===o?(this._x=c*h*u+l*f*p,this._y=l*f*u-c*h*p,this._z=l*h*p-c*f*u,this._w=l*h*u+c*f*p):"ZXY"===o?(this._x=c*h*u-l*f*p,this._y=l*f*u+c*h*p,this._z=l*h*p+c*f*u,this._w=l*h*u-c*f*p):"ZYX"===o?(this._x=c*h*u-l*f*p,this._y=l*f*u+c*h*p,this._z=l*h*p-c*f*u,this._w=l*h*u+c*f*p):"YZX"===o?(this._x=c*h*u+l*f*p,this._y=l*f*u+c*h*p,this._z=l*h*p-c*f*u,this._w=l*h*u-c*f*p):"XZY"===o&&(this._x=c*h*u-l*f*p,this._y=l*f*u-c*h*p,this._z=l*h*p+c*f*u,this._w=l*h*u+c*f*p),!1!==e&&this.onChangeCallback(),this},t.prototype.setFromAxisAngle=function(t,e){var r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this.onChangeCallback(),this},t.prototype.setFromRotationMatrix=function(t){var e,r=t.elements,n=r[0],i=r[4],o=r[8],a=r[1],s=r[5],l=r[9],h=r[2],u=r[6],c=r[10],f=n+s+c;return f>0?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(u-l)*e,this._y=(o-h)*e,this._z=(a-i)*e):n>s&&n>c?(e=2*Math.sqrt(1+n-s-c),this._w=(u-l)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+h)/e):s>c?(e=2*Math.sqrt(1+s-n-c),this._w=(o-h)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(l+u)/e):(e=2*Math.sqrt(1+c-n-s),this._w=(a-i)/e,this._x=(o+h)/e,this._y=(l+u)/e,this._z=.25*e),this.onChangeCallback(),this},t.prototype.angleTo=function(t){return 2*Math.acos(Math.abs(zt(this.dot(t),-1,1)))},t.prototype.rotateTowards=function(t,e){var r=this.angleTo(t);if(0===r)return this;var n=Math.min(1,e/r);return this.slerp(t,n),this},t.prototype.inverse=function(){return this.conjugate()},t.prototype.conjugate=function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},t.prototype.dot=function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},t.prototype.lengthSq=function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},t.prototype.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},t.prototype.normalize=function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},t.prototype.multiply=function(t,e){return void 0!==e?(console.warn(""),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},t.prototype.premultiply=function(t){return this.multiplyQuaternions(t,this)},t.prototype.multiplyQuaternions=function(t,e){var r=t._x,n=t._y,i=t._z,o=t._w,a=e._x,s=e._y,l=e._z,h=e._w;return this._x=r*h+o*a+n*l-i*s,this._y=n*h+o*s+i*a-r*l,this._z=i*h+o*l+r*s-n*a,this._w=o*h-r*a-n*s-i*l,this.onChangeCallback(),this},t.prototype.slerp=function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*t._w+r*t._x+n*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var s=1-a*a;if(s<=1e-13){var l=1-e;return this._w=l*o+e*this._w,this._x=l*r+e*this._x,this._y=l*n+e*this._y,this._z=l*i+e*this._z,this.normalize()}var h=Math.sqrt(s),u=Math.atan2(h,a),c=Math.sin((1-e)*u)/h,f=Math.sin(e*u)/h;return this._w=o*c+this._w*f,this._x=r*c+this._x*f,this._y=n*c+this._y*f,this._z=i*c+this._z*f,this.onChangeCallback(),this},t.prototype.equals=function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},t.prototype.onChange=function(t){return this.onChangeCallback=t,this},t.prototype.onChangeCallback=function(){},t}();!function(t){t.XYZ="XYZ",t.YZX="YZX",t.ZXY="ZXY",t.XZY="XZY",t.YXZ="YXZ",t.ZYX="ZYX"}(yn||(yn={}));var xn,wn,Tn=function(){function t(t,e,r,n){var i,o;void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=yn.XYZ),this._x=t,this._y=e,this._z=r,this._order=n,this.setFromQuaternion=(i=new _n,function(t,e,r){return i.makeRotationFromQuaternion(t),this.setFromRotationMatrix(i,e,r)}),this.reorder=(o=new bn,function(t){return o.setFromEuler(this),this.setFromQuaternion(o,t)})}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._order=n||this._order,this.onChangeCallback(),this},t.prototype.clone=function(){return new t(this._x,this._y,this._z,this._order)},t.prototype.copy=function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},t.prototype.setFromRotationMatrix=function(t,e,r){var n=t.elements,i=n[0],o=n[4],a=n[8],s=n[1],l=n[5],h=n[9],u=n[2],c=n[6],f=n[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(zt(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-h,f),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(c,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-zt(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(a,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0)):"ZXY"===e?(this._x=Math.asin(zt(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,i))):"ZYX"===e?(this._y=Math.asin(-zt(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(c,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===e?(this._z=Math.asin(zt(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(a,f))):"XZY"===e?(this._z=Math.asin(-zt(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(c,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-h,f),this._y=0)):console.warn("Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==r&&this.onChangeCallback(),this},t.prototype.setFromVector3=function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},t.prototype.equals=function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},t.prototype.fromArray=function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},t.prototype.toVector3=function(t){return t?t.set(this._x,this._y,this._z):new gn(this._x,this._y,this._z)},t.prototype.onChange=function(t){return this.onChangeCallback=t,this},t.prototype.onChangeCallback=function(){},t}(),Sn=new gn,En=function(t){function e(){var r=t.call(this)||this;r.name=null,r.visible=!0,r.mouseEnable=!0,r.mouseChildren=!0,r.castShadow=!1,r.receiveShadow=!1,r.children=[],r.parent=null,r._worldMatrix=new _n,r._localMatrix=new _n,r.up=e.DefaultUp.clone(),r.position=new gn,r.scale=new gn(1,1,1),r._instanceType="Object3D";var n=new Tn,i=new bn;return n.onChange((function(){i.setFromEuler(n,!1)})),i.onChange((function(){n.setFromQuaternion(i,void 0,!1)})),r.rotation=n,r.quaternion=i,r}return P(e,t),e.prototype.addChild=function(t){return this.addChildAt(t,this.children.length),t},e.prototype.addChildAt=function(t,e){if(t){var r,n=this,i=n==t.parent;if(t.parent)if(i){r=n.children.length;for(var o=0;o<r;o++)if(n.children[o]==t){n.children.splice(o,1);break}}else t.parent.removeChild(t);return t.parent=n,e>=(r=n.children.length)?(n.children[n.children.length]=t,e=r):0==e||e<0?(n.children.unshift(t),e=0):n.children.splice(e,0,t),n.scene&&!i&&t._onDispatchBubbledEvent("onAddedToScene"),t}},e.prototype.addChildren=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.forEach((function(e){t.addChild(e)})),e},e.prototype.removeChild=function(t){var e=this.children.indexOf(t);return-1!==e&&(t.parent=null,t._onDispatchBubbledEvent("onRemovedFromScene"),this.children.splice(e,1)),t},e.prototype._onDispatchBubbledEvent=function(t){var e=this;if("onRemovedFromScene"!=t||e.scene){"onRemovedFromScene"==t?(e.dispatchEvent(t),e.scene=null):"onAddedToScene"==t&&(e.scene=e.parent.scene,e.dispatchEvent(t));for(var r=e.children.length,n=0;n<r;n++)e.children[n]._onDispatchBubbledEvent(t)}},e.prototype.clone=function(t){return void 0===t&&(t=!0),(new e).copy(this,t)},e.prototype.copy=function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.visible=t.visible,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this._localMatrix.copy(t._localMatrix),this._worldMatrix.copy(t._worldMatrix),this.visible=t.visible,!0===e)for(var r=0;r<t.children.length;r++){var n=t.children[r];this.addChild(n.clone())}return this},e.prototype.lookAt=function(t,e,r){var n=new bn,i=new _n,o=new gn,a=new gn;o.set(t,e,r);var s=this.parent;this.updateWorldMatrix(!0,!1),a.setFromMatrixPosition(this._worldMatrix),"Camera"==this._instanceType||"PerspectiveCamera"==this._instanceType||"OrthographicCamera"==this._instanceType?i.lookAt(a,o,this.up):i.lookAt(o,a,this.up),this.quaternion.setFromRotationMatrix(i),s&&(i.extractRotation(s._worldMatrix),n.setFromRotationMatrix(i),this.quaternion.premultiply(n.inverse()))},e.prototype.applyMatrix=function(t){this._localMatrix.multiplyMatrices(t,this._localMatrix),this._localMatrix.decompose(this.position,this.quaternion,this.scale)},e.prototype.applyQuaternion=function(t){return this.quaternion.premultiply(t),this},e.prototype.localToGlobal=function(t){return t.applyMatrix4(this._worldMatrix)},e.prototype.globalToLocal=function(t){if(t instanceof gn){var e=new _n;return t.applyMatrix4(e.setInverseOf(this._worldMatrix))}return t},Object.defineProperty(e.prototype,"stagePos",{get:function(){if(!this.scene)return null;var t=this.scene;this.localToGlobal(Sn.set(0,0,0)),Sn.project(t.camera);var e=t.viewWidth/2,r=t.viewHeight/2;return{x:Math.round(Sn.x*e+e)+t.viewX,y:Math.round(-Sn.y*r+r)+t.viewY}},enumerable:!0,configurable:!0}),e.prototype.updateLocalMatrix=function(){this._localMatrix.compose(this.position,this.quaternion,this.scale)},e.prototype.updateWorldMatrix=function(t,r){void 0===t&&(t=!1),void 0===r&&(r=!0);var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix&&n.updateWorldMatrix(!0,!1),this.updateLocalMatrix(),null!==this.parent&&this.parent instanceof e?this._worldMatrix.multiplyMatrices(this.parent._worldMatrix,this._localMatrix):this._worldMatrix.copy(this._localMatrix),!0===r)for(var i=this.children,o=0,a=i.length;o<a;o++)i[o].updateWorldMatrix(!1,!0)},e.prototype.update=function(){if(this.visible){this.hasEventListener(I.ENTER_FRAME)&&this.dispatchEvent(I.ENTER_FRAME);for(var t=this.children.length-1;t>=0;t--){var e=this.children[t];e.visible&&e.update()}}},e.prototype.getChildByName=function(t,r,n){if(void 0===r&&(r=!0),void 0===n&&(n=!1),!t)return null;var i;i="string"==typeof t?new RegExp("^"+t+"$"):t;var o=[];e._getElementsByName(i,this,r,n,o);var a=o.length;return 0==a?null:1==a?o[0]:o},e._getElementsByName=function(t,r,n,i,o){var a=r.children.length;if(a>0)for(var s=void 0,l=void 0,h=0;h<a;h++){if((s=(l=r.children[h]).name)&&""!=s&&t.test(s)&&(o[o.length]=l,n))return;i&&null!=l.children&&e._getElementsByName(t,l,n,i,o)}},e.prototype.render=function(t){this._render(t);for(var e=0;e<this.children.length;e++){var r=this.children[e];r.visible&&r.render(t)}},e.prototype._render=function(t){},e.prototype.raycast=function(t,e){},e.prototype.destroy=function(){for(var t=this.children.length-1;t>=0;t--)this.children[t].destroy();this.removeAllEventListener(),this.parent&&this.parent.removeChild(this)},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.position.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.position.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this.position.z},set:function(t){this.position.z=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.scale.x},set:function(t){this.scale.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.scale.y},set:function(t){this.scale.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleZ",{get:function(){return this.scale.z},set:function(t){this.scale.z=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationX",{get:function(){return this.rotation.x*M},set:function(t){this.rotation.x=t*C},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationY",{get:function(){return this.rotation.y*M},set:function(t){this.rotation.y=t*C},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationZ",{get:function(){return this.rotation.z*M},set:function(t){this.rotation.z=t*C},enumerable:!0,configurable:!0}),e.DefaultUp=new gn(0,1,0),e}(R);!function(t){t.ENVMAP_BLENDING_MULTIPLY="ENVMAP_BLENDING_MULTIPLY",t.ENVMAP_BLENDING_MIX="ENVMAP_BLENDING_MIX",t.ENVMAP_BLENDING_ADD="ENVMAP_BLENDING_ADD"}(xn||(xn={})),function(t){t[t.FrontSide=0]="FrontSide",t[t.BackSide=1]="BackSide",t[t.DoubleSide=2]="DoubleSide"}(wn||(wn={}));var Mn=function(t){function e(e){var r=t.call(this)||this;if(r._color=16777215,r._colorArr=new Float32Array([1,1,1]),r.alpha=1,r.combine=xn.ENVMAP_BLENDING_MULTIPLY,r.reflectivity=1,r.morphTargets=!1,r.morphNormals=!1,r.skinning=!1,r.useVertexColor=!1,r.wireframe=!1,r.side=wn.FrontSide,r.useFog=!0,r._lightAffect=!1,r._instanceType="BaseMaterial",e)for(var n in e)r[n]=e[n];return r}return P(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){if(this._color!==t){this._color=t;var e=kt(t);this._colorArr[0]=e[0],this._colorArr[1]=e[1],this._colorArr[2]=e[2]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorArr",{get:function(){return this._colorArr},enumerable:!0,configurable:!0}),e.prototype.copy=function(t){return this.color=t.color,this.map=t.map,this.alpha=t.alpha,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.skinning=t.skinning,this.wireframe=t.wireframe,this.side=t.side,this._lightAffect=t._lightAffect,this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.destroy=function(){this._color=null},e}(D),Cn=function(){function t(t,e){void 0===t&&(t=new gn),void 0===e&&(e=new gn),this.origin=t,this.direction=e}return t.prototype.set=function(t,e){return this.origin.copy(t),this.direction.copy(e),this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},t.prototype.at=function(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)},t.prototype.lookAt=function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},t.prototype.recast=function(t){var e=new gn;return this.origin.copy(this.at(t,e)),this},t.prototype.closestPointToPoint=function(t,e){void 0===e&&(e=new gn),e.subVectors(t,this.origin);var r=e.dot(this.direction);return r<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(r).add(this.origin)},t.prototype.distanceToPoint=function(t){return Math.sqrt(this.distanceSqToPoint(t))},t.prototype.distanceSqToPoint=function(t){var e=new gn,r=e.subVectors(t,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(r).add(this.origin),e.distanceToSquared(t))},t.prototype.intersectSphere=function(t,e){var r=new gn;r.subVectors(t.center,this.origin);var n=r.dot(this.direction),i=r.dot(r)-n*n,o=t.radius*t.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=n-a,l=n+a;return s<0&&l<0?null:s<0?this.at(l,e):this.at(s,e)},t.prototype.intersectsSphere=function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},t.prototype.intersectBox=function(t,e){var r,n,i,o,a,s,l=1/this.direction.x,h=1/this.direction.y,u=1/this.direction.z,c=this.origin;return l>=0?(r=(t.min.x-c.x)*l,n=(t.max.x-c.x)*l):(r=(t.max.x-c.x)*l,n=(t.min.x-c.x)*l),h>=0?(i=(t.min.y-c.y)*h,o=(t.max.y-c.y)*h):(i=(t.max.y-c.y)*h,o=(t.min.y-c.y)*h),r>o||i>n?null:((i>r||r!=r)&&(r=i),(o<n||n!=n)&&(n=o),u>=0?(a=(t.min.z-c.z)*u,s=(t.max.z-c.z)*u):(a=(t.max.z-c.z)*u,s=(t.min.z-c.z)*u),r>s||a>n?null:((a>r||r!=r)&&(r=a),(s<n||n!=n)&&(n=s),n<0?null:this.at(r>=0?r:n,e)))},t.prototype.intersectsBox=function(t){return null!==this.intersectBox(t,new gn)},t.prototype.intersectTriangle=function(t,e,r,n,i){var o=new gn,a=new gn,s=new gn,l=new gn;a.subVectors(e,t),s.subVectors(r,t),l.crossVectors(a,s);var h,u=this.direction.dot(l);if(u>0){if(n)return null;h=1}else{if(!(u<0))return null;h=-1,u=-u}o.subVectors(this.origin,t);var c=h*this.direction.dot(s.crossVectors(o,s));if(c<0)return null;var f=h*this.direction.dot(a.cross(o));if(f<0)return null;if(c+f>u)return null;var p=-h*o.dot(l);return p<0?null:this.at(p/u,i)},t.prototype.applyMatrix4=function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},t.prototype.equals=function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)},t}(),An=function(){function t(t,e){void 0===t&&(t=new gn(1/0,1/0,1/0)),void 0===e&&(e=new gn(-1/0,-1/0,-1/0)),this.min=t,this.max=e}return t.prototype.set=function(t,e){return this.min.copy(t),this.max.copy(e),this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(t){return this.min.copy(t.min),this.max.copy(t.max),this},t.prototype.makeEmpty=function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},t.prototype.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},t.prototype.getCenter=function(t){return void 0===t&&(t=new gn),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},t.prototype.getSize=function(t){return void 0===t&&(t=new gn),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},t.prototype.setFromArray=function(t){for(var e=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=t.length;s<l;s+=3){var h=t[s],u=t[s+1],c=t[s+2];h<e&&(e=h),u<r&&(r=u),c<n&&(n=c),h>i&&(i=h),u>o&&(o=u),c>a&&(a=c)}return this.min.set(e,r,n),this.max.set(i,o,a),this},t.prototype.setFromCenterAndSize=function(t,e){var r=(new gn).copy(e).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this},t.prototype.setFromPoints=function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},t.prototype.setFromObject=function(t){return this.makeEmpty(),this.expandByObject(t)},t.prototype.expandByPoint=function(t){return this.min.min(t),this.max.max(t),this},t.prototype.expandByVector=function(t){return this.min.sub(t),this.max.add(t),this},t.prototype.expandByScalar=function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},t.prototype.expandByObject=function(t){var e=this,r=new gn;return t.updateWorldMatrix(),function t(n){var i=n.geometry;if(void 0!==i&&i._vertices)for(var o=i._vertices,a=0;a<o.length;a+=3)r.set(o[a],o[a+1],o[a+2]).applyMatrix4(n._worldMatrix),e.expandByPoint(r);for(var s=0;s<n.children.length;s++)t(n.children[s])}(t),e},t.prototype.containsPoint=function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},t.prototype.containsBox=function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},t.prototype.intersectsBox=function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},t.prototype.intersectsSphere=function(t){var e=new gn;return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius},t.prototype.clampPoint=function(t,e){return void 0===e&&(e=new gn),e.copy(t).clamp(this.min,this.max)},t.prototype.distanceToPoint=function(t){return(new gn).copy(t).clamp(this.min,this.max).sub(t).length()},t.prototype.getBoundingSphere=function(t){void 0===t&&(t=new Pn);var e=new gn;return this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t},t.prototype.intersect=function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},t.prototype.union=function(t){return this.min.min(t.min),this.max.max(t.max),this},t.prototype.applyMatrix4=function(t){var e=[new gn,new gn,new gn,new gn,new gn,new gn,new gn,new gn];return this.isEmpty()||(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e)),this},t.prototype.translate=function(t){return this.min.add(t),this.max.add(t),this},t.prototype.equals=function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},t}(),Pn=function(){function t(t,e){void 0===t&&(t=new gn),void 0===e&&(e=0),this.center=t,this.radius=e}return t.prototype.set=function(t,e){return this.center.copy(t),this.radius=e,this},t.prototype.setFromPoints=function(t,e){var r=new An,n=this.center;void 0!==e?n.copy(e):r.setFromPoints(t).getCenter(n);for(var i=0,o=0,a=t.length;o<a;o++)i=Math.max(i,n.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(t){return this.center.copy(t.center),this.radius=t.radius,this},t.prototype.empty=function(){return this.radius<=0},t.prototype.containsPoint=function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},t.prototype.distanceToPoint=function(t){return t.distanceTo(this.center)-this.radius},t.prototype.intersectsSphere=function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},t.prototype.intersectsBox=function(t){return t.intersectsSphere(this)},t.prototype.clampPoint=function(t,e){void 0===e&&(e=new gn);var r=this.center.distanceToSquared(t);return e.copy(t),r>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},t.prototype.getBoundingBox=function(t){return void 0===t&&(t=new An),t.set(this.center,this.center),t.expandByScalar(this.radius),t},t.prototype.applyMatrix4=function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},t.prototype.translate=function(t){return this.center.add(t),this},t.prototype.equals=function(t){return t.center.equals(this.center)&&t.radius===this.radius},t}(),kn=new Pn,On=new _n,Dn=new Cn,In=new gn,Rn=function(t){function e(e,r){var n=t.call(this)||this;return n.geometry=e,n.material=r,n._instanceType="Mesh3D",n.updateMorphTargets(),n}return P(e,t),Object.defineProperty(e.prototype,"morphTargetInfluences",{get:function(){return this._morphTargetInfluences},enumerable:!0,configurable:!0}),e.prototype._render=function(t){this.visible&&(t.batchManager.setObjectRenderer(t.plugins.d3),t.plugins.d3.render(this))},e.prototype.updateMorphTargets=function(){var t=this.geometry._morphPositions;if(t){this._morphTargetInfluences=[];for(var e=0;e<t.length;e++)this._morphTargetInfluences.push(0)}},e.prototype.raycast=function(t,e){if(this.visible&&this.geometry&&this.material&&!this.material.wireframe){var r=this.geometry,n=this._worldMatrix;if(r.boundingSphere||r.computeBoundingSphere(),kn.copy(r.boundingSphere),kn.applyMatrix4(n),!1!==t.ray.intersectsSphere(kn)&&(On.setInverseOf(n),Dn.copy(t.ray).applyMatrix4(On),null===r.boundingBox||!1!==Dn.intersectsBox(r.boundingBox)))if(r.doHitFace){var i,o=new gn,a=new gn,s=new gn,l=r._indices,h=r._vertices;if(l)for(var u=0;u<l.length;u+=3){var c=l[u],f=l[u+1],p=l[u+2];if(o.set(h[3*c],h[3*c+1],h[3*c+2]),a.set(h[3*f],h[3*f+1],h[3*f+2]),s.set(h[3*p],h[3*p+1],h[3*p+2]),i=Ln(this,t,Dn,o,a,s,In)){e.push(i);break}}else if(h)for(u=0;u<h.length;u+=9)if(o.set(h[u],h[u+1],h[u+2]),a.set(h[u+3],h[u+4],h[u+5]),s.set(h[u+6],h[u+7],h[u+8]),i=Ln(this,t,Dn,o,a,s,In)){e.push(i);break}}else e.push({distance:t.ray.origin.distanceTo(kn.center)-kn.radius,object:this})}},e.prototype.copy=function(e,r){return void 0===r&&(r=!0),t.prototype.copy.call(this,e,r),e.morphTargetInfluences&&(this._morphTargetInfluences=e.morphTargetInfluences.slice()),this},e.prototype.clone=function(t){return void 0===t&&(t=!0),new e(this.geometry,this.material).copy(this,t)},e}(En),Fn=new gn;function Ln(t,e,r,n,i,o,a){var s=t.material;if(null===(s.side===wn.BackSide?r.intersectTriangle(o,i,n,!0,a):r.intersectTriangle(n,i,o,s.side!==wn.DoubleSide,a)))return null;Fn.copy(a),Fn.applyMatrix4(t._worldMatrix);var l=e.ray.origin.distanceTo(Fn);return l<e.near||l>e.far?null:{distance:l,point:Fn.clone(),object:t}}var Nn,Bn=function(t){function e(e,r,n,i,o){var a=t.call(this)||this;return a._vertByteSize=44,a.boundingBox=null,a.boundingSphere=null,a.doHitFace=!1,a._instanceType="Geometry",a._glVaoBuffer={},a._vertices=e,a._normals=n||new Float32Array(e.length),a._colors=i||function(){for(var t=new Float32Array(e.length),r=0;r<e.length;r++)t[r]=1;return t}(),a._uvs=o||new Float32Array(e.length/3*2),a._indices=r?new Uint16Array(r):null,a._attrBuffer=new ne(e.length/3*a._vertByteSize),a}return P(e,t),e.prototype.computeBoundingBox=function(){this.boundingBox||(this.boundingBox=new An);var t=this._vertices;t?this.boundingBox.setFromArray(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error("顶点数据有误")},e.prototype.computeBoundingSphere=function(){var t=new An,e=new gn;this.boundingSphere||(this.boundingSphere=new Pn);var r=this._vertices;if(r){var n=this.boundingSphere.center;t.setFromArray(r),t.getCenter(n);for(var i=0,o=0,a=r.length;o<a;o+=3)e.x=r[o],e.y=r[o+1],e.z=r[o+2],i=Math.max(i,n.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("顶点数据有误")}},e.prototype.destroy=function(){},e}(D),zn=function(t){function e(){var e=t.call(this)||this;return e._instanceType="Camera",e.worldMatrixInverse=new _n,e.projectionMatrix=new _n,e.projectionMatrixInverse=new _n,e}return P(e,t),e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e,r){return t.prototype.copy.call(this,e,r),this.worldMatrixInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},e.prototype.getWorldDirection=function(t){this.updateWorldMatrix();var e=this._worldMatrix.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},e.prototype.updateWorldMatrix=function(){t.prototype.updateWorldMatrix.call(this),this.worldMatrixInverse.setInverseOf(this._worldMatrix)},e}(En),jn=function(t){function e(e,r,n,i){void 0===e&&(e=50),void 0===r&&(r=1),void 0===n&&(n=.1),void 0===i&&(i=2e3);var o=t.call(this)||this;return o.fov=e,o.aspect=r,o.near=n,o.far=i,o._instanceType="PerspectiveCamera",o.zoom=1,o.focus=10,o.updateProjectionMatrix(),o}return P(e,t),e.prototype.set=function(t,e,r,n){void 0===t&&(t=50),void 0===e&&(e=1),void 0===r&&(r=.1),void 0===n&&(n=2e3),this.fov=t,this.aspect=e,this.near=r,this.far=n,this.zoom=1,this.focus=10,this.updateProjectionMatrix()},e.prototype.copy=function(e,r){return void 0===r&&(r=!0),t.prototype.copy.call(this,e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.updateProjectionMatrix(),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.updateProjectionMatrix=function(){this.projectionMatrix.setPerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.setInverseOf(this.projectionMatrix)},e}(zn),Vn=function(t){function e(e,r){void 0===r&&(r=1);var n=t.call(this)||this;return n.intensity=r,n._color=16777215,n._colorArr=new Float32Array([1,1,1]),n._colorVec3=new gn(1,1,1),n.color=e,n._instanceType="Light",n}return P(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){if(this._color!==t){this._color=t;var e=kt(t);this._colorArr[0]=this._colorVec3.x=e[0],this._colorArr[1]=this._colorVec3.y=e[1],this._colorArr[2]=this._colorVec3.z=e[2]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorArr",{get:function(){return this._colorArr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorVec3",{get:function(){return this._colorVec3},enumerable:!0,configurable:!0}),e.prototype.copy=function(e){return t.prototype.copy.call(this,e),this.color=e.color,this.intensity=e.intensity,this.shadow=e.shadow.clone(),this},e}(En),Un=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},t.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},t.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this},t.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},t.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},t.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},t.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},t.prototype.applyMatrix3=function(t){var e=this.x,r=this.y,n=t.elements;return this.x=n[0]*e+n[3]*r+n[6],this.y=n[1]*e+n[4]*r+n[7],this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(t){return this.x*t.y-this.y*t.x},t.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)},t.prototype.normalize=function(){return this.divideScalar(this.length()||1)},t.prototype.angle=function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},t.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},t.prototype.distanceToSquared=function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},t.prototype.manhattanDistanceTo=function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},t.prototype.setLength=function(t){return this.normalize().multiplyScalar(t)},t.prototype.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},t.prototype.lerpVectors=function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},t}(),Wn=function(){function t(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=1/0),this.near=r,this.far=n,this.ray=new Cn(t,e)}return t.prototype.set=function(t,e){this.ray.set(t,e)},t.prototype.setFromCamera=function(t,e){this.ray.origin.setFromMatrixPosition(e._worldMatrix),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()},t.prototype.intersectObject=function(t,e){var r=e||[];return function t(e,r,n){if(!1===e.visible)return;e.mouseEnable&&e.raycast(r,n);if(e.mouseChildren)for(var i=e.children,o=0,a=i.length;o<a;o++)t(i[o],r,n)}(t,this,r),r.sort(Hn),r},t}();function Hn(t,e){return t.distance-e.distance}!function(t){t.basic="SHADOWMAP_TYPE_BASIC",t.pcf="SHADOWMAP_TYPE_PCF"}(Nn||(Nn={}));var Gn,Yn=function(t){function e(){var e=t.call(this)||this;return e._viewId=-1,e._viewX=0,e._viewY=0,e._viewWidth=750,e._viewHeight=1624,e.visible=!0,e.raycaster=new Wn,e.shadowType=Nn.basic,e._instanceType="Scene3D",e.scene=e,e.transform={_parentId:0},e.camera=new jn,e}return P(e,t),Object.defineProperty(e.prototype,"viewX",{get:function(){return this._viewX},set:function(t){t=t||0,this._viewX!==t&&(this._viewX=t,this._viewId=-1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewY",{get:function(){return this._viewY},set:function(t){t=t||0,this._viewY!==t&&(this._viewY=t,this._viewId=-1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewWidth",{get:function(){return this._viewWidth},set:function(t){t=t||0,this._viewWidth!==t&&(this._viewWidth=t,this._viewId=-1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewHeight",{get:function(){return this._viewHeight},set:function(t){t=t||0,this._viewHeight!==t&&(this._viewHeight=t,this._viewId=-1)},enumerable:!0,configurable:!0}),e.prototype.setViewRect=function(t,e,r,n){this.viewX=t,this.viewY=e,this.viewWidth=r,this.viewHeight=n,this._viewId=-1},e.prototype.setFog=function(t,e,r){void 0===t&&(t=16777215),void 0===e&&(e=0),void 0===r&&(r=100);var n=kt(t);this._fog?(this._fog.color[0]=n[0],this._fog.color[1]=n[1],this._fog.color[2]=n[2],this._fog.near=e,this._fog.far=r):this._fog={color:new Float32Array(n),near:e,far:r}},e.prototype.removeFog=function(){this._fog=null},Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()},enumerable:!0,configurable:!0}),e.prototype.updateTransform=function(){this.visible&&this.updateWorldMatrix()},e.prototype.renderWebGL=function(t){if(this.visible){var e=t.plugins.d3;if(this.camera.updateWorldMatrix(),e.camera=this.camera,e.lightsConfig=this.getLightConfig(),e.fog=this._fog||null,e.shadowType=this.shadowType,t.batchManager.setObjectRenderer(e),this.setViewport(t),e.viewport=this._viewport,this.filters&&this.filters.length){var r=this.filters;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<r.length;n++)r[n].enabled&&this._enabledFilters.push(r[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}this.render(t),t.batchManager.flush(),r&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()}else this.render(t)}},e.prototype.setViewport=function(t){if(this._viewId!==this.parent.transform._worldID){this._viewId=this.parent.transform._worldID;var e=this.parent.transform.worldMatrix,r=this.viewX*e.a+this.viewY*e.c+e.tx,n=this.viewX*e.b+this.viewY*e.d+e.ty,i=Math.sqrt(e.a*e.a+e.b*e.b),o=Math.sqrt(e.c*e.c+e.d*e.d);this._viewport={x:r,y:t.height-n-this.viewHeight*o,width:this.viewWidth*i,height:this.viewHeight*o}}this._viewport&&t.gl.viewport(this._viewport.x,this._viewport.y,this._viewport.width,this._viewport.height)},e.prototype.getBounds=function(){var t=this.parent.transform.worldMatrix,e=this.viewX*t.b+this.viewY*t.d+t.ty;return new z(this._viewport.x,e,this._viewport.width,this._viewport.height)},e.prototype.getLightConfig=function(t,e){void 0===t&&(t=this),void 0===e&&(e={pointLights:[],directionalLights:[],ambientLightColor:[0,0,0]});for(var r=this.camera.worldMatrixInverse,n=0;n<t.children.length;n++){var i=t.children[n];if(i instanceof Vn){var o=i.colorVec3.clone().multiplyScalar(i.intensity).toArray();if("AmbientLight"==i.instanceType)e.ambientLightColor[0]+=o[0],e.ambientLightColor[1]+=o[1],e.ambientLightColor[2]+=o[2];else if("PointLight"==i.instanceType){var a=(new gn).setFromMatrixPosition(i._worldMatrix);a.applyMatrix4(r),e.pointLights.push({color:o,position:a.toArray(),distance:i.distance,decay:0===i.distance?0:i.decay})}else if("DirectionalLight"==i.instanceType){var s,l=(new gn).setFromMatrixPosition(i._worldMatrix);if(l.sub((new gn).setFromMatrixPosition(i.target._worldMatrix)),l.transformDirection(r),i.castShadow){i.shadow.map;var h=i.shadow.camera,u=i.shadow.matrix,c=i._worldMatrix.elements.slice(12,15),f=i.target._worldMatrix.elements.slice(12,15);h.position.set(c[0],c[1],c[2]),h.lookAt(f[0],f[1],f[2]),h.updateWorldMatrix(),s=u.setIdentity().multiply(h.projectionMatrix).multiply(h.worldMatrixInverse).toArray(),u.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),u.multiply(h.projectionMatrix),u.multiply(h.worldMatrixInverse)}e.directionalLights.push({color:o,direction:l.normalize().toArray(),castShadow:i.castShadow,shadowMatrixDepth:s,shadowMatrix:i.shadow.matrix.toArray(),bias:i.shadow.bias,radius:i.shadow.radius,mapSize:[i.shadow.mapSize.x,i.shadow.mapSize.y]})}}i.children&&i.children.length&&this.getLightConfig(i,e)}return e},e.prototype.hitTestPoint=function(t,e){if(!this.parent||!this.mouseEnable)return null;var r=this.parent.transform.worldMatrix,n=this.viewX*r.a+this.viewY*r.c+r.tx,i=this.viewX*r.b+this.viewY*r.d+r.ty,o=Math.sqrt(r.a*r.a+r.b*r.b),a=Math.sqrt(r.c*r.c+r.d*r.d),s=this.viewWidth*o,l=this.viewHeight*a;if(!(t.x>=n&&t.x<=n+s&&t.y>=i&&t.y<=i+l))return null;if(this.mouseChildren){n=(t.x-n)/s*2-1,i=-(t.y-i)/l*2+1,this.raycaster.setFromCamera(new gn(n,i,.5),this.camera);var h=this.raycaster.intersectObject(this);if(h.length)return h[0].object}return this},e.prototype.setOrbCtrCfg=function(t){var e=this.orbitControlConfig;if(e&&t)for(var r in t)void 0!==e[r]&&(e[r]=t[r])},e.prototype.setOrbitControl=function(t){var e=this;if(!this.orbitControlConfig){this.orbitControlConfig={enabled:!0,enableDamping:!0,dampingFactor:.25,userZoom:!0,userZoomSpeed:1,userRotate:!0,userRotateSpeed:1,autoRotate:!1,autoRotateSpeed:2,minPolarAngle:0,maxPolarAngle:Math.PI,minDistance:0,maxDistance:1/0,enablePitch:!0},this.setOrbCtrCfg(t);var r=this.orbitControlConfig,n=new gn,i=new Un,o=new Un,a=new Un,s=0,l=0,h=1,u=[],c=0;this.addEventListener(Jt.MOUSE_DOWN,(function(t){if(r.enabled){if(u.push({x:t.clientX,y:t.clientY,id:t.identifier}),u.length>=2){var e=u[u.length-1],n=u[u.length-2];c=Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}i.set(t.clientX,t.clientY)}}),this),this.addEventListener(Jt.MOUSE_MOVE,(function(t){var e;if(r.enabled&&u.length)if(1==u.length){if(!r.userRotate)return;if(!i.x&&!i.y)return;o.set(t.clientX,t.clientY),a.subVectors(o,i),m(2*Math.PI*a.x/1800*r.userRotateSpeed),r.enablePitch&&(void 0===(e=2*Math.PI*a.y/1800*r.userRotateSpeed)&&(e=p()),s-=e),i.copy(o)}else{if(!1===r.userZoom)return;var n=u[u.length-1],l=u[u.length-2];if(t.identifier==n.id)n.x=t.clientX,n.y=t.clientY;else{if(t.identifier!=l.id)return;l.x=t.clientX,l.y=t.clientY}var h=Math.sqrt(Math.pow(n.x-l.x,2)+Math.pow(n.y-l.y,2));h-c>0?y(Math.pow(.95,r.userZoomSpeed/3)):v(Math.pow(.95,r.userZoomSpeed/3)),c=h}}),this);var f=function(t){u.length=0};this.addEventListener(Jt.MOUSE_UP,f,this),this.addEventListener(Jt.MOUSE_OUT,f,this),this.addEventListener(Jt.ENTER_FRAME,(function(){!function(){if(!(Math.abs(l)<1e-4&&Math.abs(s)<1e-4&&Math.abs(h-1)<1e-4)||r.autoRotate){var t=e.camera.position,i=t.clone().sub(n),o=Math.atan2(i.x,i.z),a=Math.atan2(Math.sqrt(i.x*i.x+i.z*i.z),i.y);r.autoRotate&&m(),o+=l,a+=s,a=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,a)),a=Math.max(1e-6,Math.min(Math.PI-1e-6,a));var u=i.length()*h;u=Math.max(r.minDistance,Math.min(r.maxDistance,u)),i.x=u*Math.sin(a)*Math.sin(o),i.y=u*Math.cos(a),i.z=u*Math.sin(a)*Math.cos(o),t.copy(n).add(i),e.camera.lookAt(n.x,n.y,n.z),r.enableDamping?(l*=1-r.dampingFactor,s*=1-r.dampingFactor):(l=0,s=0),h=1}}()}),this),document&&document.addEventListener("mousewheel",(function(t){if(r.enabled&&r.userZoom){var e=0;t.wheelDelta?e=t.wheelDelta:t.detail&&(e=-t.detail),e>0?y():v()}}),!1)}function p(){return 2*Math.PI/60/60*r.autoRotateSpeed}function d(){return Math.pow(.95,r.userZoomSpeed)}function m(t){void 0===t&&(t=p()),l-=t}function v(t){void 0===t&&(t=d()),h/=t}function y(t){void 0===t&&(t=d()),h*=t}},e}(En),Xn=(function(t){function e(e,r,n,i,o,a,s){void 0===e&&(e=1),void 0===r&&(r=8),void 0===n&&(n=6),void 0===i&&(i=0),void 0===o&&(o=2*Math.PI),void 0===a&&(a=0),void 0===s&&(s=Math.PI);var l=this;r=Math.max(3,Math.floor(r)),n=Math.max(2,Math.floor(n));var h,u,c=a+s,f=0,p=[],d=new gn,m=new gn,v=[],y=[],g=[],_=[];for(u=0;u<=n;u++){var b=[],x=u/n;for(h=0;h<=r;h++){var w=h/r;d.x=-e*Math.cos(i+w*o)*Math.sin(a+x*s),d.y=e*Math.cos(a+x*s),d.z=e*Math.sin(i+w*o)*Math.sin(a+x*s),y.push(d.x,d.y,d.z),m.set(d.x,d.y,d.z).normalize(),g.push(m.x,m.y,m.z),_.push(w,x),b.push(f++)}p.push(b)}for(u=0;u<n;u++)for(h=0;h<r;h++){var T=p[u][h+1],S=p[u][h],E=p[u+1][h],M=p[u+1][h+1];(0!==u||a>0)&&v.push(T,S,M),(u!==n-1||c<Math.PI)&&v.push(S,E,M)}return(l=t.call(this,y,v,g,null,_)||this).boundingSphere=new Pn(new gn,e),l}P(e,t)}(Bn),function(t){function e(e,r,n,i,o,a){void 0===e&&(e=1),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=1),void 0===o&&(o=1),void 0===a&&(a=1);var s=this;i=Math.floor(i)||1,o=Math.floor(o)||1,a=Math.floor(a)||1;var l=[],h=[],u=[],c=[],f=0;function p(t,e,r,n,i,o,a,s,p,d,m){var v,y,g=o/p,_=a/d,b=o/2,x=a/2,w=s/2,T=p+1,S=d+1,E=0,M=new gn;for(y=0;y<S;y++){var C=y*_-x;for(v=0;v<T;v++){var A=v*g-b;M[t]=A*n,M[e]=C*i,M[r]=w,h.push(M.x,M.y,M.z),M[t]=0,M[e]=0,M[r]=s>0?1:-1,u.push(M.x,M.y,M.z),c.push(v/p),c.push(y/d),E+=1}}for(y=0;y<d;y++)for(v=0;v<p;v++){var P=f+v+T*y,k=f+v+T*(y+1),O=f+(v+1)+T*(y+1),D=f+(v+1)+T*y;l.push(P,k,D),l.push(k,O,D)}f+=E}return p("z","y","x",-1,-1,n,r,e,a,o),p("z","y","x",1,-1,n,r,-e,a,o),p("x","z","y",1,1,e,n,r,i,a),p("x","z","y",1,-1,e,n,-r,i,a),p("x","y","z",1,-1,e,r,n,i,o),p("x","y","z",-1,-1,e,r,-n,i,o),(s=t.call(this,h,l,u,null,c)||this).boundingBox=new An(new gn(-e/2,-r/2,-n/2),new gn(e/2,r/2,n/2)),s.boundingSphere=new Pn(new gn,Math.sqrt(e*e+r*r+n*n)),s}P(e,t)}(Bn),function(t){function e(e,r,n,i){void 0===e&&(e=1),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=1);var o,a,s=e/2,l=r/2,h=Math.floor(n),u=Math.floor(i),c=h+1,f=u+1,p=e/h,d=r/u,m=[],v=[],y=[],g=[];for(a=0;a<f;a++){var _=a*d-l;for(o=0;o<c;o++){var b=o*p-s;v.push(b,-_,0),y.push(0,0,1),g.push(o/h),g.push(a/u)}}for(a=0;a<u;a++)for(o=0;o<h;o++){var x=o+c*a,w=o+c*(a+1),T=o+1+c*(a+1),S=o+1+c*a;m.push(x,w,S),m.push(w,T,S)}return t.call(this,v,m,y,null,g)||this}P(e,t)}(Bn),function(t){function e(e,r,n,i){void 0===e&&(e=1),void 0===r&&(r=8),void 0===n&&(n=0),void 0===i&&(i=2*Math.PI);r=Math.max(3,r);var o,a,s=[],l=[],h=[],u=[],c=new gn,f=new Un;for(l.push(0,0,0),h.push(0,0,1),u.push(.5,.5),a=0,o=3;a<=r;a++,o+=3){var p=n+a/r*i;c.x=e*Math.cos(p),c.y=e*Math.sin(p),l.push(c.x,c.y,c.z),h.push(0,0,1),f.x=(l[o]/e+1)/2,f.y=1-(l[o+1]/e+1)/2,u.push(f.x,f.y)}for(o=1;o<=r;o++)s.push(o,o+1,0);return t.call(this,l,s,h,null,u)||this}P(e,t)}(Bn),function(t){function e(e,r,n,i,o,a,s,l){void 0===e&&(e=1),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=8),void 0===o&&(o=1),void 0===a&&(a=!1),void 0===s&&(s=0),void 0===l&&(l=2*Math.PI);i=Math.floor(i)||8,o=Math.floor(o)||1;var h=[],u=[],c=[],f=[],p=0,d=[],m=n/2;function v(t){var n,o,a,d=new Un,v=new gn,y=!0===t?e:r,g=!0===t?1:-1;for(o=p,n=1;n<=i;n++)u.push(0,m*g,0),c.push(0,g,0),f.push(.5,.5),p++;for(a=p,n=0;n<=i;n++){var _=n/i*l+s,b=Math.cos(_),x=Math.sin(_);v.x=y*x,v.y=m*g,v.z=y*b,u.push(v.x,v.y,v.z),c.push(0,g,0),d.x=.5*b+.5,d.y=.5*x*g+.5,f.push(d.x,d.y),p++}for(n=0;n<i;n++){var w=o+n,T=a+n;!0===t?h.push(T,T+1,w):h.push(T+1,T,w)}}return function(){var t,a,v=new gn,y=new gn,g=(r-e)/n;for(a=0;a<=o;a++){var _=[],b=a/o,x=b*(r-e)+e;for(t=0;t<=i;t++){var w=t/i,T=w*l+s,S=Math.sin(T),E=Math.cos(T);y.x=x*S,y.y=-b*n+m,y.z=x*E,u.push(y.x,y.y,y.z),v.set(S,g,E).normalize(),c.push(v.x,v.y,v.z),f.push(w,b),_.push(p++)}d.push(_)}for(t=0;t<i;t++)for(a=0;a<o;a++){var M=d[a][t],C=d[a+1][t],A=d[a+1][t+1],P=d[a][t+1];h.push(M,C,P),h.push(C,A,P)}}(),a||(e>0&&v(!0),r>0&&v(!1)),t.call(this,u,h,c,null,f)||this}P(e,t)}(Bn),function(t){function e(e,r,n,i,o,a){void 0===e&&(e=.5),void 0===r&&(r=1),void 0===n&&(n=8),void 0===i&&(i=1),void 0===o&&(o=0),void 0===a&&(a=2*Math.PI);n=Math.max(3,n);var s,l,h,u=[],c=[],f=[],p=[],d=e,m=(r-e)/(i=Math.max(1,i)),v=new gn,y=new Un;for(l=0;l<=i;l++){for(h=0;h<=n;h++)s=o+h/n*a,v.x=d*Math.cos(s),v.y=d*Math.sin(s),c.push(v.x,v.y,v.z),f.push(0,0,1),y.x=(v.x/r+1)/2,y.y=1-(v.y/r+1)/2,p.push(y.x,y.y);d+=m}for(l=0;l<i;l++){var g=l*(n+1);for(h=0;h<n;h++){var _=s=h+g,b=s+n+1,x=s+n+2,w=s+1;u.push(_,b,w),u.push(b,x,w)}}return t.call(this,c,u,f,null,p)||this}P(e,t)}(Bn),function(t){function e(e,r,n,i,o){void 0===e&&(e=1),void 0===r&&(r=.4),void 0===n&&(n=8),void 0===i&&(i=6),void 0===o&&(o=2*Math.PI);n=Math.floor(n),i=Math.floor(i);var a,s,l=[],h=[],u=[],c=[],f=new gn,p=new gn,d=new gn;for(a=0;a<=n;a++)for(s=0;s<=i;s++){var m=s/i*o,v=a/n*Math.PI*2;p.x=(e+r*Math.cos(v))*Math.cos(m),p.y=(e+r*Math.cos(v))*Math.sin(m),p.z=r*Math.sin(v),h.push(p.x,p.y,p.z),f.x=e*Math.cos(m),f.y=e*Math.sin(m),d.subVectors(p,f).normalize(),u.push(d.x,d.y,d.z),c.push(s/i),c.push(1-a/n)}for(a=1;a<=n;a++)for(s=1;s<=i;s++){var y=(i+1)*a+s-1,g=(i+1)*(a-1)+s-1,_=(i+1)*(a-1)+s,b=(i+1)*a+s;l.push(y,g,b),l.push(g,_,b)}return t.call(this,h,l,u,null,c)||this}P(e,t)}(Bn),function(t){function e(e){var r=t.call(this,e)||this;return r._instanceType="LightMaterial",r._lightAffect=!0,r}return P(e,t),e.prototype.clone=function(){return(new e).copy(this)},e}(Mn)),qn="attribute vec3 aPosition;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uModelMatrix;\nvoid main() {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4( aPosition, 1.0 );\n}",Kn=function(t){function e(e,r,n){void 0===e&&(e=qn),void 0===r&&(r="void main() {\n    gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}"),void 0===n&&(n={});var i=t.call(this)||this;return i.vertexShader=e,i.fragmentShader=r,i.uniforms=n,i.shaders={},i.isShaderMaterial=!0,i.vertexShader=e||qn,i.fragmentShader=r||"void main() {\n    gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",i._instanceType="ShaderMaterial",i}return P(e,t),e.prototype.getShader=function(t){var e=t.CONTEXT_UID;return this.shaders[e]||(this.shaders[e]=new Ee(t.gl,this.vertexShader,this.fragmentShader),this.shaders[e]._glShaderKey="customShaderid"+e+"instanceId"+this.instanceId),this.shaders[e]},e.prototype.destroy=function(){for(var t in this.shaders)this.shaders[t].destroy(),delete this.shaders[t];this.shaders=null,this.vertexShader=null,this.fragmentShader=null},e}(D);!function(t){t.float="f",t.texture="t",t.color="c",t.vector2="v2",t.vector3="v3",t.vector4="v4",t.matrix4="m4"}(Gn||(Gn={}));(function(t){function e(){var e=t.call(this,"precision mediump float;\nattribute vec3 aPosition;\nattribute vec2 aTextureCoord;\nvarying vec2 vTextureCoord;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uModelMatrix;\n\nuniform vec2 center;\n\nuniform float rotation;\n\nvoid main() {\n    vTextureCoord = aTextureCoord;\n    vec4 mvPosition = uViewMatrix * uModelMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n    vec2 scale;\n\tscale.x = length( vec3( uModelMatrix[ 0 ].x, uModelMatrix[ 0 ].y, uModelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( uModelMatrix[ 1 ].x, uModelMatrix[ 1 ].y, uModelMatrix[ 1 ].z ) );\n    \n    #ifndef USE_SIZEATTENUATION\n        bool isPerspective = ( uProjectionMatrix[ 2 ][ 3 ] == - 1.0 );\n        if ( isPerspective ) scale *= - mvPosition.z;\n    #endif\n\n    vec2 alignedPosition = ( aPosition.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\n\tmvPosition.xy += rotatedPosition;\n\n\tgl_Position = uProjectionMatrix * mvPosition;\n}","precision mediump float;\nuniform vec3 color;\nuniform float alpha;\nuniform sampler2D map;\nvarying vec2 vTextureCoord;\nvoid main() {\n    vec4 mapColor = texture2D( map, vTextureCoord );\n    gl_FragColor = vec4( color, alpha )*mapColor;\n}",{center:{type:Gn.vector2,value:new Un(.5,.5)},rotation:{type:Gn.float,value:0},color:{type:Gn.color,value:16777215},alpha:{type:Gn.float,value:1},map:{type:Gn.texture,value:Yt.WHITE}})||this;return e.sizeAttenuation=!0,e._instanceType="Sprite3dMaterial",e}P(e,t),e.prototype.getShader=function(t){var e=""+t.CONTEXT_UID+this.sizeAttenuation;return this.shaders[e]||(this.shaders[e]=new Ee(t.gl,(this.sizeAttenuation?"#define USE_SIZEATTENUATION\n":"")+this.vertexShader,this.fragmentShader),this.shaders[e]._glShaderKey="customShaderid"+e+"instanceId"+this.instanceId+"sizeAttenuation"+this.sizeAttenuation),this.shaders[e]},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center.value},set:function(t){this.uniforms.center.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.uniforms.rotation.value*M},set:function(t){this.uniforms.rotation.value=t*C},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.uniforms.color.value},set:function(t){this.uniforms.color.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha.value},set:function(t){this.uniforms.alpha.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.map.value},set:function(t){this.uniforms.map.value=t},enumerable:!0,configurable:!0})})(Kn),function(t){function e(e,r){var n=t.call(this,e,r)||this;return n._instanceType="AmbientLight",n}P(e,t)}(Vn);var Zn=function(t){function e(e,r,n,i,o,a){void 0===e&&(e=-1),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=-1),void 0===o&&(o=.1),void 0===a&&(a=2e3);var s=t.call(this)||this;return s.left=e,s.right=r,s.top=n,s.bottom=i,s.near=o,s.far=a,s._instanceType="OrthographicCamera",s.zoom=1,s.updateProjectionMatrix(),s}return P(e,t),e.prototype.set=function(t,e,r,n,i,o){void 0===i&&(i=.1),void 0===o&&(o=2e3),this.zoom=1,this.left=t,this.right=e,this.top=r,this.bottom=n,this.near=i,this.far=o,this.updateProjectionMatrix()},e.prototype.copy=function(e,r){return void 0===r&&(r=!0),t.prototype.copy.call(this,e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.updateProjectionMatrix(),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.updateProjectionMatrix=function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-t,o=r+t,a=n+e,s=n-e;this.projectionMatrix.setOrtho(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.setInverseOf(this.projectionMatrix)},e}(zn),Jn=function(t){function e(){return t.call(this,new Zn(-5,5,5,-5,.5,500))||this}return P(e,t),e.prototype.clone=function(){return(new e).copy(this)},e}(function(t){function e(e){var r=t.call(this)||this;return r.camera=e,r.bias=0,r.radius=1,r.mapSize=new Un(512,512),r.matrix=new _n,r._instanceType="LightShadow",r}return P(e,t),e.prototype.copy=function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.destroy=function(){this.mapSize=null,this.camera.destroy(),this.camera=null},e}(D));(function(t){function e(e,r){var n=t.call(this,e,r)||this;return n._instanceType="DirectionalLight",n.position.copy(En.DefaultUp),n.updateLocalMatrix(),n.target=new En,n.shadow=new Jn,n}P(e,t),e.prototype.copy=function(e){return t.prototype.copy.call(this,e),this.target=e.target.clone(),this}})(Vn),function(t){function e(e,r,n,i){void 0===n&&(n=0),void 0===i&&(i=1);var o=t.call(this,e,r)||this;return o.distance=n,o.decay=i,o._instanceType="PointLight",o}P(e,t),Object.defineProperty(e.prototype,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)},enumerable:!0,configurable:!0}),e.prototype.copy=function(e){return t.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this}}(Vn),function(t){function e(e){void 0===e&&(e=1);var r=new Bn([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],null,null,[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),n=new Mn({wireframe:!0,useVertexColor:!0});return t.call(this,r,n)||this}P(e,t)}(Rn),function(t){function e(e,r,n,i){void 0===e&&(e=10),void 0===r&&(r=10),void 0===n&&(n=4473924),void 0===i&&(i=8947848);for(var o=r/2,a=e/r,s=e/2,l=kt(n),h=kt(i),u=[],c=[],f=0,p=-s;f<=r;f++,p+=a){u.push(-s,0,p,s,0,p),u.push(p,0,-s,p,0,s);for(var d=f===o?l:h,m=4;m--;)c.push(d[0],d[1],d[2])}var v=new Bn(u,null,null,c),y=new Mn({wireframe:!0,useVertexColor:!0});return t.call(this,v,y)||this}P(e,t)}(Rn),function(t){function e(e,r){void 0===r&&(r=16776960);var n=this;return(n=t.call(this,new Bn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],[0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),new Mn({wireframe:!0,color:r}))||this).box=e,n.mouseChildren=n.mouseEnable=!1,n}P(e,t),e.prototype.updateWorldMatrix=function(e,r){void 0===e&&(e=!1),void 0===r&&(r=!0);var n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),t.prototype.updateWorldMatrix.call(this,e,r))}}(Rn);function $n(t,e,r,n,i,o,a,s){for(var l,h={glUid:t.CONTEXT_UID,precision:ti(t),pointLightsNum:r.pointLights.length,dirLightsNum:r.directionalLights.length,morphTargets:n.morphTargetInfluences&&e.morphTargets,morphNormals:n.morphTargetInfluences&&e.morphTargets&&e.morphNormals,skinning:e.skinning&&i>0,maxBones:i||0,useVertexTexture:o,lightAffect:e._lightAffect,useMap:!!e.map,useEnvMap:!!e.envMap,combine:e.combine,useVertexColor:!!e.useVertexColor,useFog:a&&e.useFog,useShadow:s&&n.receiveShadow&&e._lightAffect,shadowType:s&&s.shadowType},u=function(t){for(var e=[],r=0;r<ii.length;r++)e.push(t[ii[r]]);return e.join()}(h),c=0;c<ni.length;c++)if(ni[c]._glShaderKey===u){++(l=ni[c]).usedTimes;break}return l||((l=new ei(t.gl,h))._glShaderKey=u,ni.push(l)),l}var Qn={};function ti(t){var e;return Qn[t.CONTEXT_UID]||(Qn[t.CONTEXT_UID]=(e=t.gl).getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0?"highp":e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"),Qn[t.CONTEXT_UID]}var ei=function(t){function e(e,r){var n=this,i=["precision "+r.precision+" float;","precision "+r.precision+" int;",r.lightAffect?"#define USE_LIGHT":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals?"#define USE_MORPHNORMALS":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"","#define MAX_BONES "+r.maxBones,r.useMap?"#define USE_MAP":"",r.useEnvMap?"#define USE_ENVMAP":"",r.useVertexColor?"#define USE_VERTEXCOLOR":"",r.useFog?"#define USE_FOG":"",r.useShadow?"#define USE_SHADOW":""].filter((function(t){return""!==t})).join("\n");i&&(i+="\n");var o=["precision "+r.precision+" float;","precision "+r.precision+" int;",r.lightAffect?"#define USE_LIGHT":"",r.useMap?"#define USE_MAP":"",r.useEnvMap?"#define USE_ENVMAP":"",r.useEnvMap?"#define "+r.combine:"",r.useVertexColor?"#define USE_VERTEXCOLOR":"",r.useFog?"#define USE_FOG":"",r.useShadow?"#define USE_SHADOW":"",r.useShadow?"#define "+r.shadowType:""].filter((function(t){return""!==t})).join("\n");o&&(o+="\n");var a=ai.replace(new RegExp(ri.POINT_LIGHTS_NUM,"gm"),r.pointLightsNum+"").replace(new RegExp(ri.DIR_LIGHTS_NUM,"gm"),r.dirLightsNum+"");return(n=t.call(this,e,i+oi,o+a)||this).uniformData=function(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=t.getActiveUniform(e,i),a=0==o.name.indexOf("morphTargetInfluences")||0==o.name.indexOf("uBoneMatrices")?o.name.replace(/\[.*?\]/,""):o.name,s=ce(t,o.type);r[a]={type:s,size:o.size,location:t.getUniformLocation(e,a),value:ve(s,o.size)}}return r}(e,n.program),n.uniforms=_e(e,n.uniformData),n.usedTimes=0,n}return P(e,t),e}(Ee);var ri,ni=[],ii=["glUid","precision","pointLightsNum","dirLightsNum","morphTargets","morphNormals","skinning","maxBones","useVertexTexture","lightAffect","useMap","useEnvMap","combine","useVertexColor","useFog","useShadow","shadowType"];!function(t){t.POINT_LIGHTS_NUM="POINT_LIGHTS_NUM",t.DIR_LIGHTS_NUM="DIR_LIGHTS_NUM"}(ri||(ri={}));var oi=["attribute vec3 aPosition;","uniform mat4 uViewMatrix;","uniform mat4 uProjectionMatrix;","uniform mat4 uModelMatrix;","#ifdef USE_VERTEXCOLOR","   attribute vec3 aColor;","   varying vec3 vColor;","#endif","#ifdef USE_MAP","   attribute vec2 aTextureCoord;","   varying vec2 vTextureCoord;","#endif","#if defined( USE_ENVMAP ) || defined( USE_LIGHT )","   attribute vec3 aNormal;","   uniform mat4 uNormalMatrix;","   varying vec3 vNormal;","   varying vec3 vWorldPosition;","   varying vec3 vViewPosition;","#endif","#ifdef USE_ENVMAP","   varying vec3 vReflect;","   uniform vec3 uCameraPosition;","#endif","#ifdef USE_SKINNING","   uniform mat4 uBindMatrix;","   uniform mat4 uBindMatrixInverse;","   #ifdef BONE_TEXTURE","      uniform sampler2D uBoneTexture;","      uniform int uBoneTextureSize;","      mat4 getBoneMatrix( const in float i ) {","         float j = i * 4.0;","         float x = mod( j, float( uBoneTextureSize ) );","         float y = floor( j / float( uBoneTextureSize ) );","         float dx = 1.0 / float( uBoneTextureSize );","         float dy = 1.0 / float( uBoneTextureSize );","         y = dy * ( y + 0.5 );","         vec4 v1 = texture2D( uBoneTexture, vec2( dx * ( x + 0.5 ), y ) );","         vec4 v2 = texture2D( uBoneTexture, vec2( dx * ( x + 1.5 ), y ) );","         vec4 v3 = texture2D( uBoneTexture, vec2( dx * ( x + 2.5 ), y ) );","         vec4 v4 = texture2D( uBoneTexture, vec2( dx * ( x + 3.5 ), y ) );","         mat4 bone = mat4( v1, v2, v3, v4 );","         return bone;","      }","   #else","      uniform mat4 uBoneMatrices[ MAX_BONES ];","      mat4 getBoneMatrix( const in float i ) {","         mat4 bone = uBoneMatrices[ int(i) ];","         return bone;","      }","   #endif","\tattribute vec4 aSkinIndex;","\tattribute vec4 aSkinWeight;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","       uniform float morphTargetInfluences[ 4 ];","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","       uniform float morphTargetInfluences[ 8 ];","\t#endif","#endif","#ifdef USE_FOG","    varying float vFogDepth;","#endif","#ifdef USE_SHADOW","      uniform mat4 uDirectionalShadowMatrix;","      varying vec4 vDirectionalShadowCoord;","#endif","void main() {","   vec3 transformed = vec3( aPosition );","   #ifdef USE_MORPHTARGETS","      transformed += ( morphTarget0 - aPosition ) * morphTargetInfluences[ 0 ];","      transformed += ( morphTarget1 - aPosition ) * morphTargetInfluences[ 1 ];","      transformed += ( morphTarget2 - aPosition ) * morphTargetInfluences[ 2 ];","      transformed += ( morphTarget3 - aPosition ) * morphTargetInfluences[ 3 ];","      #ifndef USE_MORPHNORMALS","         transformed += ( morphTarget4 - aPosition ) * morphTargetInfluences[ 4 ];","         transformed += ( morphTarget5 - aPosition ) * morphTargetInfluences[ 5 ];","         transformed += ( morphTarget6 - aPosition ) * morphTargetInfluences[ 6 ];","         transformed += ( morphTarget7 - aPosition ) * morphTargetInfluences[ 7 ];","      #endif","   #endif","   #ifdef USE_SKINNING","      mat4 boneMatX = getBoneMatrix( aSkinIndex.x );","      mat4 boneMatY = getBoneMatrix( aSkinIndex.y );","      mat4 boneMatZ = getBoneMatrix( aSkinIndex.z );","      mat4 boneMatW = getBoneMatrix( aSkinIndex.w );","      vec4 skinVertex = uBindMatrix * vec4( transformed, 1.0 );","      vec4 skinned = vec4( 0.0 );","      skinned += boneMatX * skinVertex * aSkinWeight.x;","      skinned += boneMatY * skinVertex * aSkinWeight.y;","      skinned += boneMatZ * skinVertex * aSkinWeight.z;","      skinned += boneMatW * skinVertex * aSkinWeight.w;","      transformed = ( uBindMatrixInverse * skinned ).xyz;","   #endif","   vec4 mvPosition = uViewMatrix * uModelMatrix * vec4( transformed, 1.0 );","   gl_Position = uProjectionMatrix * mvPosition;","   #ifdef USE_VERTEXCOLOR","      vColor = aColor;","   #endif","   #ifdef USE_MAP","      vTextureCoord = aTextureCoord;","   #endif","   #if defined( USE_ENVMAP ) || defined( USE_LIGHT )","      vec3 objectNormal = vec3( aNormal );","      #ifdef USE_MORPHNORMALS","         objectNormal += ( morphNormal0 - aNormal ) * morphTargetInfluences[ 0 ];","         objectNormal += ( morphNormal1 - aNormal ) * morphTargetInfluences[ 1 ];","         objectNormal += ( morphNormal2 - aNormal ) * morphTargetInfluences[ 2 ];","         objectNormal += ( morphNormal3 - aNormal ) * morphTargetInfluences[ 3 ];","      #endif","      #ifdef USE_SKINNING","         mat4 skinMatrix = mat4( 0.0 );","         skinMatrix += aSkinWeight.x * boneMatX;","         skinMatrix += aSkinWeight.y * boneMatY;","         skinMatrix += aSkinWeight.z * boneMatZ;","         skinMatrix += aSkinWeight.w * boneMatW;","         skinMatrix  = uBindMatrixInverse * skinMatrix * uBindMatrix;","         objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;","      #endif","      vViewPosition = -mvPosition.xyz;","      vWorldPosition = vec3(uModelMatrix * vec4(transformed,1.0));","      vec3 vTransformedNormal = vec3(uNormalMatrix * vec4(objectNormal,1.0));","      vNormal = normalize(vTransformedNormal);","      #ifdef USE_ENVMAP","         vec3 cameraToVertex = normalize( vWorldPosition.xyz - uCameraPosition );","         vec3 worldNormal = normalize( ( vec4( vTransformedNormal, 0.0 ) * uViewMatrix ).xyz );","         vReflect = reflect(cameraToVertex, worldNormal);","      #endif","   #endif","   #ifdef USE_FOG","      vFogDepth = -mvPosition.z;","   #endif","   #ifdef USE_SHADOW","         vDirectionalShadowCoord = uDirectionalShadowMatrix * (uModelMatrix * vec4(transformed,1.0));","   #endif","}"].join("\n"),ai=["uniform vec3 uMatColor;","uniform float uMatAlpha;","#ifdef USE_MAP","   uniform sampler2D uMap;","   varying vec2 vTextureCoord;","#endif","#ifdef USE_VERTEXCOLOR","   varying vec3 vColor;","#endif","#if defined( USE_ENVMAP ) || defined( USE_LIGHT )","   varying vec3 vNormal;","   varying vec3 vWorldPosition;","   varying vec3 vViewPosition;","#endif","#ifdef USE_ENVMAP","   uniform sampler2D uEnvMap;","   uniform float uReflectivity;","   uniform mat4 uViewMatrix;","   varying vec3 vReflect;","#endif","#ifdef USE_LIGHT","   float calcSpecular(vec3 lightDir, vec3 viewDir, vec3 normal) {","      vec3 halfwayDir = normalize(lightDir + viewDir);","      float spec = pow(max(dot(normal, halfwayDir), 0.0), 32.0);","      return spec;","   }","   #if "+ri.POINT_LIGHTS_NUM+" > 0","      #define saturate(a) clamp( a, 0.0, 1.0 )","      float calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {","         if ( decayExponent > 0.0 ) {","            return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );","         }","         return 1.0;","      }","      struct PointLight {","         vec3 color;","         vec3 position;","         float distance;","         float decay;","      };","      uniform PointLight pointLights["+ri.POINT_LIGHTS_NUM+"];","   #endif","   #if "+ri.DIR_LIGHTS_NUM+" > 0","      struct DirectionalLight {","         vec3 direction;","         vec3 color;","         int shadow;","         float shadowBias;","\t      float shadowRadius;","\t      vec2 shadowMapSize;","      };","      uniform DirectionalLight directionalLights["+ri.DIR_LIGHTS_NUM+"];","   #endif","   uniform vec3 uAmbientLightColor;","#endif","#ifdef USE_FOG","   uniform vec3 uFogColor;","   varying float vFogDepth;","   uniform float uFogNear;","   uniform float uFogFar;","#endif","#ifdef USE_SHADOW","      uniform sampler2D uDirectionalShadowMap;","      varying vec4 vDirectionalShadowCoord;","      const float UnpackDownscale = 255. / 256.;","      const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );","      const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );","      float unpackRGBAToDepth( const in vec4 v ) {","          return dot( v, UnpackFactors );","      }","   float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {","      return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );","   }","   float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {","      float shadow = 1.0;","      shadowCoord.xyz /= shadowCoord.w;","      shadowCoord.z += shadowBias;","      bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );","      bool inFrustum = all( inFrustumVec );","      bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );","      bool frustumTest = all( frustumTestVec );","      if ( frustumTest ) {","         #if defined( SHADOWMAP_TYPE_PCF )","            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;","            float dx0 = - texelSize.x * shadowRadius;","\t         float dy0 = - texelSize.y * shadowRadius;","\t         float dx1 = + texelSize.x * shadowRadius;","\t         float dy1 = + texelSize.y * shadowRadius;","            shadow =(","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +","               texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )","            ) * ( 1.0 / 9.0 );","         #elif defined( SHADOWMAP_TYPE_PCF_SOFT )","         #else","            shadow = texture2DCompare(shadowMap, shadowCoord.xy, shadowCoord.z);","         #endif","      }","      return shadow;","   }","#endif","void main() {","   vec4 color = vec4( uMatColor, uMatAlpha );","   color.rgb *= color.a;","   #ifdef USE_MAP","      vec4 mapColor = texture2D( uMap, vTextureCoord );","      color *= mapColor;","   #endif","   #ifdef USE_VERTEXCOLOR","      color *= vec4(vColor,1.0);","   #endif","   vec3 colorRgb = color.rgb;","   #ifdef USE_LIGHT","      vec3 totalDiffuseLight = vec3( 0.0 );","      vec3 totalSpecularLight = vec3( 0.0 );","      vec3 viewDir = normalize(vViewPosition);","      vec3 lightDirection;","      float diffuse;","      float specular;","      #if "+ri.POINT_LIGHTS_NUM+" > 0","         float attenuation;","         for ( int i = 0; i < "+ri.POINT_LIGHTS_NUM+"; i ++ ) {","            lightDirection = pointLights[i].position + vViewPosition;","            attenuation = calcLightAttenuation( length( lightDirection ), pointLights[ i ].distance, pointLights[ i ].decay );","            lightDirection = normalize(lightDirection);","            diffuse = max( dot( vNormal, lightDirection ), 0.0 );","            totalDiffuseLight += pointLights[i].color * (diffuse * attenuation);","            specular = calcSpecular(lightDirection,viewDir,vNormal);","            totalSpecularLight += pointLights[i].color *(specular * attenuation);","         }","      #endif","      #if "+ri.DIR_LIGHTS_NUM+" > 0","         DirectionalLight directionalLight;","         for( int i = 0; i < "+ri.DIR_LIGHTS_NUM+"; i++ ) {","            directionalLight = directionalLights[ i ];","            vec3 dColor = directionalLight.color;","            #ifdef USE_SHADOW","               dColor *= all( bvec2( directionalLight.shadow, 1.0 ) ) ? getShadow( uDirectionalShadowMap, directionalLight.shadowMapSize, directionalLight.shadowBias,directionalLight.shadowRadius, vDirectionalShadowCoord ) : 1.0;","            #endif","            lightDirection = directionalLight.direction;","            diffuse = max( dot( vNormal, lightDirection ), 0.0 );","            totalDiffuseLight += dColor * diffuse;","            specular = calcSpecular(lightDirection,viewDir,vNormal);","            totalSpecularLight += dColor * specular;","         }","      #endif","      colorRgb = (totalDiffuseLight + uAmbientLightColor + totalSpecularLight) * colorRgb;","   #endif","   #ifdef USE_ENVMAP","      vec2 envUv;","      vec3 reflectVec = normalize( vReflect );","      envUv.y =0.5 - asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * 0.31830988618;","      envUv.x = atan( reflectVec.z, reflectVec.x ) * 0.15915494 + 0.5;","\t   vec4 envColor = texture2D( uEnvMap, envUv );","      #ifdef ENVMAP_BLENDING_MULTIPLY","         colorRgb = mix(colorRgb, colorRgb * envColor.xyz,  uReflectivity);","      #elif defined( ENVMAP_BLENDING_MIX )","         colorRgb = mix( colorRgb, envColor.xyz,   uReflectivity );","      #elif defined( ENVMAP_BLENDING_ADD )","         colorRgb += envColor.xyz  * uReflectivity;","      #endif","   #endif","   gl_FragColor = vec4( colorRgb, color.a );","#ifdef USE_FOG","   float fogFactor = smoothstep( uFogNear, uFogFar, vFogDepth );","   gl_FragColor.rgb = mix( gl_FragColor.rgb, uFogColor*color.a, fogFactor );","#endif","}"].join("\n"),si=function(t){function e(e){return t.call(this,e,"attribute vec3 aPosition;\nuniform mat4 uLightSpaceMatrix;\nuniform mat4 uModelMatrix;\nvoid main() {\n    gl_Position = uLightSpaceMatrix * uModelMatrix * vec4( aPosition, 1.0 );\n}","precision mediump float;\n    // uniform float uMatAlpha;\n    const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\n    vec4 packDepthToRGBA( const in float v ) {\n        vec4 r = vec4( fract( v * PackFactors ), v );\n        r.yzw -= r.xyz * (1. / 256.);\n        return r * (256. / 255.);\n    }\n    void main() {\n        // gl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), uMatAlpha );\n        gl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n}")||this}return P(e,t),e}(Ee),li=new gn,hi=new _n,ui=function(t){function e(e){var r=t.call(this,e)||this;return r.meshes=[],r}return P(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.maxVertexUniforms=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),t.getExtension("OES_texture_float"),this.floatVertexTextures=!1},e.prototype.start=function(){this.renderer.state.setDepthTest(1)},e.prototype.stop=function(){this.flush(),this.renderer._activeRenderTarget.activate(),this.renderer.state.setState(this.renderer.state.defaultState)},e.prototype.render=function(t){if(t.geometry&&t.material){var e=t.material;t.geometry;for(var r=0;r<this.meshes.length;r++)if(this.meshes[r].material==e)return void this.meshes.splice(r,0,t);this.meshes.push(t)}},e.prototype.flush=function(){var t=function(t,e,r){var n=function(){if(!t||!t.directionalLights||!t.directionalLights.length)return null;for(var e=0,r=t.directionalLights;e<r.length;e++){var n=r[e];if(n.castShadow)return n}return null}();if(!n)return null;var i=[],o=[];if(e&&e.length)for(var a=0,s=e;a<s.length;a++){var l=s[a];l.castShadow&&l.material._lightAffect&&i.push(l),l.receiveShadow&&l.material._lightAffect&&o.push(l)}if(!i.length||!o.length)return null;var h=r.gl;ci=ci||new pr(new fr(n.mapSize[0],n.mapSize[1])),r.bindRenderTexture(ci,null),r.clear([1,1,1,1]),r.state.setBlend(!1);var u=yi[r.CONTEXT_UID]||(yi[r.CONTEXT_UID]=new si(r.gl));r.bindShader(u,!1);var c=u.uniforms;return c.uLightSpaceMatrix=n.shadowMatrixDepth,r.state.setCullFace(1),r.state.setFrontFace(1),i.forEach((function(t){var e=t.geometry,n=t.material;c.uModelMatrix=t._worldMatrix.toArray();var i=gi(e,r),o=i.vaos[r.CONTEXT_UID],a=u.attributes;o?r.bindVao(o):(o=i.vaos[r.CONTEXT_UID]=r.createVao().addAttribute(i.attrBuffer,a.aPosition,h.FLOAT,!1,e._vertByteSize,0),e._indices&&o.addIndex(i.indexBuffer),r.bindVao(o),i.attrBuffer.upload(e._attrBuffer.vertices,0,!1),e._indices&&i.indexBuffer.upload(e._indices,0,!1)),o.draw(n.wireframe?h.LINES:h.TRIANGLES)})),r.bindRenderTexture(null,null),r.state.setBlend(!0),{texture:ci,lightSpaceMatrix:n.shadowMatrix,shadowType:null}}(this.lightsConfig,this.meshes,this.renderer);t&&(this.renderer.gl.viewport(this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height),t.shadowType=this.shadowType);for(var e=null,r=this.lightsConfig.pointLights.length,n=this.lightsConfig.directionalLights.length,i=this.renderer.gl,o=this.renderer.textureManager,a=0;a<this.meshes.length;a++){var s=this.meshes[a],l=s.material,h=s.geometry;if(l.isShaderMaterial){var u=l.getShader(this.renderer),c=u.uniforms,f=l.uniforms;for(var p in e!==u&&(e=u,this.renderer.bindShader(e,!1),c.uViewMatrix&&(c.uViewMatrix=this.camera.worldMatrixInverse.toArray()),c.uProjectionMatrix&&(c.uProjectionMatrix=this.camera.projectionMatrix.toArray())),c.uModelMatrix&&(c.uModelMatrix=s._worldMatrix.toArray()),f){var d=f[p],m=d.type,v=d.value;switch(m){case Gn.texture:c[p]=o.bindTexture(v,void 0,!1);break;case Gn.color:c[p]=kt(v);break;case Gn.vector2:case Gn.vector3:case Gn.vector4:case Gn.matrix4:c[p]=v.toArray();break;default:c[p]=v}}}else{var y=this.getMaxBones(s),g=$n(this.renderer,l,this.lightsConfig,s,y,this.floatVertexTextures,this.fog,t);c=g.uniforms;if(e!==g&&(e=g,this.renderer.bindShader(e,!1),c.uViewMatrix=this.camera.worldMatrixInverse.toArray(),c.uProjectionMatrix=this.camera.projectionMatrix.toArray(),l._lightAffect)){for(var _=0;_<r;_++){c[b="pointLights["+_+"]"].color=this.lightsConfig.pointLights[_].color,c[b].position=this.lightsConfig.pointLights[_].position,c[b].distance=this.lightsConfig.pointLights[_].distance,c[b].decay=this.lightsConfig.pointLights[_].decay}for(_=0;_<n;_++){var b="directionalLights["+_+"]",x=this.lightsConfig.directionalLights[_];c[b].color=x.color,c[b].direction=x.direction,c[b].shadow=+x.castShadow,c[b].shadowBias=x.bias,c[b].shadowRadius=x.radius,c[b].shadowMapSize=x.mapSize}c.uAmbientLightColor=this.lightsConfig.ambientLightColor,c.uDirectionalShadowMatrix&&(c.uDirectionalShadowMatrix=t.lightSpaceMatrix,c.uDirectionalShadowMap=o.bindTexture(t.texture,void 0,!1))}if(l.map&&(c.uMap=o.bindTexture(l.map,void 0,!1)),l.envMap&&(c.uEnvMap=o.bindTexture(l.envMap,void 0,!1),c.uReflectivity=l.reflectivity,c.uCameraPosition=li.setFromMatrixPosition(this.camera._worldMatrix).toArray()),c.uMatColor=l.colorArr,c.uMatAlpha=l.alpha,l.useFog&&this.fog&&(c.uFogColor=this.fog.color,c.uFogNear=this.fog.near,c.uFogFar=this.fog.far),c.uModelMatrix=s._worldMatrix.toArray(),c.uNormalMatrix){var w=hi.multiplyMatrices(this.camera.worldMatrixInverse,s._worldMatrix).invert().transpose();c.uNormalMatrix=w.toArray()}if(l.skinning&&y>0){var T=s;c.uBindMatrix=T.bindMatrix.toArray(),c.uBindMatrixInverse=T.bindMatrixInverse.toArray();var S=T.skeleton;if(S){var E=S.bones;if(this.floatVertexTextures){if(!S.boneTexture){var M=Math.sqrt(4*E.length);M=function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}(M),M=Math.max(M,4);var C=new Float32Array(M*M*4);C.set(S.boneMatrices);var A=new Wt({data:C,width:M,height:M});A.mipmap=!1,S.boneMatrices=C,S.boneTexture=A,S.boneTextureSize=M}var P=o.bindTexture(S.boneTexture,void 0,!1);c.uBoneTexture=P,c.uBoneTextureSize=S.boneTextureSize}else c.uBoneMatrices=T.skeleton.boneMatrices}}}var k,O=gi(h,this.renderer),D=O.vaos[e._glShaderKey],I=e.attributes;if(D)s.morphTargetInfluences&&l.morphTargets&&(k=mi(s.morphTargetInfluences,h,O,D,e,i)),this.renderer.bindVao(D,!!k),k&&k.forEach((function(t){t.buffer.upload(t.data,0,!1)}));else D=O.vaos[e._glShaderKey]=this.renderer.createVao().addAttribute(O.attrBuffer,I.aPosition,i.FLOAT,!1,h._vertByteSize,0),I.aColor&&D.addAttribute(O.attrBuffer,I.aColor,i.FLOAT,!0,h._vertByteSize,12),I.aTextureCoord&&D.addAttribute(O.attrBuffer,I.aTextureCoord,i.FLOAT,!0,h._vertByteSize,24),I.aNormal&&D.addAttribute(O.attrBuffer,I.aNormal,i.FLOAT,!1,h._vertByteSize,32),h._indices&&D.addIndex(O.indexBuffer),I.aSkinWeight&&D.addAttribute(O.skinWeightBuffer,I.aSkinWeight,i.FLOAT,!1,0,0),I.aSkinIndex&&D.addAttribute(O.skinIndexBuffer,I.aSkinIndex,i.UNSIGNED_BYTE,!1,0,0),s.morphTargetInfluences&&l.morphTargets&&(k=mi(s.morphTargetInfluences,h,O,D,e,i)),this.renderer.bindVao(D),O.attrBuffer.upload(h._attrBuffer.vertices,0,!1),h._indices&&O.indexBuffer.upload(h._indices,0,!1),I.aSkinWeight&&O.skinWeightBuffer.upload(new Float32Array(h._skinWeight),0,!1),I.aSkinIndex&&O.skinIndexBuffer.upload(new Uint8Array(h._skinIndex),0,!1),k&&k.forEach((function(t){t.buffer.upload(t.data,0,!1)}));l.side==wn.DoubleSide?this.renderer.state.setCullFace(0):(this.renderer.state.setCullFace(1),this.renderer.state.setFrontFace(l.side)),D.draw(l.wireframe?i.LINES:i.TRIANGLES)}this.meshes.length=0},e.prototype.getMaxBones=function(t){if("SkinnedMesh3D"!==t.instanceType)return 0;if(this.floatVertexTextures)return 1024;var e=t.skeleton.bones,r=Math.floor((this.maxVertexUniforms-20)/4),n=Math.min(r,e.length);return n<e.length?(console.warn("Skeleton has "+e.length+" bones. This GPU supports "+n+"."),0):n},e}(Qt);var ci,fi={},pi={},di=new Float32Array(8);function mi(t,e,r,n,i,o){var a=e._morphPositions,s=e._morphNormals,l=t.length,h=[],u=fi[e.instanceId];if(!u){u=[];for(var c=0;c<l;c++)u[c]=[c,0];fi[e.instanceId]=u}var f=pi[e.instanceId];f||((f=[]).length=8,pi[e.instanceId]=f);for(c=0;c<8;c++){(m=u[c])&&0!==m[1]&&(a&&n.removeAttribute("morphTarget"+c),s&&c<4&&n.removeAttribute("morphNormal"+c))}for(c=0;c<l;c++){(m=u[c])[0]=c,m[1]=t[c]}u.sort(vi);var p=i.attributes,d=s?4:8;for(c=0;c<d;c++){var m;if(m=u[c]){var v=m[0],y=m[1];if(y){if(a&&a[v]){var g=r.morphTargetBuffers[v];g||(g=r.morphTargetBuffers[v]=se.createVertexBuffer(o,null,o.STATIC_DRAW)),f[c]!==v&&(f[c]=v,h.push({buffer:g,data:new Float32Array(a[v])})),n.addAttribute(g,p["morphTarget"+c],o.FLOAT,!1,0,0,"morphTarget"+c)}if(s&&s[v]){var _=r.morphNormalBuffers[v];_||(_=r.morphNormalBuffers[v]=se.createVertexBuffer(o,null,o.STATIC_DRAW)),f[c+4]!==v&&(f[c+4]=v,h.push({buffer:_,data:new Float32Array(s[v])})),n.addAttribute(r.morphNormalBuffers[v],p["morphNormal"+c],o.FLOAT,!1,0,0,"morphNormal"+c)}di[c]=y;continue}}di[c]=0}return i.uniforms.morphTargetInfluences=di,h}function vi(t,e){return Math.abs(e[1])-Math.abs(t[1])}ur.registerPlugin("d3",ui);var yi={};function gi(t,e){var r=e.gl,n=t._glVaoBuffer[e.CONTEXT_UID];return n||(n=t._glVaoBuffer[e.CONTEXT_UID]={attrBuffer:se.createVertexBuffer(r,null,r.STATIC_DRAW),vaos:{}},t._indices&&(n.indexBuffer=se.createIndexBuffer(r,null,r.STATIC_DRAW)),t._morphPositions&&(n.morphTargetBuffers=[]),t._morphNormals&&(n.morphNormalBuffers=[]),t._skinWeight&&(n.skinWeightBuffer=se.createVertexBuffer(r,null,r.STATIC_DRAW)),t._skinIndex&&(n.skinIndexBuffer=se.createVertexBuffer(r,null,r.STATIC_DRAW)),function(t){for(var e=t._attrBuffer.float32View,r=0,n=0;n<t._vertices.length/3;n++)e[r++]=t._vertices[3*n],e[r++]=t._vertices[3*n+1],e[r++]=t._vertices[3*n+2],e[r++]=t._colors[3*n],e[r++]=t._colors[3*n+1],e[r++]=t._colors[3*n+2],e[r++]=t._uvs[2*n],e[r++]=t._uvs[2*n+1],e[r++]=t._normals[3*n],e[r++]=t._normals[3*n+1],e[r++]=t._normals[3*n+2]}(t)),n}function _i(t,e,r){return n=t,!ArrayBuffer.isView(n)||n instanceof DataView?t.slice(e,r):new t.constructor(t.subarray(e,void 0!==r?r:t.length));var n}var bi;!function(t){t.quaternion="quaternion",t.scale="scale",t.morphTargetInfluences="morphTargetInfluences",t.position="position"}(bi||(bi={}));var xi=function(t){function e(e,r,n,i){var o=t.call(this)||this;switch(o.node=e,o.animationType=r,o.times=n,o.values=i,o._instanceType="AnimationTrack",o.animationType){case bi.position:case bi.scale:case bi.quaternion:var a=o.node[o.animationType].clone().toArray();o.resetValue=function(){o.node[o.animationType].fromArray(a)};break;case bi.morphTargetInfluences:if("Mesh3D"==o.node.instanceType||"SkinnedMesh3D"==o.node.instanceType){var s=o.node.morphTargetInfluences?o.node.morphTargetInfluences.slice():[];o.resetValue=function(){for(var t=o.node.morphTargetInfluences,e=0;e<t.length;e++)t[e]=s[e]||0}}}return o.resetValue||(o.resetValue=function(){}),o}return P(e,t),e.prototype.setValue=function(t){var e=this.getValue(t);switch(this.animationType){case bi.position:case bi.scale:case bi.quaternion:this.node[this.animationType].fromArray(e);break;case bi.morphTargetInfluences:if("Mesh3D"==this.node.instanceType||"SkinnedMesh3D"==this.node.instanceType)for(var r=this.node.morphTargetInfluences,n=0;n<r.length;n++)r[n]=e[n]||0}},e.prototype.getValue=function(t){var e=this.getValueSize();if(t<=0)return this.values.slice(0,e);if(t>=this.times[this.times.length-1])return this.values.slice(-e);var r=this.findPreIndex(t),n=r-1;if(n<0)return this.values.slice(0,e);var i=(t-this.times[n])/(this.times[r]-this.times[n]),o=this.values.slice(n*e,n*e+e),a=this.values.slice(r*e,r*e+e);return this.animationType==bi.quaternion?function(t,e,r){var n=[];return bn.slerpFlat(n,0,e,0,r,0,t),n}(i,o,a):function(t,e,r){for(var n=[],i=0;i!==e.length;++i)n[i]=e[i]*(1-t)+r[i]*t;return n}(i,o,a)},e.prototype.getValueSize=function(){return this.values.length/this.times.length},e.prototype.findPreIndex=function(t){for(var e=0,r=0;r<this.times.length;r++)if(this.times[r]>t){e=r;break}return e},e.prototype.destroy=function(){this.node=null,this.values=null,this.times=null},e}(D);var wi=new _n,Ti=new _n,Si=function(t){function e(e,r){void 0===e&&(e=[]);var n=t.call(this)||this;if(n._instanceType="Skeleton3D",n.bones=e.slice(0),n.boneMatrices=new Float32Array(16*n.bones.length),r)if(n.bones.length===r.length)n.boneInverses=r.slice(0);else{console.warn("boneInverses长度有误"),n.boneInverses=[];for(var i=0,o=n.bones.length;i<o;i++)n.boneInverses.push(new _n)}else n.calculateInverses();return n}return P(e,t),e.prototype.calculateInverses=function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var r=new _n;this.bones[t]&&r.setInverseOf(this.bones[t]._worldMatrix),this.boneInverses.push(r)}},e.prototype.pose=function(){var t,e,r;for(e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&t._worldMatrix.setInverseOf(this.boneInverses[e]);for(e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&(t.parent&&"Bone3D"==t.parent.instanceType?(t._localMatrix.setInverseOf(t.parent._worldMatrix),t._localMatrix.multiply(t._worldMatrix)):t._localMatrix.copy(t._worldMatrix),t._localMatrix.decompose(t.position,t.quaternion,t.scale))},e.prototype.update=function(){for(var t=this.bones,e=this.boneInverses,r=this.boneMatrices,n=this.boneTexture,i=0,o=t.length;i<o;i++){var a=t[i]?t[i]._worldMatrix:Ti;wi.multiplyMatrices(a,e[i]),wi.toArray(r,16*i)}n&&n.update()},e.prototype.clone=function(){return new e(this.bones,this.boneInverses)},e.prototype.getBoneByName=function(t){for(var e=0,r=this.bones.length;e<r;e++){var n=this.bones[e];if(n.name===t)return n}return null},e.prototype.destroy=function(){},e}(D),Ei=function(t){function e(){var e=t.call(this)||this;return e._instanceType="Bone3D",e}return P(e,t),e}(En),Mi=function(t){function e(e,r){var n=t.call(this,e,r)||this;n.bindMode="attached",n.bindMatrix=new _n,n.bindMatrixInverse=new _n,n._instanceType="SkinnedMesh3D";var i=n.initBones(),o=new Si(i);return n.bind(o,n._worldMatrix),n.normalizeSkinWeights(),n}return P(e,t),e.prototype.initBones=function(){var t,e,r,n,i=[];if(this.geometry&&void 0!==this.geometry.bones){for(r=0,n=this.geometry.bones.length;r<n;r++)e=this.geometry.bones[r],t=new Ei,i.push(t),t.name=e.name,t.position.fromArray(e.pos),t.quaternion.fromArray(e.rotq),void 0!==e.scl&&t.scale.fromArray(e.scl);for(r=0,n=this.geometry.bones.length;r<n;r++)-1!==(e=this.geometry.bones[r]).par&&null!==e.par&&void 0!==i[e.par]?i[e.par].addChild(i[r]):this.addChild(i[r])}return this.updateWorldMatrix(),i},e.prototype.bind=function(t,e){this.skeleton=t,void 0===e&&(this.updateWorldMatrix(),this.skeleton.calculateInverses(),e=this._worldMatrix),this.bindMatrix.copy(e),this.bindMatrixInverse.setInverseOf(e)},e.prototype.pose=function(){this.skeleton.pose()},e.prototype.normalizeSkinWeights=function(){var t,e;if(this.geometry){var r=new Ci,n=this.geometry._skinWeight,i=n.length/4||0;for(e=0;e<i;e++)r.x=n[4*e],r.y=n[4*e+1],r.z=n[4*e+2],r.w=n[4*e+3],(t=1/r.manhattanLength())!==1/0?r.multiplyScalar(t):r.set(1,0,0,0),n[4*e]=r.x,n[4*e+1]=r.y,n[4*e+2]=r.z,n[4*e+3]=r.w}},e.prototype.updateWorldMatrix=function(){t.prototype.updateWorldMatrix.call(this),"attached"===this.bindMode?this.bindMatrixInverse.setInverseOf(this._worldMatrix):"detached"===this.bindMode&&this.bindMatrixInverse.setInverseOf(this.bindMatrix)},e.prototype.update=function(){this.visible&&(this.skeleton.update(),t.prototype.update.call(this))},e.prototype.clone=function(){return new e(this.geometry,this.material).copy(this)},e}(Rn),Ci=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),this.x=t,this.y=e,this.z=r,this.w=n}return t.prototype.set=function(t,e,r,n){return this.x=t,this.y=e,this.z=r,this.w=n,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},t.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},t}(),Ai=function(t){function e(e,r){var n=t.call(this)||this;return n._isPlaying=!0,n._isFront=!0,n.lastTime=null,n.curTime=0,n._endMark=!1,n._instanceType="AnimationClip",n.tracks=e,n._totalTime=r,n}return P(e,t),Object.defineProperty(e.prototype,"totalTime",{get:function(){return this._totalTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFront",{get:function(){return this._isFront},enumerable:!0,configurable:!0}),e.prototype.update=function(t){if(this.tracks&&this.tracks.length)return this.curTime!==this.lastTime?(this.rectify(),void(this._endMark=!1)):void(t<=0||!this._isPlaying||(this._endMark=!1,this._isFront?(this.curTime+=t,this.curTime>this._totalTime&&(this.curTime=0,this._endMark=!0)):(this.curTime-=t,this.curTime<0&&(this.curTime=this._totalTime,this._endMark=!0)),this.curTime!==this.lastTime&&(this.rectify(),this.dispatchEvent(I.ENTER_FRAME),this._endMark&&this.hasEventListener(I.END_FRAME)&&this.dispatchEvent(I.END_FRAME))))},e.prototype.play=function(t){void 0===t&&(t=!0),this._isFront=t,this._isPlaying=!0},e.prototype.stop=function(){this._isPlaying=!1,this.lastTime=this.curTime},e.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=!0);var r=this;r._isFront=e,r._isPlaying=!0,t>r._totalTime&&(t=r._totalTime),t<1&&(t=0),r.curTime=t},e.prototype.gotoAndStop=function(t,e){void 0===e&&(e=!1),this._isPlaying=!1,t>this.totalTime&&(t=this.totalTime),t<0&&(t=0),this.curTime=t,e&&(this.lastTime=null)},e.prototype.startAniRange=function(t,e,r,n){var i=this;if(void 0===t&&(t=0),void 0===e&&(e=this._totalTime),void 0===r&&(r=1),t<0&&(t=0),t>this._totalTime&&(t=this._totalTime),e<0&&(e=0),e>this._totalTime&&(e=this._totalTime),t!==e){if(t<e)this._isFront=!0;else{this._isFront=!1;var o=t;t=e,e=o}this.startAniRangeFun&&this.removeEventListener(I.ENTER_FRAME,this.startAniRangeFun,this),this.curTime=t,this._isPlaying=!0;var a=r?r+.5>>0:1/0;this.addEventListener(I.ENTER_FRAME,this.startAniRangeFun=function(r){var o=r.target;o._isFront?(o.curTime>=e||o._endMark)&&(--a<=0?(o.gotoAndStop(e),o.removeEventListener(I.ENTER_FRAME,i.startAniRangeFun,i),i.startAniRangeFun=null,n&&n(a)):o.gotoAndPlay(t)):(o.curTime<=t||o._endMark)&&(--a<=0?(o.gotoAndStop(t),o.removeEventListener(I.ENTER_FRAME,i.startAniRangeFun,i),i.startAniRangeFun=null,n&&n(a)):o.gotoAndPlay(e,!1))},this)}else this.gotoAndStop(t)},e.prototype.rectify=function(){if(this.tracks&&this.tracks.length){for(var t=0;t<this.tracks.length;t++)this.tracks[t].setValue(this.curTime);this.lastTime=this.curTime}},e.prototype.resetState=function(){this.stop();for(var t=0;t<this.tracks.length;t++)this.tracks[t].resetValue()},e}(R),Pi=function(t){function e(e){var r=t.call(this)||this;return r.animationClips=e,r._instanceType="AnimationManager",r.stop(),r}return P(e,t),e.prototype.getAniClipByName=function(t){for(var e=0;e<this.animationClips.length;e++)if(this.animationClips[e].name==t)return this.animationClips[e];return null},e.prototype.showAni=function(t,e,r){void 0===e&&(e=1);var n=this.getAniClipByName(t);return n?(this.currentClip&&this.currentClip.resetState(),this.currentClip=n,n.startAniRange(0,void 0,e,r),n):null},e.prototype.stop=function(){this.animationClips.forEach((function(t){t.stop()})),this.currentClip=null},e.prototype.reset=function(){this.animationClips.forEach((function(t){t.resetState()})),this.currentClip=null},e.prototype.update=function(t){void 0===t&&(t=.0167);for(var e=0;e<this.animationClips.length;e++)this.animationClips[e].update(t)},e.prototype.destroy=function(){this.animationClips=null,this.currentClip=null},e}(D),ki="KHR_binary_glTF",Oi="KHR_draco_mesh_compression",Di="KHR_lights_punctual",Ii="KHR_materials_pbrSpecularGlossiness",Ri="KHR_materials_unlit",Fi="MSFT_texture_dds",Li=4,Ni=5,Bi=6,zi={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ji={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Vi={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences",position:"position"};function Ui(t){if(t.isInterleavedBufferAttribute){for(var e=t.count,r=t.itemSize,n=t.array.slice(0,e*r),i=0;i<e;++i)n[i*r]=t.getX(i),r>=2&&(n[i*r+1]=t.getY(i)),r>=3&&(n[i*r+2]=t.getZ(i)),r>=4&&(n[i*r+3]=t.getW(i));return new qi(n,r,t.normalized)}return t.clone()}function Wi(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(var r=0,n=e.weights.length;r<n;r++)t.morphTargetInfluences[r]=e.weights[r];if(e.extras&&Array.isArray(e.extras.targetNames)){var i=e.extras.targetNames;if(t.morphTargetInfluences.length===i.length){t.morphTargetDictionary={};for(r=0,n=i.length;r<n;r++)t.morphTargetDictionary[i[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Hi(t,e){return t.indices===e.indices&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(t[r]!==e[r])return!1;return!0}(t.attributes,e.attributes)}function Gi(t,e){for(var r=0,n=t.length;r<n;r++){var i=t[r];if(Hi(i.primitive,e))return i.promise}return null}!function(){function t(t,e,r){void 0===t&&(t={}),void 0===e&&(e={}),void 0===r&&(r={}),this.json=t,this.extensions=e,this.options=r,this.cache=new Xi,this.primitiveCache=[],this.multiplePrimitivesCache=[],this.multiPassGeometryCache=[],this.loadScene=function(){function t(e,r,n,i,o){var a=i[e],s=n.nodes[e];if(void 0!==s.skin)for(var l="Object3D"==a.instanceType?a.children:[a],h=0;h<l.length;h++){for(var u=l[h],c=o[s.skin],f=[],p=[],d=0,m=c.joints.length;d<m;d++){var v=c.joints[d],y=i[v];if(y){f.push(y);var g=new _n;void 0!==c.inverseBindMatrices&&g.fromArray(c.inverseBindMatrices.array,16*d),p.push(g)}else console.warn('Joint "%s" could not be found.',v)}u.bind(new Si(f,p),u._worldMatrix)}if(r.addChild(a),s.children){var _=s.children;for(h=0;h<_.length;h++){var b=_[h];a&&t(b,a,n,i,o)}}}return function(e){var r=this.json;this.extensions;var n=this.json.scenes[e];return this.getMultiDependencies(["node","skin"]).then((function(e){var i=new Yn;void 0!==n.name&&(i.name=n.name);for(var o=n.nodes||[],a=0,s=o.length;a<s;a++)t(o[a],i,r,e.nodes,e.skins);return i}))}}()}t.prototype.parse=function(t,e){var r=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies(["scene","animation","camera"]).then((function(e){var n=e.scenes||[],i=n[r.scene||0],o=e.animations||[],a=e.cameras||[];t(i,n,a,o,r)})).catch(e)},t.prototype.markDefs=function(){for(var t=this.json.nodes||[],e=this.json.skins||[],r=this.json.meshes||[],n={},i={},o=0,a=e.length;o<a;o++)for(var s=e[o].joints,l=0,h=s.length;l<h;l++)t[s[l]].isBone=!0;for(var u=0,c=t.length;u<c;u++){var f=t[u];void 0!==f.mesh&&(void 0===n[f.mesh]&&(n[f.mesh]=i[f.mesh]=0),n[f.mesh]++,void 0!==f.skin&&(r[f.mesh].isSkinnedMesh=!0))}this.json.meshReferences=n,this.json.meshUses=i},t.prototype.getDependency=function(t,e){var r=t+":"+e,n=this.cache.get(r);if(!n){switch(t){case"scene":n=this.loadScene(e);break;case"node":n=this.loadNode(e);break;case"mesh":n=this.loadMesh(e);break;case"accessor":n=this.loadAccessor(e);break;case"bufferView":n=this.loadBufferView(e);break;case"buffer":n=this.loadBuffer(e);break;case"material":n=this.loadMaterial(e);break;case"texture":n=this.loadTexture(e);break;case"skin":n=this.loadSkin(e);break;case"animation":n=this.loadAnimation(e);break;case"camera":n=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(r,n)}return n},t.prototype.getDependencies=function(t){var e=this.cache.get(t);if(!e){var r=this,n=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(n.map((function(e,n){return r.getDependency(t,n)}))),this.cache.add(t,e)}return e},t.prototype.getMultiDependencies=function(t){for(var e={},r=[],n=0,i=t.length;n<i;n++){var o=t[n],a=this.getDependencies(o);a=a.then(function(t,r){e[t]=r}.bind(this,o+("mesh"===o?"es":"s"))),r.push(a)}return Promise.all(r).then((function(){return e}))},t.prototype.loadBuffer=function(t){var e=this.json.buffers[t];if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");return void 0===e.uri&&0===t?Promise.resolve(this.extensions[ki].body):new Promise((function(t,r){var n=e.uri.match(/^data:(.*?)(;base64)?,(.*)$/);if(n){n[1];var i=!!n[2],o=n[3];o=decodeURIComponent(o),i&&(o=atob(o));for(var a=new Uint8Array(o.length),s=0;s<o.length;s++)a[s]=o.charCodeAt(s);t(a.buffer)}else r("阿三的")}))},t.prototype.loadBufferView=function(t){var e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){var r=e.byteLength||0,n=e.byteOffset||0;return t.slice(n,n+r)}))},t.prototype.loadAccessor=function(t){var e=this,r=this.json,n=this.json.accessors[t];if(void 0===n.bufferView&&void 0===n.sparse)return null;var i=[];return void 0!==n.bufferView?i.push(this.getDependency("bufferView",n.bufferView)):i.push(null),void 0!==n.sparse&&(i.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(i).then((function(t){var i,o,a=t[0],s=ji[n.type],l=zi[n.componentType],h=l.BYTES_PER_ELEMENT,u=h*s,c=n.byteOffset||0,f=void 0!==n.bufferView?r.bufferViews[n.bufferView].byteStride:void 0,p=!0===n.normalized;if(f&&f!==u){var d="InterleavedBuffer:"+n.bufferView+":"+n.componentType,m=e.cache.get(d);m||(i=new l(a),m=new Ki(i,f/h),e.cache.add(d,m)),o=Ui(new Zi(m,s,c/h,p))}else i=null===a?new l(n.count*s):new l(a,c,n.count*s),o=new qi(i,s,p);if(void 0!==n.sparse){var v=ji.SCALAR,y=zi[n.sparse.indices.componentType],g=n.sparse.indices.byteOffset||0,_=n.sparse.values.byteOffset||0,b=new y(t[1],g,n.sparse.count*v),x=new l(t[2],_,n.sparse.count*s);null!==a&&o.setArray(o.array.slice());for(var w=0,T=b.length;w<T;w++){var S=b[w];if(o.setX(S,x[w*s]),s>=2&&o.setY(S,x[w*s+1]),s>=3&&o.setZ(S,x[w*s+2]),s>=4&&o.setW(S,x[w*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o}))},t.prototype.loadTexture=function(t){var e=this.json;this.options;var r,n=e.textures[t],i=n.extensions||{},o=(r=i[Fi]?e.images[i[Fi].source]:e.images[n.source]).uri;return void 0!==r.bufferView&&(o=this.getDependency("bufferView",r.bufferView).then((function(t){var e=jt(t);return"data:"+r.mimeType+";base64,"+e}))),Promise.resolve(o).then((function(t){return new Promise((function(e,r){var n,i;Ut.loadImage((function(t,n){t?e(Yt.fromImage(n)):r()}),(i="","string"!=typeof(n=t)||""===n?"":/^(https?:)?\/\//i.test(n)||/^data:.*,.*$/i.test(n)||/^blob:.*$/i.test(n)?n:i+n))}))})).then((function(t){return void 0!==n.name&&(t.name=n.name),t}))},t.prototype.assignTexture=function(t,e,r){return this.getDependency("texture",r).then((function(r){t[e]=r}))},t.prototype.loadMaterial=function(t){var e=this.json;this.extensions;var r,n=e.materials[t],i={},o=n.extensions||{},a=[];if(o[Ii]){r=Xn;var s=n.extensions[Ii];if(i.color=16777215,i.alpha=1,Array.isArray(s.diffuseFactor)){var l=s.diffuseFactor;i.color=It(l),i.alpha=l[3]}void 0!==s.diffuseTexture&&a.push(this.assignTexture(i,"map",s.diffuseTexture.index))}else{r=o[Ri]?Mn:Xn;var h=n.pbrMetallicRoughness||{};if(i.color=16777215,i.alpha=1,Array.isArray(h.baseColorFactor)){l=h.baseColorFactor;i.color=It(l),i.alpha=l[3]}void 0!==h.baseColorTexture&&a.push(this.assignTexture(i,"map",h.baseColorTexture.index))}return!0===n.doubleSided&&(i.side=wn.DoubleSide),Promise.all(a).then((function(){var t;return t=new r(i),void 0!==n.name&&(t.name=n.name),t}))},t.prototype.loadGeometries=function(t){this.extensions;var e=this.primitiveCache;return this.getDependencies("accessor").then((function(r){for(var n=[],i=0,o=t.length;i<o;i++){var a=t[i],s=Gi(e,a);if(s)n.push(s);else if(a.extensions&&a.extensions[Oi]);else{var l=Yi(a,r),h=Promise.resolve(l);e.push({primitive:a,promise:h}),n.push(h)}}return Promise.all(n).then((function(t){return t}))}))},t.prototype.loadMesh=function(t){var e=this,r=this.json;this.extensions;var n=r.meshes[t];return this.getMultiDependencies(["accessor","material"]).then((function(r){for(var i=n.primitives,o=[],a=0,s=i.length;a<s;a++)o[a]=void 0===i[a].material?new Xn({color:16777215,side:0}):r.materials[i[a].material];return e.loadGeometries(i).then((function(r){for(var a=[],s=0,l=r.length;s<l;s++){var h,u=r[s],c=i[s],f=o[s];if(c.mode!==Li&&c.mode!==Ni&&c.mode!==Bi&&void 0!==c.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+c.mode);"SkinnedMesh3D"===(h=!0===n.isSkinnedMesh?new Mi(u,f):new Rn(u,f)).instanceType&&h.normalizeSkinWeights(),h.geometry._morphPositions&&Wi(h,n),h.name=n.name||"mesh_"+t,r.length>1&&(h.name+="_"+s),a.push(h);f=h.material;var p="SkinnedMesh3D"==h.instanceType,d=!!u._morphPositions,m=d&&!!u._morphNormals;if(p||d){var v="ClonedMaterial:"+f.instanceId+":";p&&(v+="skinning:"),d&&(v+="morph-targets:"),m&&(v+="morph-normals:");var y=e.cache.get(v);y||(y=f.clone(),p&&(y.skinning=!0),d&&(y.morphTargets=!0),m&&(y.morphNormals=!0),e.cache.add(v,y)),f=y}h.material=f}if(1===a.length)return a[0];var g=new En;for(s=0;s<a.length;s++)g.addChild(a[s]);return g}))}))},t.prototype.loadCamera=function(t){var e,r=this.json.cameras[t],n=r[r.type];if(n)return"perspective"===r.type&&(e=new jn(M*n.yfov,n.aspectRatio||1,n.znear||1,n.zfar||2e6)),void 0!==r.name&&(e.name=r.name),Promise.resolve(e);console.warn("模型相机参数异常")},t.prototype.loadSkin=function(t){var e=this.json.skins[t],r={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",e.inverseBindMatrices).then((function(t){return r.inverseBindMatrices=t,r}))},t.prototype.loadAnimation=function(t){var e=this.json.animations[t];return this.getMultiDependencies(["accessor","node"]).then((function(r){for(var n=[],i=0,o=e.channels.length;i<o;i++){var a=e.channels[i],s=e.samplers[a.sampler];if(s){var l=a.target,h=void 0!==l.node?l.node:l.id,u=void 0!==e.parameters?e.parameters[s.input]:s.input,c=void 0!==e.parameters?e.parameters[s.output]:s.output,f=r.accessors[u],p=r.accessors[c],d=r.nodes[h];if(d){var m;switch(d.updateLocalMatrix(),Vi[l.path]){case Vi.weights:m=bi.morphTargetInfluences;break;case Vi.rotation:m=bi.quaternion;break;case Vi.position:m=bi.position;break;case Vi.scale:m=bi.scale;break;default:m=bi.position}var v=d.name?d.name:d.instanceId;void 0===s.interpolation||s.interpolation;var y=[];Vi[l.path]===Vi.weights?Qi(d,(function(t){"Mesh3D"!==t.instanceType&&"SkinnedMesh3D"!==t.instanceType||!t.morphTargetInfluences||y.push(t.name?t.name:t.instanceId)})):y.push(v);for(var g=0,_=y.length;g<_;g++){var b=new xi(d,m,_i(f.array,0),_i(p.array,0));n.push(b)}}}}h=void 0!==e.name?e.name:"animation_"+t;for(var x=0,w=0,T=n.length;w!==T;++w){var S=n[w];x=Math.max(x,S.times[S.times.length-1])}var E=new Ai(n,x);return E.name=h,E}))},t.prototype.loadNode=function(t){var e=this.json,r=this.extensions,n=e.meshReferences,i=e.meshUses,o=e.nodes[t];return this.getMultiDependencies(["mesh","skin","camera","light"]).then((function(t){var e;if(!0===o.isBone)e=new Ei;else if(void 0!==o.mesh){var a=t.meshes[o.mesh];if(n[o.mesh]>1){var s=i[o.mesh]++;(e=a.clone()).name+="_instance_"+s;for(var l=0,h=e.children.length;l<h;l++)e.children[l].name+="_instance_"+s}else e=a}else if(void 0!==o.camera)e=t.cameras[o.camera];else if(o.extensions&&o.extensions[Di]&&void 0!==o.extensions[Di].light){e=r[Di].lights[o.extensions[Di].light]}else e=new En;if(void 0!==o.name&&(e.name=o.name.replace(/\s/g,"_").replace($i,"")),void 0!==o.matrix){var u=new _n;u.fromArray(o.matrix),e.applyMatrix(u)}else void 0!==o.translation&&e.position.fromArray(o.translation),void 0!==o.rotation&&e.quaternion.fromArray(o.rotation),void 0!==o.scale&&e.scale.fromArray(o.scale);return e}))}}();function Yi(t,e){var r=t.attributes,n=e[r.POSITION],i=e[r.NORMAL],o=e[r.TEXCOORD_0]||e[r.TEXCOORD0],a=new Bn(Ji(n),Ji(e[t.indices]),i?Ji(i):null,null,o?Ji(o):null),s=e[r.WEIGHTS_0]||e[r.WEIGHTS];s&&(a._skinWeight=Ji(s));var l=e[r.JOINTS_0]||e[r.JOINT];return l&&(a._skinIndex=Ji(l)),void 0!==t.targets&&function(t,e,r){for(var n=!1,i=!1,o=0,a=e.length;o<a;o++){if(void 0!==(h=e[o]).POSITION&&(n=!0),void 0!==h.NORMAL&&(i=!0),n&&i)break}if(n||i){var s=[],l=[];for(o=0,a=e.length;o<a;o++){var h=e[o],u="morphTarget"+o;if(n){var c=void 0;if(void 0!==h.POSITION){c=[];var f=Ui(r[h.POSITION]);f.name=u;for(var p=t._vertices,d=0,m=f.count;d<m;d++)c.push(f.getX(d)+p[3*d],f.getY(d)+p[3*d+1],f.getZ(d)+p[3*d+2])}else c=t._vertices;s.push(c)}if(i){var v=void 0;if(void 0!==h.NORMAL){v=[];var y=Ui(r[h.NORMAL]);y.name=u;var g=t._normals;for(d=0,m=y.count;d<m;d++)v.push(y.getX(d)+g[3*d],y.getY(d)+g[3*d+1],y.getZ(d)+g[3*d+2])}else v=t._normals;l.push(v)}}n&&(t._morphPositions=s),i&&(t._morphNormals=l)}}(a,t.targets,e),a}var Xi=function(){function t(){this.objects={}}return t.prototype.get=function(t){return this.objects[t]},t.prototype.add=function(t,e){this.objects[t]=e},t.prototype.remove=function(t){delete this.objects[t]},t.prototype.removeAll=function(){this.objects={}},t}(),qi=function(){function t(t,e,r){if(void 0===r&&(r=!1),this.array=t,this.itemSize=e,this.normalized=r,Array.isArray(t))throw new TypeError("array必须士类型化数组");this.count=void 0!==t?t.length/e:0}return t.prototype.set=function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},t.prototype.setArray=function(t){if(Array.isArray(t))throw new TypeError("array必须士类型化数组");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},t.prototype.getX=function(t){return this.array[t*this.itemSize]},t.prototype.setX=function(t,e){return this.array[t*this.itemSize]=e,this},t.prototype.getY=function(t){return this.array[t*this.itemSize+1]},t.prototype.setY=function(t,e){return this.array[t*this.itemSize+1]=e,this},t.prototype.getZ=function(t){return this.array[t*this.itemSize+2]},t.prototype.setZ=function(t,e){return this.array[t*this.itemSize+2]=e,this},t.prototype.getW=function(t){return this.array[t*this.itemSize+3]},t.prototype.setW=function(t,e){return this.array[t*this.itemSize+3]=e,this},t.prototype.setXY=function(t,e,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this},t.prototype.setXYZ=function(t,e,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this},t.prototype.setXYZW=function(t,e,r,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this.array[t+3]=i,this},t.prototype.copy=function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this},t.prototype.clone=function(){return new t(this.array,this.itemSize).copy(this)},t}(),Ki=function(){function t(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0}return t.prototype.setArray=function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},t.prototype.copy=function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this},t.prototype.set=function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},t.prototype.clone=function(){return(new t).copy(this)},t}(),Zi=function(){function t(t,e,r,n){void 0===n&&(n=!1),this.itemSize=e,this.offset=r,this.normalized=n,this.isInterleavedBufferAttribute=!0,this.data=t}return Object.defineProperty(t.prototype,"count",{get:function(){return this.data.count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"array",{get:function(){return this.data.array},enumerable:!0,configurable:!0}),t.prototype.setX=function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},t.prototype.setY=function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},t.prototype.setZ=function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},t.prototype.setW=function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},t.prototype.getX=function(t){return this.data.array[t*this.data.stride+this.offset]},t.prototype.getY=function(t){return this.data.array[t*this.data.stride+this.offset+1]},t.prototype.getZ=function(t){return this.data.array[t*this.data.stride+this.offset+2]},t.prototype.getW=function(t){return this.data.array[t*this.data.stride+this.offset+3]},t.prototype.setXY=function(t,e,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this},t.prototype.setXYZ=function(t,e,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this},t.prototype.setXYZW=function(t,e,r,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this.data.array[t+3]=i,this},t}();function Ji(t){for(var e=[],r=0;r<t.count;r++)e.push(t.getX(r)),t.itemSize>=2&&e.push(t.getY(r)),t.itemSize>=3&&e.push(t.getZ(r)),t.itemSize>=4&&e.push(t.getW(r));return e}var $i=new RegExp("[\\[\\]\\.:\\/]","g");function Qi(t,e){e(t);for(var r=t.children,n=0,i=r.length;n<i;n++){Qi(r[n],e)}}!function(t){function e(e){return t.call(this,new Bn([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],[0,1,2,0,2,3],null,null,[0,1,1,1,1,0,0,0]),e)||this}P(e,t)}(Rn);var to,eo=function(t){function e(e,r){var n=t.call(this)||this;return n.data=e,n.root=r,n.ax=0,n.ay=0,n.arotation=0,n.ascaleX=0,n.ascaleY=0,n.ashearX=0,n.ashearY=0,n.appliedValid=!1,n.sorted=!1,n.shearX=0,n.shearY=0,n._instanceType="Bone",n.name=e.name,n.data.x=n.data.x||0,n.data.y=n.data.y||0,n.data.scaleX=n.data.scaleX||1,n.data.scaleY=n.data.scaleY||1,n.data.rotation=n.data.rotation||0,n.data.shearX=n.data.shearX||0,n.data.shearY=n.data.shearY||0,n.setToSetupPose(),r&&(n.debugBone=n.addChild(new rn).beginFill(16711680).drawRect(0,0,e.length||10,10).endFill()),n}return P(e,t),Object.defineProperty(e.prototype,"matrix",{get:function(){return this.worldMatrix},enumerable:!0,configurable:!0}),e.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY,this.skewX=-t.shearY,this.skewY=t.shearX},e.prototype.updateTransform=function(){this.appliedSelf();var t=e.yDown?-1:1;if(this.parent){var r=this.parent;if("Bone"==this.parent.instanceType){this.transform._worldID++;var n=r.transform.worldMatrix,i=this.localMatrix,o=this.worldMatrix,a=n.a,s=n.c,l=n.b,h=n.d;switch(o.tx=a*this.x+s*this.y+n.tx,o.ty=l*this.x+h*this.y+n.ty,this.data.transform){case to.onlyTranslation:this.transform.updateLocalMatrix(),o.a=i.a,o.c=i.c,o.b=i.b,o.d=i.d;break;case to.noRotationOrReflection:var u=0;(y=a*a+l*l)>1e-4?(s=l*(y=Math.abs(a*h-s*l)/y),h=a*y,u=Math.atan2(l,a)*M):(a=0,l=0,u=90-Math.atan2(h,s)*M);var c=this.rotation+this.shearX-u,f=this.rotation+this.shearY-u+90,p=Math.cos(c*C)*this.scaleX,d=Math.cos(f*C)*this.scaleY*t,m=Math.sin(c*C)*this.scaleX,v=Math.sin(f*C)*this.scaleY*t;o.a=a*p-s*m,o.c=a*d-s*v,o.b=l*p+h*m,o.d=l*d+h*v;break;case to.noScale:case to.noScaleOrReflection:var y,g=Math.cos(this.rotation*C),_=Math.sin(this.rotation*C),b=(a*g+s*_)/1,x=(l*g+h*_)/1;(y=Math.sqrt(b*b+x*x))>1e-5&&(y=1/y),b*=y,x*=y,y=Math.sqrt(b*b+x*x),this.data.transform==to.noScale&&a*h-s*l<0!=!e.yDown&&(y=-y);var w=Math.PI/2+Math.atan2(x,b),T=Math.cos(w)*y,S=Math.sin(w)*y;p=Math.cos(this.shearX*C)*this.scaleX,d=Math.cos((90+this.shearY)*C)*this.scaleY,m=Math.sin(this.shearX*C)*this.scaleX,v=Math.sin((90+this.shearY)*C)*this.scaleY;o.a=b*p+T*m,o.c=b*d+T*v,o.b=x*p+S*m,o.d=x*d+S*v;break;case to.normal:default:this.displayObjectUpdateTransform()}}else{var E=this.parent;this.parent=this._tempDisplayObjectParent,this.transform.updateWorldMatrix(this.parent.transform),this.parent=E}}for(var A=0,P=this.children.length;A<P;++A){var k=this.children[A];k.updateTransform(),k==this.debugBone&&k.worldMatrix.prepend(this.root.worldMatrix)}},e.prototype.updateWorldTransformWith=function(t,e,r,n,i,o,a){this.ax=this.x=t,this.ay=this.y=e,this.arotation=this.rotation=r,this.ascaleX=this.scaleX=n,this.ascaleY=this.scaleY=i,this.ashearX=o,this.ashearY=a,this.appliedValid=!0,this.skewX=-a,this.skewY=o,this.updateTransform()},e.prototype.appliedSelf=function(){this.ax=this.x,this.ay=this.y,this.arotation=this.rotation,this.ascaleX=this.scaleX,this.ascaleY=this.scaleY,this.ashearX=this.shearX,this.ashearY=this.shearY,this.appliedValid=!0},e.yDown=!0,e}(Z);!function(t){t.normal="normal",t.onlyTranslation="onlyTranslation",t.noRotationOrReflection="noRotationOrReflection",t.noScale="noScale",t.noScaleOrReflection="noScaleOrReflection"}(to||(to={}));var ro,no,io=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.r=t,this.g=e,this.b=r,this.a=n}return t.prototype.set=function(t,e,r,n){return this.r=t,this.g=e,this.b=r,this.a=n,this.clamp(),this},t.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},t.prototype.add=function(t,e,r,n){return this.r+=t,this.g+=e,this.b+=r,this.a+=n,this.clamp(),this},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.fromString=function(e){return(new t).setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),oo=function(t){function e(e,r,n){var i=t.call(this)||this;return i.bone=e,i.data=r,i.spine=n,i.deform=new Array,i.name=i.data.name,i.color=new io(1,1,1,1),i.data.color&&i.color.setFromString(i.data.color),i.data.sColor=(new io).setFromColor(i.color),i}return P(e,t),e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.deform.length=0)},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.sColor),null==this.data.attachment?this.attachment=null:(this.attachment=null,this.setAttachment(this.spine.getAttachment(this.spine.findSlotIndex(this.name),this.data.attachment)))},e}(Z),ao=function(){function t(t){this.name=t,this.attachments=new Array}return t.prototype.addAttachment=function(t,e,r){var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=r},t.prototype.getAttachment=function(t,e){var r=this.attachments[t];return r?r[e]:null},t.prototype.attachAll=function(t,e){for(var r=0,n=0;n<t.length;n++){var i=t[n],o=i.getAttachment();if(o&&r<e.attachments.length){var a=e.attachments[r];for(var s in a){if(o==a[s]){var l=this.getAttachment(r,s);null!=l&&i.setAttachment(l);break}}}r++}},t}(),so=function(t){this.name=t},lo=function(t){function e(r){var n=t.call(this,r)||this;return n.id=(65535&e.nextID++)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return P(e,t),e.prototype.applyDeform=function(t){return this==t},e.prototype.computeWorldVerticesOld=function(t,e,r){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2,r)},e.prototype.computeWorldVertices=function(t,e,r,n,i,o,a){r=i+(r>>1)*o;var s=t.deform,l=this.vertices,h=this.bones;if(null!=h){for(var u=0,c=0,f=0;f<e;f+=2){u+=(m=h[u])+1,c+=m}if(0==s.length)for(C=i,T=3*c;C<r;C+=o){var p=0,d=0,m=h[u++];for(m+=u;u<m;u++,T+=3){_=a[h[u]].matrix,A=l[T],P=l[T+1];var v=l[T+2];p+=(A*_.a+P*_.c+_.tx)*v,d+=(A*_.b+P*_.d+_.ty)*v}n[C]=p,n[C+1]=d}else for(var y=s,g=(C=i,T=3*c,c<<1);C<r;C+=o){p=0,d=0,m=h[u++];for(m+=u;u<m;u++,T+=3,g+=2){_=a[h[u]].matrix,A=l[T]+y[g],P=l[T+1]+y[g+1],v=l[T+2];p+=(A*_.a+P*_.c+_.tx)*v,d+=(A*_.b+P*_.d+_.ty)*v}n[C]=p,n[C+1]=d}}else{s.length>0&&(l=s);for(var _,b=(_=t.bone.matrix).tx,x=_.ty,w=_.a,T=_.c,S=_.b,E=_.d,M=e,C=i;C<r;M+=2,C+=o){var A=l[M],P=l[M+1];n[C]=A*w+P*T+b,n[C+1]=A*S+P*E+x}}},e.nextID=0,e}(so),ho=function(t){function e(e,r,n,i,o,a,s,l,h){void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=1),void 0===o&&(o=1),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0);var u=t.call(this,e)||this;return u.x=r,u.y=n,u.scaleX=i,u.scaleY=o,u.rotation=a,u.width=s,u.height=l,u.texture=h,u.color=new io(1,1,1,1),u}return P(e,t),e}(so),uo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.color=new io(1,1,1,1),e}return P(e,t),e}(lo),co=function(){function t(e){this.curves=new Float32Array((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,o){var a=.03*(2*-r+i),s=.03*(2*-n+o),l=.006*(3*(r-i)+1),h=.006*(3*(n-o)+1),u=2*a+l,c=2*s+h,f=.3*r+a+.16666667*l,p=.3*n+s+.16666667*h,d=e*t.BEZIER_SIZE,m=this.curves;m[d++]=t.BEZIER;for(var v=f,y=p,g=d+t.BEZIER_SIZE-1;d<g;d+=2)m[d]=v,m[d+1]=y,f+=u,p+=c,u+=l,c+=h,v+=f,y+=p},t.prototype.getCurvePercent=function(e,r){r=zt(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,o=n[i];if(o==t.LINEAR)return r;if(o==t.STEPPED)return 0;for(var a=0,s=++i,l=i+t.BEZIER_SIZE-1;i<l;i+=2)if((a=n[i])>=r){var h=void 0,u=void 0;return i==s?(h=0,u=0):(h=n[i-2],u=n[i-1]),u+(n[i+1]-u)*(r-h)/(a-h)}var c=n[i-1];return c+(1-c)*(r-a)/(1-a)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=19,t}();function fo(t,e,r){if(t.hasOwnProperty("curve"))if("stepped"===t.curve)e.setStepped(r);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var n=t.curve;e.setCurve(r,n[0],n[1],n[2],n[3])}else e.setCurve(r,t.curve,t.c2||0,t.c3||1,t.c4||1)}function po(t,e,r){void 0===r&&(r=1);var n=0,i=t.length/r-2;if(0==i)return r;for(var o=i>>>1;;){if(t[(o+1)*r]<=e?n=o+1:i=o,n==i)return(n+1)*r;o=n+i>>>1}}function mo(t,e,r,n,i){for(var o=e,a=n;o<e+i;o++,a++)r[a]=t[o]}function vo(t,e,r){void 0===r&&(r=0);var n=t.length;if(n==e)return t;if(t.length=e,n<e)for(var i=n;i<e;i++)t[i]=r;return t}function yo(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r}!function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"}(ro||(ro={})),function(t){t[t.in=0]="in",t[t.out=1]="out"}(no||(no={}));var go,_o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.setValue=function(t,e,r,n){},e.prototype.resetValue=function(){},e.prototype.destroy=function(){},e}(D);!function(t){t.rotate="rotate",t.translate="translate",t.scale="scale",t.shear="shear"}(go||(go={}));var bo=function(t){function e(e,r,n){var i=t.call(this)||this;i.bone=e,i.animationType=r,i.times=n,i._instanceType="SpineBoneAniTrack",n.forEach((function(t){switch(t.time=t.time||0,r){case go.rotate:t.angle=t.angle||0;break;case go.scale:t.x=void 0===t.x?1:t.x,t.y=void 0===t.y?1:t.y;break;case go.translate:case go.shear:t.x=t.x||0,t.y=t.y||0}})),i.curve=new co(n.length);for(var o=0,a=0;a<n.length;a++){fo(n[a],i.curve,o),o++}return i}return P(e,t),e.prototype.resetValue=function(){this.bone.setToSetupPose()},e.prototype.setValue=function(t,e,r,n){switch(void 0===e&&(e=1),void 0===r&&(r=ro.replace),void 0===n&&(n=no.in),this.animationType){case go.translate:this.setPosition(t,e,r);break;case go.scale:this.setScale(t,e,r,n);break;case go.shear:this.setShear(t,e,r);break;case go.rotate:this.setRotation(t,e,r)}},e.prototype.setRotation=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=ro.replace);var n=this.times,i=this.bone;if(t<n[0].time)switch(r){case ro.setup:return void(i.rotation=i.data.rotation);case ro.first:var o=i.data.rotation-i.rotation;i.rotation+=(o-xo(o))*e}else if(t>=n[n.length-1].time){var a=n[n.length-1].angle;switch(r){case ro.setup:i.rotation=i.data.rotation+a*e;break;case ro.first:case ro.replace:a+=i.data.rotation-i.rotation,a-=xo(a);case ro.add:i.rotation+=a*e}}else{var s=this.findPreIndex(t),l=n[s-1].angle,h=n[s].time,u=this.curve.getCurvePercent(s-1,1-(t-h)/(n[s-1].time-h)),c=n[s].angle-l;switch(c=l+(c-xo(c))*u,r){case ro.setup:i.rotation=i.data.rotation+(c-xo(c))*e;break;case ro.first:case ro.replace:c+=i.data.rotation-i.rotation;case ro.add:i.rotation+=(c-xo(c))*e}}},e.prototype.setPosition=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=ro.replace);var n=this.times,i=this.bone;if(t<n[0].time)switch(r){case ro.setup:return i.x=i.data.x,void(i.y=i.data.y);case ro.first:i.x+=(i.data.x-i.x)*e,i.y+=(i.data.y-i.y)*e}else{var o=0,a=0;if(t>=n[n.length-1].time)o=n[n.length-1].x,a=n[n.length-1].y;else{var s=this.findPreIndex(t);o=n[s-1].x,a=n[s-1].y;var l=n[s].time,h=this.curve.getCurvePercent(s-1,1-(t-l)/(n[s-1].time-l));o+=(n[s].x-o)*h,a+=(n[s].y-a)*h}switch(r){case ro.setup:i.x=i.data.x+o*e,i.y=i.data.y+a*e;break;case ro.first:case ro.replace:i.x+=(i.data.x+o-i.x)*e,i.y+=(i.data.y+a-i.y)*e;break;case ro.add:i.x+=o*e,i.y+=a*e}}},e.prototype.setScale=function(t,e,r,n){void 0===e&&(e=1),void 0===r&&(r=ro.replace),void 0===n&&(n=no.in);var i=this.times,o=this.bone;if(t<i[0].time)switch(r){case ro.setup:return o.scaleX=o.data.scaleX,void(o.scaleY=o.data.scaleY);case ro.first:o.scaleX+=(o.data.scaleX-o.scaleX)*e,o.scaleY+=(o.data.scaleY-o.scaleY)*e}else{var a=0,s=0;if(t>=i[i.length-1].time)a=i[i.length-1].x*o.data.scaleX,s=i[i.length-1].y*o.data.scaleY;else{var l=this.findPreIndex(t);a=i[l-1].x,s=i[l-1].y;var h=i[l].time,u=this.curve.getCurvePercent(l-1,1-(t-h)/(i[l-1].time-h));a=(a+(i[l].x-a)*u)*o.data.scaleX,s=(s+(i[l].y-s)*u)*o.data.scaleY}if(1==e)r==ro.add?(o.scaleX+=a-o.data.scaleX,o.scaleY+=s-o.data.scaleY):(o.scaleX=a,o.scaleY=s);else{var c=0,f=0;if(n==no.out)switch(r){case ro.setup:c=o.data.scaleX,f=o.data.scaleY,o.scaleX=c+(Math.abs(a)*Ft(c)-c)*e,o.scaleY=f+(Math.abs(s)*Ft(f)-f)*e;break;case ro.first:case ro.replace:c=o.scaleX,f=o.scaleY,o.scaleX=c+(Math.abs(a)*Ft(c)-c)*e,o.scaleY=f+(Math.abs(s)*Ft(f)-f)*e;break;case ro.add:c=o.scaleX,f=o.scaleY,o.scaleX=c+(Math.abs(a)*Ft(c)-o.data.scaleX)*e,o.scaleY=f+(Math.abs(s)*Ft(f)-o.data.scaleY)*e}else switch(r){case ro.setup:c=Math.abs(o.data.scaleX)*Ft(a),f=Math.abs(o.data.scaleY)*Ft(s),o.scaleX=c+(a-c)*e,o.scaleY=f+(s-f)*e;break;case ro.first:case ro.replace:c=Math.abs(o.scaleX)*Ft(a),f=Math.abs(o.scaleY)*Ft(s),o.scaleX=c+(a-c)*e,o.scaleY=f+(s-f)*e;break;case ro.add:c=Ft(a),f=Ft(s),o.scaleX=Math.abs(o.scaleX)*c+(a-Math.abs(o.data.scaleX)*c)*e,o.scaleY=Math.abs(o.scaleY)*f+(s-Math.abs(o.data.scaleY)*f)*e}}}},e.prototype.setShear=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=ro.replace);var n=this.times,i=this.bone;if(t<n[0].time)switch(r){case ro.setup:return i.shearX=i.data.shearX,i.shearY=i.data.shearY,i.skewX=-i.shearY,void(i.skewY=i.shearX);case ro.first:i.shearX+=(i.data.shearX-i.shearX)*e,i.shearY+=(i.data.shearY-i.shearY)*e,i.skewX=-i.shearY,i.skewY=i.shearX}else{var o=0,a=0;if(t>=n[n.length-1].time)o=n[n.length-1].x,a=n[n.length-1].y;else{var s=this.findPreIndex(t);o=n[s-1].x,a=n[s-1].y;var l=n[s].time,h=this.curve.getCurvePercent(s-1,1-(t-l)/(n[s-1].time-l));o+=(n[s].x-o)*h,a+=(n[s].y-a)*h}switch(r){case ro.setup:i.shearX=i.data.shearX+o*e,i.shearY=i.data.shearY+a*e;break;case ro.first:case ro.replace:i.shearX+=(i.data.shearX+o-i.shearX)*e,i.shearY+=(i.data.shearY+a-i.shearY)*e;break;case ro.add:i.shearX+=o*e,i.shearY+=a*e}i.skewX=-i.shearY,i.skewY=i.shearX}},e.prototype.findPreIndex=function(t){for(var e=0,r=0;r<this.times.length;r++)if(this.times[r].time>t){e=r;break}return e},e.prototype.destroy=function(){this.bone=null,this.times=null},e}(_o);function xo(t){return 360*(16384-(16384.499999999996-t/360|0))}var wo=function(t){function e(r,n){var i=t.call(this)||this;i.slot=r,i._instanceType="SpineColorAniTrack";var o=n.length;i.frames=new Float32Array(o*e.ENTRIES),i.curve=new co(o);for(var a=0,s=0;s<o;s++){var l=n[s],h=(new io).setFromString(l.color||"ffffffff"),u=a*e.ENTRIES;i.frames[u]=l.time||0,i.frames[u+e.R]=h.r,i.frames[u+e.G]=h.g,i.frames[u+e.B]=h.b,i.frames[u+e.A]=h.a,fo(l,i.curve,a),a++}return i}return P(e,t),e.prototype.resetValue=function(){this.slot.setToSetupPose()},e.prototype.setValue=function(t,r,n){void 0===r&&(r=1),void 0===n&&(n=ro.replace);var i=this.slot,o=this.frames;if(t<o[0])switch(n){case ro.setup:return void i.color.setFromColor(i.data.sColor);case ro.first:case ro.replace:var a=i.color,s=i.data.sColor;a.add((s.r-a.r)*r,(s.g-a.g)*r,(s.b-a.b)*r,(s.a-a.a)*r)}else{var l=0,h=0,u=0,c=0;if(t>=o[o.length-e.ENTRIES]){var f=o.length;l=o[f+e.PREV_R],h=o[f+e.PREV_G],u=o[f+e.PREV_B],c=o[f+e.PREV_A]}else{var p=po(o,t,e.ENTRIES);l=o[p+e.PREV_R],h=o[p+e.PREV_G],u=o[p+e.PREV_B],c=o[p+e.PREV_A];var d=o[p],m=this.curve.getCurvePercent(p/e.ENTRIES-1,1-(t-d)/(o[p+e.PREV_TIME]-d));l+=(o[p+e.R]-l)*m,h+=(o[p+e.G]-h)*m,u+=(o[p+e.B]-u)*m,c+=(o[p+e.A]-c)*m}if(1==r)i.color.set(l,h,u,c);else{a=i.color;n==ro.setup&&a.setFromColor(i.data.sColor),a.add((l-a.r)*r,(h-a.g)*r,(u-a.b)*r,(c-a.a)*r)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(_o),To=function(t){function e(e,r,n){var i=t.call(this)||this;i.slot=e,i.attachment=r,i.times=n,i._instanceType="SpineDeformAniTrack";var o=null!=r.bones,a=r.vertices,s=o?a.length/3*2:a.length;i.frameTimes=new Float32Array(n.length),i.frameVertices=new Array(n.length),i.curve=new co(n.length);for(var l=0,h=0;h<n.length;h++){var u=n[h],c=void 0,f=u.vertices||null;if(null==f)c=o?new Float32Array(s):a;else if(mo(f,0,c=new Float32Array(s),u.offset||0,f.length),!o)for(var p=0;p<s;p++)c[p]+=a[p];i.frameTimes[l]=u.time||0,i.frameVertices[l]=c,fo(u,i.curve,l),l++}return i}return P(e,t),e.prototype.setValue=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=ro.replace);var n=this.slot.getAttachment();if(n instanceof lo&&n.applyDeform(this.attachment)){var i=this.slot.deform;0==i.length&&(r=ro.setup);var o=this.frameVertices,a=o[0].length,s=this.frameTimes;if(t<s[0]){var l=n;switch(r){case ro.setup:return void(i.length=0);case ro.first:if(1==e){i.length=0;break}var h=vo(i,a);if(null==l.bones)for(var u=l.vertices,c=0;c<a;c++)h[c]+=(u[c]-h[c])*e;else{e=1-e;for(c=0;c<a;c++)h[c]*=e}}}else{var f=vo(i,a);if(t>=s[s.length-1]){var p=o[s.length-1];if(1==e)if(r==ro.add)if(null==(l=n).bones)for(u=l.vertices,c=0;c<a;c++)f[c]+=p[c]-u[c];else for(c=0;c<a;c++)f[c]+=p[c];else mo(p,0,f,0,a);else switch(r){case ro.setup:var d=n;if(null==d.bones)for(u=d.vertices,c=0;c<a;c++){var m=u[c];f[c]=m+(p[c]-m)*e}else for(c=0;c<a;c++)f[c]=p[c]*e;break;case ro.first:case ro.replace:for(c=0;c<a;c++)f[c]+=(p[c]-f[c])*e;case ro.add:if(null==(l=n).bones)for(u=l.vertices,c=0;c<a;c++)f[c]+=(p[c]-u[c])*e;else for(c=0;c<a;c++)f[c]+=p[c]*e}}else{var v=po(s,t),y=o[v-1],g=o[v],_=s[v],b=this.curve.getCurvePercent(v-1,1-(t-_)/(s[v-1]-_));if(1==e)if(r==ro.add)if(null==(l=n).bones)for(u=l.vertices,c=0;c<a;c++){var x=y[c];f[c]+=x+(g[c]-x)*b-u[c]}else for(c=0;c<a;c++){x=y[c];f[c]+=x+(g[c]-x)*b}else for(c=0;c<a;c++){x=y[c];f[c]=x+(g[c]-x)*b}else switch(r){case ro.setup:var w=n;if(null==w.bones)for(u=w.vertices,c=0;c<a;c++){x=y[c],m=u[c];f[c]=m+(x+(g[c]-x)*b-m)*e}else for(c=0;c<a;c++){x=y[c];f[c]=(x+(g[c]-x)*b)*e}break;case ro.first:case ro.replace:for(c=0;c<a;c++){x=y[c];f[c]+=(x+(g[c]-x)*b-f[c])*e}break;case ro.add:if(null==(l=n).bones)for(u=l.vertices,c=0;c<a;c++){x=y[c];f[c]+=(x+(g[c]-x)*b-u[c])*e}else for(c=0;c<a;c++){x=y[c];f[c]+=(x+(g[c]-x)*b)*e}}}}}},e}(_o),So=function(t){function e(e,r,n){var i=t.call(this)||this;return i.slot=e,i.times=r,i.spine=n,i._instanceType="AttachmentAniTrack",r.forEach((function(t){t.time=t.time||0})),i}return P(e,t),e.prototype.resetValue=function(){this.slot.setToSetupPose()},e.prototype.setValue=function(t,e,r,n){void 0===r&&(r=ro.replace),void 0===n&&(n=no.in);var i=this.slot;if(n!=no.out||r!=ro.setup){var o=this.times;if(t<o[0].time){if(r==ro.setup||r==ro.first||r==ro.replace){s=i.data.attachment;i.setAttachment(s?this.spine.getAttachment(this.spine.slots.indexOf(i),s):null)}}else{var a=o[t>=o[o.length-1].time?o.length-1:function(t,e){var r=0,n=t.length-2;if(0==n)return 1;var i=n>>>1;for(;;){if(t[i+1].time<=e?r=i+1:n=i,r==n)return r+1;i=r+n>>>1}}(o,t)-1].name;i.setAttachment(null==a?null:this.spine.getAttachment(this.spine.slots.indexOf(i),a))}}else{var s=i.data.attachment;i.setAttachment(s?this.spine.getAttachment(this.spine.slots.indexOf(i),s):null)}},e}(_o);var Eo=function(t){function e(e,r,n){var i=t.call(this)||this;return i.slots=e,i.drawOrder=r,i.times=n,i._instanceType="DrawOrderAniTrack",i}return P(e,t),e.prototype.setValue=function(t,e,r,n){void 0===r&&(r=ro.replace),void 0===n&&(n=no.in);var i=this.drawOrder,o=this.slots;if(n!=no.out||r!=ro.setup){var a=this.times;if(t<a[0].time)r!=ro.setup&&r!=ro.first||mo(o,0,i,0,o.length);else{var s=a[t>=a[a.length-1].time?a.length-1:function(t,e){var r=0,n=t.length-2;if(0==n)return 1;var i=n>>>1;for(;;){if(t[i+1].time<=e?r=i+1:n=i,r==n)return r+1;i=r+n>>>1}}(a,t)-1].drawOrder;if(s)for(var l=0,h=s.length;l<h;l++)i[l]=o[s[l]];else mo(o,0,i,0,o.length)}}else mo(o,0,i,0,o.length)},e}(_o);var Mo,Co=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alpha=1,e.blend=ro.replace,e.direction=no.in,e}return P(e,t),e.prototype.rectify=function(){if(this.tracks&&this.tracks.length){for(var t=0;t<this.tracks.length;t++)this.tracks[t].setValue(this.curTime,this.alpha,this.blend,this.direction);this.lastTime=this.curTime}},e}(Ai),Ao=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.showAni=function(e,r,n,i){if(void 0===r&&(r=1),void 0===i&&(i=0),!i||!this.currentClip)return t.prototype.showAni.call(this,e,r,n);var o=this.currentClip,a=this.getAniClipByName(e);return a?o==a?t.prototype.showAni.call(this,e,r,n):(o.fromClip&&(this.resetFrom(o.fromClip),o.fromClip=null),a.mixTime=0,a.mixDuration=i,a.fromClip=o,(this.currentClip=a).startAniRange(0,void 0,r,n),this.currentClip):null},e.prototype.update=function(e){void 0===e&&(e=.0167),this.applyMixingFrom(this.currentClip,e,ro.first),t.prototype.update.call(this,e)},e.prototype.applyMixingFrom=function(t,e,r){if(t){var n=t.fromClip;if(n){t.mixTime+=e;var i=0;0==t.mixDuration?(i=1,r==ro.first&&(r=ro.setup)):((i=t.mixTime/t.mixDuration)>1&&(i=1),r!=ro.first&&(r=n.blend)),t.alpha=i,n.alpha=1-i,n.blend=r,0==n.alpha&&(this.resetFrom(n),t.fromClip.tracks.forEach((function(t){"AttachmentAniTrack"==t.instanceType&&t.resetValue()})),t.fromClip=null)}}},e.prototype.resetFrom=function(t){t._isPlaying=!1,t.alpha=1,t.blend=ro.replace},e}(Pi),Po=function(t){function e(e,r){var n=t.call(this)||this;return n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n.active=!1,n._instanceType="IkConstraint",n.target=e,n.bones=r,n}return P(e,t),e.prototype.destroy=function(){},e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var t=this.target,e=this.bones,r=t.worldMatrix.tx,n=t.worldMatrix.ty;switch(e.length){case 1:this.apply1(e[0],r,n,this.compress,this.stretch,this.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],r,n,this.bendDirection,this.stretch,this.softness,this.mix)}},e.prototype.apply1=function(t,e,r,n,i,o,a){var s=t.parent.worldMatrix,l=s.a,h=s.c,u=s.b,c=s.d,f=-t.ashearX-t.arotation,p=0,d=0;switch(t.data.transform){case to.onlyTranslation:p=e-t.worldMatrix.tx,d=r-t.worldMatrix.ty;break;case to.noRotationOrReflection:f+=Math.atan2(u,l)*M;var m=Math.abs(l*c-h*u)/(l*l+u*u);h=-u*m,c=l*m;default:var v=e-s.tx,y=r-s.ty,g=l*c-h*u;p=(v*c-y*h)/g-t.ax,d=(y*l-v*u)/g-t.ay}f+=Math.atan2(d,p)*M,t.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);var _=t.ascaleX,b=t.ascaleY;if(n||i){switch(t.data.transform){case to.noScale:case to.noScaleOrReflection:p=e-t.worldMatrix.tx,d=r-t.worldMatrix.ty}var x=t.data.length*_,w=Math.sqrt(p*p+d*d);if(n&&w<x||i&&w>x&&x>1e-4){var T=(w/x-1)*a+1;_*=T,o&&(b*=T)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+f*a,_,b,t.ashearX,t.ashearY)},e.prototype.apply2=function(t,e,r,n,i,o,a,s){if(0!=s){var l=t.ax,h=t.ay,u=t.ascaleX,c=u,f=t.ascaleY,p=e.ascaleX,d=t.matrix,m=0,v=0,y=0;u<0?(u=-u,m=180,y=-1):(m=0,y=1),f<0&&(f=-f,y=-y),p<0?(p=-p,v=180):v=0;var g=e.ax,_=0,b=0,x=0,w=d.a,T=d.c,S=d.b,E=d.d,C=Math.abs(u-f)<=1e-4;C?(b=w*g+T*(_=e.ay)+d.tx,x=S*g+E*_+d.ty):(_=0,b=w*g+d.tx,x=S*g+d.ty);var A=t.parent.worldMatrix;w=A.a,T=A.c,S=A.b;var P,k,O=1/(w*(E=A.d)-T*S),D=b-A.tx,I=x-A.ty,R=(D*E-I*T)*O-l,F=(I*w-D*S)*O-h,L=Math.sqrt(R*R+F*F),N=e.data.length*p;if(L<1e-4)return this.apply1(t,r,n,!1,o,!1,s),void e.updateWorldTransformWith(g,_,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var B=((D=r-A.tx)*E-(I=n-A.ty)*T)*O-l,z=(I*w-D*S)*O-h,j=B*B+z*z;if(0!=a){a*=u*(p+1)/2;var V=Math.sqrt(j),U=V-L-N*u+a;if(U>0){var W=Math.min(1,U/(2*a))-1;j=(B-=(W=(U-a*(1-W*W))/V)*B)*B+(z-=W*z)*z}}t:if(C){var H=(j-L*L-(N*=u)*N)/(2*L*N);H<-1?H=-1:H>1&&(H=1,o&&(c*=(Math.sqrt(j)/(L+N)-1)*s+1)),k=Math.acos(H)*i,w=L+N*H,T=N*Math.sin(k),P=Math.atan2(z*w-B*T,B*w+z*T)}else{var G=(w=u*N)*w,Y=(T=f*N)*T,X=Math.atan2(z,B),q=-2*Y*L,K=Y-G;if((E=q*q-4*K*(S=Y*L*L+G*j-G*Y))>=0){var Z=Math.sqrt(E);q<0&&(Z=-Z);var J=(Z=-(q+Z)/2)/K,$=S/Z,Q=Math.abs(J)<Math.abs($)?J:$;if(Q*Q<=j){I=Math.sqrt(j-Q*Q)*i,P=X-Math.atan2(I,Q),k=Math.atan2(I/f,(Q-L)/u);break t}}var tt=Math.PI,et=L-w,rt=et*et,nt=0,it=0,ot=L+w,at=ot*ot,st=0;(S=-w*L/(G-Y))>=-1&&S<=1&&(S=Math.acos(S),(E=(D=w*Math.cos(S)+L)*D+(I=T*Math.sin(S))*I)<rt&&(tt=S,rt=E,et=D,nt=I),E>at&&(it=S,at=E,ot=D,st=I)),j<=(rt+at)/2?(P=X-Math.atan2(nt*i,et),k=tt*i):(P=X-Math.atan2(st*i,ot),k=it*i)}var lt=Math.atan2(_,g)*y,ht=t.arotation;(P=(P-lt)*M+m-ht)>180?P-=360:P<-180&&(P+=360),t.updateWorldTransformWith(l,h,ht+P*s,c,t.ascaleY,0,0),ht=e.arotation,(k=((k+lt)*M-e.ashearX)*y+v-ht)>180?k-=360:k<-180&&(k+=360),e.updateWorldTransformWith(g,_,ht+k*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}},e}(D);!function(t){t.region="region",t.mesh="mesh",t.clipping="clipping",t.linkedmesh="linkedmesh",t.path="path",t.point="point"}(Mo||(Mo={}));var ko=[0,0,0],Oo=function(t){function e(e,r){void 0===r&&(r=!1);var n=t.call(this)||this;n._instanceType="Spine";var i=n.spineData=e;if(e.textures||(r=!0),n.scaleY=-1,i.bones){n.boneContainer=n.addChild(new Z),n.bones=[];for(var o=0;o<i.bones.length;o++){var a=new eo(i.bones[o],r?n.boneContainer:null);if(n.bones.push(a),a.data.parent){var s=n.findBone(a.data.parent);s&&s.addChild(a)}else n.boneContainer.addChild(a)}}if(i.ik&&(n.ikConstraints=[],i.ik.forEach((function(t){var e=new Po(n.findBone(t.target),t.bones.map((function(t){return n.findBone(t)})));e.mix=void 0===t.mix?1:t.mix,e.softness=void 0===t.softness?0:t.softness,e.bendDirection=void 0===t.bendDirection||t.bendDirection?1:-1,e.compress=void 0!==t.compress&&t.compress,e.stretch=void 0!==t.stretch&&t.stretch,e.uniform=void 0!==t.uniform&&t.uniform,n.ikConstraints.push(e)}))),i.slots){n.slotContainer=n.addChildAt(new Z,0),n.slots=[];for(var l=0;l<i.slots.length;l++){var h=i.slots[l];a=n.findBone(h.bone);n.slots.push(n.slotContainer.addChild(new oo(a,h,n)))}n.drawOrder=n.slots.slice()}if(i.skins){n.skins=[];var u=i.skins;for(var c in"[object Array]"===Object.prototype.toString.call(i.skins)&&(u={},i.skins.forEach((function(t){u[t.name]=t.attachments}))),u){var f=u[c],p=new ao(c);for(var d in f){var m=n.findSlotIndex(d);if(-1==m)throw new Error("Slot not found: "+d);var v=f[d];for(var y in v){var g=n.readAttachment(v[y],p,m,y,null);null!=g&&p.addAttachment(m,y,g)}}n.skins.push(p),"default"==p.name&&(n.defaultSkin=p)}}if(i.animations){var _=[];for(var b in i.animations){var x=[],w=0,T=i.animations[b];if(T.bones)for(var S in T.bones){var E=T.bones[S];a=n.findBone(S);for(var M in E){var C=new bo(a,M,E[M]);x.push(C),w=Math.max(w,C.times[C.times.length-1].time)}}if(T.slots)for(var A in T.slots){var P=T.slots[A],k=n.findSlotIndex(A),O=n.slots[k];for(var D in P){var I=P[D],R=I[I.length-1].time;"attachment"==D?(x.push(new So(O,I,n)),w=Math.max(w,R||0)):"color"==D&&(x.push(new wo(O,I)),w=Math.max(w,R||0))}}if(T.deform)for(var F in T.deform){var L=T.deform[F],N=n.findSkin(F);for(var d in L){var B=L[d],z=n.findSlotIndex(d);O=n.slots[z];for(var j in B){var V=B[j],U=N.getAttachment(z,j),W=new To(O,U,V);x.push(W),w=Math.max(w,W.frameTimes[W.frameTimes.length-1])}}}var H=T.drawOrder;if(H){var G=new Eo(n.slots,n.drawOrder,H.map((function(t){return{time:t.time||0,drawOrder:function(){var e=t.offsets;if(!e)return null;for(var r=n.slots.length,i=yo(r,-1),o=yo(r-e.length,0),a=0,s=0,l=0;l<e.length;l++){for(var h=e[l],u=n.findSlotIndex(h.slot);a!=u;)o[s++]=a++;i[a+h.offset]=a++}for(;a<r;)o[s++]=a++;for(l=r-1;l>=0;l--)-1==i[l]&&(i[l]=o[--s]);return i}()}})));x.push(G),w=Math.max(w,G.times[G.times.length-1].time)}var Y=new Co(x,w);Y.name=b,_.push(Y)}n.animationManager=new Ao(_)}if(i.slots)for(var X=0;X<n.slots.length;X++){if((O=n.slots[X]).data.attachment){var q=n.defaultSkin.getAttachment(X,O.data.attachment);if(O.setAttachment(q),q instanceof ho){var K=q.name,J=n.createSprite(O,q,K);O.currentSprite=J,O.currentSpriteName=K,O.addChild(J)}else if(q instanceof uo){var $=n.createMesh(O,q);O.currentMesh=$,O.currentMeshName=q.name,O.addChild($)}}}return n}return P(e,t),e.prototype.findBone=function(t){for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},e.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;e&&this.sortBone(e),t.sorted=!0,this.orderCalculations.push(t)}},e.prototype.findSlot=function(t){for(var e=this.slots,r=0;r<e.length;r++)if(e[r].name==t)return e[r];return null},e.prototype.findSlotIndex=function(t){for(var e=this.slots,r=0;r<e.length;r++)if(e[r].name==t)return r;return-1},e.prototype.findSkin=function(t){for(var e=this.skins,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},e.prototype.getAttachment=function(t,e){var r;if(this.skin&&(r=this.skin.getAttachment(t,e)))return r;if(this.defaultSkin&&(r=this.defaultSkin.getAttachment(t,e)))return r;return null},e.prototype.update=function(){var e=Date.now(),r=this.lastTime?.001*(e-this.lastTime):.01667;this.lastTime=e,this.animationManager.update(r),t.prototype.update.call(this)},e.prototype.updateTransform=function(){this.transform.updateWorldMatrix(this.parent.transform),this._worldAlpha=this.alpha*this.parent._worldAlpha,this.boneContainer&&this.boneContainer.updateTransform(),this.ikConstraints&&this.ikConstraints.forEach((function(t){t.update()})),this.updateSlots(),this.updateDrawOrder(),this.slotContainer.updateTransform()},e.prototype.updateSlots=function(){for(var t=0,e=this.slots.length;t<e;t++){var r=this.slots[t],n=r.attachment;if(n){var i=n.color;if(n instanceof ho){if(r.currentMesh&&(r.currentMesh.visible=!1,r.currentMesh=null,r.currentMeshName=void 0),!r.currentSpriteName||r.currentSpriteName!==n.name){var o=n.name;if(r.currentSprite&&(r.currentSprite.visible=!1),r.sprites=r.sprites||{},void 0!==r.sprites[o])r.sprites[o].visible=!0;else{var a=this.createSprite(r,n,o);r.addChild(a)}r.currentSprite=r.sprites[o],r.currentSpriteName=o}var s=r.transform;r.bone.matrix.decompose(s),s._localID++,ko[0]=r.color.r*i.r,ko[1]=r.color.g*i.g,ko[2]=r.color.b*i.b,r.currentSprite.tint=It(ko)}else{if(!(n instanceof uo)){r.visible=!1;continue}r.currentSprite&&(r.currentSprite.visible=!1,r.currentSprite=null,r.currentSpriteName=void 0,(s=new j)._parentID=-1,s._worldID=r.transform._worldID,r.transform=s);if(!r.currentMeshName||r.currentMeshName!==n.name){var l=n.name;if(r.currentMesh&&(r.currentMesh.visible=!1),r.meshes=r.meshes||{},void 0!==r.meshes[l])r.meshes[l].visible=!0;else{var h=this.createMesh(r,n);r.addChild(h)}r.currentMesh=r.meshes[l],r.currentMeshName=l}n.computeWorldVerticesOld(r,r.currentMesh._vertices,this.bones),r.currentMesh._vertexDirty++,ko[0]=r.color.r*i.r,ko[1]=r.color.g*i.g,ko[2]=r.color.b*i.b,r.currentMesh.tint=It(ko)}r.visible=!0,r.alpha=r.color.a}else r.visible=!1}},e.prototype.updateDrawOrder=function(){for(var t=this.drawOrder,e=0,r=t.length;e<r;e++){var n=this.slots.indexOf(t[e]),i=this.slots[n];this.slotContainer.children[e]=i}},e.prototype.readAttachment=function(t,e,r,n,i){var o=this.spineData.textures;switch(n=t.name||n,t.type||Mo.region){case Mo.region:var a=new ho(n,t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.width,t.height,o&&o[t.path||n]);return t.color&&a.color.setFromString(t.color),a;case"mesh":var s=new uo(n);s.texture=o&&o[t.path||n];var l=t.uvs;return this.readVertices(t,s,l.length),s.triangles=t.triangles,s.regionUVs=new Float32Array(l),s.hullLength=2*t.hull||0,s}return null},e.prototype.readVertices=function(t,e,r){e.worldVerticesLength=r;var n=t.vertices;if(r!=n.length){for(var i=new Array,o=new Array,a=0,s=n.length;a<s;){var l=n[a++];o.push(l);for(var h=a+4*l;a<h;a+=4)o.push(n[a]),i.push(n[a+1]),i.push(n[a+2]),i.push(n[a+3])}e.bones=o,e.vertices=new Float32Array(i)}else{var u=new Float32Array(n);e.vertices=u}},e.prototype.createSprite=function(t,e,r){var n=new Zt(e.texture);return n.rotation=e.rotation||0,n.anchorTexture.set(.5,.5),n.position.x=e.x,n.position.y=e.y,n.alpha=e.color.a,e.texture&&(n.scaleX=e.scaleX*e.width/e.texture.width,n.scaleY=-e.scaleY*e.height/e.texture.height),t.sprites=t.sprites||{},t.sprites[r]=n,n},e.prototype.createMesh=function(t,e){var r=new ln(e.texture,new Float32Array(e.regionUVs.length),e.regionUVs,new Uint16Array(e.triangles));return r.canvasPadding&&(r.canvasPadding=1.5),r.refresh(!0),r.multiplyUvs(),t.meshes=t.meshes||{},t.meshes[e.name]=r,r},e.prototype.clone=function(){return new e(this.spineData)},e.prototype.setSkin=function(t){var e=this.findSkin(t);e&&this.skin!=e&&(this.addSkin(e)||(e==this.defaultSkin?this.resetSkin():(this.resetSkin(),this.addSkin(e))))},e.prototype.resetSkin=function(){this.skin=this.defaultSkin,this.slots.forEach((function(t){t.setToSetupPose()}))},e.prototype.addSkin=function(t){if(this.skin&&this.skin!=this.defaultSkin)return!1;for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r],o=i.data.attachment;if(o){var a=t.getAttachment(r,o);a&&i.setAttachment(a)}}return this.skin=t,!0},Object.defineProperty(e.prototype,"skinNames",{get:function(){return this.skins&&this.skins.length?this.skins.map((function(t){return t.name})):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aniNames",{get:function(){var t=this.animationManager;return t&&t.animationClips&&t.animationClips.length?t.animationClips.map((function(t){return t.name})):[]},enumerable:!0,configurable:!0}),e}(Z);function Do(t,e){for(var r={},n=new Io(e),i=new Array(4),o=null;;){var a=n.readLine();if(null==a)break;if(0==(a=a.trim()).length);else if(o){var s="true"==n.readValue()?6:0;n.readTuple(i);var l=parseInt(i[0]),h=parseInt(i[1]);n.readTuple(i);var u=parseInt(i[0]),c=parseInt(i[1]);4==n.readTuple(i)&&4==n.readTuple(i)&&n.readTuple(i);var f=parseInt(i[0]),p=parseInt(i[1]);n.readTuple(i);var d=parseInt(i[0]),m=parseInt(i[1]),v=null,y=null,g=new z(0,0,Math.floor(f),Math.floor(p));v=s?new z(Math.floor(l),Math.floor(h),Math.floor(c),Math.floor(u)):new z(Math.floor(l),Math.floor(h),Math.floor(u),Math.floor(c)),(d||m||u!=f||c!=p)&&(y=new z(d,p-c-m,u,c)),r[a]=new Yt(t,v,g,y,s),n.readValue()}else o={},2==n.readTuple(i)&&n.readTuple(i),n.readTuple(i),n.readValue()}return r}var Io=function(){function t(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},t.prototype.readTuple=function(t){var e=this.readLine(),r=e.indexOf(":");if(-1==r)throw new Error("Invalid line: "+e);for(var n=0,i=r+1;n<3;n++){var o=e.indexOf(",",i);if(-1==o)break;t[n]=e.substr(i,o-i).trim(),i=o+1}return t[n]=e.substring(i).trim(),n+1},t}();function Ro(t,e,r){var n=this;Ut.loadAB((function(t,i){return k(n,void 0,void 0,(function(){var n,o,a,s,l,h,u;return O(this,(function(c){if(!t)return r&&r(i),[2];try{n=new DataView(i,0,12),o=n.getUint32(0,!0),a=n.getUint32(4,!0),s=n.getUint32(8,!0),l="data:image/png;base64,"+jt(i.slice(12,o+12)),h=Vt(new Uint8Array(i,12+o,a)),u=JSON.parse(Vt(new Uint8Array(i,12+o+a,s))),Ut.loadImage((function(t,r){u.textures=Do(Wt.fromImage(r),h),Object.defineProperty(u,"spine",{get:function(){return console.warn("loadSpine方法不再返回spine对象，请使用new Spine(spineData)生成实例"),new Oo(u)}}),e&&e(u)}),l)}catch(t){r&&r(t)}return[2]}))}))}),t)}},cj9Y:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return P}));var n=r("q1tI"),i=r.n(n),o=r("EtqE"),a=r("Yb6r"),s=r("VEoi"),l=r("17x9"),h=(r("+I9a"),[]),u=[];function c(t,e){if(t&&"undefined"!=typeof document){var r,n=!0===e.prepend?"prepend":"append",i=!0===e.singleTag,o="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(i){var a=h.indexOf(o);-1===a&&(a=h.push(o)-1,u[a]={}),r=u[a]&&u[a][n]?u[a][n]:u[a][n]=s()}else r=s();65279===t.charCodeAt(0)&&(t=t.substring(1)),r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(document.createTextNode(t))}function s(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var r=Object.keys(e.attributes),i=0;i<r.length;i++)t.setAttribute(r[i],e.attributes[r[i]]);var a="prepend"===n?"afterbegin":"beforeend";return o.insertAdjacentElement(a,t),t}}c(".sui-badge {\n  display: inline-block;\n  min-width: 0.3rem;\n  height: 0.3rem;\n  background-color: #ff667d;\n  border-radius: 0.25rem;\n  color: #fff;\n  line-height: 0.3rem;\n  text-align: center;\n  padding: 0.05rem;\n  font-size: 0.3rem;\n  font-family: Arial, serif;\n}",{});c(".sui-cut-down-btn {\n  display: inline-block;\n  width: 1.8rem;\n  height: 0.5rem;\n  font-size: 0.3rem;\n  background-color: #ff6600;\n  color: #fff;\n  border-radius: 0.25rem;\n  text-align: center;\n  line-height: 0.5rem;\n}\n\n.sui-cut-down-btn-time {\n  font-size: 0.3rem;\n}",{});c(".sui-input-number {\n  border: 0;\n}",{});c(".sui-marquee-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n}\n\n.sui-marquee-container .marquee-list {\n  position: relative;\n  transform: translate3d(0, 0, 0);\n  -webkit-transform: translate3d(0, 0, 0);\n  transition-duration: 0.3s;\n  -webkit-transition-duration: 0.3s;\n  transition-property: all;\n  -webkit-transition-property: all;\n  transition-timing-function: ease;\n  -webkit-transition-timing-function: ease;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n.sui-marquee-container .marquee-list .marquee-item {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  text-align: center;\n  top: 0;\n  overflow: hidden;\n}",{});var f=function(){return(f=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;function p(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return d(null==e&&r.path)}},r.exports),r.exports}function d(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var m=p((function(t){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){var e={}.hasOwnProperty;function r(){for(var t=[],n=0;n<arguments.length;n++){var i=arguments[n];if(i){var o=typeof i;if("string"===o||"number"===o)t.push(i);else if(Array.isArray(i)&&i.length){var a=r.apply(null,i);a&&t.push(a)}else if("object"===o)for(var s in i)e.call(i,s)&&i[s]&&t.push(s)}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):window.classNames=r}()}));c(".sui-picker-mask {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 2000;\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.sui-picker-mask .picker-container {\n  background-color: #fff;\n}\n\n.sui-picker-mask .picker-container .picker-header {\n  height: 0.4rem;\n  line-height: 0.4rem;\n  text-align: center;\n  position: relative;\n}\n\n.sui-picker-mask .picker-container .picker-header .picker-close {\n  position: absolute;\n  left: 0;\n  padding: 0 0.1rem;\n}\n\n.sui-picker-mask .picker-container .picker-header .picker-ok {\n  position: absolute;\n  right: 0;\n  color: #0d6efd;\n  padding: 0 0.1rem;\n}\n\n.sui-picker-mask .picker-container .picker-result {\n  padding: 0 0.2rem;\n  color: #0d6efd;\n  line-height: 0.4rem;\n}\n\n.sui-picker-mask .picker-container .picker-result span {\n  padding-right: 0.2rem;\n  white-space: nowrap;\n}\n\n.sui-picker-mask .picker-container .picker-list {\n  border-top: 0.01rem solid #0d6efd;\n  height: 50vh;\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n}\n\n.sui-picker-mask .picker-container .picker-list li {\n  line-height: 0.4rem;\n  height: 0.4rem;\n  padding: 0 0.2rem;\n  border-left: 0.02rem solid transparent;\n}\n\n.sui-picker-mask .picker-container .picker-list li.active {\n  border-left: 0.02rem solid #0d6efd;\n}",{});var v=p((function(t){
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(e,r,n,i){var o,a=["","webkit","Moz","MS","ms","o"],s=r.createElement("div"),l=Math.round,h=Math.abs,u=Date.now;function c(t,e,r){return setTimeout(g(t,r),e)}function f(t,e,r){return!!Array.isArray(t)&&(p(t,r[e],r),!0)}function p(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function d(t,r,n){var i="DEPRECATED METHOD: "+r+"\n"+n+" AT \n";return function(){var r=new Error("get-stack-trace"),n=r&&r.stack?r.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=e.console&&(e.console.warn||e.console.log);return o&&o.call(e.console,i,n),t.apply(this,arguments)}}o="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e}:Object.assign;var m=d((function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&void 0===t[n[i]])&&(t[n[i]]=e[n[i]]),i++;return t}),"extend","Use `assign`."),v=d((function(t,e){return m(t,e,!0)}),"merge","Use `assign`.");function y(t,e,r){var n,i=e.prototype;(n=t.prototype=Object.create(i)).constructor=t,n._super=i,r&&o(n,r)}function g(t,e){return function(){return t.apply(e,arguments)}}function _(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function b(t,e){return void 0===t?e:t}function x(t,e,r){p(E(e),(function(e){t.addEventListener(e,r,!1)}))}function w(t,e,r){p(E(e),(function(e){t.removeEventListener(e,r,!1)}))}function T(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function S(t,e){return t.indexOf(e)>-1}function E(t){return t.trim().split(/\s+/g)}function M(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}function C(t){return Array.prototype.slice.call(t,0)}function A(t,e,r){for(var n=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];M(i,a)<0&&n.push(t[o]),i[o]=a,o++}return r&&(n=e?n.sort((function(t,r){return t[e]>r[e]})):n.sort()),n}function P(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),o=0;o<a.length;){if((n=(r=a[o])?r+i:e)in t)return n;o++}}var k=1;function O(t){var r=t.ownerDocument||t;return r.defaultView||r.parentWindow||e}var D="ontouchstart"in e,I=void 0!==P(e,"PointerEvent"),R=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=["x","y"],L=["clientX","clientY"];function N(t,e){var r=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){_(t.options.enable,[t])&&r.handler(e)},this.init()}function B(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,o=1&e&&n-i==0,a=12&e&&n-i==0;r.isFirst=!!o,r.isFinal=!!a,o&&(t.session={}),r.eventType=e,function(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=z(e));i>1&&!r.firstMultiple?r.firstMultiple=z(e):1===i&&(r.firstMultiple=!1);var o=r.firstInput,a=r.firstMultiple,s=a?a.center:o.center,l=e.center=j(n);e.timeStamp=u(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=H(s,l),e.distance=W(s,l),function(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y});e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}(r,e),e.offsetDirection=U(e.deltaX,e.deltaY);var c=V(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=h(c.x)>h(c.y)?c.x:c.y,e.scale=a?(f=a.pointers,p=n,W(p[0],p[1],L)/W(f[0],f[1],L)):1,e.rotation=a?function(t,e){return H(e[1],e[0],L)+H(t[1],t[0],L)}(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,function(t,e){var r,n,i,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var l=e.deltaX-a.deltaX,u=e.deltaY-a.deltaY,c=V(s,l,u);n=c.x,i=c.y,r=h(c.x)>h(c.y)?c.x:c.y,o=U(l,u),t.lastInterval=e}else r=a.velocity,n=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=r,e.velocityX=n,e.velocityY=i,e.direction=o}(r,e);var f,p;var d=t.element;T(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function z(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:l(t.pointers[r].clientX),clientY:l(t.pointers[r].clientY)},r++;return{timeStamp:u(),pointers:e,center:j(e),deltaX:t.deltaX,deltaY:t.deltaY}}function j(t){var e=t.length;if(1===e)return{x:l(t[0].clientX),y:l(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:l(r/e),y:l(n/e)}}function V(t,e,r){return{x:e/t||0,y:r/t||0}}function U(t,e){return t===e?1:h(t)>=h(e)?t<0?2:4:e<0?8:16}function W(t,e,r){r||(r=F);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function H(t,e,r){r||(r=F);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return 180*Math.atan2(i,n)/Math.PI}N.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(O(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(O(this.element),this.evWin,this.domHandler)}};var G={mousedown:1,mousemove:2,mouseup:4};function Y(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,N.apply(this,arguments)}y(Y,N,{handler:function(t){var e=G[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var X={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},q={2:"touch",3:"pen",4:"mouse",5:"kinect"},K="pointerdown",Z="pointermove pointerup pointercancel";function J(){this.evEl=K,this.evWin=Z,N.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}e.MSPointerEvent&&!e.PointerEvent&&(K="MSPointerDown",Z="MSPointerMove MSPointerUp MSPointerCancel"),y(J,N,{handler:function(t){var e=this.store,r=!1,n=t.type.toLowerCase().replace("ms",""),i=X[n],o=q[t.pointerType]||t.pointerType,a="touch"==o,s=M(e,t.pointerId,"pointerId");1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(r=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),r&&e.splice(s,1))}});var $={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function Q(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,N.apply(this,arguments)}function tt(t,e){var r=C(t.touches),n=C(t.changedTouches);return 12&e&&(r=A(r.concat(n),"identifier",!0)),[r,n]}y(Q,N,{handler:function(t){var e=$[t.type];if(1===e&&(this.started=!0),this.started){var r=tt.call(this,t,e);12&e&&r[0].length-r[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:"touch",srcEvent:t})}}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function rt(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},N.apply(this,arguments)}function nt(t,e){var r=C(t.touches),n=this.targetIds;if(3&e&&1===r.length)return n[r[0].identifier]=!0,[r,r];var i,o,a=C(t.changedTouches),s=[],l=this.target;if(o=r.filter((function(t){return T(t.target,l)})),1===e)for(i=0;i<o.length;)n[o[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&s.push(a[i]),12&e&&delete n[a[i].identifier],i++;return s.length?[A(o.concat(s),"identifier",!0),s]:void 0}y(rt,N,{handler:function(t){var e=et[t.type],r=nt.call(this,t,e);r&&this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:"touch",srcEvent:t})}});function it(){N.apply(this,arguments);var t=g(this.handler,this);this.touch=new rt(this.manager,t),this.mouse=new Y(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ot(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,at.call(this,e)):12&t&&at.call(this,e)}function at(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var r={x:e.clientX,y:e.clientY};this.lastTouches.push(r);var n=this.lastTouches;setTimeout((function(){var t=n.indexOf(r);t>-1&&n.splice(t,1)}),2500)}}function st(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],o=Math.abs(e-i.x),a=Math.abs(r-i.y);if(o<=25&&a<=25)return!0}return!1}y(it,N,{handler:function(t,e,r){var n="touch"==r.pointerType,i="mouse"==r.pointerType;if(!(i&&r.sourceCapabilities&&r.sourceCapabilities.firesTouchEvents)){if(n)ot.call(this,e,r);else if(i&&st.call(this,r))return;this.callback(t,e,r)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var lt=P(s.style,"touchAction"),ht=void 0!==lt,ut=function(){if(!ht)return!1;var t={},r=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!r||e.CSS.supports("touch-action",n)})),t}();function ct(t,e){this.manager=t,this.set(e)}ct.prototype={set:function(t){"compute"==t&&(t=this.compute()),ht&&this.manager.element.style&&ut[t]&&(this.manager.element.style[lt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return p(this.manager.recognizers,(function(e){_(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(S(t,"none"))return"none";var e=S(t,"pan-x"),r=S(t,"pan-y");if(e&&r)return"none";if(e||r)return e?"pan-x":"pan-y";if(S(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,r=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,i=S(n,"none")&&!ut.none,o=S(n,"pan-y")&&!ut["pan-y"],a=S(n,"pan-x")&&!ut["pan-x"];if(i){var s=1===t.pointers.length,l=t.distance<2,h=t.deltaTime<250;if(s&&l&&h)return}if(!a||!o)return i||o&&6&r||a&&24&r?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function ft(t){this.options=o({},this.defaults,t||{}),this.id=k++,this.manager=null,this.options.enable=b(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function pt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function dt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function mt(t,e){var r=e.manager;return r?r.get(t):t}function vt(){ft.apply(this,arguments)}function yt(){vt.apply(this,arguments),this.pX=null,this.pY=null}function gt(){vt.apply(this,arguments)}function _t(){ft.apply(this,arguments),this._timer=null,this._input=null}function bt(){vt.apply(this,arguments)}function xt(){vt.apply(this,arguments)}function wt(){ft.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Tt(t,e){return(e=e||{}).recognizers=b(e.recognizers,Tt.defaults.preset),new St(t,e)}ft.prototype={defaults:{},set:function(t){return o(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(f(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=mt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return f(t,"dropRecognizeWith",this)||(t=mt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(f(t,"requireFailure",this))return this;var e=this.requireFail;return-1===M(e,t=mt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(f(t,"dropRequireFailure",this))return this;t=mt(t,this);var e=M(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,r=this.state;function n(r){e.manager.emit(r,t)}r<8&&n(e.options.event+pt(r)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),r>=8&&n(e.options.event+pt(r))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=o({},t);if(!_(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},y(vt,ft,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,r=t.eventType,n=6&e,i=this.attrTest(t);return n&&(8&r||!i)?16|e:n||i?4&r?8|e:2&e?4|e:2:32}}),y(yt,vt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,r=!0,n=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,r=o!=this.pX,n=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,r=a!=this.pY,n=Math.abs(t.deltaY))),t.direction=i,r&&n>e.threshold&&i&e.direction},attrTest:function(t){return vt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=dt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),y(gt,vt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),y(_t,ft,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,r=t.pointers.length===e.pointers,n=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!n||!r||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=c((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}}),y(bt,vt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),y(xt,vt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return yt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,r=this.options.direction;return 30&r?e=t.overallVelocity:6&r?e=t.overallVelocityX:24&r&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&r&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=dt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),y(wt,ft,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,r=t.pointers.length===e.pointers,n=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(n&&i&&r){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||W(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=c((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=c((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Tt.VERSION="2.0.7",Tt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[bt,{enable:!1}],[gt,{enable:!1},["rotate"]],[xt,{direction:6}],[yt,{direction:6},["swipe"]],[wt],[wt,{event:"doubletap",taps:2},["tap"]],[_t]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function St(t,e){var r;this.options=o({},Tt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((r=this).options.inputClass||(I?J:R?rt:D?it:Y))(r,B),this.touchAction=new ct(this,this.options.touchAction),Et(this,!0),p(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Et(t,e){var r,n=t.element;n.style&&(p(t.options.cssProps,(function(i,o){r=P(n.style,o),e?(t.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=t.oldCssProps[r]||""})),e||(t.oldCssProps={}))}St.prototype={set:function(t){return o(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var r;this.touchAction.preventDefaults(t);var n=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<n.length;)r=n[o],2===e.stopped||i&&r!=i&&!r.canRecognizeWith(i)?r.reset():r.recognize(t),!i&&14&r.state&&(i=e.curRecognizer=r),o++}},get:function(t){if(t instanceof ft)return t;for(var e=this.recognizers,r=0;r<e.length;r++)if(e[r].options.event==t)return e[r];return null},add:function(t){if(f(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(f(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,r=M(e,t);-1!==r&&(e.splice(r,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var r=this.handlers;return p(E(t),(function(t){r[t]=r[t]||[],r[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var r=this.handlers;return p(E(t),(function(t){e?r[t]&&r[t].splice(M(r[t],e),1):delete r[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=r.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&Et(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},o(Tt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:St,Input:N,TouchAction:ct,TouchInput:rt,MouseInput:Y,PointerEventInput:J,TouchMouseInput:it,SingleTouchInput:Q,Recognizer:ft,AttrRecognizer:vt,Tap:wt,Pan:yt,Swipe:xt,Pinch:gt,Rotate:bt,Press:_t,on:x,off:w,each:p,merge:v,extend:m,assign:o,inherit:y,bindFn:g,prefixed:P}),(void 0!==e?e:"undefined"!=typeof self?self:{}).Hammer=Tt,t.exports?t.exports=Tt:e.Hammer=Tt}(window,document)}));c(".sui-carousel-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n}\n\n.sui-carousel-container .carousel-ctr-btn {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n.sui-carousel-container .carousel-ctr-btn .spark-iconfont {\n  font-size: 0.25rem;\n  color: rgba(0, 0, 0, 0.6);\n}\n\n.sui-carousel-container .carousel-ctr-btn.left {\n  left: 6%;\n}\n\n.sui-carousel-container .carousel-ctr-btn.right {\n  right: 6%;\n}\n\n.sui-carousel-container .carousel-list {\n  position: relative;\n  transform: translate3d(0, 0, 0);\n  transition-duration: 0.3s;\n  transition-property: all;\n  transition-timing-function: ease;\n  height: 100%;\n}\n\n.sui-carousel-container .carousel-list .carousel-item {\n  display: block;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n}\n\n.sui-carousel-container .carousel-dot {\n  position: absolute;\n  bottom: 0.2rem;\n  left: 0;\n  right: 0;\n  text-align: center;\n}\n\n.sui-carousel-container .carousel-dot-item {\n  display: inline-block;\n  width: 0.07rem;\n  height: 0.07rem;\n  margin: 0 0.03rem;\n  background-color: rgba(0, 0, 0, 0.3);\n  border-radius: 50%;\n  font-size: 0;\n}\n\n.sui-carousel-container .carousel-dot-item.is-active {\n  background-color: #0d6efd;\n}",{});var y=function(t){var e=t.children,r=t.defaultIndex,o=Object(n.useState)(0),a=o[0],s=o[1],l=Object(n.useState)(0),h=l[0],u=l[1],c=Object(n.useRef)(null),f=Object(n.useState)(r||0),p=f[0],d=f[1],y=Object(n.useState)(1),g=y[0],_=y[1];Object(n.useEffect)((function(){s(i.a.Children.count(e)),S()}),[e]),Object(n.useEffect)((function(){if(c.current){var t=c.current.clientWidth;t!==h&&u(t)}}),[]),Object(n.useEffect)((function(){x()}),[p,h]),Object(n.useEffect)((function(){var t=new v(c.current);return t.add(new v.Pan),t.on("panend panmove",(function(t){var e=t.direction===v.DIRECTION_NONE,r=t.direction===v.DIRECTION_LEFT,n=t.direction===v.DIRECTION_RIGHT,i=Math.abs(t.deltaX)>h/3;2===g||r&&p+1===a||n&&0===p||e||(t.eventType===v.INPUT_MOVE?x(t.deltaX):t.eventType===v.INPUT_END&&(r&&i?T():n&&i?w():x()))})),function(){t.off("panmove panend")}}),[g,p,h,a]);var b=function(){c.current&&(_(1),c.current.removeEventListener("transitionend",b,!1))},x=function(t){void 0===t&&(t=0);var e=-p*h;c.current&&(c.current.addEventListener("transitionend",b,!1),c.current.style.transform="translate3d("+(e+t)+"px, 0, 0)")},w=function(){2!==g&&(d(0===p?0:p-1),_(2))},T=function(){2!==g&&(_(2),d(p+1===a?p:p+1))},S=function(){return Array(a).fill("1").map((function(t,e){return i.a.createElement("li",{className:m("carousel-dot-item",{"is-active":e===p}),key:"spark-dot-item-"+e})}))};return i.a.createElement("div",{className:"sui-carousel-container"},i.a.createElement("ul",{className:"carousel-list",ref:c},i.a.Children.map(e,(function(t,e){var r=t;return"carousel-item"!==r.type.displayName&&console.error("Warning: Carousel组件 第 "+e+" 子组件：使用了非 Carousel.Item 组件"),i.a.createElement("li",{className:"carousel-item",key:"spark-carousel-item-"+e,style:{left:e*h}},r)}))),i.a.createElement(i.a.Fragment,null,0!==p&&i.a.createElement("div",{className:"carousel-ctr-btn left",onClick:w},i.a.createElement("i",{className:"spark-iconfont"},"")),p+1!==a&&i.a.createElement("div",{className:"carousel-ctr-btn right",onClick:T},i.a.createElement("i",{className:"spark-iconfont"},""))),i.a.createElement("ul",{className:"carousel-dot"},S()))};y.defaultProps={defaultIndex:0};var g=function(t){var e=t.children;return i.a.createElement("div",null,e)};g.displayName="carousel-item",y.Item=g;var _=function(t){var e=t.defaultIndex,r=t.className,o=t.onSelect,a=t.children,s=Object(n.useState)(e),l=s[0],h=s[1];return i.a.createElement("div",{className:"sui-spark-tabs "+r},i.a.createElement("ul",{className:"spark-tabs-nav"},i.a.Children.map(a,(function(t,e){var r=t,n=r.props,a=n.disabled,s=n.label;"tab-item"!==r.type.displayName&&console.error("Warning: Tabs组件 第 "+e+" 子组件：使用了非 Tabs.Item 组件");var u=m("spark-tabs-nav-item",{"is-active":l===e,disabled:a});return i.a.createElement("li",{className:u,key:"spark-nav-item-"+e,onClick:function(t){!function(t,e,r){t.preventDefault(),r||(h(e),o&&o(e))}(t,e,a)}},s)}))),i.a.createElement("div",{className:"spark-tabs-content"},i.a.Children.map(a,(function(t,e){if(e===l)return t}))))};_.defaultProps={defaultIndex:0};var b=function(t){var e=t.children;return i.a.createElement("div",{className:"spark-tab-panel"},e)};b.displayName="tab-item",_.Item=b;var x=function(){function t(){this._stack=[],this._listeners=[],this._lid=0}return Object.defineProperty(t.prototype,"stack",{get:function(){return this._stack},enumerable:!1,configurable:!0}),t.prototype.push=function(t,e){this._stack.push(t),this._invokeListeners("push",t,e)},t.prototype.pop=function(t,e){void 0===e&&(e=1);for(var r=this._stack,n=r.length,i=n>0?r[n-1]:null,o=e>0?e:n,a=0;a<o&&n>0;a++)r.pop();this._invokeListeners("pop",i,void 0,t)},t.prototype.splice=function(t){var e=this._stack,r=e.lastIndexOf(t);return r>=0&&(e.splice(r,1),this._invokeListeners("splice")),r>=0},t.prototype.popAll=function(){this._stack.splice(0),this._invokeListeners("pop")},t.prototype.listen=function(t){var e=this._listeners,r=this._lid++;return e.push(t),r},t.prototype.unListen=function(t){this._listeners[t]=null},t.prototype._invokeListeners=function(t,e,r,n){for(var i=0,o=this._listeners;i<o.length;i++){var a=o[i];a&&a(t,e,this._stack,r,n)}},t}();c("/**\n * Created by rockyl on 2020/10/1.\n *\n * APP包装器样式\n */\n\n.sui-modal-wrapper {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 1;\n}\n\n.sui-modal-wrapper .modal-layer-wrapper {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n  pointer-events: none;\n}\n\n.sui-modal-wrapper .modal-layer-wrapper * {\n  pointer-events: auto;\n}\n\n.sui-modal-wrapper .modal-shield {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}",{});new x;Object(n.forwardRef)((function(t,e){var r=t.widgetFactory,a=t.widgetConfig,s=t.onReady,l=t.onAssetsProcess,h=t.onAssetsComplete,u=t.onEvent,c=t.className,f=t.style,p=t.renderMode,d=void 0===p?"canvas":p,m=Object(n.useState)(null),v=m[0],y=m[1],g=Object(n.useRef)();function _(t,e){u&&u(t,e)}return Object(n.useImperativeHandle)(e,(function(){return{emitEvent:function(t,e){v&&v.widget.$emitEvent(t,e)}}})),Object(n.useEffect)((function(){var t="canvas"===d?2:1,e=Object(o.a)(r,{platform:"h5",container:g.current,onAssetsProcess:l,onAssetsComplete:h,renderType:t},a,_);return y(e),function(){e&&e.widget&&e.destroy()}}),[]),Object(n.useEffect)((function(){s&&s()}),[v]),i.a.createElement("div",{ref:g,className:c,style:f})}));c("#loading_layer {\n  position: absolute;\n  left: 0;\n  top: 0;\n  background-color: black;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  justify-content: center;\n  -webkit-justify-content: center;\n  align-items: center;\n  -webkit-align-items: center;\n  opacity: 0;\n  transition: opacity 0.3s;\n  -webkit-transition: opacity 0.3s;\n}\n\n#loading_layer .label {\n  margin-top: 0.1rem;\n  color: white;\n  font-size: 0.3rem;\n}",{});var w;c("#overlay_layer {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 2001;\n  pointer-events: none;\n}",{});var T=["loading","toast"],S=[];function E(t){if(!w){(w=document.createElement("div")).id="overlay_layer";for(var e=0,r=T;e<r.length;e++){var n=r[e],i=document.createElement("div");i.id=n+"_layer",w.appendChild(i),S[n]=i}document.body.appendChild(w)}return S[t]}c(".sui-default-icon {\n  margin-bottom: 0.7rem;\n  padding-right: 0.12rem;\n}\n\n@keyframes part-body {\n  0%, 40% {\n    transform: scale(1);\n  }\n\n  20% {\n    transform: scale(1.5);\n  }\n}\n\n@-webkit-keyframes part-body {\n  0%, 40% {\n    -webkit-transform: scale(1);\n  }\n\n  20% {\n    -webkit-transform: scale(1.5);\n  }\n}\n\n.sui-default-icon .part {\n  transform-origin: 0.06rem 0.36rem;\n  -webkit-transform-origin: 0.06rem 0.36rem;\n  position: absolute;\n}\n\n.sui-default-icon .part-body {\n  background-color: white;\n  width: 0.12rem;\n  height: 0.18rem;\n  border-radius: 0.06rem;\n  transform-origin: 0.06rem 0.18rem;\n  -webkit-transform-origin: 0.06rem 0.18rem;\n  animation: part-body 1500ms linear infinite;\n  -webkit-animation: part-body 1500ms linear infinite;\n}",{});c(".sui-rainbow-icon .loader-inner {\n  bottom: 0;\n  height: 0.6rem;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: -1.7rem;\n  width: 1rem;\n}\n\n.sui-rainbow-icon .loader-line-wrap {\n  animation: spin 2000ms cubic-bezier(0.175, 0.885, 0.32, 1.275) infinite;\n  -webkit-animation: spin 2000ms cubic-bezier(0.175, 0.885, 0.32, 1.275) infinite;\n  box-sizing: border-box;\n  height: 0.5rem;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  transform-origin: 50% 100%;\n  -webkit-transform-origin: 50% 100%;\n  width: 1rem;\n}\n\n.sui-rainbow-icon .loader-line {\n  border: 0.04rem solid transparent;\n  border-radius: 100%;\n  box-sizing: border-box;\n  height: 1rem;\n  left: 0;\n  margin: 0 auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 1rem;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(1) {\n  animation-delay: -50ms;\n  -webkit-animation-delay: -50ms;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(2) {\n  animation-delay: -100ms;\n  -webkit-animation-delay: -100ms;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(3) {\n  animation-delay: -150ms;\n  -webkit-animation-delay: -150ms;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(4) {\n  animation-delay: -200ms;\n  -webkit-animation-delay: -200ms;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(5) {\n  animation-delay: -250ms;\n  -webkit-animation-delay: -250ms;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(1) .loader-line {\n  border-color: hsl(0, 80%, 60%);\n  height: 0.9rem;\n  width: 0.9rem;\n  top: 0.07rem;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(2) .loader-line {\n  border-color: hsl(60, 80%, 60%);\n  height: 0.76rem;\n  width: 0.76rem;\n  top: 0.14rem;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(3) .loader-line {\n  border-color: hsl(120, 80%, 60%);\n  height: 0.62rem;\n  width: 0.62rem;\n  top: 0.21rem;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(4) .loader-line {\n  border-color: hsl(180, 80%, 60%);\n  height: 0.48rem;\n  width: 0.48rem;\n  top: 0.28rem;\n}\n\n.sui-rainbow-icon .loader-line-wrap:nth-child(5) .loader-line {\n  border-color: hsl(240, 80%, 60%);\n  height: 0.34rem;\n  width: 0.34rem;\n  top: 0.35rem;\n}\n\n@keyframes spin {\n  0%, 15% {\n    transform: rotate(0);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@-webkit-keyframes spin {\n  0%, 15% {\n    transform: rotate(0);\n    -webkit-transform: rotate(0);\n  }\n\n  100% {\n    transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n  }\n}",{});c(".sui-slack-icon .loader {\n  position: relative;\n  width: 2.5em;\n  height: 2.5em;\n  transform: rotate(165deg);\n  -webkit-transform: rotate(165deg);\n}\n\n.sui-slack-icon .loader:before,\n.sui-slack-icon .loader:after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  display: block;\n  width: 0.5em;\n  height: 0.5em;\n  border-radius: 0.25em;\n  transform: translate(-50%, -50%);\n  -webkit-transform: translate(-50%, -50%);\n}\n\n.sui-slack-icon .loader:before {\n  animation: before 2s infinite;\n  -webkit-animation: before 2s infinite;\n}\n\n.sui-slack-icon .loader:after {\n  animation: after 2s infinite;\n  -webkit-animation: after 2s infinite;\n}\n\n@keyframes before {\n  0% {\n    width: 0.5em;\n    box-shadow: 1em -0.5em hsla(337, 84%, 48%, 0.75), -1em 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n\n  35% {\n    width: 2.5em;\n    box-shadow: 0 -0.5em hsla(337, 84%, 48%, 0.75), 0 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n\n  70% {\n    width: 0.5em;\n    box-shadow: -1em -0.5em hsla(337, 84%, 48%, 0.75), 1em 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n\n  100% {\n    box-shadow: 1em -0.5em hsla(337, 84%, 48%, 0.75), -1em 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n}\n\n@keyframes after {\n  0% {\n    height: 0.5em;\n    box-shadow: 0.5em 1em hsla(160, 50%, 48%, 0.75), -0.5em -1em hsla(41, 82%, 52%, 0.75);\n  }\n\n  35% {\n    height: 2.5em;\n    box-shadow: 0.5em 0 hsla(160, 50%, 48%, 0.75), -0.5em 0 hsla(41, 82%, 52%, 0.75);\n  }\n\n  70% {\n    height: 0.5em;\n    box-shadow: 0.5em -1em hsla(160, 50%, 48%, 0.75), -0.5em 1em hsla(41, 82%, 52%, 0.75);\n  }\n\n  100% {\n    box-shadow: 0.5em 1em hsla(160, 50%, 48%, 0.75), -0.5em -1em hsla(41, 82%, 52%, 0.75);\n  }\n}\n\n@-webkit-keyframes before {\n  0% {\n    width: 0.5em;\n    box-shadow: 1em -0.5em hsla(337, 84%, 48%, 0.75), -1em 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n\n  35% {\n    width: 2.5em;\n    box-shadow: 0 -0.5em hsla(337, 84%, 48%, 0.75), 0 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n\n  70% {\n    width: 0.5em;\n    box-shadow: -1em -0.5em hsla(337, 84%, 48%, 0.75), 1em 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n\n  100% {\n    box-shadow: 1em -0.5em hsla(337, 84%, 48%, 0.75), -1em 0.5em hsla(190, 61%, 65%, 0.75);\n  }\n}\n\n@-webkit-keyframes after {\n  0% {\n    height: 0.5em;\n    box-shadow: 0.5em 1em hsla(160, 50%, 48%, 0.75), -0.5em -1em hsla(41, 82%, 52%, 0.75);\n  }\n\n  35% {\n    height: 2.5em;\n    box-shadow: 0.5em 0 hsla(160, 50%, 48%, 0.75), -0.5em 0 hsla(41, 82%, 52%, 0.75);\n  }\n\n  70% {\n    height: 0.5em;\n    box-shadow: 0.5em -1em hsla(160, 50%, 48%, 0.75), -0.5em 1em hsla(41, 82%, 52%, 0.75);\n  }\n\n  100% {\n    box-shadow: 0.5em 1em hsla(160, 50%, 48%, 0.75), -0.5em -1em hsla(41, 82%, 52%, 0.75);\n  }\n}",{});c(".sui-wave-icon {\n  margin-bottom: 0.1rem;\n}\n\n.sui-wave-icon .loading {\n  width: 0.8rem;\n  height: 0.4rem;\n  margin: 1rem auto 0;\n}\n\n.sui-wave-icon .loading span {\n  display: inline-block;\n  width: 0.08rem;\n  height: 100%;\n  border-radius: 0.04rem;\n  background: lightgreen;\n  animation: load 1s ease infinite;\n  -webkit-animation: load 1s ease infinite;\n}\n\n@-webkit-keyframes load {\n  0%, 100% {\n    height: 0.4rem;\n    background: lightgreen;\n  }\n\n  50% {\n    height: 0.7rem;\n    margin: -0.15rem 0;\n    background: lightblue;\n  }\n}\n\n.sui-wave-icon .loading span:nth-child(2) {\n  animation-delay: 0.2s;\n  -webkit-animation-delay: 0.2s;\n}\n\n.sui-wave-icon .loading span:nth-child(3) {\n  animation-delay: 0.4s;\n  -webkit-animation-delay: 0.4s;\n}\n\n.sui-wave-icon .loading span:nth-child(4) {\n  animation-delay: 0.6s;\n  -webkit-animation-delay: 0.6s;\n}\n\n.sui-wave-icon .loading span:nth-child(5) {\n  animation-delay: 0.8s;\n  -webkit-animation-delay: 0.8s;\n}",{});p((function(t,e){t.exports=function(){var e,r;function n(){return e.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(a(t,e))return!1;return!0}function l(t){return void 0===t}function h(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){var r,n=[];for(r=0;r<t.length;++r)n.push(e(t[r],r));return n}function f(t,e){for(var r in e)a(e,r)&&(t[r]=e[r]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e,r,n){return Ee(t,e,r,n,!0).utc()}function m(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function v(t){if(null==t._isValid){var e=m(t),n=r.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function y(t){var e=p(NaN);return null!=t?f(m(e),t):m(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){var e,r=Object(this),n=r.length>>>0;for(e=0;e<n;e++)if(e in r&&t.call(this,r[e],e,r))return!0;return!1};var g=n.momentProperties=[],_=!1;function b(t,e){var r,n,i;if(l(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),l(e._i)||(t._i=e._i),l(e._f)||(t._f=e._f),l(e._l)||(t._l=e._l),l(e._strict)||(t._strict=e._strict),l(e._tzm)||(t._tzm=e._tzm),l(e._isUTC)||(t._isUTC=e._isUTC),l(e._offset)||(t._offset=e._offset),l(e._pf)||(t._pf=m(e)),l(e._locale)||(t._locale=e._locale),g.length>0)for(r=0;r<g.length;r++)l(i=e[n=g[r]])||(t[n]=i);return t}function x(t){b(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,n.updateOffset(this),_=!1)}function w(t){return t instanceof x||null!=t&&null!=t._isAMomentObject}function T(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var r=!0;return f((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),r){var i,o,s,l=[];for(o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){for(s in i+="\n["+o+"] ",arguments[0])a(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];l.push(i)}T(t+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),r=!1}return e.apply(this,arguments)}),e)}var E,M={};function C(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),M[t]||(T(e),M[t]=!0)}function A(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t,e){var r,n=f({},t);for(r in e)a(e,r)&&(o(t[r])&&o(e[r])?(n[r]={},f(n[r],t[r]),f(n[r],e[r])):null!=e[r]?n[r]=e[r]:delete n[r]);for(r in t)a(t,r)&&!a(e,r)&&o(t[r])&&(n[r]=f({},n[r]));return n}function k(t){null!=t&&this.set(t)}function O(t,e,r){var n=""+Math.abs(t),i=e-n.length;return(t>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,E=Object.keys?Object.keys:function(t){var e,r=[];for(e in t)a(t,e)&&r.push(e);return r};var D=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},F={};function L(t,e,r,n){var i=n;"string"==typeof n&&(i=function(){return this[n]()}),t&&(F[t]=i),e&&(F[e[0]]=function(){return O(i.apply(this,arguments),e[1],e[2])}),r&&(F[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function N(t,e){return t.isValid()?(e=B(e,t.localeData()),R[e]=R[e]||function(t){var e,r,n,i=t.match(D);for(e=0,r=i.length;e<r;e++)F[i[e]]?i[e]=F[i[e]]:i[e]=(n=i[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,o="";for(n=0;n<r;n++)o+=A(i[n])?i[n].call(e,t):i[n];return o}}(e),R[e](t)):t.localeData().invalidDate()}function B(t,e){var r=5;function n(t){return e.longDateFormat(t)||t}for(I.lastIndex=0;r>=0&&I.test(t);)t=t.replace(I,n),I.lastIndex=0,r-=1;return t}var z={};function j(t,e){var r=t.toLowerCase();z[r]=z[r+"s"]=z[e]=t}function V(t){return"string"==typeof t?z[t]||z[t.toLowerCase()]:void 0}function U(t){var e,r,n={};for(r in t)a(t,r)&&(e=V(r))&&(n[e]=t[r]);return n}var W={};function H(t,e){W[t]=e}function G(t){return t%4==0&&t%100!=0||t%400==0}function Y(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function X(t){var e=+t,r=0;return 0!==e&&isFinite(e)&&(r=Y(e)),r}function q(t,e){return function(r){return null!=r?(Z(this,t,r),n.updateOffset(this,e),this):K(this,t)}}function K(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Z(t,e,r){t.isValid()&&!isNaN(r)&&("FullYear"===e&&G(t.year())&&1===t.month()&&29===t.date()?(r=X(r),t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),wt(r,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](r))}var J,$=/\d/,Q=/\d\d/,tt=/\d{3}/,et=/\d{4}/,rt=/[+-]?\d{6}/,nt=/\d\d?/,it=/\d\d\d\d?/,ot=/\d\d\d\d\d\d?/,at=/\d{1,3}/,st=/\d{1,4}/,lt=/[+-]?\d{1,6}/,ht=/\d+/,ut=/[+-]?\d+/,ct=/Z|[+-]\d\d:?\d\d/gi,ft=/Z|[+-]\d\d(?::?\d\d)?/gi,pt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function dt(t,e,r){J[t]=A(e)?e:function(t,n){return t&&r?r:e}}function mt(t,e){return a(J,t)?J[t](e._strict,e._locale):new RegExp(vt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,r,n,i){return e||r||n||i}))))}function vt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}J={};var yt,gt={};function _t(t,e){var r,n=e;for("string"==typeof t&&(t=[t]),h(e)&&(n=function(t,r){r[e]=X(t)}),r=0;r<t.length;r++)gt[t[r]]=n}function bt(t,e){_t(t,(function(t,r,n,i){n._w=n._w||{},e(t,n._w,n,i)}))}function xt(t,e,r){null!=e&&a(gt,t)&&gt[t](e,r._a,r,t)}function wt(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=function(t,e){return(t%e+e)%e}(e,12);return t+=(e-r)/12,1===r?G(t)?29:28:31-r%7%2}yt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},L("M",["MM",2],"Mo",(function(){return this.month()+1})),L("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),L("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),j("month","M"),H("month",8),dt("M",nt),dt("MM",nt,Q),dt("MMM",(function(t,e){return e.monthsShortRegex(t)})),dt("MMMM",(function(t,e){return e.monthsRegex(t)})),_t(["M","MM"],(function(t,e){e[1]=X(t)-1})),_t(["MMM","MMMM"],(function(t,e,r,n){var i=r._locale.monthsParse(t,n,r._strict);null!=i?e[1]=i:m(r).invalidMonth=t}));var Tt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),St="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Et=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Mt=pt,Ct=pt;function At(t,e,r){var n,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=p([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return r?"MMM"===e?-1!==(i=yt.call(this._shortMonthsParse,a))?i:null:-1!==(i=yt.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=yt.call(this._shortMonthsParse,a))||-1!==(i=yt.call(this._longMonthsParse,a))?i:null:-1!==(i=yt.call(this._longMonthsParse,a))||-1!==(i=yt.call(this._shortMonthsParse,a))?i:null}function Pt(t,e){var r;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=X(e);else if(!h(e=t.localeData().monthsParse(e)))return t;return r=Math.min(t.date(),wt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r),t}function kt(t){return null!=t?(Pt(this,t),n.updateOffset(this,!0),this):K(this,"Month")}function Ot(){function t(t,e){return e.length-t.length}var e,r,n=[],i=[],o=[];for(e=0;e<12;e++)r=p([2e3,e]),n.push(this.monthsShort(r,"")),i.push(this.months(r,"")),o.push(this.months(r,"")),o.push(this.monthsShort(r,""));for(n.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)n[e]=vt(n[e]),i[e]=vt(i[e]);for(e=0;e<24;e++)o[e]=vt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Dt(t){return G(t)?366:365}L("Y",0,0,(function(){var t=this.year();return t<=9999?O(t,4):"+"+t})),L(0,["YY",2],0,(function(){return this.year()%100})),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),j("year","y"),H("year",1),dt("Y",ut),dt("YY",nt,Q),dt("YYYY",st,et),dt("YYYYY",lt,rt),dt("YYYYYY",lt,rt),_t(["YYYYY","YYYYYY"],0),_t("YYYY",(function(t,e){e[0]=2===t.length?n.parseTwoDigitYear(t):X(t)})),_t("YY",(function(t,e){e[0]=n.parseTwoDigitYear(t)})),_t("Y",(function(t,e){e[0]=parseInt(t,10)})),n.parseTwoDigitYear=function(t){return X(t)+(X(t)>68?1900:2e3)};var It=q("FullYear",!0);function Rt(t,e,r,n,i,o,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,r,n,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,r,n,i,o,a),s}function Ft(t){var e,r;return t<100&&t>=0?((r=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Lt(t,e,r){var n=7+e-r;return-(7+Ft(t,0,n).getUTCDay()-e)%7+n-1}function Nt(t,e,r,n,i){var o,a,s=1+7*(e-1)+(7+r-n)%7+Lt(t,n,i);return s<=0?a=Dt(o=t-1)+s:s>Dt(t)?(o=t+1,a=s-Dt(t)):(o=t,a=s),{year:o,dayOfYear:a}}function Bt(t,e,r){var n,i,o=Lt(t.year(),e,r),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?n=a+zt(i=t.year()-1,e,r):a>zt(t.year(),e,r)?(n=a-zt(t.year(),e,r),i=t.year()+1):(i=t.year(),n=a),{week:n,year:i}}function zt(t,e,r){var n=Lt(t,e,r),i=Lt(t+1,e,r);return(Dt(t)-n+i)/7}function jt(t,e){return t.slice(e,7).concat(t.slice(0,e))}L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),H("week",5),H("isoWeek",5),dt("w",nt),dt("ww",nt,Q),dt("W",nt),dt("WW",nt,Q),bt(["w","ww","W","WW"],(function(t,e,r,n){e[n.substr(0,1)]=X(t)})),L("d",0,"do","day"),L("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),L("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),L("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),dt("d",nt),dt("e",nt),dt("E",nt),dt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),dt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),dt("dddd",(function(t,e){return e.weekdaysRegex(t)})),bt(["dd","ddd","dddd"],(function(t,e,r,n){var i=r._locale.weekdaysParse(t,n,r._strict);null!=i?e.d=i:m(r).invalidWeekday=t})),bt(["d","e","E"],(function(t,e,r,n){e[n]=X(t)}));var Vt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ut="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Wt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ht=pt,Gt=pt,Yt=pt;function Xt(t,e,r){var n,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=p([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return r?"dddd"===e?-1!==(i=yt.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=yt.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=yt.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=yt.call(this._weekdaysParse,a))||-1!==(i=yt.call(this._shortWeekdaysParse,a))||-1!==(i=yt.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=yt.call(this._shortWeekdaysParse,a))||-1!==(i=yt.call(this._weekdaysParse,a))||-1!==(i=yt.call(this._minWeekdaysParse,a))?i:null:-1!==(i=yt.call(this._minWeekdaysParse,a))||-1!==(i=yt.call(this._weekdaysParse,a))||-1!==(i=yt.call(this._shortWeekdaysParse,a))?i:null}function qt(){function t(t,e){return e.length-t.length}var e,r,n,i,o,a=[],s=[],l=[],h=[];for(e=0;e<7;e++)r=p([2e3,1]).day(e),n=vt(this.weekdaysMin(r,"")),i=vt(this.weekdaysShort(r,"")),o=vt(this.weekdays(r,"")),a.push(n),s.push(i),l.push(o),h.push(n),h.push(i),h.push(o);a.sort(t),s.sort(t),l.sort(t),h.sort(t),this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Kt(){return this.hours()%12||12}function Zt(t,e){L(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Jt(t,e){return e._meridiemParse}L("H",["HH",2],0,"hour"),L("h",["hh",2],0,Kt),L("k",["kk",2],0,(function(){return this.hours()||24})),L("hmm",0,0,(function(){return""+Kt.apply(this)+O(this.minutes(),2)})),L("hmmss",0,0,(function(){return""+Kt.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),L("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),L("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),j("hour","h"),H("hour",13),dt("a",Jt),dt("A",Jt),dt("H",nt),dt("h",nt),dt("k",nt),dt("HH",nt,Q),dt("hh",nt,Q),dt("kk",nt,Q),dt("hmm",it),dt("hmmss",ot),dt("Hmm",it),dt("Hmmss",ot),_t(["H","HH"],3),_t(["k","kk"],(function(t,e,r){var n=X(t);e[3]=24===n?0:n})),_t(["a","A"],(function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t})),_t(["h","hh"],(function(t,e,r){e[3]=X(t),m(r).bigHour=!0})),_t("hmm",(function(t,e,r){var n=t.length-2;e[3]=X(t.substr(0,n)),e[4]=X(t.substr(n)),m(r).bigHour=!0})),_t("hmmss",(function(t,e,r){var n=t.length-4,i=t.length-2;e[3]=X(t.substr(0,n)),e[4]=X(t.substr(n,2)),e[5]=X(t.substr(i)),m(r).bigHour=!0})),_t("Hmm",(function(t,e,r){var n=t.length-2;e[3]=X(t.substr(0,n)),e[4]=X(t.substr(n))})),_t("Hmmss",(function(t,e,r){var n=t.length-4,i=t.length-2;e[3]=X(t.substr(0,n)),e[4]=X(t.substr(n,2)),e[5]=X(t.substr(i))}));var $t,Qt=q("Hours",!0),te={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Tt,monthsShort:St,week:{dow:0,doy:6},weekdays:Vt,weekdaysMin:Wt,weekdaysShort:Ut,meridiemParse:/[ap]\.?m?\.?/i},ee={},re={};function ne(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function ie(t){return t?t.toLowerCase().replace("_","-"):t}function oe(e){var r=null;if(void 0===ee[e]&&t&&t.exports)try{r=$t._abbr,d(),ae(r)}catch(t){ee[e]=null}return ee[e]}function ae(t,e){var r;return t&&((r=l(e)?le(t):se(t,e))?$t=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),$t._abbr}function se(t,e){if(null!==e){var r,n=te;if(e.abbr=t,null!=ee[t])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ee[t]._config;else if(null!=e.parentLocale)if(null!=ee[e.parentLocale])n=ee[e.parentLocale]._config;else{if(null==(r=oe(e.parentLocale)))return re[e.parentLocale]||(re[e.parentLocale]=[]),re[e.parentLocale].push({name:t,config:e}),null;n=r._config}return ee[t]=new k(P(n,e)),re[t]&&re[t].forEach((function(t){se(t.name,t.config)})),ae(t),ee[t]}return delete ee[t],null}function le(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return $t;if(!i(t)){if(e=oe(t))return e;t=[t]}return function(t){for(var e,r,n,i,o=0;o<t.length;){for(e=(i=ie(t[o]).split("-")).length,r=(r=ie(t[o+1]))?r.split("-"):null;e>0;){if(n=oe(i.slice(0,e).join("-")))return n;if(r&&r.length>=e&&ne(i,r)>=e-1)break;e--}o++}return $t}(t)}function he(t){var e,r=t._a;return r&&-2===m(t).overflow&&(e=r[1]<0||r[1]>11?1:r[2]<1||r[2]>wt(r[0],r[1])?2:r[3]<0||r[3]>24||24===r[3]&&(0!==r[4]||0!==r[5]||0!==r[6])?3:r[4]<0||r[4]>59?4:r[5]<0||r[5]>59?5:r[6]<0||r[6]>999?6:-1,m(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),m(t)._overflowWeeks&&-1===e&&(e=7),m(t)._overflowWeekday&&-1===e&&(e=8),m(t).overflow=e),t}var ue=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ce=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fe=/Z|[+-]\d\d(?::?\d\d)?/,pe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],de=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],me=/^\/?Date\((-?\d+)/i,ve=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ye={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ge(t){var e,r,n,i,o,a,s=t._i,l=ue.exec(s)||ce.exec(s);if(l){for(m(t).iso=!0,e=0,r=pe.length;e<r;e++)if(pe[e][1].exec(l[1])){i=pe[e][0],n=!1!==pe[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,r=de.length;e<r;e++)if(de[e][1].exec(l[3])){o=(l[2]||" ")+de[e][0];break}if(null==o)return void(t._isValid=!1)}if(!n&&null!=o)return void(t._isValid=!1);if(l[4]){if(!fe.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),Te(t)}else t._isValid=!1}function _e(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function be(t){var e,r,n,i,o,a,s,l,h=ve.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(h){if(r=h[4],n=h[3],i=h[2],o=h[5],a=h[6],s=h[7],l=[_e(r),St.indexOf(n),parseInt(i,10),parseInt(o,10),parseInt(a,10)],s&&l.push(parseInt(s,10)),e=l,!function(t,e,r){return!t||Ut.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(m(r).weekdayMismatch=!0,r._isValid=!1,!1)}(h[1],e,t))return;t._a=e,t._tzm=function(t,e,r){if(t)return ye[t];if(e)return 0;var n=parseInt(r,10),i=n%100;return(n-i)/100*60+i}(h[8],h[9],h[10]),t._d=Ft.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),m(t).rfc2822=!0}else t._isValid=!1}function xe(t,e,r){return null!=t?t:null!=e?e:r}function we(t){var e,r,i,o,a,s=[];if(!t._d){for(i=function(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,r,n,i,o,a,s,l,h;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,a=4,r=xe(e.GG,t._a[0],Bt(Me(),1,4).year),n=xe(e.W,1),((i=xe(e.E,1))<1||i>7)&&(l=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,h=Bt(Me(),o,a),r=xe(e.gg,t._a[0],h.year),n=xe(e.w,h.week),null!=e.d?((i=e.d)<0||i>6)&&(l=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(l=!0)):i=o),n<1||n>zt(r,o,a)?m(t)._overflowWeeks=!0:null!=l?m(t)._overflowWeekday=!0:(s=Nt(r,n,i,o,a),t._a[0]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=xe(t._a[0],i[0]),(t._dayOfYear>Dt(a)||0===t._dayOfYear)&&(m(t)._overflowDayOfYear=!0),r=Ft(a,0,t._dayOfYear),t._a[1]=r.getUTCMonth(),t._a[2]=r.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Ft:Rt).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(m(t).weekdayMismatch=!0)}}function Te(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],m(t).empty=!0;var e,r,i,o,a,s,l=""+t._i,h=l.length,u=0;for(i=B(t._f,t._locale).match(D)||[],e=0;e<i.length;e++)o=i[e],(r=(l.match(mt(o,t))||[])[0])&&((a=l.substr(0,l.indexOf(r))).length>0&&m(t).unusedInput.push(a),l=l.slice(l.indexOf(r)+r.length),u+=r.length),F[o]?(r?m(t).empty=!1:m(t).unusedTokens.push(o),xt(o,r,t)):t._strict&&!r&&m(t).unusedTokens.push(o);m(t).charsLeftOver=h-u,l.length>0&&m(t).unusedInput.push(l),t._a[3]<=12&&!0===m(t).bigHour&&t._a[3]>0&&(m(t).bigHour=void 0),m(t).parsedDateParts=t._a.slice(0),m(t).meridiem=t._meridiem,t._a[3]=function(t,e,r){var n;return null==r?e:null!=t.meridiemHour?t.meridiemHour(e,r):null!=t.isPM?((n=t.isPM(r))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),null!==(s=m(t).era)&&(t._a[0]=t._locale.erasConvertYear(s,t._a[0])),we(t),he(t)}else be(t);else ge(t)}function Se(t){var e=t._i,r=t._f;return t._locale=t._locale||le(t._l),null===e||void 0===r&&""===e?y({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),w(e)?new x(he(e)):(u(e)?t._d=e:i(r)?function(t){var e,r,n,i,o,a,s=!1;if(0===t._f.length)return m(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,a=!1,e=b({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Te(e),v(e)&&(a=!0),o+=m(e).charsLeftOver,o+=10*m(e).unusedTokens.length,m(e).score=o,s?o<n&&(n=o,r=e):(null==n||o<n||a)&&(n=o,r=e,a&&(s=!0));f(t,r||e)}(t):r?Te(t):function(t){var e=t._i;l(e)?t._d=new Date(n.now()):u(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=me.exec(t._i);null===e?(ge(t),!1===t._isValid&&(delete t._isValid,be(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:n.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):i(e)?(t._a=c(e.slice(0),(function(t){return parseInt(t,10)})),we(t)):o(e)?function(t){if(!t._d){var e=U(t._i),r=void 0===e.day?e.date:e.day;t._a=c([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),we(t)}}(t):h(e)?t._d=new Date(e):n.createFromInputFallback(t)}(t),v(t)||(t._d=null),t))}function Ee(t,e,r,n,a){var l,h={};return!0!==e&&!1!==e||(n=e,e=void 0),!0!==r&&!1!==r||(n=r,r=void 0),(o(t)&&s(t)||i(t)&&0===t.length)&&(t=void 0),h._isAMomentObject=!0,h._useUTC=h._isUTC=a,h._l=r,h._i=t,h._f=e,h._strict=n,(l=new x(he(Se(h))))._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function Me(t,e,r,n){return Ee(t,e,r,n,!1)}n.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Ce=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Me.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:y()})),Ae=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Me.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:y()}));function Pe(t,e){var r,n;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Me();for(r=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](r)||(r=e[n]);return r}var ke=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Oe(t){var e=U(t),r=e.year||0,n=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,s=e.day||0,l=e.hour||0,h=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=function(t){var e,r,n=!1;for(e in t)if(a(t,e)&&(-1===yt.call(ke,e)||null!=t[e]&&isNaN(t[e])))return!1;for(r=0;r<ke.length;++r)if(t[ke[r]]){if(n)return!1;parseFloat(t[ke[r]])!==X(t[ke[r]])&&(n=!0)}return!0}(e),this._milliseconds=+c+1e3*u+6e4*h+1e3*l*60*60,this._days=+s+7*o,this._months=+i+3*n+12*r,this._data={},this._locale=le(),this._bubble()}function De(t){return t instanceof Oe}function Ie(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Re(t,e){L(t,0,0,(function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+O(~~(t/60),2)+e+O(~~t%60,2)}))}Re("Z",":"),Re("ZZ",""),dt("Z",ft),dt("ZZ",ft),_t(["Z","ZZ"],(function(t,e,r){r._useUTC=!0,r._tzm=Le(ft,t)}));var Fe=/([\+\-]|\d\d)/gi;function Le(t,e){var r,n,i=(e||"").match(t);return null===i?null:0===(n=60*(r=((i[i.length-1]||[])+"").match(Fe)||["-",0,0])[1]+X(r[2]))?0:"+"===r[0]?n:-n}function Ne(t,e){var r,i;return e._isUTC?(r=e.clone(),i=(w(t)||u(t)?t.valueOf():Me(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Me(t).local()}function Be(t){return-Math.round(t._d.getTimezoneOffset())}function ze(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var je=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ve=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ue(t,e){var r,n,i,o,s,l,u=t,c=null;return De(t)?u={ms:t._milliseconds,d:t._days,M:t._months}:h(t)||!isNaN(+t)?(u={},e?u[e]=+t:u.milliseconds=+t):(c=je.exec(t))?(r="-"===c[1]?-1:1,u={y:0,d:X(c[2])*r,h:X(c[3])*r,m:X(c[4])*r,s:X(c[5])*r,ms:X(Ie(1e3*c[6]))*r}):(c=Ve.exec(t))?(r="-"===c[1]?-1:1,u={y:We(c[2],r),M:We(c[3],r),w:We(c[4],r),d:We(c[5],r),h:We(c[6],r),m:We(c[7],r),s:We(c[8],r)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(o=Me(u.from),s=Me(u.to),i=o.isValid()&&s.isValid()?(s=Ne(s,o),o.isBefore(s)?l=He(o,s):((l=He(s,o)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(u={}).ms=i.milliseconds,u.M=i.months),n=new Oe(u),De(t)&&a(t,"_locale")&&(n._locale=t._locale),De(t)&&a(t,"_isValid")&&(n._isValid=t._isValid),n}function We(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function He(t,e){var r={};return r.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function Ge(t,e){return function(r,n){var i;return null===n||isNaN(+n)||(C(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),Ye(this,Ue(r,n),t),this}}function Ye(t,e,r,i){var o=e._milliseconds,a=Ie(e._days),s=Ie(e._months);t.isValid()&&(i=null==i||i,s&&Pt(t,K(t,"Month")+s*r),a&&Z(t,"Date",K(t,"Date")+a*r),o&&t._d.setTime(t._d.valueOf()+o*r),i&&n.updateOffset(t,a||s))}Ue.fn=Oe.prototype,Ue.invalid=function(){return Ue(NaN)};var Xe=Ge(1,"add"),qe=Ge(-1,"subtract");function Ke(t){return"string"==typeof t||t instanceof String}function Ze(t){return w(t)||u(t)||Ke(t)||h(t)||function(t){var e=i(t),r=!1;return e&&(r=0===t.filter((function(e){return!h(e)&&Ke(t)})).length),e&&r}(t)||function(t){var e,r,n=o(t)&&!s(t),i=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<l.length;e+=1)r=l[e],i=i||a(t,r);return n&&i}(t)||null==t}function Je(t){var e,r=o(t)&&!s(t),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<i.length;e+=1)n=n||a(t,i[e]);return r&&n}function $e(t,e){if(t.date()<e.date())return-$e(e,t);var r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,"months");return-(r+(e-n<0?(e-n)/(n-t.clone().add(r-1,"months")):(e-n)/(t.clone().add(r+1,"months")-n)))||0}function Qe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=le(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tr=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function er(){return this._locale}function rr(t,e){return(t%e+e)%e}function nr(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-126227808e5:new Date(t,e,r).valueOf()}function ir(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-126227808e5:Date.UTC(t,e,r)}function or(t,e){return e.erasAbbrRegex(t)}function ar(){var t,e,r=[],n=[],i=[],o=[],a=this.eras();for(t=0,e=a.length;t<e;++t)n.push(vt(a[t].name)),r.push(vt(a[t].abbr)),i.push(vt(a[t].narrow)),o.push(vt(a[t].name)),o.push(vt(a[t].abbr)),o.push(vt(a[t].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function sr(t,e){L(0,[t,t.length],0,e)}function lr(t,e,r,n,i){var o;return null==t?Bt(this,n,i).year:(e>(o=zt(t,n,i))&&(e=o),hr.call(this,t,e,r,n,i))}function hr(t,e,r,n,i){var o=Nt(t,e,r,n,i),a=Ft(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}L("N",0,0,"eraAbbr"),L("NN",0,0,"eraAbbr"),L("NNN",0,0,"eraAbbr"),L("NNNN",0,0,"eraName"),L("NNNNN",0,0,"eraNarrow"),L("y",["y",1],"yo","eraYear"),L("y",["yy",2],0,"eraYear"),L("y",["yyy",3],0,"eraYear"),L("y",["yyyy",4],0,"eraYear"),dt("N",or),dt("NN",or),dt("NNN",or),dt("NNNN",(function(t,e){return e.erasNameRegex(t)})),dt("NNNNN",(function(t,e){return e.erasNarrowRegex(t)})),_t(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,r,n){var i=r._locale.erasParse(t,n,r._strict);i?m(r).era=i:m(r).invalidEra=t})),dt("y",ht),dt("yy",ht),dt("yyy",ht),dt("yyyy",ht),dt("yo",(function(t,e){return e._eraYearOrdinalRegex||ht})),_t(["y","yy","yyy","yyyy"],0),_t(["yo"],(function(t,e,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[0]=r._locale.eraYearOrdinalParse(t,i):e[0]=parseInt(t,10)})),L(0,["gg",2],0,(function(){return this.weekYear()%100})),L(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),sr("gggg","weekYear"),sr("ggggg","weekYear"),sr("GGGG","isoWeekYear"),sr("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),dt("G",ut),dt("g",ut),dt("GG",nt,Q),dt("gg",nt,Q),dt("GGGG",st,et),dt("gggg",st,et),dt("GGGGG",lt,rt),dt("ggggg",lt,rt),bt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,r,n){e[n.substr(0,2)]=X(t)})),bt(["gg","GG"],(function(t,e,r,i){e[i]=n.parseTwoDigitYear(t)})),L("Q",0,"Qo","quarter"),j("quarter","Q"),H("quarter",7),dt("Q",$),_t("Q",(function(t,e){e[1]=3*(X(t)-1)})),L("D",["DD",2],"Do","date"),j("date","D"),H("date",9),dt("D",nt),dt("DD",nt,Q),dt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),_t(["D","DD"],2),_t("Do",(function(t,e){e[2]=X(t.match(nt)[0])}));var ur=q("Date",!0);L("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),H("dayOfYear",4),dt("DDD",at),dt("DDDD",tt),_t(["DDD","DDDD"],(function(t,e,r){r._dayOfYear=X(t)})),L("m",["mm",2],0,"minute"),j("minute","m"),H("minute",14),dt("m",nt),dt("mm",nt,Q),_t(["m","mm"],4);var cr=q("Minutes",!1);L("s",["ss",2],0,"second"),j("second","s"),H("second",15),dt("s",nt),dt("ss",nt,Q),_t(["s","ss"],5);var fr,pr,dr=q("Seconds",!1);for(L("S",0,0,(function(){return~~(this.millisecond()/100)})),L(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),L(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),L(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),L(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),L(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),L(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),j("millisecond","ms"),H("millisecond",16),dt("S",at,$),dt("SS",at,Q),dt("SSS",at,tt),fr="SSSS";fr.length<=9;fr+="S")dt(fr,ht);function mr(t,e){e[6]=X(1e3*("0."+t))}for(fr="S";fr.length<=9;fr+="S")_t(fr,mr);pr=q("Milliseconds",!1),L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var vr=x.prototype;function yr(t){return t}vr.add=Xe,vr.calendar=function(t,e){1===arguments.length&&(arguments[0]?Ze(arguments[0])?(t=arguments[0],e=void 0):Je(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||Me(),i=Ne(r,this).startOf("day"),o=n.calendarFormat(this,i)||"sameElse",a=e&&(A(e[o])?e[o].call(this,r):e[o]);return this.format(a||this.localeData().calendar(o,this,Me(r)))},vr.clone=function(){return new x(this)},vr.diff=function(t,e,r){var n,i,o;if(!this.isValid())return NaN;if(!(n=Ne(t,this)).isValid())return NaN;switch(i=6e4*(n.utcOffset()-this.utcOffset()),e=V(e)){case"year":o=$e(this,n)/12;break;case"month":o=$e(this,n);break;case"quarter":o=$e(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-i)/864e5;break;case"week":o=(this-n-i)/6048e5;break;default:o=this-n}return r?o:Y(o)},vr.endOf=function(t){var e,r;if(void 0===(t=V(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?ir:nr,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-rr(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-rr(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-rr(e,1e3)-1}return this._d.setTime(e),n.updateOffset(this,!0),this},vr.format=function(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=N(this,t);return this.localeData().postformat(e)},vr.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Me(t).isValid())?Ue({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},vr.fromNow=function(t){return this.from(Me(),t)},vr.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Me(t).isValid())?Ue({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},vr.toNow=function(t){return this.to(Me(),t)},vr.get=function(t){return A(this[t=V(t)])?this[t]():this},vr.invalidAt=function(){return m(this).overflow},vr.isAfter=function(t,e){var r=w(t)?t:Me(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=V(e)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf())},vr.isBefore=function(t,e){var r=w(t)?t:Me(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=V(e)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf())},vr.isBetween=function(t,e,r,n){var i=w(t)?t:Me(t),o=w(e)?e:Me(e);return!!(this.isValid()&&i.isValid()&&o.isValid())&&(("("===(n=n||"()")[0]?this.isAfter(i,r):!this.isBefore(i,r))&&(")"===n[1]?this.isBefore(o,r):!this.isAfter(o,r)))},vr.isSame=function(t,e){var r,n=w(t)?t:Me(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=V(e)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf()))},vr.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},vr.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},vr.isValid=function(){return v(this)},vr.lang=tr,vr.locale=Qe,vr.localeData=er,vr.max=Ae,vr.min=Ce,vr.parsingFlags=function(){return f({},m(this))},vr.set=function(t,e){if("object"==typeof t){var r,n=function(t){var e,r=[];for(e in t)a(t,e)&&r.push({unit:e,priority:W[e]});return r.sort((function(t,e){return t.priority-e.priority})),r}(t=U(t));for(r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit])}else if(A(this[t=V(t)]))return this[t](e);return this},vr.startOf=function(t){var e,r;if(void 0===(t=V(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?ir:nr,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=rr(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=rr(e,6e4);break;case"second":e=this._d.valueOf(),e-=rr(e,1e3)}return this._d.setTime(e),n.updateOffset(this,!0),this},vr.subtract=qe,vr.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},vr.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},vr.toDate=function(){return new Date(this.valueOf())},vr.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?N(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",N(r,"Z")):N(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},vr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,r,n="moment",i="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),t="["+n+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=i+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+r)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(vr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),vr.toJSON=function(){return this.isValid()?this.toISOString():null},vr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},vr.unix=function(){return Math.floor(this.valueOf()/1e3)},vr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},vr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},vr.eraName=function(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until)return n[t].name;if(n[t].until<=r&&r<=n[t].since)return n[t].name}return""},vr.eraNarrow=function(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until)return n[t].narrow;if(n[t].until<=r&&r<=n[t].since)return n[t].narrow}return""},vr.eraAbbr=function(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until)return n[t].abbr;if(n[t].until<=r&&r<=n[t].since)return n[t].abbr}return""},vr.eraYear=function(){var t,e,r,i,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t)if(r=o[t].since<=o[t].until?1:-1,i=this.clone().startOf("day").valueOf(),o[t].since<=i&&i<=o[t].until||o[t].until<=i&&i<=o[t].since)return(this.year()-n(o[t].since).year())*r+o[t].offset;return this.year()},vr.year=It,vr.isLeapYear=function(){return G(this.year())},vr.weekYear=function(t){return lr.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},vr.isoWeekYear=function(t){return lr.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},vr.quarter=vr.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},vr.month=kt,vr.daysInMonth=function(){return wt(this.year(),this.month())},vr.week=vr.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},vr.isoWeek=vr.isoWeeks=function(t){var e=Bt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},vr.weeksInYear=function(){var t=this.localeData()._week;return zt(this.year(),t.dow,t.doy)},vr.weeksInWeekYear=function(){var t=this.localeData()._week;return zt(this.weekYear(),t.dow,t.doy)},vr.isoWeeksInYear=function(){return zt(this.year(),1,4)},vr.isoWeeksInISOWeekYear=function(){return zt(this.isoWeekYear(),1,4)},vr.date=ur,vr.day=vr.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},vr.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},vr.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},vr.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},vr.hour=vr.hours=Qt,vr.minute=vr.minutes=cr,vr.second=vr.seconds=dr,vr.millisecond=vr.milliseconds=pr,vr.utcOffset=function(t,e,r){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Le(ft,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&e&&(i=Be(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!e||this._changeInProgress?Ye(this,Ue(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Be(this)},vr.utc=function(t){return this.utcOffset(0,t)},vr.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Be(this),"m")),this},vr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Le(ct,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},vr.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Me(t).utcOffset():0,(this.utcOffset()-t)%60==0)},vr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},vr.isLocal=function(){return!!this.isValid()&&!this._isUTC},vr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},vr.isUtc=ze,vr.isUTC=ze,vr.zoneAbbr=function(){return this._isUTC?"UTC":""},vr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},vr.dates=S("dates accessor is deprecated. Use date instead.",ur),vr.months=S("months accessor is deprecated. Use month instead",kt),vr.years=S("years accessor is deprecated. Use year instead",It),vr.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),vr.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var t,e={};return b(e,this),(e=Se(e))._a?(t=e._isUTC?p(e._a):Me(e._a),this._isDSTShifted=this.isValid()&&function(t,e,r){var n,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(n=0;n<i;n++)(r&&t[n]!==e[n]||!r&&X(t[n])!==X(e[n]))&&a++;return a+o}(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var gr=k.prototype;function _r(t,e,r,n){var i=le(),o=p().set(n,e);return i[r](o,t)}function br(t,e,r){if(h(t)&&(e=t,t=void 0),t=t||"",null!=e)return _r(t,e,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=_r(t,n,r,"month");return i}function xr(t,e,r,n){"boolean"==typeof t?(h(e)&&(r=e,e=void 0),e=e||""):(r=e=t,t=!1,h(e)&&(r=e,e=void 0),e=e||"");var i,o=le(),a=t?o._week.dow:0,s=[];if(null!=r)return _r(e,(r+a)%7,n,"day");for(i=0;i<7;i++)s[i]=_r(e,(i+a)%7,n,"day");return s}gr.calendar=function(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return A(n)?n.call(e,r):n},gr.longDateFormat=function(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(D).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])},gr.invalidDate=function(){return this._invalidDate},gr.ordinal=function(t){return this._ordinal.replace("%d",t)},gr.preparse=yr,gr.postformat=yr,gr.relativeTime=function(t,e,r,n){var i=this._relativeTime[r];return A(i)?i(t,e,r,n):i.replace(/%d/i,t)},gr.pastFuture=function(t,e){var r=this._relativeTime[t>0?"future":"past"];return A(r)?r(e):r.replace(/%s/i,e)},gr.set=function(t){var e,r;for(r in t)a(t,r)&&(A(e=t[r])?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},gr.eras=function(t,e){var r,i,o,a=this._eras||le("en")._eras;for(r=0,i=a.length;r<i;++r){switch(typeof a[r].since){case"string":o=n(a[r].since).startOf("day"),a[r].since=o.valueOf()}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":o=n(a[r].until).startOf("day").valueOf(),a[r].until=o.valueOf()}}return a},gr.erasParse=function(t,e,r){var n,i,o,a,s,l=this.eras();for(t=t.toUpperCase(),n=0,i=l.length;n<i;++n)if(o=l[n].name.toUpperCase(),a=l[n].abbr.toUpperCase(),s=l[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(a===t)return l[n];break;case"NNNN":if(o===t)return l[n];break;case"NNNNN":if(s===t)return l[n]}else if([o,a,s].indexOf(t)>=0)return l[n]},gr.erasConvertYear=function(t,e){var r=t.since<=t.until?1:-1;return void 0===e?n(t.since).year():n(t.since).year()+(e-t.offset)*r},gr.erasAbbrRegex=function(t){return a(this,"_erasAbbrRegex")||ar.call(this),t?this._erasAbbrRegex:this._erasRegex},gr.erasNameRegex=function(t){return a(this,"_erasNameRegex")||ar.call(this),t?this._erasNameRegex:this._erasRegex},gr.erasNarrowRegex=function(t){return a(this,"_erasNarrowRegex")||ar.call(this),t?this._erasNarrowRegex:this._erasRegex},gr.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Et).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},gr.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Et.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},gr.monthsParse=function(t,e,r){var n,i,o;if(this._monthsParseExact)return At.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=p([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),r&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(r&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}},gr.monthsRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||Ot.call(this),t?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Ct),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},gr.monthsShortRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||Ot.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Mt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},gr.week=function(t){return Bt(t,this._week.dow,this._week.doy).week},gr.firstDayOfYear=function(){return this._week.doy},gr.firstDayOfWeek=function(){return this._week.dow},gr.weekdays=function(t,e){var r=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?jt(r,this._week.dow):t?r[t.day()]:r},gr.weekdaysMin=function(t){return!0===t?jt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},gr.weekdaysShort=function(t){return!0===t?jt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},gr.weekdaysParse=function(t,e,r){var n,i,o;if(this._weekdaysParseExact)return Xt.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=p([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),r&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(r&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(r&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}},gr.weekdaysRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Ht),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},gr.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Gt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},gr.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},gr.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},gr.meridiem=function(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"},ae("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===X(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=S("moment.lang is deprecated. Use moment.locale instead.",ae),n.langData=S("moment.langData is deprecated. Use moment.localeData instead.",le);var wr=Math.abs;function Tr(t,e,r,n){var i=Ue(e,r);return t._milliseconds+=n*i._milliseconds,t._days+=n*i._days,t._months+=n*i._months,t._bubble()}function Sr(t){return t<0?Math.floor(t):Math.ceil(t)}function Er(t){return 4800*t/146097}function Mr(t){return 146097*t/4800}function Cr(t){return function(){return this.as(t)}}var Ar=Cr("ms"),Pr=Cr("s"),kr=Cr("m"),Or=Cr("h"),Dr=Cr("d"),Ir=Cr("w"),Rr=Cr("M"),Fr=Cr("Q"),Lr=Cr("y");function Nr(t){return function(){return this.isValid()?this._data[t]:NaN}}var Br=Nr("milliseconds"),zr=Nr("seconds"),jr=Nr("minutes"),Vr=Nr("hours"),Ur=Nr("days"),Wr=Nr("months"),Hr=Nr("years"),Gr=Math.round,Yr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Xr(t,e,r,n,i){return i.relativeTime(e||1,!!r,t,n)}var qr=Math.abs;function Kr(t){return(t>0)-(t<0)||+t}function Zr(){if(!this.isValid())return this.localeData().invalidDate();var t,e,r,n,i,o,a,s,l=qr(this._milliseconds)/1e3,h=qr(this._days),u=qr(this._months),c=this.asSeconds();return c?(t=Y(l/60),e=Y(t/60),l%=60,t%=60,r=Y(u/12),u%=12,n=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=c<0?"-":"",o=Kr(this._months)!==Kr(c)?"-":"",a=Kr(this._days)!==Kr(c)?"-":"",s=Kr(this._milliseconds)!==Kr(c)?"-":"",i+"P"+(r?o+r+"Y":"")+(u?o+u+"M":"")+(h?a+h+"D":"")+(e||t||l?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(l?s+n+"S":"")):"P0D"}var Jr=Oe.prototype;return Jr.isValid=function(){return this._isValid},Jr.abs=function(){var t=this._data;return this._milliseconds=wr(this._milliseconds),this._days=wr(this._days),this._months=wr(this._months),t.milliseconds=wr(t.milliseconds),t.seconds=wr(t.seconds),t.minutes=wr(t.minutes),t.hours=wr(t.hours),t.months=wr(t.months),t.years=wr(t.years),this},Jr.add=function(t,e){return Tr(this,t,e,1)},Jr.subtract=function(t,e){return Tr(this,t,e,-1)},Jr.as=function(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if("month"===(t=V(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,r=this._months+Er(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(Mr(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Jr.asMilliseconds=Ar,Jr.asSeconds=Pr,Jr.asMinutes=kr,Jr.asHours=Or,Jr.asDays=Dr,Jr.asWeeks=Ir,Jr.asMonths=Rr,Jr.asQuarters=Fr,Jr.asYears=Lr,Jr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*X(this._months/12):NaN},Jr._bubble=function(){var t,e,r,n,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Sr(Mr(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=Y(o/1e3),l.seconds=t%60,e=Y(t/60),l.minutes=e%60,r=Y(e/60),l.hours=r%24,a+=Y(r/24),i=Y(Er(a)),s+=i,a-=Sr(Mr(i)),n=Y(s/12),s%=12,l.days=a,l.months=s,l.years=n,this},Jr.clone=function(){return Ue(this)},Jr.get=function(t){return t=V(t),this.isValid()?this[t+"s"]():NaN},Jr.milliseconds=Br,Jr.seconds=zr,Jr.minutes=jr,Jr.hours=Vr,Jr.days=Ur,Jr.weeks=function(){return Y(this.days()/7)},Jr.months=Wr,Jr.years=Hr,Jr.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var r,n,i=!1,o=Yr;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(i=t),"object"==typeof e&&(o=Object.assign({},Yr,e),null!=e.s&&null==e.ss&&(o.ss=e.s-1)),r=this.localeData(),n=function(t,e,r,n){var i=Ue(t).abs(),o=Gr(i.as("s")),a=Gr(i.as("m")),s=Gr(i.as("h")),l=Gr(i.as("d")),h=Gr(i.as("M")),u=Gr(i.as("w")),c=Gr(i.as("y")),f=o<=r.ss&&["s",o]||o<r.s&&["ss",o]||a<=1&&["m"]||a<r.m&&["mm",a]||s<=1&&["h"]||s<r.h&&["hh",s]||l<=1&&["d"]||l<r.d&&["dd",l];return null!=r.w&&(f=f||u<=1&&["w"]||u<r.w&&["ww",u]),(f=f||h<=1&&["M"]||h<r.M&&["MM",h]||c<=1&&["y"]||["yy",c])[2]=e,f[3]=+t>0,f[4]=n,Xr.apply(null,f)}(this,!i,o,r),i&&(n=r.pastFuture(+this,n)),r.postformat(n)},Jr.toISOString=Zr,Jr.toString=Zr,Jr.toJSON=Zr,Jr.locale=Qe,Jr.localeData=er,Jr.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zr),Jr.lang=tr,L("X",0,0,"unix"),L("x",0,0,"valueOf"),dt("x",ut),dt("X",/[+-]?\d+(\.\d{1,3})?/),_t("X",(function(t,e,r){r._d=new Date(1e3*parseFloat(t))})),_t("x",(function(t,e,r){r._d=new Date(X(t))})),
//! moment.js
n.version="2.29.1",e=Me,n.fn=vr,n.min=function(){var t=[].slice.call(arguments,0);return Pe("isBefore",t)},n.max=function(){var t=[].slice.call(arguments,0);return Pe("isAfter",t)},n.now=function(){return Date.now?Date.now():+new Date},n.utc=p,n.unix=function(t){return Me(1e3*t)},n.months=function(t,e){return br(t,e,"months")},n.isDate=u,n.locale=ae,n.invalid=y,n.duration=Ue,n.isMoment=w,n.weekdays=function(t,e,r){return xr(t,e,r,"weekdays")},n.parseZone=function(){return Me.apply(null,arguments).parseZone()},n.localeData=le,n.isDuration=De,n.monthsShort=function(t,e){return br(t,e,"monthsShort")},n.weekdaysMin=function(t,e,r){return xr(t,e,r,"weekdaysMin")},n.defineLocale=se,n.updateLocale=function(t,e){if(null!=e){var r,n,i=te;null!=ee[t]&&null!=ee[t].parentLocale?ee[t].set(P(ee[t]._config,e)):(null!=(n=oe(t))&&(i=n._config),e=P(i,e),null==n&&(e.abbr=t),(r=new k(e)).parentLocale=ee[t],ee[t]=r),ae(t)}else null!=ee[t]&&(null!=ee[t].parentLocale?(ee[t]=ee[t].parentLocale,t===ae()&&ae(t)):null!=ee[t]&&delete ee[t]);return ee[t]},n.locales=function(){return E(ee)},n.weekdaysShort=function(t,e,r){return xr(t,e,r,"weekdaysShort")},n.normalizeUnits=V,n.relativeTimeRounding=function(t){return void 0===t?Gr:"function"==typeof t&&(Gr=t,!0)},n.relativeTimeThreshold=function(t,e){return void 0!==Yr[t]&&(void 0===e?Yr[t]:(Yr[t]=e,"s"===t&&(Yr.ss=e-1),!0))},n.calendarFormat=function(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},n.prototype=vr,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()}));c(".calendar .__day {\n  float: left;\n  width: calc(100% / 7);\n  min-height: 0.01rem;\n}\n\n.calendar .__day > :nth-child(1n) {\n  position: relative;\n  top: unset;\n  left: unset;\n  display: block;\n}",{});var M;c('#toast_layer {\n  position: absolute;\n  left: 0;\n  top: 0;\n  box-sizing: border-box;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  display: -webkit-flex;\n  justify-content: center;\n  -webkit-justify-content: center;\n  align-items: center;\n  -webkit-align-items: center;\n}\n\n#toast_layer .wrapper {\n  display: flex;\n  display: -webkit-flex;\n  justify-content: center;\n  -webkit-justify-content: center;\n  flex-direction: column;\n  -webkit-flex-direction: column;\n  align-items: center;\n  -webkit-align-items: center;\n  max-width: 80%;\n}\n\n#toast_layer .wrapper .toast-message {\n  opacity: 0;\n  margin-bottom: 0.1rem;\n  font-size: 0;\n  transition: opacity 0.3s;\n  -webkit-transition: opacity 0.3s;\n  background-color: rgba(0, 0, 10, 0.8);\n  box-shadow: 0.01rem 0.02rem 0.05rem 0.01rem rgba(0, 0, 0, 0.2);\n  -webkit-box-shadow: 0.01rem 0.02rem 0.05rem 0.01rem rgba(0, 0, 0, 0.2);\n  border-radius: 0.6rem;\n}\n\n#toast_layer .wrapper .toast-message .toast-content {\n  display: inline-block;\n  overflow: hidden;\n  padding: 0.2rem 0.25rem;\n  font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  color: #fff;\n  font-size: 0.3rem;\n  text-align: center;\n  max-width: 100%;\n  overflow-wrap: anywhere;\n}',{});var C=[];function A(){if(!M){var t=E("toast");(M=document.createElement("div")).className="wrapper",t.appendChild(M)}return M}function P(t,e,r){void 0===e&&(e=2e3),void 0===r&&(r={});var n=A(),i=r.hideOthers,o=void 0!==i&&i,s=r.didClose;if(o)for(var l=0,h=C;l<h.length;l++){(0,h[l])(!1)}var u=!1,c=function(t){var e=t.content,r=t.options,n=r.itemClass||"",i=r.contentClass||"",o=Object(a.j)('<div class="toast-message '+n+'">\n\t<div class="toast-content '+i+'"></div>\n</div>'),s=o.children[0];return"string"==typeof e?e.indexOf("<")>=0&&e.indexOf(">")>=0?s.innerHTML=e:s.innerText=e:s.appendChild(e),o}({content:t,options:r});return C.push(f),n.appendChild(c),setTimeout((function(){c.style.opacity="1",e>0&&setTimeout(f,e)})),f;function f(t){void 0===t&&(t=!0),u||(u=!0,function(t,e,r){void 0===e&&(e=!0);C.splice(C.indexOf(t),1);var n=A();e?(t.style.opacity="0",setTimeout((function(){t.parentNode&&n.removeChild(t),r&&r()}),300)):(t.parentNode&&n.removeChild(t),r&&r())}(c,t,s))}}var k=function(t,e){var r=void 0;return function(){var n=this,i=arguments,o=function(){return t.apply(n,i)};clearTimeout(r),r=setTimeout(o,e)}},O=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()};function D(t){var e=0;return t.forEach((function(t){t.rect.height>e&&(e=t.rect.height)})),e}function I(t){var e=t.rect,r=t.mode;t.prevOffset;var n=t.position,i=t.direction,o=t.width;if("chain"!==r)return!1;switch(i){case"toRight":return n.from>0;case"toLeft":default:return e.width+n.from<=o}}function R(t){var e=t.mode,r=t.from,n=t.direction,i=t.rect,o=t.width,a=r||0;switch(e){case"await":switch(n){case"toRight":return o;case"toLeft":default:return-i.width}case"smooth":switch(n){case"toRight":return i.width>o?0:o-i.width;case"toLeft":default:return i.width>o?o-i.width:0}case"chain":default:switch(n){case"toRight":return 0;case"toLeft":default:return i.width+a>o?o-i.width:o-i.left-i.width}}}var F=function(t){var e=t.mode,r=t.index,n=t.rect,i=t.offset,o=t.width,a=t.direction,s=function(t){var e=t.index,r=t.rect,n=t.offset,i=t.width,o=t.direction;if(0===e)return n;if("number"==typeof n)return function(t){var e=t.rect,r=t.offset;switch(t.direction){case"toRight":return r-e.width;case"toLeft":default:return r}}({rect:r,offset:n,direction:o});switch(o){case"toRight":return-r.width;case"toLeft":default:return i}}({index:r,rect:n,offset:i,width:o,direction:a});return{from:s,to:function(t){var e=t.rect,r=t.width;switch(t.direction){case"toRight":return r;case"toLeft":default:return-e.width}}({rect:n,width:o,direction:a}),next:R({mode:e,from:s,direction:a,rect:n,width:o})}};function L(t){var e=t.from,r=t.rect;switch(t.direction){case"toRight":return e;case"toLeft":default:return e+r.width}}function N(t){var e=t.offset,r=t.rect,n=t.direction,i=t.width;if("run-in"===e)switch(n){case"toRight":return-r.width;case"toLeft":default:return i}if("string"==typeof e){var o=Number(e.replace("%",""));if(o)return i/100*o}return e}var B=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},z=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},U=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},W=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)},H=function(t){function e(){var t,r,n;B(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=U(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),n.state={children:n.props.children({index:n.props.index}),move:n.props.move,position:{from:void 0,to:void 0,next:void 0},offset:n.props.offset,rect:null},n.x=0,n.isMoving=!1,n.nextTriggered=!1,n.elementRef=i.a.createRef(),n.componentDidMount=function(){n.setPosition(!0),n.observer=new MutationObserver(n.onMutation),n.observer.observe(n.elementRef.current,{characterData:!0,childList:!0,subtree:!0})},n.componentWillUnmount=function(){n.observer.disconnect()},n.onMutation=function(){n.setPosition()},n.componentDidUpdate=function(t,e){n.x||e.position.from===n.state.position.from||(n.x=n.state.position.from,n.elementRef.current.style.transform="translate3d("+n.x+"px, 0, 0)"),n.x!==n.state.position.from&&t.prevRect&&n.props.prevRect&&t.prevRect.width!==n.props.prevRect.width&&(n.props.offset?n.x=n.x+(n.props.offset-t.offset):n.x=n.x+(n.props.prevRect.width-t.prevRect.width),n.elementRef.current.style.transform="translate3d("+n.x+"px, 0, 0)"),n.props.move&&!t.start&&n.props.start&&n.animate(),n.props.start&&!t.move&&n.props.move&&n.animate(),t.move&&!n.props.move&&(n.isMoving=!1)},n.setPosition=function(t){var e=n.props,r=e.mode,i=e.width,o=e.id,a=e.onNext,s=e.direction,l=e.index,h=e.setRect,u=n.elementRef.current.getBoundingClientRect();if(0!==u.width){var c=0===n.props.index?N({offset:n.props.offset,rect:u,direction:s,width:i}):n.props.offset,f=F({mode:r,rect:u,index:l,offset:c,width:i,direction:s});if(h({index:n.props.index,rect:u,offset:c,nextOffset:L({from:f.from,rect:u,direction:s})}),t){var p=I({mode:r,rect:u,position:f,offset:c,direction:s,width:i});p&&a({id:o,index:l,rect:u,nextOffset:L({from:f.from,rect:u,direction:s})}),p||!c&&0!==l||a({id:o,index:l,rect:u}),n.nextTriggered=p}n.setState({rect:u,offset:c,position:f})}},n.shouldTriggerNext=function(){return!n.nextTriggered&&("toLeft"===n.props.direction?n.x<=n.state.position.next:n.x>=n.state.position.next)},n.triggerNext=function(){n.shouldTriggerNext()&&(n.nextTriggered=!0,n.props.onNext({id:n.props.id,index:n.props.index,rect:n.state.rect}))},n.shouldFinish=function(){switch(n.props.direction){case"toRight":return n.x>=n.state.position.to;case"toLeft":default:return n.x<=n.state.position.to}},n.animate=function(){if(!n.isMoving){n.isMoving=!0;var t=null;window.requestAnimationFrame((function e(r){if(n.isMoving&&n.elementRef.current){var i=t?r-t:0;n.x="toLeft"===n.props.direction?n.x-i/100*n.props.speed:n.x+i/100*n.props.speed,n.elementRef.current.style.transform="translate3d("+n.x+"px, 0, 0)",n.triggerNext(),n.shouldFinish()?(n.isMoving=!1,t=null,n.props.onFinish(n.props.id)):(t=r,window.requestAnimationFrame(e))}}))}},n.render=function(){return i.a.createElement("div",{className:"ticker__element",style:{willChange:"transform",position:"absolute",left:0,top:0,transform:"translate3d("+n.x+"px, 0, 0)"},ref:n.elementRef},n.state.children)},U(n,r)}return V(e,t),e}(i.a.Component);H.propTypes={children:Object(l.oneOfType)([l.node,l.func]).isRequired,direction:l.string.isRequired,speed:l.number.isRequired,id:l.string.isRequired,index:l.number.isRequired,mode:l.string.isRequired,move:l.bool.isRequired,onNext:l.func.isRequired,onFinish:l.func.isRequired,setRect:l.func.isRequired,start:l.bool.isRequired,offset:Object(l.oneOfType)([l.number,l.string]),prevRect:l.object,width:l.number},H.defaultProps={offset:void 0,width:void 0,prevRect:null};var G=function(t,e){return{elements:[{id:O(),index:0,height:0,start:!1,offset:t,rect:null,prevRect:null}],width:e,height:0}},Y=function(t){function e(){var t,r,n;B(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=U(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),n.next=null,n.state=G(n.props.offset),n.tickerRef=i.a.createRef(),n.dOnResize=k((function(){return n.onResize()}),150),n.componentDidMount=function(){n.setState({width:n.tickerRef.current.offsetWidth,height:n.props.height}),window.addEventListener("resize",n.dOnResize)},n.componentWillUnmount=function(){window.removeEventListener("resize",n.dOnResize)},n.setRect=function(t){var e=t.index,r=t.rect;t.offset;var i=t.nextOffset;n.setState((function(t){var o=t.elements.map((function(t){var n=t;return t.index===e&&(n.rect=r),t.index===e+1&&(n.prevRect=r,n.offset&&(n.offset=i)),n}));return{elements:o,height:n.props.height?t.height:D(o)}}))},n.onResize=function(){n.tickerRef.current&&n.tickerRef.current.offsetWidth!==n.state.width&&n.setState(j({},G(n.props.offset,n.tickerRef.current.offsetWidth),{height:n.props.height}))},n.onFinish=function(t){n.setState((function(e){return{elements:e.elements.filter((function(e){return e.id!==t}))}}))},n.onNext=function(t){t.id;var e=t.index,r=t.rect,i=t.nextOffset;n.setState((function(t){return{elements:[].concat(W(t.elements.map((function(t){var n=t;return t.index===e&&(n.rect=r),(0===t.index||t.offset||n.index===e+1)&&(n.start=!0),n}))),[{id:O(),index:t.elements[t.elements.length-1].index+1,height:0,start:!1,offset:i,rect:null,prevRect:r}])}}))},U(n,r)}return V(e,t),z(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"ticker",ref:this.tickerRef,style:{position:"relative",overflow:"hidden",height:this.state.height&&this.state.height+"px"}},this.state.width&&this.state.elements.map((function(e){return i.a.createElement(H,{key:e.id,id:e.id,index:e.index,start:e.start,offset:e.offset,prevRect:e.prevRect,direction:t.props.direction,mode:t.props.mode,move:t.props.move,speed:t.props.speed,onFinish:t.onFinish,onNext:t.onNext,setRect:t.setRect,width:t.state.width},t.props.children)})))}}]),e}(i.a.Component);Y.propTypes={children:Object(l.oneOfType)([l.node,l.func]).isRequired,direction:l.string,mode:l.string,move:l.bool,offset:Object(l.oneOfType)([l.number,l.string]),speed:l.number,height:Object(l.oneOfType)([l.number,l.string])},Y.defaultProps={offset:0,speed:5,direction:"toLeft",mode:"chain",move:!0,height:void 0};c(".__ticker .__bullet > :nth-child(1n) {\n  position: relative !important;\n  top: unset !important;\n  left: unset !important;\n  display: block !important;\n}",{});c(".__flat-list {\n  overflow: scroll;\n  display: flex;\n}\n\n.__flat-list .__item > :nth-child(1n) {\n  position: relative;\n  top: unset;\n  left: unset;\n  display: block;\n}",{});Object(n.forwardRef)((function(t,e){var r=t.renderItem,n=t.children,o=t.dataSource,a=t.className,l=t.style,h=t.direction,u=void 0===h?"column":h;if(!r){var c=Object(s.getChildBySlot)(n,"item");c?r=c:console.warn("属性[renderItem]为空")}return i.a.createElement("div",{ref:e,className:["__flat-list",a].join(" "),style:f(f({},l),{flexDirection:u})},o.map((function(t,e){var n;return n="function"==typeof r?r(t,e):Object(s.compileTemplate)(r,t,e),i.a.createElement("span",{className:"__item",key:e},n)})))}))}).call(this,r("yLpj"))},cv67:function(t,e,r){var n;t.exports=(n=r("Ib8C"),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=t[e+0],l=t[e+1],p=t[e+2],d=t[e+3],m=t[e+4],v=t[e+5],y=t[e+6],g=t[e+7],_=t[e+8],b=t[e+9],x=t[e+10],w=t[e+11],T=t[e+12],S=t[e+13],E=t[e+14],M=t[e+15],C=o[0],A=o[1],P=o[2],k=o[3];C=h(C,A,P,k,a,7,s[0]),k=h(k,C,A,P,l,12,s[1]),P=h(P,k,C,A,p,17,s[2]),A=h(A,P,k,C,d,22,s[3]),C=h(C,A,P,k,m,7,s[4]),k=h(k,C,A,P,v,12,s[5]),P=h(P,k,C,A,y,17,s[6]),A=h(A,P,k,C,g,22,s[7]),C=h(C,A,P,k,_,7,s[8]),k=h(k,C,A,P,b,12,s[9]),P=h(P,k,C,A,x,17,s[10]),A=h(A,P,k,C,w,22,s[11]),C=h(C,A,P,k,T,7,s[12]),k=h(k,C,A,P,S,12,s[13]),P=h(P,k,C,A,E,17,s[14]),C=u(C,A=h(A,P,k,C,M,22,s[15]),P,k,l,5,s[16]),k=u(k,C,A,P,y,9,s[17]),P=u(P,k,C,A,w,14,s[18]),A=u(A,P,k,C,a,20,s[19]),C=u(C,A,P,k,v,5,s[20]),k=u(k,C,A,P,x,9,s[21]),P=u(P,k,C,A,M,14,s[22]),A=u(A,P,k,C,m,20,s[23]),C=u(C,A,P,k,b,5,s[24]),k=u(k,C,A,P,E,9,s[25]),P=u(P,k,C,A,d,14,s[26]),A=u(A,P,k,C,_,20,s[27]),C=u(C,A,P,k,S,5,s[28]),k=u(k,C,A,P,p,9,s[29]),P=u(P,k,C,A,g,14,s[30]),C=c(C,A=u(A,P,k,C,T,20,s[31]),P,k,v,4,s[32]),k=c(k,C,A,P,_,11,s[33]),P=c(P,k,C,A,w,16,s[34]),A=c(A,P,k,C,E,23,s[35]),C=c(C,A,P,k,l,4,s[36]),k=c(k,C,A,P,m,11,s[37]),P=c(P,k,C,A,g,16,s[38]),A=c(A,P,k,C,x,23,s[39]),C=c(C,A,P,k,S,4,s[40]),k=c(k,C,A,P,a,11,s[41]),P=c(P,k,C,A,d,16,s[42]),A=c(A,P,k,C,y,23,s[43]),C=c(C,A,P,k,b,4,s[44]),k=c(k,C,A,P,T,11,s[45]),P=c(P,k,C,A,M,16,s[46]),C=f(C,A=c(A,P,k,C,p,23,s[47]),P,k,a,6,s[48]),k=f(k,C,A,P,g,10,s[49]),P=f(P,k,C,A,E,15,s[50]),A=f(A,P,k,C,v,21,s[51]),C=f(C,A,P,k,T,6,s[52]),k=f(k,C,A,P,d,10,s[53]),P=f(P,k,C,A,x,15,s[54]),A=f(A,P,k,C,l,21,s[55]),C=f(C,A,P,k,_,6,s[56]),k=f(k,C,A,P,M,10,s[57]),P=f(P,k,C,A,y,15,s[58]),A=f(A,P,k,C,S,21,s[59]),C=f(C,A,P,k,m,6,s[60]),k=f(k,C,A,P,w,10,s[61]),P=f(P,k,C,A,p,15,s[62]),A=f(A,P,k,C,b,21,s[63]),o[0]=o[0]+C|0,o[1]=o[1]+A|0,o[2]=o[2]+P|0,o[3]=o[3]+k|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296),a=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,l=s.words,h=0;h<4;h++){var u=l[h];l[h]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function h(t,e,r,n,i,o,a){var s=t+(e&r|~e&n)+i+a;return(s<<o|s>>>32-o)+e}function u(t,e,r,n,i,o,a){var s=t+(e&n|r&~n)+i+a;return(s<<o|s>>>32-o)+e}function c(t,e,r,n,i,o,a){var s=t+(e^r^n)+i+a;return(s<<o|s>>>32-o)+e}function f(t,e,r,n,i,o,a){var s=t+(r^(e|~n))+i+a;return(s<<o|s>>>32-o)+e}e.MD5=o._createHelper(l),e.HmacMD5=o._createHmacHelper(l)}(Math),n.MD5)},e7zE:function(t,e,r){var n,i,o,a,s,l,h,u,c;t.exports=(c=r("Ib8C"),r("3y9D"),r("WYAk"),i=(n=c).lib,o=i.Base,a=i.WordArray,s=n.algo,l=s.SHA1,h=s.HMAC,u=s.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:l,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=h.create(r.hasher,t),i=a.create(),o=a.create([1]),s=i.words,l=o.words,u=r.keySize,c=r.iterations;s.length<u;){var f=n.update(e).finalize(o);n.reset();for(var p=f.words,d=p.length,m=f,v=1;v<c;v++){m=n.finalize(m),n.reset();for(var y=m.words,g=0;g<d;g++)p[g]^=y[g]}i.concat(f),l[0]++}return i.sigBytes=4*u,i}}),n.PBKDF2=function(t,e,r){return u.create(r).compute(t,e)},c.PBKDF2)},gK8M:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return f}));var n,i=function(t,e){this.name="CodeError",this.code="",this.message="","number"==typeof t||"string"==typeof t?this.code=t+"":"object"==typeof t&&(t.code?this.code=t.code:t instanceof Error?this.code=t.message:console.warn("input without code field:",JSON.stringify(t)),t.message&&(this.message=t.message),t.payload&&(this.payload=t.payload)),e&&(this.message=e),this.stack=(new Error).stack,Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack};!function(t){t[t.UNKNOWN=200001]="UNKNOWN",t[t.NET_ERROR=210001]="NET_ERROR",t[t.REQUEST_TIMEOUT=210002]="REQUEST_TIMEOUT",t[t.POLLING_TIMEOUT=210003]="POLLING_TIMEOUT",t[t.INVALID_RESPONSE=210004]="INVALID_RESPONSE",t[t.CALL_LIMITING=210005]="CALL_LIMITING",t[t.GET_PX_TOKEN_FAILED=220001]="GET_PX_TOKEN_FAILED"}(n||(n={}));var o=r("zgwS"),a=r("bCyt"),s=r("Wgss"),l=function(){return(l=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},h=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))},u=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c={user_type:a.b?"0":"1",is_from_share:a.a?"0":"1"};function f(t,e,r){var a=this,f={},p=function(p){var d=function(t){if("string"==typeof t)return{uri:t,method:"get"};if("object"==typeof t){var e=t.uri,r=t.method;return{uri:e,method:void 0===r?"get":r,headers:t.headers,requestContentType:t.requestContentType,justData:t.justData,withToken:t.withToken,host:t.host}}console.error("getRequestParams: 传参有误")}(t[p]),m=d.uri,v=d.method,y=d.headers,g=d.requestContentType,_=d.justData,b=void 0===_||_,x=d.withToken,w=d.host;e&&(m=e+"/"+m);var T=window.api_host;(w||T)&&(m=(w||T)+m),f[p]=function(t,e){return void 0===t&&(t={}),h(a,void 0,void 0,(function(){var a,h,f,p,d;return u(this,(function(u){switch(u.label){case 0:if(!x)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Object(s.a)()];case 2:return a=u.sent(),[3,4];case 3:throw h=u.sent(),console.warn("星速台token获取失败，下游接口:",m),console.warn("error:",h),r&&r(h,m),new i(n.GET_PX_TOKEN_FAILED,"获取星速台token失败");case 4:return f=l(l({},y),e),x&&a&&(t.token=a),t=l(l({},t),c),p=Object(o.a)({uri:m,params:t,method:v,headers:f,requestContentType:g,justData:b}),r?[4,p.catch((function(t){throw r(t,m),t}))]:[3,6];case 5:return d=u.sent(),[3,8];case 6:return[4,p];case 7:d=u.sent(),u.label=8;case 8:return[2,d]}}))}))}};for(var d in t)p(d);return f}},"gb/T":function(t,e,r){var n,i;t.exports=(i=r("Ib8C"),r("OLod"),i.mode.ECB=((n=i.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),n.Decryptor=n.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),n),i.mode.ECB)},i8i4:function(t,e,r){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}}(),t.exports=r("yl30")},jO9C:function(t,e,r){var n;t.exports=(n=r("Ib8C"),r("OLod"),n.pad.Iso97971={pad:function(t,e){t.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(t,e)},unpad:function(t){n.pad.ZeroPadding.unpad(t),t.sigBytes--}},n.pad.Iso97971)},lPiR:function(t,e,r){var n;t.exports=(n=r("Ib8C"),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,a=e.algo,s=[],l=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(s[i]=r(t.pow(n,.5))),l[i]=r(t.pow(n,1/3)),i++),n++}();var h=[],u=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],u=r[5],c=r[6],f=r[7],p=0;p<64;p++){if(p<16)h[p]=0|t[e+p];else{var d=h[p-15],m=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,v=h[p-2],y=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;h[p]=m+h[p-7]+y+h[p-16]}var g=n&i^n&o^i&o,_=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),b=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&c)+l[p]+h[p];f=c,c=u,u=s,s=a+b|0,a=o,o=i,i=n,n=b+(_+g)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+u|0,r[6]=r[6]+c|0,r[7]=r[7]+f|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(u),e.HmacSHA256=o._createHmacHelper(u)}(Math),n.SHA256)},lSNA:function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports},ls82:function(t,e,r){var n=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof c?e:c,o=Object.create(i.prototype),a=new T(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return E()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=h(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,a),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function c(){}function f(){}function p(){}var d={};s(d,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&r.call(v,i)&&(d=v);var y=p.prototype=c.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){var n;this._invoke=function(i,o){function a(){return new e((function(n,a){!function n(i,o,a,s){var l=h(t[i],t,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==typeof c&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(c).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=h(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(_.prototype),s(_.prototype,o,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new _(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;w(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},lwsE:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},m0LI:function(t,e){t.exports=function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}},t.exports.__esModule=!0,t.exports.default=t.exports},nsnv:function(t,e){!function(t,e){"use strict";if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var r=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,r){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==r[e-1]}))},i.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(t,"resize",this._checkForIntersections,!0),o(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(t,"resize",this._checkForIntersections,!0),a(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),r=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var o=i.element,a=l(o),s=this._rootContainsTarget(o),h=i.entry,u=e&&s&&this._computeTargetAndRootIntersection(o,r),c=i.entry=new n({time:t.performance&&performance.now&&performance.now(),target:o,boundingClientRect:a,rootBounds:r,intersectionRect:u});h?e&&s?this._hasCrossedThreshold(h,c)&&this._queuedEntries.push(c):h&&h.isIntersecting&&this._queuedEntries.push(c):this._queuedEntries.push(c)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(r,n){if("none"!=t.getComputedStyle(r).display){for(var i=l(r),o=u(r),a=!1;!a;){var h=null,c=1==o.nodeType?t.getComputedStyle(o):{};if("none"==c.display)return;if(o==this.root||o==e?(a=!0,h=n):o!=e.body&&o!=e.documentElement&&"visible"!=c.overflow&&(h=l(o)),h&&!(i=s(h,i)))break;o=u(o)}return i}},i.prototype._getRootRect=function(){var t;if(this.root)t=l(this.root);else{var r=e.documentElement,n=e.body;t={top:0,left:0,right:r.clientWidth||n.clientWidth,width:r.clientWidth||n.clientWidth,bottom:r.clientHeight||n.clientHeight,height:r.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,r){return"px"==e.unit?e.value:e.value*(r%2?t.width:t.height)/100})),r={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return r.width=r.right-r.left,r.height=r.bottom-r.top,r},i.prototype._hasCrossedThreshold=function(t,e){var r=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(r!==n)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==r||o==n||o<r!=o<n)return!0}},i.prototype._rootIsInDom=function(){return!this.root||h(e,this.root)},i.prototype._rootContainsTarget=function(t){return h(this.root||e,t)},i.prototype._registerInstance=function(){r.indexOf(this)<0&&r.push(this)},i.prototype._unregisterInstance=function(){var t=r.indexOf(this);-1!=t&&r.splice(t,1)},t.IntersectionObserver=i,t.IntersectionObserverEntry=n}function n(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,r=e.width*e.height,n=this.intersectionRect,i=n.width*n.height;this.intersectionRatio=r?i/r:this.isIntersecting?1:0}function i(t,e){var r,n,i,o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(r=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){r(),i=null}),n))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function o(t,e,r,n){"function"==typeof t.addEventListener?t.addEventListener(e,r,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,r)}function a(t,e,r,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,r,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,r)}function s(t,e){var r=Math.max(t.top,e.top),n=Math.min(t.bottom,e.bottom),i=Math.max(t.left,e.left),o=Math.min(t.right,e.right),a=o-i,s=n-r;return a>=0&&s>=0&&{top:r,bottom:n,left:i,right:o,width:a,height:s}}function l(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function h(t,e){for(var r=e;r;){if(r==t)return!0;r=u(r)}return!1}function u(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}}(window,document)},o0o1:function(t,e,r){t.exports=r("ls82")},oRuE:function(t,e,r){var n;t.exports=(n=r("Ib8C"),r("OLod"),n.pad.Iso10126={pad:function(t,e){var r=4*e,i=r-t.sigBytes%r;t.concat(n.lib.WordArray.random(i-1)).concat(n.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Iso10126)},pA7S:function(t,e,r){var n;t.exports=(n=r("Ib8C"),r("ETIr"),r("cv67"),r("K3mO"),r("OLod"),function(){var t=n,e=t.lib,r=e.WordArray,i=e.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],c=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;r<56;r++){var n=a[r]-1;e[r]=t[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var h=i[o]=[],u=l[o];for(r=0;r<24;r++)h[r/6|0]|=e[(s[r]-1+u)%28]<<31-r%6,h[4+(r/6|0)]|=e[28+(s[r+24]-1+u)%28]<<31-r%6;for(h[0]=h[0]<<1|h[0]>>>31,r=1;r<7;r++)h[r]=h[r]>>>4*(r-1)+3;h[7]=h[7]<<5|h[7]>>>27}var c=this._invSubKeys=[];for(r=0;r<16;r++)c[r]=i[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,r){this._lBlock=t[e],this._rBlock=t[e+1],f.call(this,4,252645135),f.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),f.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],o=this._lBlock,a=this._rBlock,s=0,l=0;l<8;l++)s|=h[l][((a^i[l])&u[l])>>>0];this._lBlock=a,this._rBlock=o^s}var c=this._lBlock;this._lBlock=this._rBlock,this._rBlock=c,f.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function p(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}t.DES=i._createHelper(c);var d=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=t.slice(0,2),n=t.length<4?t.slice(0,2):t.slice(2,4),i=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=c.createEncryptor(r.create(e)),this._des2=c.createEncryptor(r.create(n)),this._des3=c.createEncryptor(r.create(i))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(d)}(),n.TripleDES)},q1tI:function(t,e,r){"use strict";t.exports=r("viRO")},qBft:function(t,e,r){var n;t.exports=(n=r("Ib8C"),r("OLod"),n.pad.AnsiX923={pad:function(t,e){var r=t.sigBytes,n=4*e,i=n-r%n,o=r+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Ansix923)},qM6L:function(t,e,r){var n;t.exports=(n=r("Ib8C"),function(){var t=n,e=t.lib.WordArray,r=t.enc;function i(t){return t<<8&4278255360|t>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i+=2){var o=e[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var r=t.length,n=[],i=0;i<r;i++)n[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return e.create(n,2*r)}},r.Utf16LE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o+=2){var a=i(e[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(a))}return n.join("")},parse:function(t){for(var r=t.length,n=[],o=0;o<r;o++)n[o>>>1]|=i(t.charCodeAt(o)<<16-o%2*16);return e.create(n,2*r)}}}(),n.enc.Utf16)},qu8F:function(t,e,r){var n;t.exports=(n=r("Ib8C"),r("OLod"),
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
n.mode.CTRGladman=function(){var t=n.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,r=t>>8&255,n=255&t;255===e?(e=0,255===r?(r=0,255===n?n=0:++n):++r):++e,t=0,t+=e<<16,t+=r<<8,t+=n}else t+=1<<24;return t}var r=t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(a);var s=a.slice(0);n.encryptBlock(s,0);for(var l=0;l<i;l++)t[r+l]^=s[l]}});return t.Decryptor=r,t}(),n.mode.CTRGladman)},r5Tj:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("q1tI"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function __extends(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var __assign=function(){return(__assign=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function __rest(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function __decorate(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a}function __param(t,e){return function(r,n){e(r,n,t)}}function __metadata(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function __awaiter(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))}function __generator(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var __createBinding=Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]};function __exportStar(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||__createBinding(e,t,r)}function __values(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function __spread(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t}function __spreadArrays(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function __spreadArray(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||s(t,e)}))})}function s(t,e){try{(r=i[t](e)).value instanceof __await?Promise.resolve(r.value.v).then(l,h):u(o[0][2],r)}catch(t){u(o[0][3],t)}var r}function l(t){s("next",t)}function h(t){s("throw",t)}function u(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function __asyncDelegator(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:__await(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function __asyncValues(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){!function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)}(n,i,(e=t[r](e)).done,e.value)}))}}}function __makeTemplateObject(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var __setModuleDefault=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function __importStar(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding(e,t,r);return __setModuleDefault(e,t),e}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)}function __classPrivateFieldSet(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{};function unwrapExports(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}function getCjsExportFromNamespace(t){return t&&t.default||t}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var lottie=createCommonjsModule((function(module){"undefined"!=typeof navigator&&function(t,e){module.exports?module.exports=e(t):(t.lottie=e(t),t.bodymovin=t.lottie)}(window||{},(function(window){var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bmRnd,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=e.length;for(t=0;t<r;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"==typeof t&&t.length){var e,r=createSizedArray(t.length),n=t.length;for(e=0;e<n;e+=1)r[e]=Math.abs(t[e]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){bmRnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,r,n){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=n<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,r,n){this.type=t,this.currentLoop=r,this.totalLoops=e,this.direction=n<0?-1:1}function BMSegmentStartEvent(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e}roundValues(!1);var createElementID=(_count=0,function(){return"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(t,e,r){var n,i,o,a,s,l,h,u;switch(l=r*(1-e),h=r*(1-(s=6*t-(a=Math.floor(6*t)))*e),u=r*(1-(1-s)*e),a%6){case 0:n=r,i=u,o=l;break;case 1:n=h,i=r,o=l;break;case 2:n=l,i=r,o=u;break;case 3:n=l,i=h,o=r;break;case 4:n=u,i=l,o=r;break;case 5:n=r,i=l,o=h}return[n,i,o]}function RGBtoHSV(t,e,r){var n,i=Math.max(t,e,r),o=Math.min(t,e,r),a=i-o,s=0===i?0:a/i,l=i/255;switch(i){case o:n=0;break;case t:n=e-r+a*(e<r?6:0),n/=6*a;break;case e:n=r-t+2*a,n/=6*a;break;case r:n=t-e+4*a,n/=6*a}return[n,s,l]}function addSaturationToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var t,e,r=[];for(t=0;t<256;t+=1)e=t.toString(16),r[t]=1===e.length?"0"+e:e;return function(t,e,n){return t<0&&(t=0),e<0&&(e=0),n<0&&(n=0),"#"+r[t]+r[e]+r[n]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var r=this._cbs[t].length,n=0;n<r;n+=1)this._cbs[t][n](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var r=0,n=this._cbs[t].length;r<n;)this._cbs[t][r]===e&&(this._cbs[t].splice(r,1),r-=1,n-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray=function(){function t(t,e){var r,n=0,i=[];switch(t){case"int16":case"uint8c":r=1;break;default:r=1.1}for(n=0;n<e;n+=1)i.push(r);return i}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,r){return"float32"===e?new Float32Array(r):"int16"===e?new Int16Array(r):"uint8c"===e?new Uint8ClampedArray(r):t(e,r)}:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function createNS(t){return document.createElementNS(svgNS,t)}function createTag(t){return document.createElement(t)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums,Matrix=function(){var t=Math.cos,e=Math.sin,r=Math.tan,n=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function o(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1)}function a(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1)}function s(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1)}function l(r){if(0===r)return this;var n=t(r),i=e(r);return this._t(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1)}function h(t,e){return this._t(1,e,t,1,0,0)}function u(t,e){return this.shear(r(t),r(e))}function c(n,i){var o=t(i),a=e(i);return this._t(o,a,0,0,-a,o,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(n),1,0,0,0,0,1,0,0,0,0,1)._t(o,-a,0,0,a,o,0,0,0,0,1,0,0,0,0,1)}function f(t,e,r){return r||0===r||(r=1),1===t&&1===e&&1===r?this:this._t(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1)}function p(t,e,r,n,i,o,a,s,l,h,u,c,f,p,d,m){return this.props[0]=t,this.props[1]=e,this.props[2]=r,this.props[3]=n,this.props[4]=i,this.props[5]=o,this.props[6]=a,this.props[7]=s,this.props[8]=l,this.props[9]=h,this.props[10]=u,this.props[11]=c,this.props[12]=f,this.props[13]=p,this.props[14]=d,this.props[15]=m,this}function d(t,e,r){return r=r||0,0!==t||0!==e||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1):this}function m(t,e,r,n,i,o,a,s,l,h,u,c,f,p,d,m){var v=this.props;if(1===t&&0===e&&0===r&&0===n&&0===i&&1===o&&0===a&&0===s&&0===l&&0===h&&1===u&&0===c)return v[12]=v[12]*t+v[15]*f,v[13]=v[13]*o+v[15]*p,v[14]=v[14]*u+v[15]*d,v[15]*=m,this._identityCalculated=!1,this;var y=v[0],g=v[1],_=v[2],b=v[3],x=v[4],w=v[5],T=v[6],S=v[7],E=v[8],M=v[9],C=v[10],A=v[11],P=v[12],k=v[13],O=v[14],D=v[15];return v[0]=y*t+g*i+_*l+b*f,v[1]=y*e+g*o+_*h+b*p,v[2]=y*r+g*a+_*u+b*d,v[3]=y*n+g*s+_*c+b*m,v[4]=x*t+w*i+T*l+S*f,v[5]=x*e+w*o+T*h+S*p,v[6]=x*r+w*a+T*u+S*d,v[7]=x*n+w*s+T*c+S*m,v[8]=E*t+M*i+C*l+A*f,v[9]=E*e+M*o+C*h+A*p,v[10]=E*r+M*a+C*u+A*d,v[11]=E*n+M*s+C*c+A*m,v[12]=P*t+k*i+O*l+D*f,v[13]=P*e+k*o+O*h+D*p,v[14]=P*r+k*a+O*u+D*d,v[15]=P*n+k*s+O*c+D*m,this._identityCalculated=!1,this}function v(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function y(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function g(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function _(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function b(t,e,r){return{x:t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}}function x(t,e,r){return t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12]}function w(t,e,r){return t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13]}function T(t,e,r){return t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]}function S(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,r=-this.props[1]/t,n=-this.props[4]/t,i=this.props[0]/t,o=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,s=new Matrix;return s.props[0]=e,s.props[1]=r,s.props[4]=n,s.props[5]=i,s.props[12]=o,s.props[13]=a,s}function E(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function M(t){var e,r=t.length,n=[];for(e=0;e<r;e+=1)n[e]=E(t[e]);return n}function C(t,e,r){var n=createTypedArray("float32",6);if(this.isIdentity())n[0]=t[0],n[1]=t[1],n[2]=e[0],n[3]=e[1],n[4]=r[0],n[5]=r[1];else{var i=this.props[0],o=this.props[1],a=this.props[4],s=this.props[5],l=this.props[12],h=this.props[13];n[0]=t[0]*i+t[1]*a+l,n[1]=t[0]*o+t[1]*s+h,n[2]=e[0]*i+e[1]*a+l,n[3]=e[0]*o+e[1]*s+h,n[4]=r[0]*i+r[1]*a+l,n[5]=r[0]*o+r[1]*s+h}return n}function A(t,e,r){return this.isIdentity()?[t,e,r]:[t*this.props[0]+e*this.props[4]+r*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+r*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+r*this.props[10]+this.props[14]]}function P(t,e){if(this.isIdentity())return t+","+e;var r=this.props;return Math.round(100*(t*r[0]+e*r[4]+r[12]))/100+","+Math.round(100*(t*r[1]+e*r[5]+r[13]))/100}function k(){for(var t=0,e=this.props,r="matrix3d(";t<16;)r+=n(1e4*e[t])/1e4,r+=15===t?")":",",t+=1;return r}function O(t){return t<1e-6&&t>0||t>-1e-6&&t<0?n(1e4*t)/1e4:t}function D(){var t=this.props;return"matrix("+O(t[0])+","+O(t[1])+","+O(t[4])+","+O(t[5])+","+O(t[12])+","+O(t[13])+")"}return function(){this.reset=i,this.rotate=o,this.rotateX=a,this.rotateY=s,this.rotateZ=l,this.skew=u,this.skewFromAxis=c,this.shear=h,this.scale=f,this.setTransform=p,this.translate=d,this.transform=m,this.applyToPoint=b,this.applyToX=x,this.applyToY=w,this.applyToZ=T,this.applyToPointArray=A,this.applyToTriplePoints=C,this.applyToPointStringified=P,this.toCSS=k,this.to2dCSS=D,this.clone=g,this.cloneFromProps=_,this.equals=y,this.inversePoints=M,this.inversePoint=E,this.getInverseMatrix=S,this._t=this.transform,this.isIdentity=v,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();
/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */!function(t,e){var r=this,n=e.pow(256,6),i=e.pow(2,52),o=2*i;function a(t){var e,r=t.length,n=this,i=0,o=n.i=n.j=0,a=n.S=[];for(r||(t=[r++]);i<256;)a[i]=i++;for(i=0;i<256;i++)a[i]=a[o=255&o+t[i%r]+(e=a[i])],a[o]=e;n.g=function(t){for(var e,r=0,i=n.i,o=n.j,a=n.S;t--;)e=a[i=255&i+1],r=256*r+a[255&(a[i]=a[o=255&o+e])+(a[o]=e)];return n.i=i,n.j=o,r}}function s(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function l(t,e){for(var r,n=t+"",i=0;i<n.length;)e[255&i]=255&(r^=19*e[255&i])+n.charCodeAt(i++);return h(e)}function h(t){return String.fromCharCode.apply(0,t)}e.seedrandom=function(u,c,f){var p=[],d=l(function t(e,r){var n,i=[],o=typeof e;if(r&&"object"==o)for(n in e)try{i.push(t(e[n],r-1))}catch(t){}return i.length?i:"string"==o?e:e+"\0"}((c=!0===c?{entropy:!0}:c||{}).entropy?[u,h(t)]:null===u?function(){try{var e=new Uint8Array(256);return(r.crypto||r.msCrypto).getRandomValues(e),h(e)}catch(e){var n=r.navigator,i=n&&n.plugins;return[+new Date,r,i,r.screen,h(t)]}}():u,3),p),m=new a(p),v=function(){for(var t=m.g(6),e=n,r=0;t<i;)t=256*(t+r),e*=256,r=m.g(1);for(;t>=o;)t/=2,e/=2,r>>>=1;return(t+r)/e};return v.int32=function(){return 0|m.g(4)},v.quick=function(){return m.g(4)/4294967296},v.double=v,l(h(m.S),t),(c.pass||f||function(t,r,n,i){return i&&(i.S&&s(i,m),t.state=function(){return s(m,{})}),n?(e.random=t,r):t})(v,d,"global"in c?c.global:this==e,c.state)},l(e.random(),t)}([],BMMath);var BezierFactory=function(){var t={getBezierEasing:function(t,r,n,i,o){var a=o||("bez_"+t+"_"+r+"_"+n+"_"+i).replace(/\./g,"p");if(e[a])return e[a];var s=new l([t,r,n,i]);return e[a]=s,s}},e={},r="function"==typeof Float32Array;function n(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function o(t){return 3*t}function a(t,e,r){return((n(e,r)*t+i(e,r))*t+o(e))*t}function s(t,e,r){return 3*n(e,r)*t*t+2*i(e,r)*t+o(e)}function l(t){this._p=t,this._mSampleValues=r?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return l.prototype={get:function(t){var e=this._p[0],r=this._p[1],n=this._p[2],i=this._p[3];return this._precomputed||this._precompute(),e===r&&n===i?t:0===t?0:1===t?1:a(this._getTForX(t),r,i)},_precompute:function(){var t=this._p[0],e=this._p[1],r=this._p[2],n=this._p[3];this._precomputed=!0,t===e&&r===n||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],r=0;r<11;++r)this._mSampleValues[r]=a(.1*r,t,e)},_getTForX:function(t){for(var e=this._p[0],r=this._p[2],n=this._mSampleValues,i=0,o=1;10!==o&&n[o]<=t;++o)i+=.1;var l=i+(t-n[--o])/(n[o+1]-n[o])*.1,h=s(l,e,r);return h>=.001?function(t,e,r,n){for(var i=0;i<4;++i){var o=s(e,r,n);if(0===o)return e;e-=(a(e,r,n)-t)/o}return e}(t,l,e,r):0===h?l:function(t,e,r,n,i){var o,s,l=0;do{(o=a(s=e+(r-e)/2,n,i)-t)>0?r=s:e=s}while(Math.abs(o)>1e-7&&++l<10);return s}(t,i,i+.1,e,r)}},t}();function extendPrototype(t,e){var r,n,i=t.length;for(r=0;r<i;r+=1)for(var o in n=t[r].prototype)Object.prototype.hasOwnProperty.call(n,o)&&(e.prototype[o]=n[o])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){var t=Math;function e(t,e,r,n,i,o){var a=t*n+e*i+r*o-i*n-o*t-r*e;return a>-.001&&a<.001}var r=function(t,e,r,n){var i,o,a,s,l,h,u=defaultCurveSegments,c=0,f=[],p=[],d=bezierLengthPool.newElement();for(a=r.length,i=0;i<u;i+=1){for(l=i/(u-1),h=0,o=0;o<a;o+=1)s=bmPow(1-l,3)*t[o]+3*bmPow(1-l,2)*l*r[o]+3*(1-l)*bmPow(l,2)*n[o]+bmPow(l,3)*e[o],f[o]=s,null!==p[o]&&(h+=bmPow(f[o]-p[o],2)),p[o]=f[o];h&&(c+=h=bmSqrt(h)),d.percents[i]=l,d.lengths[i]=c}return d.addedLength=c,d};function n(t){this.segmentLength=0,this.points=new Array(t)}function i(t,e){this.partialLength=t,this.point=e}var o,a=(o={},function(t,r,a,s){var l=(t[0]+"_"+t[1]+"_"+r[0]+"_"+r[1]+"_"+a[0]+"_"+a[1]+"_"+s[0]+"_"+s[1]).replace(/\./g,"p");if(!o[l]){var h,u,c,f,p,d,m,v=defaultCurveSegments,y=0,g=null;2===t.length&&(t[0]!==r[0]||t[1]!==r[1])&&e(t[0],t[1],r[0],r[1],t[0]+a[0],t[1]+a[1])&&e(t[0],t[1],r[0],r[1],r[0]+s[0],r[1]+s[1])&&(v=2);var _=new n(v);for(c=a.length,h=0;h<v;h+=1){for(m=createSizedArray(c),p=h/(v-1),d=0,u=0;u<c;u+=1)f=bmPow(1-p,3)*t[u]+3*bmPow(1-p,2)*p*(t[u]+a[u])+3*(1-p)*bmPow(p,2)*(r[u]+s[u])+bmPow(p,3)*r[u],m[u]=f,null!==g&&(d+=bmPow(m[u]-g[u],2));y+=d=bmSqrt(d),_.points[h]=new i(d,m),g=m}_.segmentLength=y,o[l]=_}return o[l]});function s(t,e){var r=e.percents,n=e.lengths,i=r.length,o=bmFloor((i-1)*t),a=t*e.addedLength,s=0;if(o===i-1||0===o||a===n[o])return r[o];for(var l=n[o]>a?-1:1,h=!0;h;)if(n[o]<=a&&n[o+1]>a?(s=(a-n[o])/(n[o+1]-n[o]),h=!1):o+=l,o<0||o>=i-1){if(o===i-1)return r[o];h=!1}return r[o]+(r[o+1]-r[o])*s}var l=createTypedArray("float32",8);return{getSegmentsLength:function(t){var e,n=segmentsLengthPool.newElement(),i=t.c,o=t.v,a=t.o,s=t.i,l=t._length,h=n.lengths,u=0;for(e=0;e<l-1;e+=1)h[e]=r(o[e],o[e+1],a[e],s[e+1]),u+=h[e].addedLength;return i&&l&&(h[e]=r(o[e],o[0],a[e],s[0]),u+=h[e].addedLength),n.totalLength=u,n},getNewSegment:function(e,r,n,i,o,a,h){o<0?o=0:o>1&&(o=1);var u,c=s(o,h),f=s(a=a>1?1:a,h),p=e.length,d=1-c,m=1-f,v=d*d*d,y=c*d*d*3,g=c*c*d*3,_=c*c*c,b=d*d*m,x=c*d*m+d*c*m+d*d*f,w=c*c*m+d*c*f+c*d*f,T=c*c*f,S=d*m*m,E=c*m*m+d*f*m+d*m*f,M=c*f*m+d*f*f+c*m*f,C=c*f*f,A=m*m*m,P=f*m*m+m*f*m+m*m*f,k=f*f*m+m*f*f+f*m*f,O=f*f*f;for(u=0;u<p;u+=1)l[4*u]=t.round(1e3*(v*e[u]+y*n[u]+g*i[u]+_*r[u]))/1e3,l[4*u+1]=t.round(1e3*(b*e[u]+x*n[u]+w*i[u]+T*r[u]))/1e3,l[4*u+2]=t.round(1e3*(S*e[u]+E*n[u]+M*i[u]+C*r[u]))/1e3,l[4*u+3]=t.round(1e3*(A*e[u]+P*n[u]+k*i[u]+O*r[u]))/1e3;return l},getPointInSegment:function(e,r,n,i,o,a){var l=s(o,a),h=1-l;return[t.round(1e3*(h*h*h*e[0]+(l*h*h+h*l*h+h*h*l)*n[0]+(l*l*h+h*l*l+l*h*l)*i[0]+l*l*l*r[0]))/1e3,t.round(1e3*(h*h*h*e[1]+(l*h*h+h*l*h+h*h*l)*n[1]+(l*l*h+h*l*l+l*h*l)*i[1]+l*l*l*r[1]))/1e3]},buildBezierData:a,pointOnLine2D:e,pointOnLine3D:function(r,n,i,o,a,s,l,h,u){if(0===i&&0===s&&0===u)return e(r,n,o,a,l,h);var c,f=t.sqrt(t.pow(o-r,2)+t.pow(a-n,2)+t.pow(s-i,2)),p=t.sqrt(t.pow(l-r,2)+t.pow(h-n,2)+t.pow(u-i,2)),d=t.sqrt(t.pow(l-o,2)+t.pow(h-a,2)+t.pow(u-s,2));return(c=f>p?f>d?f-p-d:d-p-f:d>p?d-p-f:p-f-d)>-1e-4&&c<1e-4}}}!function(){for(var t=0,e=["ms","moz","webkit","o"],r=0;r<e.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[e[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[r]+"CancelAnimationFrame"]||window[e[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var r=(new Date).getTime(),n=Math.max(0,16-(r-t)),i=setTimeout((function(){e(r+n)}),n);return t=r+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction();function dataFunctionManager(){function t(i,o,a){var s,l,h,c,f,p,d=i.length;for(l=0;l<d;l+=1)if("ks"in(s=i[l])&&!s.completed){if(s.completed=!0,s.tt&&(i[l-1].td=s.tt),s.hasMask){var m=s.masksProperties;for(c=m.length,h=0;h<c;h+=1)if(m[h].pt.k.i)n(m[h].pt.k);else for(p=m[h].pt.k.length,f=0;f<p;f+=1)m[h].pt.k[f].s&&n(m[h].pt.k[f].s[0]),m[h].pt.k[f].e&&n(m[h].pt.k[f].e[0])}0===s.ty?(s.layers=e(s.refId,o),t(s.layers,o,a)):4===s.ty?r(s.shapes):5===s.ty&&u(s)}}function e(t,e){for(var r=0,n=e.length;r<n;){if(e[r].id===t)return e[r].layers.__used?JSON.parse(JSON.stringify(e[r].layers)):(e[r].layers.__used=!0,e[r].layers);r+=1}return null}function r(t){var e,i,o;for(e=t.length-1;e>=0;e-=1)if("sh"===t[e].ty)if(t[e].ks.k.i)n(t[e].ks.k);else for(o=t[e].ks.k.length,i=0;i<o;i+=1)t[e].ks.k[i].s&&n(t[e].ks.k[i].s[0]),t[e].ks.k[i].e&&n(t[e].ks.k[i].e[0]);else"gr"===t[e].ty&&r(t[e].it)}function n(t){var e,r=t.i.length;for(e=0;e<r;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function i(t,e){var r=e?e.split("."):[100,100,100];return t[0]>r[0]||!(r[0]>t[0])&&(t[1]>r[1]||!(r[1]>t[1])&&(t[2]>r[2]||!(r[2]>t[2])&&null))}var o,a=function(){var t=[4,4,14];function e(t){var e,r,n,i=t.length;for(e=0;e<i;e+=1)5===t[e].ty&&(void 0,n=(r=t[e]).t.d,r.t.d={k:[{s:n,t:0}]})}return function(r){if(i(t,r.v)&&(e(r.layers),r.assets)){var n,o=r.assets.length;for(n=0;n<o;n+=1)r.assets[n].layers&&e(r.assets[n].layers)}}}(),s=(o=[4,7,99],function(t){if(t.chars&&!i(o,t.v)){var e,r,a,s,l,h=t.chars.length;for(e=0;e<h;e+=1)if(t.chars[e].data&&t.chars[e].data.shapes)for(a=(l=t.chars[e].data.shapes[0].it).length,r=0;r<a;r+=1)(s=l[r].ks.k).__converted||(n(l[r].ks.k),s.__converted=!0)}}),l=function(){var t=[4,1,9];function e(t){var r,n,i,o=t.length;for(r=0;r<o;r+=1)if("gr"===t[r].ty)e(t[r].it);else if("fl"===t[r].ty||"st"===t[r].ty)if(t[r].c.k&&t[r].c.k[0].i)for(i=t[r].c.k.length,n=0;n<i;n+=1)t[r].c.k[n].s&&(t[r].c.k[n].s[0]/=255,t[r].c.k[n].s[1]/=255,t[r].c.k[n].s[2]/=255,t[r].c.k[n].s[3]/=255),t[r].c.k[n].e&&(t[r].c.k[n].e[0]/=255,t[r].c.k[n].e[1]/=255,t[r].c.k[n].e[2]/=255,t[r].c.k[n].e[3]/=255);else t[r].c.k[0]/=255,t[r].c.k[1]/=255,t[r].c.k[2]/=255,t[r].c.k[3]/=255}function r(t){var r,n=t.length;for(r=0;r<n;r+=1)4===t[r].ty&&e(t[r].shapes)}return function(e){if(i(t,e.v)&&(r(e.layers),e.assets)){var n,o=e.assets.length;for(n=0;n<o;n+=1)e.assets[n].layers&&r(e.assets[n].layers)}}}(),h=function(){var t=[4,4,18];function e(t){var r,n,i;for(r=t.length-1;r>=0;r-=1)if("sh"===t[r].ty)if(t[r].ks.k.i)t[r].ks.k.c=t[r].closed;else for(i=t[r].ks.k.length,n=0;n<i;n+=1)t[r].ks.k[n].s&&(t[r].ks.k[n].s[0].c=t[r].closed),t[r].ks.k[n].e&&(t[r].ks.k[n].e[0].c=t[r].closed);else"gr"===t[r].ty&&e(t[r].it)}function r(t){var r,n,i,o,a,s,l=t.length;for(n=0;n<l;n+=1){if((r=t[n]).hasMask){var h=r.masksProperties;for(o=h.length,i=0;i<o;i+=1)if(h[i].pt.k.i)h[i].pt.k.c=h[i].cl;else for(s=h[i].pt.k.length,a=0;a<s;a+=1)h[i].pt.k[a].s&&(h[i].pt.k[a].s[0].c=h[i].cl),h[i].pt.k[a].e&&(h[i].pt.k[a].e[0].c=h[i].cl)}4===r.ty&&e(r.shapes)}}return function(e){if(i(t,e.v)&&(r(e.layers),e.assets)){var n,o=e.assets.length;for(n=0;n<o;n+=1)e.assets[n].layers&&r(e.assets[n].layers)}}}();function u(t){0!==t.t.a.length||"m"in t.t.p||(t.singleShape=!0)}var c={completeData:function(e,r){e.__complete||(l(e),a(e),s(e),h(e),t(e.layers,e.assets,r),e.__complete=!0)}};return c.checkColors=l,c.checkChars=s,c.checkShapes=h,c.completeLayers=t,c}var dataManager=dataFunctionManager();function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],r="normal",n="normal",i=e.length,o=0;o<i;o+=1)switch(e[o].toLowerCase()){case"italic":n="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:n,weight:t.fWeight||r}}var FontManager=function(){var t={w:0,size:0,shapes:[]},e=[];function r(t,e){var r=createTag("span");r.setAttribute("aria-hidden",!0),r.style.fontFamily=e;var n=createTag("span");n.innerText="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(n),document.body.appendChild(r);var i=n.offsetWidth;return n.style.fontFamily=function(t){var e,r=t.split(","),n=r.length,i=[];for(e=0;e<n;e+=1)"sans-serif"!==r[e]&&"monospace"!==r[e]&&i.push(r[e]);return i.join(",")}(t)+", "+e,{node:n,w:i,parent:r}}function n(t,e){var r=createNS("text");r.style.fontSize="100px";var n=getFontProperties(e);return r.setAttribute("font-family",e.fFamily),r.setAttribute("font-style",n.style),r.setAttribute("font-weight",n.weight),r.textContent="1",e.fClass?(r.style.fontFamily="inherit",r.setAttribute("class",e.fClass)):r.style.fontFamily=e.fFamily,t.appendChild(r),createTag("canvas").getContext("2d").font=e.fWeight+" "+e.fStyle+" 100px "+e.fFamily,r}e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var i=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return i.getCombinedCharacterCodes=function(){return e},i.prototype={addChars:function(t){if(t){var e;this.chars||(this.chars=[]);var r,n,i=t.length,o=this.chars.length;for(e=0;e<i;e+=1){for(r=0,n=!1;r<o;)this.chars[r].style===t[e].style&&this.chars[r].fFamily===t[e].fFamily&&this.chars[r].ch===t[e].ch&&(n=!0),r+=1;n||(this.chars.push(t[e]),o+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);var i,o=t.list,a=o.length,s=a;for(i=0;i<a;i+=1){var l,h,u=!0;if(o[i].loaded=!1,o[i].monoCase=r(o[i].fFamily,"monospace"),o[i].sansCase=r(o[i].fFamily,"sans-serif"),o[i].fPath){if("p"===o[i].fOrigin||3===o[i].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+o[i].fFamily+'"], style[f-origin="3"][f-family="'+o[i].fFamily+'"]')).length>0&&(u=!1),u){var c=createTag("style");c.setAttribute("f-forigin",o[i].fOrigin),c.setAttribute("f-origin",o[i].origin),c.setAttribute("f-family",o[i].fFamily),c.type="text/css",c.innerText="@font-face {font-family: "+o[i].fFamily+"; font-style: normal; src: url('"+o[i].fPath+"');}",e.appendChild(c)}}else if("g"===o[i].fOrigin||1===o[i].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),h=0;h<l.length;h+=1)-1!==l[h].href.indexOf(o[i].fPath)&&(u=!1);if(u){var f=createTag("link");f.setAttribute("f-forigin",o[i].fOrigin),f.setAttribute("f-origin",o[i].origin),f.type="text/css",f.rel="stylesheet",f.href=o[i].fPath,document.body.appendChild(f)}}else if("t"===o[i].fOrigin||2===o[i].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),h=0;h<l.length;h+=1)o[i].fPath===l[h].src&&(u=!1);if(u){var p=createTag("link");p.setAttribute("f-forigin",o[i].fOrigin),p.setAttribute("f-origin",o[i].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",o[i].fPath),e.appendChild(p)}}}else o[i].loaded=!0,s-=1;o[i].helper=n(e,o[i]),o[i].cache={},this.fonts.push(o[i])}0===s?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(e,r,n){for(var i=0,o=this.chars.length;i<o;){if(this.chars[i].ch===e&&this.chars[i].style===r&&this.chars[i].fFamily===n)return this.chars[i];i+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&!this._warned&&(this._warned=!0),t},getFontByName:function(t){for(var e=0,r=this.fonts.length;e<r;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,r){var n=this.getFontByName(e),i=t.charCodeAt(0);if(!n.cache[i+1]){var o=n.helper;if(" "===t){o.textContent="|"+t+"|";var a=o.getComputedTextLength();o.textContent="||";var s=o.getComputedTextLength();n.cache[i+1]=(a-s)/100}else o.textContent=t,n.cache[i+1]=o.getComputedTextLength()/100}return n.cache[i+1]*r},checkLoadedFonts:function(){var t,e,r,n=this.fonts.length,i=n;for(t=0;t<n;t+=1)this.fonts[t].loaded?i-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,r=this.fonts[t].monoCase.w,e.offsetWidth!==r?(i-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,r=this.fonts[t].sansCase.w,e.offsetWidth!==r&&(i-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==i&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},i}(),PropertyFactory=function(){var t=initialDefaultFrame,e=Math.abs;function r(t,e){var r,i=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var o,a,s,l,h,u,c,f,p=e.lastIndex,d=p,m=this.keyframes.length-1,v=!0;v;){if(o=this.keyframes[d],a=this.keyframes[d+1],d===m-1&&t>=a.t-i){o.h&&(o=a),p=0;break}if(a.t-i>t){p=d;break}d<m-1?d+=1:(p=0,v=!1)}var y,g=a.t-i,_=o.t-i;if(o.to){o.bezierData||(o.bezierData=bez.buildBezierData(o.s,a.s||o.e,o.to,o.ti));var b=o.bezierData;if(t>=g||t<_){var x=t>=g?b.points.length-1:0;for(l=b.points[x].point.length,s=0;s<l;s+=1)r[s]=b.points[x].point[s]}else{o.__fnct?f=o.__fnct:(f=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y,o.n).get,o.__fnct=f),h=f((t-_)/(g-_));var w,T=b.segmentLength*h,S=e.lastFrame<t&&e._lastKeyframeIndex===d?e._lastAddedLength:0;for(c=e.lastFrame<t&&e._lastKeyframeIndex===d?e._lastPoint:0,v=!0,u=b.points.length;v;){if(S+=b.points[c].partialLength,0===T||0===h||c===b.points.length-1){for(l=b.points[c].point.length,s=0;s<l;s+=1)r[s]=b.points[c].point[s];break}if(T>=S&&T<S+b.points[c+1].partialLength){for(w=(T-S)/b.points[c+1].partialLength,l=b.points[c].point.length,s=0;s<l;s+=1)r[s]=b.points[c].point[s]+(b.points[c+1].point[s]-b.points[c].point[s])*w;break}c<u-1?c+=1:v=!1}e._lastPoint=c,e._lastAddedLength=S-b.points[c].partialLength,e._lastKeyframeIndex=d}}else{var E,M,C,A,P;if(m=o.s.length,y=a.s||o.e,this.sh&&1!==o.h)t>=g?(r[0]=y[0],r[1]=y[1],r[2]=y[2]):t<=_?(r[0]=o.s[0],r[1]=o.s[1],r[2]=o.s[2]):function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=Math.atan2(2*n*o-2*r*i,1-2*n*n-2*i*i),s=Math.asin(2*r*n+2*i*o),l=Math.atan2(2*r*o-2*n*i,1-2*r*r-2*i*i);t[0]=a/degToRads,t[1]=s/degToRads,t[2]=l/degToRads}(r,function(t,e,r){var n,i,o,a,s,l=[],h=t[0],u=t[1],c=t[2],f=t[3],p=e[0],d=e[1],m=e[2],v=e[3];return(i=h*p+u*d+c*m+f*v)<0&&(i=-i,p=-p,d=-d,m=-m,v=-v),1-i>1e-6?(n=Math.acos(i),o=Math.sin(n),a=Math.sin((1-r)*n)/o,s=Math.sin(r*n)/o):(a=1-r,s=r),l[0]=a*h+s*p,l[1]=a*u+s*d,l[2]=a*c+s*m,l[3]=a*f+s*v,l}(n(o.s),n(y),(t-_)/(g-_)));else for(d=0;d<m;d+=1)1!==o.h&&(t>=g?h=1:t<_?h=0:(o.o.x.constructor===Array?(o.__fnct||(o.__fnct=[]),o.__fnct[d]?f=o.__fnct[d]:(E=void 0===o.o.x[d]?o.o.x[0]:o.o.x[d],M=void 0===o.o.y[d]?o.o.y[0]:o.o.y[d],C=void 0===o.i.x[d]?o.i.x[0]:o.i.x[d],A=void 0===o.i.y[d]?o.i.y[0]:o.i.y[d],f=BezierFactory.getBezierEasing(E,M,C,A).get,o.__fnct[d]=f)):o.__fnct?f=o.__fnct:(E=o.o.x,M=o.o.y,C=o.i.x,A=o.i.y,f=BezierFactory.getBezierEasing(E,M,C,A).get,o.__fnct=f),h=f((t-_)/(g-_)))),y=a.s||o.e,P=1===o.h?o.s[d]:o.s[d]+(y[d]-o.s[d])*h,"multidimensional"===this.propType?r[d]=P:r=P}return e.lastIndex=p,r}function n(t){var e=t[0]*degToRads,r=t[1]*degToRads,n=t[2]*degToRads,i=Math.cos(e/2),o=Math.cos(r/2),a=Math.cos(n/2),s=Math.sin(e/2),l=Math.sin(r/2),h=Math.sin(n/2);return[s*l*a+i*o*h,s*o*a+i*l*h,i*l*a-s*o*h,i*o*a-s*l*h]}function i(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=n&&e>=n||this._caching.lastFrame<r&&e<r))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var i=this.interpolateValue(e,this._caching);this.pv=i}return this._caching.lastFrame=e,this.pv}function o(t){var r;if("unidimensional"===this.propType)r=t*this.mult,e(this.v-r)>1e-5&&(this.v=r,this._mdf=!0);else for(var n=0,i=this.v.length;n<i;)r=t[n]*this.mult,e(this.v[n]-r)>1e-5&&(this.v[n]=r,this._mdf=!0),n+=1}function a(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)r=this.effectsSequence[t](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function s(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function l(t,e,r,n){this.propType="unidimensional",this.mult=r||1,this.data=e,this.v=r?e.k*r:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=a,this.setVValue=o,this.addEffect=s}function h(t,e,r,n){var i;this.propType="multidimensional",this.mult=r||1,this.data=e,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var l=e.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),this.vel=createTypedArray("float32",l),i=0;i<l;i+=1)this.v[i]=e.k[i]*this.mult,this.pv[i]=e.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=a,this.setVValue=o,this.addEffect=s}function u(e,n,l,h){this.propType="unidimensional",this.keyframes=n.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=n,this.mult=l||1,this.elem=e,this.container=h,this.comp=e.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=a,this.setVValue=o,this.interpolateValue=r,this.effectsSequence=[i.bind(this)],this.addEffect=s}function c(e,n,l,h){var u;this.propType="multidimensional";var c,f,p,d,m=n.k.length;for(u=0;u<m-1;u+=1)n.k[u].to&&n.k[u].s&&n.k[u+1]&&n.k[u+1].s&&(c=n.k[u].s,f=n.k[u+1].s,p=n.k[u].to,d=n.k[u].ti,(2===c.length&&(c[0]!==f[0]||c[1]!==f[1])&&bez.pointOnLine2D(c[0],c[1],f[0],f[1],c[0]+p[0],c[1]+p[1])&&bez.pointOnLine2D(c[0],c[1],f[0],f[1],f[0]+d[0],f[1]+d[1])||3===c.length&&(c[0]!==f[0]||c[1]!==f[1]||c[2]!==f[2])&&bez.pointOnLine3D(c[0],c[1],c[2],f[0],f[1],f[2],c[0]+p[0],c[1]+p[1],c[2]+p[2])&&bez.pointOnLine3D(c[0],c[1],c[2],f[0],f[1],f[2],f[0]+d[0],f[1]+d[1],f[2]+d[2]))&&(n.k[u].to=null,n.k[u].ti=null),c[0]===f[0]&&c[1]===f[1]&&0===p[0]&&0===p[1]&&0===d[0]&&0===d[1]&&(2===c.length||c[2]===f[2]&&0===p[2]&&0===d[2])&&(n.k[u].to=null,n.k[u].ti=null));this.effectsSequence=[i.bind(this)],this.data=n,this.keyframes=n.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=l||1,this.elem=e,this.container=h,this.comp=e.comp,this.getValue=a,this.setVValue=o,this.interpolateValue=r,this.frameId=-1;var v=n.k[0].s.length;for(this.v=createTypedArray("float32",v),this.pv=createTypedArray("float32",v),u=0;u<v;u+=1)this.v[u]=t,this.pv[u]=t;this._caching={lastFrame:t,lastIndex:0,value:createTypedArray("float32",v)},this.addEffect=s}return{getProp:function(t,e,r,n,i){var o;if(e.k.length)if("number"==typeof e.k[0])o=new h(t,e,n,i);else switch(r){case 0:o=new u(t,e,n,i);break;case 1:o=new c(t,e,n,i)}else o=new l(t,e,n,i);return o.effectsSequence.length&&i.addDynamicProperty(o),o}}}(),TransformPropertyFactory=function(){var t=[0,0];function e(t,e,r){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var n,i=e.or.k.length;for(n=0;n<i;n+=1)e.or.k[n].to=null,e.or.k[n].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){var r;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,i;if(r=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),i=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),i=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(n=this.p.pv,i=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],i=[];var o=this.px,a=this.py;o._caching.lastFrame+o.offsetTime<=o.keyframes[0].t?(n[0]=o.getValueAtTime((o.keyframes[0].t+.01)/r,0),n[1]=a.getValueAtTime((a.keyframes[0].t+.01)/r,0),i[0]=o.getValueAtTime(o.keyframes[0].t/r,0),i[1]=a.getValueAtTime(a.keyframes[0].t/r,0)):o._caching.lastFrame+o.offsetTime>=o.keyframes[o.keyframes.length-1].t?(n[0]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/r,0),n[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/r,0),i[0]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/r,0),i[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/r,0)):(n=[o.pv,a.pv],i[0]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/r,o.offsetTime),i[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/r,a.offsetTime))}else n=i=t;this.v.rotate(-Math.atan2(n[1]-i[1],n[0]-i[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,r,n){return new e(t,r,n)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;r<e;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,r,n,i){var o;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o;break;default:o=[]}(!o[n]||o[n]&&!i)&&(o[n]=pointPool.newElement()),o[n][0]=t,o[n][1]=e},ShapePath.prototype.setTripleAt=function(t,e,r,n,i,o,a,s){this.setXYAt(t,e,"v",a,s),this.setXYAt(r,n,"o",a,s),this.setXYAt(i,o,"i",a,s)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,r=this.o,n=this.i,i=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],n[0][0],n[0][1],r[0][0],r[0][1],0,!1),i=1);var o,a=this._length-1,s=this._length;for(o=i;o<s;o+=1)t.setTripleAt(e[a][0],e[a][1],n[a][0],n[a][1],r[a][0],r[a][1],o,!1),a-=1;return t};var ShapePropertyFactory=function(){function t(t,e,r){var n,i,o,a,s,l,h,u,c,f=r.lastIndex,p=this.keyframes;if(t<p[0].t-this.offsetTime)n=p[0].s[0],o=!0,f=0;else if(t>=p[p.length-1].t-this.offsetTime)n=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],o=!0;else{for(var d,m,v=f,y=p.length-1,g=!0;g&&(d=p[v],!((m=p[v+1]).t-this.offsetTime>t));)v<y-1?v+=1:g=!1;if(f=v,!(o=1===d.h)){if(t>=m.t-this.offsetTime)u=1;else if(t<d.t-this.offsetTime)u=0;else{var _;d.__fnct?_=d.__fnct:(_=BezierFactory.getBezierEasing(d.o.x,d.o.y,d.i.x,d.i.y).get,d.__fnct=_),u=_((t-(d.t-this.offsetTime))/(m.t-this.offsetTime-(d.t-this.offsetTime)))}i=m.s?m.s[0]:d.e[0]}n=d.s[0]}for(l=e._length,h=n.i[0].length,r.lastIndex=f,a=0;a<l;a+=1)for(s=0;s<h;s+=1)c=o?n.i[a][s]:n.i[a][s]+(i.i[a][s]-n.i[a][s])*u,e.i[a][s]=c,c=o?n.o[a][s]:n.o[a][s]+(i.o[a][s]-n.o[a][s])*u,e.o[a][s]=c,c=o?n.v[a][s]:n.v[a][s]+(i.v[a][s]-n.v[a][s])*u,e.v[a][s]=c}function e(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return-999999!==n&&(n<e&&t<e||n>r&&t>r)||(this._caching.lastIndex=n<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function r(){this.paths=this.localShapeCollection}function n(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var r,n=t._length;for(r=0;r<n;r+=1)if(t.v[r][0]!==e.v[r][0]||t.v[r][1]!==e.v[r][1]||t.o[r][0]!==e.o[r][0]||t.o[r][1]!==e.o[r][1]||t.i[r][0]!==e.i[r][0]||t.i[r][1]!==e.i[r][1])return!1;return!0})(this.v,t)||(this.v=shapePool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t,e;this.lock=!0,this._mdf=!1,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var r=this.effectsSequence.length;for(e=0;e<r;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(t,e,n){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var i=3===n?e.pt.k:e.ks.k;this.v=shapePool.clone(i),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function a(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function s(t,n,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===i?n.pt.k:n.ks.k,this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=r,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[e.bind(this)]}o.prototype.interpolateShape=t,o.prototype.getValue=i,o.prototype.setVValue=n,o.prototype.addEffect=a,s.prototype.getValue=i,s.prototype.interpolateShape=t,s.prototype.setVValue=n,s.prototype.addEffect=a;var l=function(){var t=roundCorner;function e(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],r=this.p.v[1],n=this.s.v[0]/2,i=this.s.v[1]/2,o=3!==this.d,a=this.v;a.v[0][0]=e,a.v[0][1]=r-i,a.v[1][0]=o?e+n:e-n,a.v[1][1]=r,a.v[2][0]=e,a.v[2][1]=r+i,a.v[3][0]=o?e-n:e+n,a.v[3][1]=r,a.i[0][0]=o?e-n*t:e+n*t,a.i[0][1]=r-i,a.i[1][0]=o?e+n:e-n,a.i[1][1]=r-i*t,a.i[2][0]=o?e+n*t:e-n*t,a.i[2][1]=r+i,a.i[3][0]=o?e-n:e+n,a.i[3][1]=r+i*t,a.o[0][0]=o?e+n*t:e-n*t,a.o[0][1]=r-i,a.o[1][0]=o?e+n:e-n,a.o[1][1]=r+i*t,a.o[2][0]=o?e-n*t:e+n*t,a.o[2][1]=r+i,a.o[3][0]=o?e-n:e+n,a.o[3][1]=r-i*t}},extendPrototype([DynamicPropertyContainer],e),e}(),h=function(){function t(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,r,n,i=2*Math.floor(this.pt.v),o=2*Math.PI/i,a=!0,s=this.or.v,l=this.ir.v,h=this.os.v,u=this.is.v,c=2*Math.PI*s/(2*i),f=2*Math.PI*l/(2*i),p=-Math.PI/2;p+=this.r.v;var d=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<i;t+=1){r=a?h:u,n=a?c:f;var m=(e=a?s:l)*Math.cos(p),v=e*Math.sin(p),y=0===m&&0===v?0:v/Math.sqrt(m*m+v*v),g=0===m&&0===v?0:-m/Math.sqrt(m*m+v*v);m+=+this.p.v[0],v+=+this.p.v[1],this.v.setTripleAt(m,v,m-y*n*r*d,v-g*n*r*d,m+y*n*r*d,v+g*n*r*d,t,!0),a=!a,p+=o*d}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),r=2*Math.PI/e,n=this.or.v,i=this.os.v,o=2*Math.PI*n/(4*e),a=.5*-Math.PI,s=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var l=n*Math.cos(a),h=n*Math.sin(a),u=0===l&&0===h?0:h/Math.sqrt(l*l+h*h),c=0===l&&0===h?0:-l/Math.sqrt(l*l+h*h);l+=+this.p.v[0],h+=+this.p.v[1],this.v.setTripleAt(l,h,l-u*o*i*s,h-c*o*i*s,l+u*o*i*s,h+c*o*i*s,t,!0),a+=r*s}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),u=function(){function t(t,e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],r=this.s.v[0]/2,n=this.s.v[1]/2,i=bmMin(r,n,this.r.v),o=i*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+r,e-n+i,t+r,e-n+i,t+r,e-n+o,0,!0),this.v.setTripleAt(t+r,e+n-i,t+r,e+n-o,t+r,e+n-i,1,!0),0!==i?(this.v.setTripleAt(t+r-i,e+n,t+r-i,e+n,t+r-o,e+n,2,!0),this.v.setTripleAt(t-r+i,e+n,t-r+o,e+n,t-r+i,e+n,3,!0),this.v.setTripleAt(t-r,e+n-i,t-r,e+n-i,t-r,e+n-o,4,!0),this.v.setTripleAt(t-r,e-n+i,t-r,e-n+o,t-r,e-n+i,5,!0),this.v.setTripleAt(t-r+i,e-n,t-r+i,e-n,t-r+o,e-n,6,!0),this.v.setTripleAt(t+r-i,e-n,t+r-o,e-n,t+r-i,e-n,7,!0)):(this.v.setTripleAt(t-r,e+n,t-r+o,e+n,t-r,e+n,2),this.v.setTripleAt(t-r,e-n,t-r,e-n+o,t-r,e-n,3))):(this.v.setTripleAt(t+r,e-n+i,t+r,e-n+o,t+r,e-n+i,0,!0),0!==i?(this.v.setTripleAt(t+r-i,e-n,t+r-i,e-n,t+r-o,e-n,1,!0),this.v.setTripleAt(t-r+i,e-n,t-r+o,e-n,t-r+i,e-n,2,!0),this.v.setTripleAt(t-r,e-n+i,t-r,e-n+i,t-r,e-n+o,3,!0),this.v.setTripleAt(t-r,e+n-i,t-r,e+n-o,t-r,e+n-i,4,!0),this.v.setTripleAt(t-r+i,e+n,t-r+i,e+n,t-r+o,e+n,5,!0),this.v.setTripleAt(t+r-i,e+n,t+r-o,e+n,t+r-i,e+n,6,!0),this.v.setTripleAt(t+r,e+n-i,t+r,e+n-i,t+r,e+n-o,7,!0)):(this.v.setTripleAt(t-r,e-n,t-r+o,e-n,t-r,e-n,1,!0),this.v.setTripleAt(t-r,e+n,t-r,e+n-o,t-r,e+n,2,!0),this.v.setTripleAt(t+r,e+n,t+r-o,e+n,t+r,e+n,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},extendPrototype([DynamicPropertyContainer],t),t}();return{getShapeProp:function(t,e,r){var n;return 3===r||4===r?n=(3===r?e.pt:e.ks).k.length?new s(t,e,r):new o(t,e,r):5===r?n=new u(t,e):6===r?n=new l(t,e):7===r&&(n=new h(t,e)),n.k&&t.addDynamicProperty(n),n},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return s}}}(),ShapeModifiers=(ob={},modifiers={},ob.registerModifier=function(t,e){modifiers[t]||(modifiers[t]=e)},ob.getModifier=function(t,e,r){return new modifiers[t](e,r)},ob),ob,modifiers;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,r,n){var i;this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var o,a=e.length||0;for(i=0;i<a;i+=1)o=PropertyFactory.getProp(t,e[i].v,0,0,this),this.k=o.k||this.k,this.dataProps[i]={n:e[i].n,p:o};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e,r){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var n=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,r,n,i){var o=[];e<=1?o.push({s:t,e:e}):t>=1?o.push({s:t-1,e:e-1}):(o.push({s:t,e:1}),o.push({s:0,e:e-1}));var a,s,l=[],h=o.length;for(a=0;a<h;a+=1){var u,c;(s=o[a]).e*i<n||s.s*i>n+r||(u=s.s*i<=n?0:(s.s*i-n)/r,c=s.e*i>=n+r?1:(s.e*i-n)/r,l.push([u,c]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(t){var e,r=t.length;for(e=0;e<r;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,r,n,i;if(this._mdf||t){var o=this.o.v%360/360;if(o<0&&(o+=1),(e=this.s.v>1?1+o:this.s.v<0?0+o:this.s.v+o)>(r=this.e.v>1?1+o:this.e.v<0?0+o:this.e.v+o)){var a=e;e=r,r=a}e=1e-4*Math.round(1e4*e),r=1e-4*Math.round(1e4*r),this.sValue=e,this.eValue=r}else e=this.sValue,r=this.eValue;var s,l,h,u,c,f=this.shapes.length,p=0;if(r===e)for(i=0;i<f;i+=1)this.shapes[i].localShapeCollection.releaseShapes(),this.shapes[i].shape._mdf=!0,this.shapes[i].shape.paths=this.shapes[i].localShapeCollection,this._mdf&&(this.shapes[i].pathsData.length=0);else if(1===r&&0===e||0===r&&1===e){if(this._mdf)for(i=0;i<f;i+=1)this.shapes[i].pathsData.length=0,this.shapes[i].shape._mdf=!0}else{var d,m,v=[];for(i=0;i<f;i+=1)if((d=this.shapes[i]).shape._mdf||this._mdf||t||2===this.m){if(l=(n=d.shape.paths)._length,c=0,!d.shape._mdf&&d.pathsData.length)c=d.totalShapeLength;else{for(h=this.releasePathsData(d.pathsData),s=0;s<l;s+=1)u=bez.getSegmentsLength(n.shapes[s]),h.push(u),c+=u.totalLength;d.totalShapeLength=c,d.pathsData=h}p+=c,d.shape._mdf=!0}else d.shape.paths=d.localShapeCollection;var y,g=e,_=r,b=0;for(i=f-1;i>=0;i-=1)if((d=this.shapes[i]).shape._mdf){for((m=d.localShapeCollection).releaseShapes(),2===this.m&&f>1?(y=this.calculateShapeEdges(e,r,d.totalShapeLength,b,p),b+=d.totalShapeLength):y=[[g,_]],l=y.length,s=0;s<l;s+=1){g=y[s][0],_=y[s][1],v.length=0,_<=1?v.push({s:d.totalShapeLength*g,e:d.totalShapeLength*_}):g>=1?v.push({s:d.totalShapeLength*(g-1),e:d.totalShapeLength*(_-1)}):(v.push({s:d.totalShapeLength*g,e:d.totalShapeLength}),v.push({s:0,e:d.totalShapeLength*(_-1)}));var x=this.addShapes(d,v[0]);if(v[0].s!==v[0].e){if(v.length>1)if(d.shape.paths.shapes[d.shape.paths._length-1].c){var w=x.pop();this.addPaths(x,m),x=this.addShapes(d,v[1],w)}else this.addPaths(x,m),x=this.addShapes(d,v[1]);this.addPaths(x,m)}}d.shape.paths=m}}},TrimModifier.prototype.addPaths=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,r,n,i,o,a){i.setXYAt(e[0],e[1],"o",o),i.setXYAt(r[0],r[1],"i",o+1),a&&i.setXYAt(t[0],t[1],"v",o),i.setXYAt(n[0],n[1],"v",o+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,r,n){e.setXYAt(t[1],t[5],"o",r),e.setXYAt(t[2],t[6],"i",r+1),n&&e.setXYAt(t[0],t[4],"v",r),e.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,e,r){var n,i,o,a,s,l,h,u,c=t.pathsData,f=t.shape.paths.shapes,p=t.shape.paths._length,d=0,m=[],v=!0;for(r?(s=r._length,u=r._length):(r=shapePool.newElement(),s=0,u=0),m.push(r),n=0;n<p;n+=1){for(l=c[n].lengths,r.c=f[n].c,o=f[n].c?l.length:l.length+1,i=1;i<o;i+=1)if(d+(a=l[i-1]).addedLength<e.s)d+=a.addedLength,r.c=!1;else{if(d>e.e){r.c=!1;break}e.s<=d&&e.e>=d+a.addedLength?(this.addSegment(f[n].v[i-1],f[n].o[i-1],f[n].i[i],f[n].v[i],r,s,v),v=!1):(h=bez.getNewSegment(f[n].v[i-1],f[n].v[i],f[n].o[i-1],f[n].i[i],(e.s-d)/a.addedLength,(e.e-d)/a.addedLength,l[i-1]),this.addSegmentFromArray(h,r,s,v),v=!1,r.c=!1),d+=a.addedLength,s+=1}if(f[n].c&&l.length){if(a=l[i-1],d<=e.e){var y=l[i-1].addedLength;e.s<=d&&e.e>=d+y?(this.addSegment(f[n].v[i-1],f[n].o[i-1],f[n].i[0],f[n].v[0],r,s,v),v=!1):(h=bez.getNewSegment(f[n].v[i-1],f[n].v[0],f[n].o[i-1],f[n].i[0],(e.s-d)/y,(e.e-d)/y,l[i-1]),this.addSegmentFromArray(h,r,s,v),v=!1,r.c=!1)}else r.c=!1;d+=a.addedLength,s+=1}if(r._length&&(r.setXYAt(r.v[u][0],r.v[u][1],"i",u),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),d>e.e)break;n<p-1&&(r=shapePool.newElement(),v=!0,m.push(r),s=0)}return m},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var r,n=shapePool.newElement();n.c=t.c;var i,o,a,s,l,h,u,c,f,p,d,m,v=t._length,y=0;for(r=0;r<v;r+=1)i=t.v[r],a=t.o[r],o=t.i[r],i[0]===a[0]&&i[1]===a[1]&&i[0]===o[0]&&i[1]===o[1]?0!==r&&r!==v-1||t.c?(s=0===r?t.v[v-1]:t.v[r-1],h=(l=Math.sqrt(Math.pow(i[0]-s[0],2)+Math.pow(i[1]-s[1],2)))?Math.min(l/2,e)/l:0,u=d=i[0]+(s[0]-i[0])*h,c=m=i[1]-(i[1]-s[1])*h,f=u-(u-i[0])*roundCorner,p=c-(c-i[1])*roundCorner,n.setTripleAt(u,c,f,p,d,m,y),y+=1,s=r===v-1?t.v[0]:t.v[r+1],h=(l=Math.sqrt(Math.pow(i[0]-s[0],2)+Math.pow(i[1]-s[1],2)))?Math.min(l/2,e)/l:0,u=f=i[0]+(s[0]-i[0])*h,c=p=i[1]+(s[1]-i[1])*h,d=u-(u-i[0])*roundCorner,m=c-(c-i[1])*roundCorner,n.setTripleAt(u,c,f,p,d,m,y),y+=1):(n.setTripleAt(i[0],i[1],a[0],a[1],o[0],o[1],y),y+=1):(n.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],y),y+=1);return n},RoundCornersModifier.prototype.processShapes=function(t){var e,r,n,i,o,a,s=this.shapes.length,l=this.rd.v;if(0!==l)for(r=0;r<s;r+=1){if(a=(o=this.shapes[r]).localShapeCollection,o.shape._mdf||this._mdf||t)for(a.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,i=o.shape.paths._length,n=0;n<i;n+=1)a.addShape(this.processPath(e[n],l));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var r=e/100,n=[0,0],i=t._length,o=0;for(o=0;o<i;o+=1)n[0]+=t.v[o][0],n[1]+=t.v[o][1];n[0]/=i,n[1]/=i;var a,s,l,h,u,c,f=shapePool.newElement();for(f.c=t.c,o=0;o<i;o+=1)a=t.v[o][0]+(n[0]-t.v[o][0])*r,s=t.v[o][1]+(n[1]-t.v[o][1])*r,l=t.o[o][0]+(n[0]-t.o[o][0])*-r,h=t.o[o][1]+(n[1]-t.o[o][1])*-r,u=t.i[o][0]+(n[0]-t.i[o][0])*-r,c=t.i[o][1]+(n[1]-t.i[o][1])*-r,f.setTripleAt(a,s,l,h,u,c,o);return f},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,r,n,i,o,a,s=this.shapes.length,l=this.amount.v;if(0!==l)for(r=0;r<s;r+=1){if(a=(o=this.shapes[r]).localShapeCollection,o.shape._mdf||this._mdf||t)for(a.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,i=o.shape.paths._length,n=0;n<i;n+=1)a.addShape(this.processPath(e[n],l));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,r,n,i,o){var a=o?-1:1,s=n.s.v[0]+(1-n.s.v[0])*(1-i),l=n.s.v[1]+(1-n.s.v[1])*(1-i);t.translate(n.p.v[0]*a*i,n.p.v[1]*a*i,n.p.v[2]),e.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),e.rotate(-n.r.v*a*i),e.translate(n.a.v[0],n.a.v[1],n.a.v[2]),r.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),r.scale(o?1/s:s,o?1/l:l),r.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(t,e,r,n){for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r-=1,this._elements.unshift(e[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)t[r]._render=e,"gr"===t[r].ty&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,r,n,i,o,a=!1;if(this._mdf||t){var s,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var h={it:this.cloneElements(this._elements),ty:"gr"};h.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,h),this._groups.splice(0,0,h),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}for(o=0,n=0;n<=this._groups.length-1;n+=1){if(s=o<l,this._groups[n]._render=s,this.changeGroupRender(this._groups[n].it,s),!s){var u=this.elemsData[n].it,c=u[u.length-1];0!==c.transform.op.v?(c.transform.op._mdf=!0,c.transform.op.v=0):c.transform.op._mdf=!1}o+=1}this._currentCopies=l;var f=this.o.v,p=f%1,d=f>0?Math.floor(f):Math.ceil(f),m=this.pMatrix.props,v=this.rMatrix.props,y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var g,_,b=0;if(f>0){for(;b<d;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),b+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),b+=p)}else if(f<0){for(;b>d;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),b-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),b-=p)}for(n=1===this.data.m?0:this._currentCopies-1,i=1===this.data.m?1:-1,o=this._currentCopies;o;){if(_=(r=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==b){for((0!==n&&1===i||n!==this._currentCopies-1&&-1===i)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),g=0;g<_;g+=1)r[g]=this.matrix.props[g];this.matrix.reset()}else for(this.matrix.reset(),g=0;g<_;g+=1)r[g]=this.matrix.props[g];b+=1,o-=1,n+=i}}else for(o=this._currentCopies,n=0,i=1;o;)r=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,o-=1,n+=i;return a},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<r;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var r=0,n=this.o.length/2;r<n;){if(Math.abs(t[4*r]-t[4*e+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,r,n,i=4*this.data.p;for(e=0;e<i;e+=1)r=e%4==0?100:255,n=Math.round(this.prop.v[e]*r),this.c[e]!==n&&(this.c[e]=n,this._cmdf=!t);if(this.o.length)for(i=this.prop.v.length,e=4*this.data.p;e<i;e+=1)r=e%2==0?100:1,n=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==n&&(this.o[e-4*this.data.p]=n,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,r,n){if(0===e)return"";var i,o=t.o,a=t.i,s=t.v,l=" M"+n.applyToPointStringified(s[0][0],s[0][1]);for(i=1;i<e;i+=1)l+=" C"+n.applyToPointStringified(o[i-1][0],o[i-1][1])+" "+n.applyToPointStringified(a[i][0],a[i][1])+" "+n.applyToPointStringified(s[i][0],s[i][1]);return r&&e&&(l+=" C"+n.applyToPointStringified(o[i-1][0],o[i-1][1])+" "+n.applyToPointStringified(a[0][0],a[0][1])+" "+n.applyToPointStringified(s[0][0],s[0][1]),l+="z"),l},audioControllerFactory=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,r=this.audios.length;for(e=0;e<r;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):Howl?new Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(t,e,r){var n="";if(t.e)n=t.p;else if(e){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),n=e+i}else n=r,n+=t.u?t.u:"",n+=t.p;return n}function i(t){var e=0,r=setInterval(function(){(t.getBBox().width||e>500)&&(this._imageLoaded(),clearInterval(r)),e+=1}.bind(this),50)}function o(t){var e={assetData:t},r=n(t,this.assetsPath,this.path);return assetLoader.load(r,function(t){e.img=t,this._footageLoaded()}.bind(this),function(){e.img={},this._footageLoaded()}.bind(this)),e}function a(){this._imageLoaded=e.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=i.bind(this),this.createFootageData=o.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return a.prototype={loadAssets:function(t,e){var r;this.imagesLoadedCb=e;var n=t.length;for(r=0;r<n;r+=1)t[r].layers||(t[r].t?3===t[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[r]))):(this.totalImages+=1,this.images.push(this._createImageData(t[r]))))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(t){for(var e=0,r=this.images.length;e<r;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null},createImgData:function(e){var r=n(e,this.assetsPath,this.path),i=createTag("img");i.crossOrigin="anonymous",i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){o.img=t,this._imageLoaded()}.bind(this),!1),i.src=r;var o={img:i,assetData:e};return o},createImageData:function(e){var r=n(e,this.assetsPath,this.path),i=createNS("image");isSafari?this.testImageLoaded(i):i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){o.img=t,this._imageLoaded()}.bind(this),!1),i.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this._elementHelper.append?this._elementHelper.append(i):this._elementHelper.appendChild(i);var o={img:i,assetData:e};return o},imageLoaded:e,footageLoaded:r,setCacheType:function(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},a}(),featureSupport=(t={maskType:!0},(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t),filtersFactory=function(){var t={createFilter:function(t,e){var r=createNS("filter");return r.setAttribute("id",t),!0!==e&&(r.setAttribute("filterUnits","objectBoundingBox"),r.setAttribute("x","0%"),r.setAttribute("y","0%"),r.setAttribute("width","100%"),r.setAttribute("height","100%")),r},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return t}(),assetLoader=function(){function t(t){return t.response&&"object"==typeof t.response?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}return{load:function(e,r,n){var i,o=new XMLHttpRequest;try{o.responseType="json"}catch(t){}o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)i=t(o),r(i);else try{i=t(o),r(i)}catch(t){n&&n(t)}},o.open("GET",e,!0),o.send()}}}(),t;function TextAnimatorProperty(t,e,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function TextAnimatorDataProperty(t,e,r){var n={propType:!1},i=PropertyFactory.getProp,o=e.a;this.a={r:o.r?i(t,o.r,0,degToRads,r):n,rx:o.rx?i(t,o.rx,0,degToRads,r):n,ry:o.ry?i(t,o.ry,0,degToRads,r):n,sk:o.sk?i(t,o.sk,0,degToRads,r):n,sa:o.sa?i(t,o.sa,0,degToRads,r):n,s:o.s?i(t,o.s,1,.01,r):n,a:o.a?i(t,o.a,1,0,r):n,o:o.o?i(t,o.o,0,.01,r):n,p:o.p?i(t,o.p,1,0,r):n,sw:o.sw?i(t,o.sw,0,0,r):n,sc:o.sc?i(t,o.sc,1,0,r):n,fc:o.fc?i(t,o.fc,1,0,r):n,fh:o.fh?i(t,o.fh,0,0,r):n,fs:o.fs?i(t,o.fs,0,.01,r):n,fb:o.fb?i(t,o.fb,0,.01,r):n,t:o.t?i(t,o.t,0,0,r):n},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,r),this.s.t=e.s.t}function LetterProps(t,e,r,n,i,o){this.o=t,this.sw=e,this.sc=r,this.fc=n,this.m=i,this.p=o,this._mdf={o:!0,sw:!!e,sc:!!r,fc:!!n,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,r=this._textData.a.length,n=PropertyFactory.getProp;for(t=0;t<r;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,n,i,o,a,s,l,h,u,c,f,p,d,m,v,y,g,_,b,x=this._moreOptions.alignment.v,w=this._animatorsData,T=this._textData,S=this.mHelper,E=this._renderType,M=this.renderedLetters.length,C=t.l;if(this._hasMaskedPath){if(b=this._pathData.m,!this._pathData.n||this._pathData._mdf){var A,P=b.v;for(this._pathData.r&&(P=P.reverse()),a={tLength:0,segments:[]},o=P._length-1,y=0,i=0;i<o;i+=1)A=bez.buildBezierData(P.v[i],P.v[i+1],[P.o[i][0]-P.v[i][0],P.o[i][1]-P.v[i][1]],[P.i[i+1][0]-P.v[i+1][0],P.i[i+1][1]-P.v[i+1][1]]),a.tLength+=A.segmentLength,a.segments.push(A),y+=A.segmentLength;i=o,b.v.c&&(A=bez.buildBezierData(P.v[i],P.v[0],[P.o[i][0]-P.v[i][0],P.o[i][1]-P.v[i][1]],[P.i[0][0]-P.v[0][0],P.i[0][1]-P.v[0][1]]),a.tLength+=A.segmentLength,a.segments.push(A),y+=A.segmentLength),this._pathData.pi=a}if(a=this._pathData.pi,s=this._pathData.f.v,f=0,c=1,h=0,u=!0,m=a.segments,s<0&&b.v.c)for(a.tLength<Math.abs(s)&&(s=-Math.abs(s)%a.tLength),c=(d=m[f=m.length-1].points).length-1;s<0;)s+=d[c].partialLength,(c-=1)<0&&(c=(d=m[f-=1].points).length-1);p=(d=m[f].points)[c-1],v=(l=d[c]).partialLength}o=C.length,r=0,n=0;var k,O,D,I,R,F=1.2*t.finalSize*.714,L=!0;D=w.length;var N,B,z,j,V,U,W,H,G,Y,X,q,K=-1,Z=s,J=f,$=c,Q=-1,tt="",et=this.defaultPropsArray;if(2===t.j||1===t.j){var rt=0,nt=0,it=2===t.j?-.5:-1,ot=0,at=!0;for(i=0;i<o;i+=1)if(C[i].n){for(rt&&(rt+=nt);ot<i;)C[ot].animatorJustifyOffset=rt,ot+=1;rt=0,at=!0}else{for(O=0;O<D;O+=1)(k=w[O].a).t.propType&&(at&&2===t.j&&(nt+=k.t.v*it),(R=w[O].s.getMult(C[i].anIndexes[O],T.a[O].s.totalChars)).length?rt+=k.t.v*R[0]*it:rt+=k.t.v*R*it);at=!1}for(rt&&(rt+=nt);ot<i;)C[ot].animatorJustifyOffset=rt,ot+=1}for(i=0;i<o;i+=1){if(S.reset(),j=1,C[i].n)r=0,n+=t.yOffset,n+=L?1:0,s=Z,L=!1,this._hasMaskedPath&&(c=$,p=(d=m[f=J].points)[c-1],v=(l=d[c]).partialLength,h=0),tt="",X="",G="",q="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==C[i].line){switch(t.j){case 1:s+=y-t.lineWidths[C[i].line];break;case 2:s+=(y-t.lineWidths[C[i].line])/2}Q=C[i].line}K!==C[i].ind&&(C[K]&&(s+=C[K].extra),s+=C[i].an/2,K=C[i].ind),s+=x[0]*C[i].an*.005;var st=0;for(O=0;O<D;O+=1)(k=w[O].a).p.propType&&((R=w[O].s.getMult(C[i].anIndexes[O],T.a[O].s.totalChars)).length?st+=k.p.v[0]*R[0]:st+=k.p.v[0]*R),k.a.propType&&((R=w[O].s.getMult(C[i].anIndexes[O],T.a[O].s.totalChars)).length?st+=k.a.v[0]*R[0]:st+=k.a.v[0]*R);for(u=!0;u;)h+v>=s+st||!d?(g=(s+st-h)/l.partialLength,B=p.point[0]+(l.point[0]-p.point[0])*g,z=p.point[1]+(l.point[1]-p.point[1])*g,S.translate(-x[0]*C[i].an*.005,-x[1]*F*.01),u=!1):d&&(h+=l.partialLength,(c+=1)>=d.length&&(c=0,m[f+=1]?d=m[f].points:b.v.c?(c=0,d=m[f=0].points):(h-=l.partialLength,d=null)),d&&(p=l,v=(l=d[c]).partialLength));N=C[i].an/2-C[i].add,S.translate(-N,0,0)}else N=C[i].an/2-C[i].add,S.translate(-N,0,0),S.translate(-x[0]*C[i].an*.005,-x[1]*F*.01,0);for(O=0;O<D;O+=1)(k=w[O].a).t.propType&&(R=w[O].s.getMult(C[i].anIndexes[O],T.a[O].s.totalChars),0===r&&0===t.j||(this._hasMaskedPath?R.length?s+=k.t.v*R[0]:s+=k.t.v*R:R.length?r+=k.t.v*R[0]:r+=k.t.v*R));for(t.strokeWidthAnim&&(U=t.sw||0),t.strokeColorAnim&&(V=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(W=[t.fc[0],t.fc[1],t.fc[2]]),O=0;O<D;O+=1)(k=w[O].a).a.propType&&((R=w[O].s.getMult(C[i].anIndexes[O],T.a[O].s.totalChars)).length?S.translate(-k.a.v[0]*R[0],-k.a.v[1]*R[1],k.a.v[2]*R[2]):S.translate(-k.a.v[0]*R,-k.a.v[1]*R,k.a.v[2]*R));for(O=0;O<D;O+=1)(k=w[O].a).s.propType&&((R=w[O].s.getMult(C[i].anIndexes[O],T.a[O].s.totalChars)).length?S.scale(1+(k.s.v[0]-1)*R[0],1+(k.s.v[1]-1)*R[1],1):S.scale(1+(k.s.v[0]-1)*R,1+(k.s.v[1]-1)*R,1));for(O=0;O<D;O+=1){if(k=w[O].a,R=w[O].s.getMult(C[i].anIndexes[O],T.a[O].s.totalChars),k.sk.propType&&(R.length?S.skewFromAxis(-k.sk.v*R[0],k.sa.v*R[1]):S.skewFromAxis(-k.sk.v*R,k.sa.v*R)),k.r.propType&&(R.length?S.rotateZ(-k.r.v*R[2]):S.rotateZ(-k.r.v*R)),k.ry.propType&&(R.length?S.rotateY(k.ry.v*R[1]):S.rotateY(k.ry.v*R)),k.rx.propType&&(R.length?S.rotateX(k.rx.v*R[0]):S.rotateX(k.rx.v*R)),k.o.propType&&(R.length?j+=(k.o.v*R[0]-j)*R[0]:j+=(k.o.v*R-j)*R),t.strokeWidthAnim&&k.sw.propType&&(R.length?U+=k.sw.v*R[0]:U+=k.sw.v*R),t.strokeColorAnim&&k.sc.propType)for(H=0;H<3;H+=1)R.length?V[H]+=(k.sc.v[H]-V[H])*R[0]:V[H]+=(k.sc.v[H]-V[H])*R;if(t.fillColorAnim&&t.fc){if(k.fc.propType)for(H=0;H<3;H+=1)R.length?W[H]+=(k.fc.v[H]-W[H])*R[0]:W[H]+=(k.fc.v[H]-W[H])*R;k.fh.propType&&(W=R.length?addHueToRGB(W,k.fh.v*R[0]):addHueToRGB(W,k.fh.v*R)),k.fs.propType&&(W=R.length?addSaturationToRGB(W,k.fs.v*R[0]):addSaturationToRGB(W,k.fs.v*R)),k.fb.propType&&(W=R.length?addBrightnessToRGB(W,k.fb.v*R[0]):addBrightnessToRGB(W,k.fb.v*R))}}for(O=0;O<D;O+=1)(k=w[O].a).p.propType&&(R=w[O].s.getMult(C[i].anIndexes[O],T.a[O].s.totalChars),this._hasMaskedPath?R.length?S.translate(0,k.p.v[1]*R[0],-k.p.v[2]*R[1]):S.translate(0,k.p.v[1]*R,-k.p.v[2]*R):R.length?S.translate(k.p.v[0]*R[0],k.p.v[1]*R[1],-k.p.v[2]*R[2]):S.translate(k.p.v[0]*R,k.p.v[1]*R,-k.p.v[2]*R));if(t.strokeWidthAnim&&(G=U<0?0:U),t.strokeColorAnim&&(Y="rgb("+Math.round(255*V[0])+","+Math.round(255*V[1])+","+Math.round(255*V[2])+")"),t.fillColorAnim&&t.fc&&(X="rgb("+Math.round(255*W[0])+","+Math.round(255*W[1])+","+Math.round(255*W[2])+")"),this._hasMaskedPath){if(S.translate(0,-t.ls),S.translate(0,x[1]*F*.01+n,0),T.p.p){_=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var lt=180*Math.atan(_)/Math.PI;l.point[0]<p.point[0]&&(lt+=180),S.rotate(-lt*Math.PI/180)}S.translate(B,z,0),s-=x[0]*C[i].an*.005,C[i+1]&&K!==C[i+1].ind&&(s+=C[i].an/2,s+=.001*t.tr*t.finalSize)}else{switch(S.translate(r,n,0),t.ps&&S.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:S.translate(C[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[C[i].line]),0,0);break;case 2:S.translate(C[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[C[i].line])/2,0,0)}S.translate(0,-t.ls),S.translate(N,0,0),S.translate(x[0]*C[i].an*.005,x[1]*F*.01,0),r+=C[i].l+.001*t.tr*t.finalSize}"html"===E?tt=S.toCSS():"svg"===E?tt=S.to2dCSS():et=[S.props[0],S.props[1],S.props[2],S.props[3],S.props[4],S.props[5],S.props[6],S.props[7],S.props[8],S.props[9],S.props[10],S.props[11],S.props[12],S.props[13],S.props[14],S.props[15]],q=j}M<=i?(I=new LetterProps(q,G,Y,X,tt,et),this.renderedLetters.push(I),M+=1,this.lettersChangedFlag=!0):(I=this.renderedLetters[i],this.lettersChangedFlag=I.update(q,G,Y,X,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,r,n,i,o){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,a=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,a=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,a=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,a=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,a=!0),!o.length||this.p[0]===o[0]&&this.p[1]===o[1]&&this.p[4]===o[4]&&this.p[5]===o[5]&&this.p[12]===o[12]&&this.p[13]===o[13]||(this.p=o,this._mdf.p=!0,a=!0),a},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var n;this.lock=!0,this._mdf=!1;var i=this.effectsSequence.length,o=t||this.data.d.k[this.keysIndex].s;for(n=0;n<i;n+=1)o=r!==this.keysIndex?this.effectsSequence[n](o,o.t):this.effectsSequence[n](this.currentData,o.t);e!==o&&this.setCurrentData(o),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,r=0,n=t.length;r<=n-1&&!(r===n-1||t[r+1].t>e);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,r=FontManager.getCombinedCharacterCodes(),n=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i),-1!==r.indexOf(e)?n[n.length-1]+=t.charAt(i):e>=55296&&e<=56319&&(e=t.charCodeAt(i+1))>=56320&&e<=57343?(n.push(t.substr(i,2)),i+=1):n.push(t.charAt(i)),i+=1;return n},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,r,n,i,o,a,s,l=this.elem.globalData.fontManager,h=this.data,u=[],c=0,f=h.m.g,p=0,d=0,m=0,v=[],y=0,g=0,_=l.getFontByName(t.f),b=0,x=getFontProperties(_);t.fWeight=x.weight,t.fStyle=x.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),r=t.finalText.length,t.finalLineHeight=t.lh;var w,T=t.tr/1e3*t.finalSize;if(t.sz)for(var S,E,M=!0,C=t.sz[0],A=t.sz[1];M;){S=0,y=0,r=(E=this.buildFinalText(t.t)).length,T=t.tr/1e3*t.finalSize;var P=-1;for(e=0;e<r;e+=1)w=E[e].charCodeAt(0),n=!1," "===E[e]?P=e:13!==w&&3!==w||(y=0,n=!0,S+=t.finalLineHeight||1.2*t.finalSize),l.chars?(s=l.getCharData(E[e],_.fStyle,_.fFamily),b=n?0:s.w*t.finalSize/100):b=l.measureText(E[e],t.f,t.finalSize),y+b>C&&" "!==E[e]?(-1===P?r+=1:e=P,S+=t.finalLineHeight||1.2*t.finalSize,E.splice(e,P===e?1:0,"\r"),P=-1,y=0):(y+=b,y+=T);S+=_.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&A<S?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=E,r=t.finalText.length,M=!1)}y=-T,b=0;var k,O=0;for(e=0;e<r;e+=1)if(n=!1,13===(w=(k=t.finalText[e]).charCodeAt(0))||3===w?(O=0,v.push(y),g=y>g?y:g,y=-2*T,i="",n=!0,m+=1):i=k,l.chars?(s=l.getCharData(k,_.fStyle,l.getFontByName(t.f).fFamily),b=n?0:s.w*t.finalSize/100):b=l.measureText(i,t.f,t.finalSize)," "===k?O+=b+T:(y+=b+T+O,O=0),u.push({l:b,an:b,add:p,n:n,anIndexes:[],val:i,line:m,animatorJustifyOffset:0}),2==f){if(p+=b,""===i||" "===i||e===r-1){for(""!==i&&" "!==i||(p-=b);d<=e;)u[d].an=p,u[d].ind=c,u[d].extra=b,d+=1;c+=1,p=0}}else if(3==f){if(p+=b,""===i||e===r-1){for(""===i&&(p-=b);d<=e;)u[d].an=p,u[d].ind=c,u[d].extra=b,d+=1;p=0,c+=1}}else u[c].ind=c,u[c].extra=0,c+=1;if(t.l=u,g=y>g?y:g,v.push(y),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=g,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=v;var D,I,R,F,L=h.a;a=L.length;var N=[];for(o=0;o<a;o+=1){for((D=L[o]).a.sc&&(t.strokeColorAnim=!0),D.a.sw&&(t.strokeWidthAnim=!0),(D.a.fc||D.a.fh||D.a.fs||D.a.fb)&&(t.fillColorAnim=!0),F=0,R=D.s.b,e=0;e<r;e+=1)(I=u[e]).anIndexes[o]=F,(1==R&&""!==I.val||2==R&&""!==I.val&&" "!==I.val||3==R&&(I.n||" "==I.val||e==r-1)||4==R&&(I.n||e==r-1))&&(1===D.s.rn&&N.push(F),F+=1);h.a[o].s.totalChars=F;var B,z=-1;if(1===D.s.rn)for(e=0;e<r;e+=1)z!=(I=u[e]).anIndexes[o]&&(z=I.anIndexes[o],B=N.splice(Math.floor(Math.random()*N.length),1)[0]),I.anIndexes[o]=B}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=_.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var r=this.copyData({},this.data.d.k[e].s);r=this.copyData(r,t),this.data.d.k[e].s=r,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,r=Math.floor;function n(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return n.prototype={getMult:function(n){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var i=0,o=0,a=1,s=1;this.ne.v>0?i=this.ne.v/100:o=-this.ne.v/100,this.xe.v>0?a=1-this.xe.v/100:s=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(i,o,a,s).get,h=0,u=this.finalS,c=this.finalE,f=this.data.sh;if(2===f)h=l(h=c===u?n>=c?1:0:t(0,e(.5/(c-u)+(n-u)/(c-u),1)));else if(3===f)h=l(h=c===u?n>=c?0:1:1-t(0,e(.5/(c-u)+(n-u)/(c-u),1)));else if(4===f)c===u?h=0:(h=t(0,e(.5/(c-u)+(n-u)/(c-u),1)))<.5?h*=2:h=1-2*(h-.5),h=l(h);else if(5===f){if(c===u)h=0;else{var p=c-u,d=-p/2+(n=e(t(0,n+.5-u),c-u)),m=p/2;h=Math.sqrt(1-d*d/(m*m))}h=l(h)}else 6===f?(c===u?h=0:(n=e(t(0,n+.5-u),c-u),h=(1+Math.cos(Math.PI+2*Math.PI*n/(c-u)))/2),h=l(h)):(n>=r(u)&&(h=t(0,e(n-u<0?e(c,1)-(u-n):c-n,1))),h=l(h));return h*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/e,n=this.s.v/e+r,i=this.e.v/e+r;if(n>i){var o=n;n=i,i=o}this.finalS=n,this.finalE=i}},extendPrototype([DynamicPropertyContainer],n),{getTextSelectorProp:function(t,e,r){return new n(t,e,r)}}}(),poolFactory=function(t,e,r){var n=0,i=t,o=createSizedArray(i);return{newElement:function(){return n?o[n-=1]:e()},release:function(t){n===i&&(o=pooling.double(o),i*=2),r&&r(t),o[n]=t,n+=1}}},pooling={double:function(t){return t.concat(createSizedArray(t.length))}},pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)})),shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(t){var e,r=t._length;for(e=0;e<r;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1})),factory.clone=function(t){var e,r=factory.newElement(),n=void 0===t._length?t.v.length:t._length;for(r.setLength(n),r.c=t.c,e=0;e<n;e+=1)r.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return r},factory),factory,shapeCollectionPool=function(){var t={newShapeCollection:function(){return e?n[e-=1]:new ShapeCollection},release:function(t){var i,o=t._length;for(i=0;i<o;i+=1)shapePool.release(t.shapes[i]);t._length=0,e===r&&(n=pooling.double(n),r*=2),n[e]=t,e+=1}},e=0,r=4,n=createSizedArray(r);return t}(),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,r=t.lengths.length;for(e=0;e<r;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0})),bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}})),markerParser=function(){function t(t){for(var e,r=t.split("\r\n"),n={},i=0,o=0;o<r.length;o+=1)2===(e=r[o].split(":")).length&&(n[e[0]]=e[1].trim(),i+=1);if(0===i)throw new Error;return n}return function(e){for(var r=[],n=0;n<e.length;n+=1){var i=e[n],o={time:i.tm,duration:i.dr};try{o.payload=JSON.parse(e[n].cm)}catch(r){try{o.payload=t(e[n].cm)}catch(t){o.payload={name:e[n]}}}r.push(o)}return r}}();function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(e&&e.title){var n=createNS("title"),i=createElementID();n.setAttribute("id",i),n.textContent=e.title,this.svgElement.appendChild(n),r+=i}if(e&&e.description){var o=createNS("desc"),a=createElementID();o.setAttribute("id",a),o.textContent=e.description,this.svgElement.appendChild(o),r+=" "+a}r&&this.svgElement.setAttribute("aria-labelledby",r);var s=createNS("defs");this.svgElement.appendChild(s);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:s,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(t,e,r){this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,i,o=this.globalData.defs,a=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(a),this.solidPath="";var s,l,h,u,c,f,p=this.masksProperties,d=0,m=[],v=createElementID(),y="clipPath",g="clip-path";for(n=0;n<a;n+=1)if(("a"!==p[n].mode&&"n"!==p[n].mode||p[n].inv||100!==p[n].o.k||p[n].o.x)&&(y="mask",g="mask"),"s"!==p[n].mode&&"i"!==p[n].mode||0!==d?h=null:((h=createNS("rect")).setAttribute("fill","#ffffff"),h.setAttribute("width",this.element.comp.data.w||0),h.setAttribute("height",this.element.comp.data.h||0),m.push(h)),i=createNS("path"),"n"===p[n].mode)this.viewData[n]={op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),elem:i,lastPath:""},o.appendChild(i);else{var _;if(d+=1,i.setAttribute("fill","s"===p[n].mode?"#000000":"#ffffff"),i.setAttribute("clip-rule","nonzero"),0!==p[n].x.k?(y="mask",g="mask",f=PropertyFactory.getProp(this.element,p[n].x,0,null,this.element),_=createElementID(),(u=createNS("filter")).setAttribute("id",_),(c=createNS("feMorphology")).setAttribute("operator","erode"),c.setAttribute("in","SourceGraphic"),c.setAttribute("radius","0"),u.appendChild(c),o.appendChild(u),i.setAttribute("stroke","s"===p[n].mode?"#000000":"#ffffff")):(c=null,f=null),this.storedData[n]={elem:i,x:f,expan:c,lastPath:"",lastOperator:"",filterId:_,lastRadius:0},"i"===p[n].mode){l=m.length;var b=createNS("g");for(s=0;s<l;s+=1)b.appendChild(m[s]);var x=createNS("mask");x.setAttribute("mask-type","alpha"),x.setAttribute("id",v+"_"+d),x.appendChild(i),o.appendChild(x),b.setAttribute("mask","url("+locationHref+"#"+v+"_"+d+")"),m.length=0,m.push(b)}else m.push(i);p[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:i,lastPath:"",op:PropertyFactory.getProp(this.element,p[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[n],3),invRect:h},this.viewData[n].prop.k||this.drawPath(p[n],this.viewData[n].prop.v,this.viewData[n])}for(this.maskElement=createNS(y),a=m.length,n=0;n<a;n+=1)this.maskElement.appendChild(m[n]);d>0&&(this.maskElement.setAttribute("id",v),this.element.maskedElement.setAttribute(g,"url("+locationHref+"#"+v+")"),o.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(t,e,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=e,this._isAnimated=!!r.k;for(var n=0,i=t.length;n<i;){if(t[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function SVGTransformData(t,e,r){this.transform={mProps:t,op:e,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r}function SVGGradientFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,r)}function SVGGradientStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(t){var e,r,n=this.layers.length;for(this.completeLayers=!0,e=n-1;e>=0;e-=1)this.elements[e]||(r=this.layers[e]).ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var r,n=t.length,i=this.layers.length;for(e=0;e<n;e+=1)for(r=0;r<i;){if(this.layers[r].id===t[e].id){this.layers[r]=t[e];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,r){for(var n=this.elements,i=this.layers,o=0,a=i.length;o<a;)i[o].ind==e&&(n[o]&&!0!==n[o]?(r.push(n[o]),n[o].setAsParent(),void 0!==i[o].parent?this.buildElementParenting(t,i[o].parent,r):t.setHierarchy(r)):(this.buildItem(o),this.addPendingElement(t))),o+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length;for(e=0;e<r;e+=1)if(t[e].xt){var n=this.createComp(t[e]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",t.w),n.setAttribute("height",t.h),n.setAttribute("x",0),n.setAttribute("y",0);var i=createElementID();r.setAttribute("id",i),r.appendChild(n),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+i+")"),e.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRenderer.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){e[t]=!0;var r=this.createItem(this.layers[t]);e[t]=r,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?r.setMatte(e[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(r)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,r=this.elements.length;e<r;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<r;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){for(var n,i=0;i<e;)this.elements[i]&&!0!==this.elements[i]&&this.elements[i].getBaseElement()&&(n=this.elements[i].getBaseElement()),i+=1;n?this.layerElement.insertBefore(r,n):this.layerElement.appendChild(r)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(t){if(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(t);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var r=this.contextData.cTr.props;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}else this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRenderer.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e,r=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var n=this.contextData.saved[this.contextData.cArrPos];for(e=0;e<16;e+=1)n[e]=r[e];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e,r=this.contextData.saved[this.contextData.cArrPos],n=this.contextData.cTr.props;for(e=0;e<16;e+=1)n[e]=r[e];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.globalData.currentGlobalAlpha!==r&&(this.canvasContext.globalAlpha=r,this.globalData.currentGlobalAlpha=r)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var r="0px 0px 0px";e.transformOrigin=r,e.mozTransformOrigin=r,e.webkitTransformOrigin=r,e["-webkit-transform"]=r,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,r,n;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var i=this.renderConfig.preserveAspectRatio.split(" "),o=i[1]||"meet",a=i[0]||"xMidYMid",s=a.substr(0,4),l=a.substr(4);r=t/e,(n=this.transformCanvas.w/this.transformCanvas.h)>r&&"meet"===o||n<r&&"slice"===o?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===s&&(n<r&&"meet"===o||n>r&&"slice"===o)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===s&&(n<r&&"meet"===o||n>r&&"slice"===o)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===l&&(n>r&&"meet"===o||n<r&&"slice"===o)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===l&&(n>r&&"meet"===o||n<r&&"slice"===o)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){var r;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var n=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=0;r<n;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){var r=this.createItem(this.layers[t],this,this.globalData);e[t]=r,r.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){var n=this.layers[e];if(n.ddd&&this.supports3d)this.addTo3dContainer(r,e);else if(this.threeDElements)this.addTo3dContainer(r,e);else{for(var i,o,a=0;a<e;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(o=this.elements[a],i=(this.layers[a].ddd?this.getThreeDContainerByPos(a):o.getBaseElement())||i),a+=1;i?n.ddd&&this.supports3d||this.layerElement.insertBefore(r,i):n.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,r=this.threeDElements.length;e<r;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRenderer.prototype.createThreeDContainer=function(t,e){var r,n,i=createTag("div");styleDiv(i);var o=createTag("div");if(styleDiv(o),"3d"===e){(r=i.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px",r.webkitTransformOrigin="50% 50%",r.mozTransformOrigin="50% 50%",r.transformOrigin="50% 50%";var a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(n=o.style).transform=a,n.webkitTransform=a}i.appendChild(o);var s={container:o,perspectiveElem:i,startPos:t,endPos:t,type:e};return this.threeDElements.push(s),s},HybridRenderer.prototype.build3dContainers=function(){var t,e,r=this.layers.length,n="";for(t=0;t<r;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==n&&(n="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==n&&(n="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(r=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var r=0,n=this.threeDElements.length;r<n;){if(e<=this.threeDElements[r].endPos){for(var i,o=this.threeDElements[r].startPos;o<e;)this.elements[o]&&this.elements[o].getBaseElement&&(i=this.elements[o].getBaseElement()),o+=1;i?this.threeDElements[r].container.insertBefore(t,i):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=createTag("div"),r=this.animationItem.wrapper,n=e.style;n.width=t.w+"px",n.height=t.h+"px",this.resizerElem=e,styleDiv(e),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),r.appendChild(e),n.overflow="hidden";var i=createNS("svg");i.setAttribute("width","1"),i.setAttribute("height","1"),styleDiv(i),this.resizerElem.appendChild(i);var o=createNS("defs");i.appendChild(o),this.data=t,this.setupGlobalData(t,i),this.globalData.defs=o,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,r,n,i=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight,a=i/o;this.globalData.compSize.w/this.globalData.compSize.h>a?(t=i/this.globalData.compSize.w,e=i/this.globalData.compSize.w,r=0,n=(o-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(t=o/this.globalData.compSize.h,e=o/this.globalData.compSize.h,r=(i-this.globalData.compSize.w*(o/this.globalData.compSize.h))/2,n=0);var s=this.resizerElem.style;s.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+r+","+n+",0,1)",s.transform=s.webkitTransform},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,r=this.globalData.compSize.h,n=this.threeDElements.length;for(t=0;t<n;t+=1){var i=this.threeDElements[t].perspectiveElem.style;i.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(r,2))+"px",i.perspective=i.webkitPerspective}}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length,n=createTag("div");for(e=0;e<r;e+=1)if(t[e].xt){var i=this.createComp(t[e],n,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,r=this.element.finalTransform.mat,n=this.masksProperties.length;for(e=0;e<n;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var i=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[e].filterId+")")),i.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,(t+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,r){var n,i,o=" M"+e.v[0][0]+","+e.v[0][1];for(i=e._length,n=1;n<i;n+=1)o+=" C"+e.o[n-1][0]+","+e.o[n-1][1]+" "+e.i[n][0]+","+e.i[n][1]+" "+e.v[n][0]+","+e.v[n][1];if(e.c&&i>1&&(o+=" C"+e.o[n-1][0]+","+e.o[n-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),r.lastPath!==o){var a="";r.elem&&(e.c&&(a=t.inv?this.solidPath+o:o),r.elem.setAttribute("d",a)),r.lastPath=o}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var r,n=this.dynamicProperties.length;for(r=0;r<n;r+=1)(e||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,r=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<n;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),r=0;r<n;r+=1)t=this.hierarchy[r].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var r,n=!0,i=this.comp;n;)i.finalTransform?(i.data.hasMask&&e.splice(0,0,i.finalTransform),i=i.comp):n=!1;var o,a=e.length;for(r=0;r<a;r+=1)o=e[r].mat.applyToPointArray(0,0,0),t=[t[0]-o[0],t[1]-o[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,r){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,e),this.setGradientOpacity(e,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var r=createElementID(),n=createNS(1===e.t?"linearGradient":"radialGradient");n.setAttribute("id",r),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var i,o,a,s=[];for(a=4*e.g.p,o=0;o<a;o+=4)i=createNS("stop"),n.appendChild(i),s.push(i);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+r+")"),this.gf=n,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var r,n,i,o=createNS("mask"),a=createNS("path");o.appendChild(a);var s=createElementID(),l=createElementID();o.setAttribute("id",l);var h=createNS(1===t.t?"linearGradient":"radialGradient");h.setAttribute("id",s),h.setAttribute("spreadMethod","pad"),h.setAttribute("gradientUnits","userSpaceOnUse"),i=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var u=this.stops;for(n=4*t.g.p;n<i;n+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),h.appendChild(r),u.push(r);a.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+s+")"),this.of=h,this.ms=o,this.ost=u,this.maskId=l,e.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function r(t,e,r){(r||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(r||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function n(r,n,i){var o,a,s,l,h,u,c,f,p,d,m,v=n.styles.length,y=n.lvl;for(u=0;u<v;u+=1){if(l=n.sh._mdf||i,n.styles[u].lvl<y){for(f=e.reset(),d=y-n.styles[u].lvl,m=n.transformers.length-1;!l&&d>0;)l=n.transformers[m].mProps._mdf||l,d-=1,m-=1;if(l)for(d=y-n.styles[u].lvl,m=n.transformers.length-1;d>0;)p=n.transformers[m].mProps.v.props,f.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),d-=1,m-=1}else f=t;if(a=(c=n.sh.paths)._length,l){for(s="",o=0;o<a;o+=1)(h=c.shapes[o])&&h._length&&(s+=buildShapeString(h,h._length,h.c,f));n.caches[u]=s}else s=n.caches[u];n.styles[u].d+=!0===r.hd?"":s,n.styles[u]._mdf=l||n.styles[u]._mdf}}function i(t,e,r){var n=e.style;(e.c._mdf||r)&&n.pElem.setAttribute("fill","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r)&&n.pElem.setAttribute("fill-opacity",e.o.v)}function o(t,e,r){a(t,e,r),s(t,e,r)}function a(t,e,r){var n,i,o,a,s,l=e.gf,h=e.g._hasOpacity,u=e.s.v,c=e.e.v;if(e.o._mdf||r){var f="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(f,e.o.v)}if(e.s._mdf||r){var p=1===t.t?"x1":"cx",d="x1"===p?"y1":"cy";l.setAttribute(p,u[0]),l.setAttribute(d,u[1]),h&&!e.g._collapsable&&(e.of.setAttribute(p,u[0]),e.of.setAttribute(d,u[1]))}if(e.g._cmdf||r){n=e.cst;var m=e.g.c;for(o=n.length,i=0;i<o;i+=1)(a=n[i]).setAttribute("offset",m[4*i]+"%"),a.setAttribute("stop-color","rgb("+m[4*i+1]+","+m[4*i+2]+","+m[4*i+3]+")")}if(h&&(e.g._omdf||r)){var v=e.g.o;for(o=(n=e.g._collapsable?e.cst:e.ost).length,i=0;i<o;i+=1)a=n[i],e.g._collapsable||a.setAttribute("offset",v[2*i]+"%"),a.setAttribute("stop-opacity",v[2*i+1])}if(1===t.t)(e.e._mdf||r)&&(l.setAttribute("x2",c[0]),l.setAttribute("y2",c[1]),h&&!e.g._collapsable&&(e.of.setAttribute("x2",c[0]),e.of.setAttribute("y2",c[1])));else if((e.s._mdf||e.e._mdf||r)&&(s=Math.sqrt(Math.pow(u[0]-c[0],2)+Math.pow(u[1]-c[1],2)),l.setAttribute("r",s),h&&!e.g._collapsable&&e.of.setAttribute("r",s)),e.e._mdf||e.h._mdf||e.a._mdf||r){s||(s=Math.sqrt(Math.pow(u[0]-c[0],2)+Math.pow(u[1]-c[1],2)));var y=Math.atan2(c[1]-u[1],c[0]-u[0]),g=e.h.v;g>=1?g=.99:g<=-1&&(g=-.99);var _=s*g,b=Math.cos(y+e.a.v)*_+u[0],x=Math.sin(y+e.a.v)*_+u[1];l.setAttribute("fx",b),l.setAttribute("fy",x),h&&!e.g._collapsable&&(e.of.setAttribute("fx",b),e.of.setAttribute("fy",x))}}function s(t,e,r){var n=e.style,i=e.d;i&&(i._mdf||r)&&i.dashStr&&(n.pElem.setAttribute("stroke-dasharray",i.dashStr),n.pElem.setAttribute("stroke-dashoffset",i.dashoffset[0])),e.c&&(e.c._mdf||r)&&n.pElem.setAttribute("stroke","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r)&&n.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||r)&&(n.pElem.setAttribute("stroke-width",e.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty){case"fl":return i;case"gf":return a;case"gs":return o;case"st":return s;case"sh":case"el":case"rc":case"sr":return n;case"tr":return r;default:return null}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(t,e,r,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var i,o=4;"rc"===e.ty?o=5:"el"===e.ty?o=6:"sr"===e.ty&&(o=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,o,t);var a,s=r.length;for(i=0;i<s;i+=1)r[i].closed||(a={transforms:n.addTransformSequence(r[i].transforms),trNodes:[]},this.styledShapes.push(a),r[i].elements.push(a))}function BaseElement(){}function NullElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initFrame(),this.initTransform(t,e,r),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(t,e,r){this.initElement(t,e,r)}function AudioElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,r),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function FootageElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,r)}function SVGCompElement(t,e,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextLottieElement(t,e,r){this.textSpans=[],this.renderType="svg",this.initElement(t,e,r)}function SVGShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,r),this.prevViewData=[]}function SVGTintFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");if(r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),t.appendChild(r),(r=createNS("feColorMatrix")).setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.setAttribute("result","f2"),t.appendChild(r),this.matrixFilter=r,100!==e.effectElements[2].p.v||e.effectElements[2].p.k){var n,i=createNS("feMerge");t.appendChild(i),(n=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),i.appendChild(n),(n=createNS("feMergeNode")).setAttribute("in","f2"),i.appendChild(n)}}function SVGFillFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(r),this.matrixFilter=r}function SVGGaussianBlurEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var r=createNS("feGaussianBlur");t.appendChild(r),this.feGaussianBlur=r}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),t.appendChild(r);var n=createNS("feComponentTransfer");n.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(n),this.matrixFilter=n;var i=createNS("feFuncR");i.setAttribute("type","table"),n.appendChild(i),this.feFuncR=i;var o=createNS("feFuncG");o.setAttribute("type","table"),n.appendChild(o),this.feFuncG=o;var a=createNS("feFuncB");a.setAttribute("type","table"),n.appendChild(a),this.feFuncB=a}function SVGProLevelsFilter(t,e){this.filterManager=e;var r=this.filterManager.effectElements,n=createNS("feComponentTransfer");(r[10].p.k||0!==r[10].p.v||r[11].p.k||1!==r[11].p.v||r[12].p.k||1!==r[12].p.v||r[13].p.k||0!==r[13].p.v||r[14].p.k||1!==r[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",n)),(r[17].p.k||0!==r[17].p.v||r[18].p.k||1!==r[18].p.v||r[19].p.k||1!==r[19].p.v||r[20].p.k||0!==r[20].p.v||r[21].p.k||1!==r[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",n)),(r[24].p.k||0!==r[24].p.v||r[25].p.k||1!==r[25].p.v||r[26].p.k||1!==r[26].p.v||r[27].p.k||0!==r[27].p.v||r[28].p.k||1!==r[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",n)),(r[31].p.k||0!==r[31].p.v||r[32].p.k||1!==r[32].p.v||r[33].p.k||1!==r[33].p.v||r[34].p.k||0!==r[34].p.v||r[35].p.k||1!==r[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",n)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(n.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(n),n=createNS("feComponentTransfer")),(r[3].p.k||0!==r[3].p.v||r[4].p.k||1!==r[4].p.v||r[5].p.k||1!==r[5].p.v||r[6].p.k||0!==r[6].p.v||r[7].p.k||1!==r[7].p.v)&&(n.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(n),this.feFuncRComposed=this.createFeFunc("feFuncR",n),this.feFuncGComposed=this.createFeFunc("feFuncG",n),this.feFuncBComposed=this.createFeFunc("feFuncB",n))}function SVGDropShadowEffect(t,e){var r=e.container.globalData.renderConfig.filterSize;t.setAttribute("x",r.x),t.setAttribute("y",r.y),t.setAttribute("width",r.width),t.setAttribute("height",r.height),this.filterManager=e;var n=createNS("feGaussianBlur");n.setAttribute("in","SourceAlpha"),n.setAttribute("result","drop_shadow_1"),n.setAttribute("stdDeviation","0"),this.feGaussianBlur=n,t.appendChild(n);var i=createNS("feOffset");i.setAttribute("dx","25"),i.setAttribute("dy","0"),i.setAttribute("in","drop_shadow_1"),i.setAttribute("result","drop_shadow_2"),this.feOffset=i,t.appendChild(i);var o=createNS("feFlood");o.setAttribute("flood-color","#00ff00"),o.setAttribute("flood-opacity","1"),o.setAttribute("result","drop_shadow_3"),this.feFlood=o,t.appendChild(o);var a=createNS("feComposite");a.setAttribute("in","drop_shadow_3"),a.setAttribute("in2","drop_shadow_2"),a.setAttribute("operator","in"),a.setAttribute("result","drop_shadow_4"),t.appendChild(a);var s,l=createNS("feMerge");t.appendChild(l),s=createNS("feMergeNode"),l.appendChild(s),(s=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=s,this.feMerge=l,this.originalNodeAdded=!1,l.appendChild(s)}ShapeTransformManager.prototype={addTransformSequence:function(t){var e,r=t.length,n="_";for(e=0;e<r;e+=1)n+=t[e].transform.key+"_";var i=this.sequences[n];return i||(i={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=i,this.sequenceList.push(i)),i},processSequence:function(t,e){for(var r,n=0,i=t.transforms.length,o=e;n<i&&!e;){if(t.transforms[n].transform.mProps._mdf){o=!0;break}n+=1}if(o)for(t.finalTransform.reset(),n=i-1;n>=0;n-=1)r=t.transforms[n].transform.mProps.v.props,t.finalTransform.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]);t._mdf=o},processSequences:function(t){var e,r=this.sequenceList.length;for(e=0;e<r;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,r){this.globalData=e,this.comp=r,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,r,n=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var i=createNS("mask");i.setAttribute("id",this.layerId),i.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),i.appendChild(this.layerElement),n=i,this.globalData.defs.appendChild(i),featureSupport.maskType||1!=this.data.td||(i.setAttribute("mask-type","luminance"),t=createElementID(),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(this.layerElement),n=r,i.appendChild(r),r.setAttribute("filter","url("+locationHref+"#"+t+")"))}else if(2==this.data.td){var o=createNS("mask");o.setAttribute("id",this.layerId),o.setAttribute("mask-type","alpha");var a=createNS("g");o.appendChild(a),t=createElementID(),e=filtersFactory.createFilter(t);var s=createNS("feComponentTransfer");s.setAttribute("in","SourceGraphic"),e.appendChild(s);var l=createNS("feFuncA");l.setAttribute("type","table"),l.setAttribute("tableValues","1.0 0.0"),s.appendChild(l),this.globalData.defs.appendChild(e);var h=createNS("rect");h.setAttribute("width",this.comp.data.w),h.setAttribute("height",this.comp.data.h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("fill","#ffffff"),h.setAttribute("opacity","0"),a.setAttribute("filter","url("+locationHref+"#"+t+")"),a.appendChild(h),a.appendChild(this.layerElement),n=a,featureSupport.maskType||(o.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),a.appendChild(h),r.appendChild(this.layerElement),n=r,a.appendChild(r)),this.globalData.defs.appendChild(o)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),n=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var u=createNS("clipPath"),c=createNS("path");c.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var f=createElementID();if(u.setAttribute("id",f),u.appendChild(c),this.globalData.defs.appendChild(u),this.checkMasks()){var p=createNS("g");p.setAttribute("clip-path","url("+locationHref+"#"+f+")"),p.appendChild(this.layerElement),this.transformedElement=p,n?n.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+f+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")}},IShapeElement.prototype={addShapeToModifiers:function(t){var e,r=this.shapeModifiers.length;for(e=0;e<r;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(t){for(var e=this.processedElements,r=0,n=e.length;r<n;){if(e[r].elem===t)return e[r].pos;r+=1}return 0},addProcessedElement:function(t,e){for(var r=this.processedElements,n=r.length;n;)if(r[n-=1].elem===t)return void(r[n].pos=e);r.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){var r,n,i=e.length,o="";for(r=0;r<i;r+=1)n=e[r].ks.k,o+=buildShapeString(n,n.i.length,!0,t);return o},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,r,n,i){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0)}e.translate(n,i,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var r,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this.audio.volume(t)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,r=t.length,n=[],i="";e<r;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(n.push(i),i=""):i+=t[e],e+=1;return n.push(i),n},SVGTextLottieElement.prototype.buildNewText=function(){var t,e,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var n=this.globalData.fontManager.getFontByName(r.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var i=r.fWeight,o=r.fStyle;this.layerElement.setAttribute("font-style",o),this.layerElement.setAttribute("font-weight",i)}this.layerElement.setAttribute("aria-label",r.t);var a,s=r.l||[],l=!!this.globalData.fontManager.chars;e=s.length;var h,u=this.mHelper,c="",f=this.data.singleShape,p=0,d=0,m=!0,v=.001*r.tr*r.finalSize;if(!f||l||r.sz){var y,g,_=this.textSpans.length;for(t=0;t<e;t+=1)l&&f&&0!==t||(a=_>t?this.textSpans[t]:createNS(l?"path":"text"),_<=t&&(a.setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=a,this.layerElement.appendChild(a)),a.style.display="inherit"),u.reset(),u.scale(r.finalSize/100,r.finalSize/100),f&&(s[t].n&&(p=-v,d+=r.yOffset,d+=m?1:0,m=!1),this.applyTextPropertiesToMatrix(r,u,s[t].line,p,d),p+=s[t].l||0,p+=v),l?(h=(y=(g=this.globalData.fontManager.getCharData(r.finalText[t],n.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily))&&g.data||{}).shapes?y.shapes[0].it:[],f?c+=this.createPathShape(u,h):a.setAttribute("d",this.createPathShape(u,h))):(f&&a.setAttribute("transform","translate("+u.props[12]+","+u.props[13]+")"),a.textContent=s[t].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));f&&a&&a.setAttribute("d",c)}else{var b=this.textContainer,x="start";switch(r.j){case 1:x="end";break;case 2:x="middle";break;default:x="start"}b.setAttribute("text-anchor",x),b.setAttribute("letter-spacing",v);var w=this.buildTextContents(r.finalText);for(e=w.length,d=r.ps?r.ps[1]+r.ascent:0,t=0;t<e;t+=1)(a=this.textSpans[t]||createNS("tspan")).textContent=w[t],a.setAttribute("x",0),a.setAttribute("y",d),a.style.display="inherit",b.appendChild(a),this.textSpans[t]=a,d+=r.finalLineHeight;this.layerElement.appendChild(b)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var r,n,i=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(e=o.length,t=0;t<e;t+=1)o[t].n||(r=i[t],n=this.textSpans[t],r._mdf.m&&n.setAttribute("transform",r.m),r._mdf.o&&n.setAttribute("opacity",r.o),r._mdf.sw&&n.setAttribute("stroke-width",r.sw),r._mdf.sc&&n.setAttribute("stroke",r.sc),r._mdf.fc&&n.setAttribute("fill",r.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,r,n,i=this.shapes.length,o=this.stylesList.length,a=[],s=!1;for(r=0;r<o;r+=1){for(n=this.stylesList[r],s=!1,a.length=0,t=0;t<i;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(n)&&(a.push(e),s=e._isAnimated||s);a.length>1&&s&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var r,n=new SVGStyleData(t,e),i=n.pElem;return"st"===t.ty?r=new SVGStrokeStyleData(this,t,n):"fl"===t.ty?r=new SVGFillStyleData(this,t,n):"gf"!==t.ty&&"gs"!==t.ty||(r=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,n),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),i.setAttribute("mask","url("+locationHref+"#"+r.maskId+")"))),"st"!==t.ty&&"gs"!==t.ty||(i.setAttribute("stroke-linecap",this.lcEnum[t.lc]||"round"),i.setAttribute("stroke-linejoin",this.ljEnum[t.lj]||"round"),i.setAttribute("fill-opacity","0"),1===t.lj&&i.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&i.setAttribute("fill-rule","evenodd"),t.ln&&i.setAttribute("id",t.ln),t.cl&&i.setAttribute("class",t.cl),t.bm&&(i.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(n),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var r=TransformPropertyFactory.getTransformProperty(this,t,this),n=new SVGTransformData(r,r.o,e);return this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createShapeElement=function(t,e,r){var n=4;"rc"===t.ty?n=5:"el"===t.ty?n=6:"sr"===t.ty&&(n=7);var i=new SVGShapeData(e,r,ShapePropertyFactory.getShapeProp(this,t,n,this));return this.shapes.push(i),this.addShapeToModifiers(i),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var r=0,n=this.animatedContents.length;r<n;){if(this.animatedContents[r].element===e)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,r=t.styles,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||r.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,r,n,i,o,a){var s,l,h,u,c,f,p=[].concat(o),d=t.length-1,m=[],v=[];for(s=d;s>=0;s-=1){if((f=this.searchProcessedElement(t[s]))?e[s]=r[f-1]:t[s]._render=a,"fl"===t[s].ty||"st"===t[s].ty||"gf"===t[s].ty||"gs"===t[s].ty)f?e[s].style.closed=!1:e[s]=this.createStyleElement(t[s],i),t[s]._render&&n.appendChild(e[s].style.pElem),m.push(e[s].style);else if("gr"===t[s].ty){if(f)for(h=e[s].it.length,l=0;l<h;l+=1)e[s].prevViewData[l]=e[s].it[l];else e[s]=this.createGroupElement(t[s]);this.searchShapes(t[s].it,e[s].it,e[s].prevViewData,e[s].gr,i+1,p,a),t[s]._render&&n.appendChild(e[s].gr)}else"tr"===t[s].ty?(f||(e[s]=this.createTransformElement(t[s],n)),u=e[s].transform,p.push(u)):"sh"===t[s].ty||"rc"===t[s].ty||"el"===t[s].ty||"sr"===t[s].ty?(f||(e[s]=this.createShapeElement(t[s],p,i)),this.setElementStyles(e[s])):"tm"===t[s].ty||"rd"===t[s].ty||"ms"===t[s].ty||"pb"===t[s].ty?(f?(c=e[s]).closed=!1:((c=ShapeModifiers.getModifier(t[s].ty)).init(this,t[s]),e[s]=c,this.shapeModifiers.push(c)),v.push(c)):"rp"===t[s].ty&&(f?(c=e[s]).closed=!0:(c=ShapeModifiers.getModifier(t[s].ty),e[s]=c,c.init(this,t,s,e),this.shapeModifiers.push(c),a=!1),v.push(c));this.addProcessedElement(t[s],s+1)}for(d=m.length,s=0;s<d;s+=1)m[s].closed=!0;for(d=v.length,s=0;s<d;s+=1)v[s].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,r=this.animatedContents.length;for(t=0;t<r;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",r[0]-e[0]+" 0 0 0 "+e[0]+" "+(r[1]-e[1])+" 0 0 0 "+e[1]+" "+(r[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+n+" 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=3==r?0:e,i=2==r?0:e;this.feGaussianBlur.setAttribute("stdDeviation",n+" "+i);var o=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",o)}},SVGStrokeEffect.prototype.initialize=function(){var t,e,r,n,i=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,r=0):n=1+(r=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);r<n;r+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:r});if(3===this.filterManager.effectElements[10].p.v){var o=createNS("mask"),a=createElementID();o.setAttribute("id",a),o.setAttribute("mask-type","alpha"),o.appendChild(e),this.elem.globalData.defs.appendChild(o);var s=createNS("g");for(s.setAttribute("mask","url("+locationHref+"#"+a+")");i[0];)s.appendChild(i[0]);this.elem.layerElement.appendChild(s),this.masker=o,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var r,n,i=this.paths.length;for(e=0;e<i;e+=1)if(-1!==this.paths[e].m&&(r=this.elem.maskManager.viewData[this.paths[e].m],n=this.paths[e].p,(t||this.filterManager._mdf||r.prop._mdf)&&n.setAttribute("d",r.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var o;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var a=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),s=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=n.getTotalLength();o="0 0 0 "+l*a+" ";var h,u=l*(s-a),c=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,f=Math.floor(u/c);for(h=0;h<f;h+=1)o+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";o+="0 "+10*l+" 0 0"}else o="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;n.setAttribute("stroke-dasharray",o)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,i=n[0]+" "+r[0]+" "+e[0],o=n[1]+" "+r[1]+" "+e[1],a=n[2]+" "+r[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",i),this.feFuncG.setAttribute("tableValues",o),this.feFuncB.setAttribute("tableValues",a)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var r=createNS(t);return r.setAttribute("type","table"),e.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,e,r,n,i){for(var o,a,s=0,l=Math.min(t,e),h=Math.max(t,e),u=Array.call(null,{length:256}),c=0,f=i-n,p=e-t;s<=256;)a=(o=s/256)<=l?p<0?i:n:o>=h?p<0?n:i:n+f*Math.pow((o-t)/p,1/r),u[c]=a,c+=1,s+=256/255;return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(e=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(e=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(e=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(e=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(e=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=r*Math.cos(n),o=r*Math.sin(n);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",o)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,r){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGEffects(t){var e,r,n=t.data.ef?t.data.ef.length:0,i=createElementID(),o=filtersFactory.createFilter(i,!0),a=0;for(this.filters=[],e=0;e<n;e+=1)r=null,20===t.data.ef[e].ty?(a+=1,r=new SVGTintFilter(o,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(a+=1,r=new SVGFillFilter(o,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?r=new SVGStrokeEffect(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(a+=1,r=new SVGTritoneFilter(o,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(a+=1,r=new SVGProLevelsFilter(o,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(a+=1,r=new SVGDropShadowEffect(o,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty?r=new SVGMatte3Effect(o,t.effectsManager.effectElements[e],t):29===t.data.ef[e].ty&&(a+=1,r=new SVGGaussianBlurEffect(o,t.effectsManager.effectElements[e])),r&&this.filters.push(r);a&&(t.globalData.defs.appendChild(o),t.layerElement.setAttribute("filter","url("+locationHref+"#"+i+")")),this.filters.length&&t.addRenderableComponent(this)}function CVContextData(){var t;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),t=0;t<15;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,r)}function CVCompElement(t,e,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){var r;this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n=this.masksProperties.length,i=!1;for(r=0;r<n;r+=1)"n"!==this.masksProperties[r].mode&&(i=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=i,i&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,r)}function CVSolidElement(t,e,r){this.initElement(t,e,r)}function CVTextElement(t,e,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,r)}function CVEffects(){}function HBaseElement(){}function HSolidElement(t,e,r){this.initElement(t,e,r)}function HCompElement(t,e,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,r)}function HImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r)}function HCameraElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,t.pe,0,0,this),t.ks.p.s?(this.px=n(this,t.ks.p.x,1,0,this),this.py=n(this,t.ks.p.y,1,0,this),this.pz=n(this,t.ks.p.z,1,0,this)):this.p=n(this,t.ks.p,1,0,this),t.ks.a&&(this.a=n(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var i,o=t.ks.or.k.length;for(i=0;i<o;i+=1)t.ks.or.k[i].to=null,t.ks.or.k[i].ti=null}this.or=n(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,t.ks.rx,0,degToRads,this),this.ry=n(this,t.ks.ry,0,degToRads,this),this.rz=n(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,r=_svgMatteSymbols.length;e<r;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var r=t.layerElement.parentNode;if(r){for(var n,i=r.children,o=0,a=i.length;o<a&&i[o]!==t.layerElement;)o+=1;o<=a-2&&(n=i[o+1]);var s=createNS("use");s.setAttribute("href","#"+e),n?r.insertBefore(s,n):r.appendChild(s)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var r=createElementID(),n=createNS("mask");n.setAttribute("id",e.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var i=t.globalData.defs;i.appendChild(n);var o=createNS("symbol");o.setAttribute("id",r),this.replaceInParent(e,r),o.appendChild(e.layerElement),i.appendChild(o);var a=createNS("use");a.setAttribute("href","#"+r),n.appendChild(a),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,r=0,n=e.length;r<n;)e[r]&&e[r].data.ind===t&&this.setElementAsMask(this.elem,e[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);var r=0;for(r=this._length;r<t;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var t=0===this.data.ty;this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(t),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,r,n=t.getContext("2d"),i=this.img.width,o=this.img.height,a=i/o,s=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>s&&"xMidYMid slice"===l||a<s&&"xMidYMid slice"!==l?e=(r=o)*s:r=(e=i)/s,n.drawImage(this.img,(i-e)/2,(o-r)/2,e,r,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,r,n,i=this.element.finalTransform.mat,o=this.element.canvasContext,a=this.masksProperties.length;for(o.beginPath(),t=0;t<a;t+=1)if("n"!==this.masksProperties[t].mode){var s;this.masksProperties[t].inv&&(o.moveTo(0,0),o.lineTo(this.element.globalData.compSize.w,0),o.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),o.lineTo(0,this.element.globalData.compSize.h),o.lineTo(0,0)),n=this.viewData[t].v,e=i.applyToPointArray(n.v[0][0],n.v[0][1],0),o.moveTo(e[0],e[1]);var l=n._length;for(s=1;s<l;s+=1)r=i.applyToTriplePoints(n.o[s-1],n.i[s],n.v[s]),o.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=i.applyToTriplePoints(n.o[s-1],n.i[0],n.v[0]),o.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),o.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},n={};if("fl"===t.ty||"st"===t.ty?(n.c=PropertyFactory.getProp(this,t.c,1,255,this),n.c.k||(r.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(n.s=PropertyFactory.getProp(this,t.s,1,null,this),n.e=PropertyFactory.getProp(this,t.e,1,null,this),n.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,t.g,this)),n.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"===t.ty||"gs"===t.ty){if(r.lc=this.lcEnum[t.lc]||"round",r.lj=this.ljEnum[t.lj]||"round",1==t.lj&&(r.ml=t.ml),n.w=PropertyFactory.getProp(this,t.w,0,null,this),n.w.k||(r.wi=n.w.v),t.d){var i=new DashProperty(this,t.d,"canvas",this);n.d=i,n.d.k||(r.da=n.d.dashArray,r.do=n.d.dashoffset[0])}}else r.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(r),n.style=r,n},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,r,n,i){var o,a,s,l,h,u,c=t.length-1,f=[],p=[],d=[].concat(i);for(o=c;o>=0;o-=1){if((l=this.searchProcessedElement(t[o]))?e[o]=r[l-1]:t[o]._shouldRender=n,"fl"===t[o].ty||"st"===t[o].ty||"gf"===t[o].ty||"gs"===t[o].ty)l?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],d),f.push(e[o].style);else if("gr"===t[o].ty){if(l)for(s=e[o].it.length,a=0;a<s;a+=1)e[o].prevViewData[a]=e[o].it[a];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,n,d)}else"tr"===t[o].ty?(l||(u=this.createTransformElement(t[o]),e[o]=u),d.push(e[o]),this.addTransformToStyleList(e[o])):"sh"===t[o].ty||"rc"===t[o].ty||"el"===t[o].ty||"sr"===t[o].ty?l||(e[o]=this.createShapeElement(t[o])):"tm"===t[o].ty||"rd"===t[o].ty||"pb"===t[o].ty?(l?(h=e[o]).closed=!1:((h=ShapeModifiers.getModifier(t[o].ty)).init(this,t[o]),e[o]=h,this.shapeModifiers.push(h)),p.push(h)):"rp"===t[o].ty&&(l?(h=e[o]).closed=!0:(h=ShapeModifiers.getModifier(t[o].ty),e[o]=h,h.init(this,t,o,e),this.shapeModifiers.push(h),n=!1),p.push(h));this.addProcessedElement(t[o],o+1)}for(this.removeTransformFromStyleList(),this.closeStyles(f),c=p.length,o=0;o<c;o+=1)p[o].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,r,n,i,o,a,s,l,h=this.stylesList.length,u=this.globalData.renderer,c=this.globalData.canvasContext;for(t=0;t<h;t+=1)if(("st"!==(s=(l=this.stylesList[t]).type)&&"gs"!==s||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(u.save(),o=l.elements,"st"===s||"gs"===s?(c.strokeStyle="st"===s?l.co:l.grd,c.lineWidth=l.wi,c.lineCap=l.lc,c.lineJoin=l.lj,c.miterLimit=l.ml||0):c.fillStyle="fl"===s?l.co:l.grd,u.ctxOpacity(l.coOp),"st"!==s&&"gs"!==s&&c.beginPath(),u.ctxTransform(l.preTransforms.finalTransform.props),r=o.length,e=0;e<r;e+=1){for("st"!==s&&"gs"!==s||(c.beginPath(),l.da&&(c.setLineDash(l.da),c.lineDashOffset=l.do)),i=(a=o[e].trNodes).length,n=0;n<i;n+=1)"m"===a[n].t?c.moveTo(a[n].p[0],a[n].p[1]):"c"===a[n].t?c.bezierCurveTo(a[n].pts[0],a[n].pts[1],a[n].pts[2],a[n].pts[3],a[n].pts[4],a[n].pts[5]):c.closePath();"st"!==s&&"gs"!==s||(c.stroke(),l.da&&c.setLineDash(this.dashResetter))}"st"!==s&&"gs"!==s&&c.fill(l.r),u.restore()}},CVShapeElement.prototype.renderShape=function(t,e,r,n){var i,o;for(o=t,i=e.length-1;i>=0;i-=1)"tr"===e[i].ty?(o=r[i].transform,this.renderShapeTransform(t,o)):"sh"===e[i].ty||"el"===e[i].ty||"rc"===e[i].ty||"sr"===e[i].ty?this.renderPath(e[i],r[i]):"fl"===e[i].ty?this.renderFill(e[i],r[i],o):"st"===e[i].ty?this.renderStroke(e[i],r[i],o):"gf"===e[i].ty||"gs"===e[i].ty?this.renderGradientFill(e[i],r[i],o):"gr"===e[i].ty?this.renderShape(o,e[i].it,r[i].it):e[i].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var r,n,i,o=t.trNodes,a=e.paths,s=a._length;o.length=0;var l=t.transforms.finalTransform;for(i=0;i<s;i+=1){var h=a.shapes[i];if(h&&h.v){for(n=h._length,r=1;r<n;r+=1)1===r&&o.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),o.push({t:"c",pts:l.applyToTriplePoints(h.o[r-1],h.i[r],h.v[r])});1===n&&o.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),h.c&&n&&(o.push({t:"c",pts:l.applyToTriplePoints(h.o[r-1],h.i[0],h.v[0])}),o.push({t:"z"}))}}t.trNodes=o}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var r,n=e.styledShapes.length;for(r=0;r<n;r+=1)this.renderStyledShape(e.styledShapes[r],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,r){var n=e.style;(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,r){var n,i=e.style;if(!i.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var o,a=this.globalData.canvasContext,s=e.s.v,l=e.e.v;if(1===t.t)n=a.createLinearGradient(s[0],s[1],l[0],l[1]);else{var h=Math.sqrt(Math.pow(s[0]-l[0],2)+Math.pow(s[1]-l[1],2)),u=Math.atan2(l[1]-s[1],l[0]-s[0]),c=e.h.v;c>=1?c=.99:c<=-1&&(c=-.99);var f=h*c,p=Math.cos(u+e.a.v)*f+s[0],d=Math.sin(u+e.a.v)*f+s[1];n=a.createRadialGradient(p,d,0,s[0],s[1],h)}var m=t.g.p,v=e.g.c,y=1;for(o=0;o<m;o+=1)e.g._hasOpacity&&e.g._collapsable&&(y=e.g.o[2*o+1]),n.addColorStop(v[4*o]/100,"rgba("+v[4*o+1]+","+v[4*o+2]+","+v[4*o+3]+","+y+")");i.grd=n}i.coOp=e.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,e,r){var n=e.style,i=e.d;i&&(i._mdf||this._isFirstFrame)&&(n.da=i.dashArray,n.do=i.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*r.opacity),(e.w._mdf||this._isFirstFrame)&&(n.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var n,i,o,a,s,l,h,u,c,f,p,d,m=this.globalData.fontManager.getFontByName(t.f),v=t.l,y=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,i=t.finalText.length;var g=this.data.singleShape,_=.001*t.tr*t.finalSize,b=0,x=0,w=!0,T=0;for(n=0;n<i;n+=1){for(a=(o=this.globalData.fontManager.getCharData(t.finalText[n],m.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&o.data||{},y.reset(),g&&v[n].n&&(b=-_,x+=t.yOffset,x+=w?1:0,w=!1),c=(h=a.shapes?a.shapes[0].it:[]).length,y.scale(t.finalSize/100,t.finalSize/100),g&&this.applyTextPropertiesToMatrix(t,y,v[n].line,b,x),p=createSizedArray(c),u=0;u<c;u+=1){for(l=h[u].ks.k.i.length,f=h[u].ks.k,d=[],s=1;s<l;s+=1)1===s&&d.push(y.applyToX(f.v[0][0],f.v[0][1],0),y.applyToY(f.v[0][0],f.v[0][1],0)),d.push(y.applyToX(f.o[s-1][0],f.o[s-1][1],0),y.applyToY(f.o[s-1][0],f.o[s-1][1],0),y.applyToX(f.i[s][0],f.i[s][1],0),y.applyToY(f.i[s][0],f.i[s][1],0),y.applyToX(f.v[s][0],f.v[s][1],0),y.applyToY(f.v[s][0],f.v[s][1],0));d.push(y.applyToX(f.o[s-1][0],f.o[s-1][1],0),y.applyToY(f.o[s-1][0],f.o[s-1][1],0),y.applyToX(f.i[0][0],f.i[0][1],0),y.applyToY(f.i[0][0],f.i[0][1],0),y.applyToX(f.v[0][0],f.v[0][1],0),y.applyToY(f.v[0][0],f.v[0][1],0)),p[u]=d}g&&(b+=v[n].l,b+=_),this.textSpans[T]?this.textSpans[T].elem=p:this.textSpans[T]={elem:p},T+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,r,n,i,o,a=this.canvasContext;a.font=this.values.fValue,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var s,l=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;e=h.length;var u,c,f=null,p=null,d=null;for(t=0;t<e;t+=1)if(!h[t].n){if((s=l[t])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(s.p),this.globalData.renderer.ctxOpacity(s.o)),this.fill){for(s&&s.fc?f!==s.fc&&(f=s.fc,a.fillStyle=s.fc):f!==this.values.fill&&(f=this.values.fill,a.fillStyle=this.values.fill),n=(u=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(o=(c=u[r]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),i=2;i<o;i+=6)this.globalData.canvasContext.bezierCurveTo(c[i],c[i+1],c[i+2],c[i+3],c[i+4],c[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(s&&s.sw?d!==s.sw&&(d=s.sw,a.lineWidth=s.sw):d!==this.values.sWidth&&(d=this.values.sWidth,a.lineWidth=this.values.sWidth),s&&s.sc?p!==s.sc&&(p=s.sc,a.strokeStyle=s.sc):p!==this.values.stroke&&(p=this.values.stroke,a.strokeStyle=this.values.stroke),n=(u=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<n;r+=1)for(o=(c=u[r]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),i=2;i<o;i+=6)this.globalData.canvasContext.bezierCurveTo(c[i],c[i+1],c[i+2],c[i+3],c[i+4],c[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}s&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var r,n=0;n<e;)this.elements[n]&&this.elements[n].getBaseElement&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(t,r):this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)e=t[r].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var r,n,i,o,a,s=t.sh.v,l=t.transformers,h=s._length;if(!(h<=1)){for(r=0;r<h-1;r+=1)n=this.getTransformedPoint(l,s.v[r]),i=this.getTransformedPoint(l,s.o[r]),o=this.getTransformedPoint(l,s.i[r+1]),a=this.getTransformedPoint(l,s.v[r+1]),this.checkBounds(n,i,o,a,e);s.c&&(n=this.getTransformedPoint(l,s.v[r]),i=this.getTransformedPoint(l,s.o[r]),o=this.getTransformedPoint(l,s.i[0]),a=this.getTransformedPoint(l,s.v[0]),this.checkBounds(n,i,o,a,e))}},HShapeElement.prototype.checkBounds=function(t,e,r,n,i){this.getBoundsOfCurve(t,e,r,n);var o=this.shapeBoundingBox;i.x=bmMin(o.left,i.x),i.xMax=bmMax(o.right,i.xMax),i.y=bmMin(o.top,i.y),i.yMax=bmMax(o.bottom,i.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,r,n){for(var i,o,a,s,l,h,u,c=[[t[0],n[0]],[t[1],n[1]]],f=0;f<2;++f)o=6*t[f]-12*e[f]+6*r[f],i=-3*t[f]+9*e[f]-9*r[f]+3*n[f],a=3*e[f]-3*t[f],o|=0,a|=0,0==(i|=0)&&0===o||(0===i?(s=-a/o)>0&&s<1&&c[f].push(this.calculateF(s,t,e,r,n,f)):(l=o*o-4*a*i)>=0&&((h=(-o+bmSqrt(l))/(2*i))>0&&h<1&&c[f].push(this.calculateF(h,t,e,r,n,f)),(u=(-o-bmSqrt(l))/(2*i))>0&&u<1&&c[f].push(this.calculateF(u,t,e,r,n,f))));this.shapeBoundingBox.left=bmMin.apply(null,c[0]),this.shapeBoundingBox.top=bmMin.apply(null,c[1]),this.shapeBoundingBox.right=bmMax.apply(null,c[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,c[1])},HShapeElement.prototype.calculateF=function(t,e,r,n,i,o){return bmPow(1-t,3)*e[o]+3*bmPow(1-t,2)*t*r[o]+3*(1-t)*bmPow(t,2)*n[o]+bmPow(t,3)*i[o]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var r,n=t.length;for(r=0;r<n;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],e):t[r]&&t[r].it&&this.calculateBoundingBox(t[r].it,e)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var r=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),r=!0),r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var n=this.shapeCont.style,i="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";n.transform=i,n.webkitTransform=i}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,r=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=r,e.color=r,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var n,i,o=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",o.fClass)this.innerElem.className=o.fClass;else{e.fontFamily=o.fFamily;var a=t.fWeight,s=t.fStyle;e.fontStyle=s,e.fontWeight=a}var l,h,u,c=t.l;i=c.length;var f,p=this.mHelper,d="",m=0;for(n=0;n<i;n+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?u=(h=this.textSpans[m]).children[0]:((h=createTag("div")).style.lineHeight=0,(u=createNS("svg")).appendChild(l),styleDiv(h)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(h=this.textSpans[m],l=this.textPaths[m]):(styleDiv(h=createTag("span")),styleDiv(l=createTag("span")),h.appendChild(l)),this.globalData.fontManager.chars){var v,y=this.globalData.fontManager.getCharData(t.finalText[n],o.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(v=y?y.data:null,p.reset(),v&&v.shapes&&(f=v.shapes[0].it,p.scale(t.finalSize/100,t.finalSize/100),d=this.createPathShape(p,f),l.setAttribute("d",d)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(h),v&&v.shapes){document.body.appendChild(u);var g=u.getBBox();u.setAttribute("width",g.width+2),u.setAttribute("height",g.height+2),u.setAttribute("viewBox",g.x-1+" "+(g.y-1)+" "+(g.width+2)+" "+(g.height+2));var _=u.style,b="translate("+(g.x-1)+"px,"+(g.y-1)+"px)";_.transform=b,_.webkitTransform=b,c[n].yOffset=g.y-1}else u.setAttribute("width",1),u.setAttribute("height",1);h.appendChild(u)}}else if(l.textContent=c[n].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(h);var x=l.style,w="translate3d(0,"+-t.finalSize/1.2+"px,0)";x.transform=w,x.webkitTransform=w}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=h,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,n,i,o,a,s=0,l=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;for(n=h.length,r=0;r<n;r+=1)h[r].n?s+=1:(o=this.textSpans[r],a=this.textPaths[r],i=l[s],s+=1,i._mdf.m&&(this.isMasked?o.setAttribute("transform",i.m):(o.style.webkitTransform=i.m,o.style.transform=i.m)),o.style.opacity=i.o,i.sw&&i._mdf.sw&&a.setAttribute("stroke-width",i.sw),i.sc&&i._mdf.sc&&a.setAttribute("stroke",i.sc),i.fc&&i._mdf.fc&&(a.setAttribute("fill",i.fc),a.style.color=i.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var u=this.innerElem.getBBox();if(this.currentBBox.w!==u.width&&(this.currentBBox.w=u.width,this.svgElement.setAttribute("width",u.width)),this.currentBBox.h!==u.height&&(this.currentBBox.h=u.height,this.svgElement.setAttribute("height",u.height)),this.currentBBox.w!==u.width+2||this.currentBBox.h!==u.height+2||this.currentBBox.x!==u.x-1||this.currentBBox.y!==u.y-1){this.currentBBox.w=u.width+2,this.currentBBox.h=u.height+2,this.currentBBox.x=u.x-1,this.currentBBox.y=u.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var c="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=c,t.webkitTransform=c}}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,r,n,i=this.comp.threeDElements.length;for(t=0;t<i;t+=1)if("3d"===(e=this.comp.threeDElements[t]).type){r=e.perspectiveElem.style,n=e.container.style;var o=this.pe.v+"px",a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=o,r.webkitPerspective=o,n.transformOrigin="0px 0px 0px",n.mozTransformOrigin="0px 0px 0px",n.webkitTransformOrigin="0px 0px 0px",r.transform=a,r.webkitTransform=a}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,r=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)r=this.hierarchy[t].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var n=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var i;i=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var o=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)+Math.pow(i[2],2)),a=[i[0]/o,i[1]/o,i[2]/o],s=Math.sqrt(a[2]*a[2]+a[0]*a[0]),l=Math.atan2(a[1],s),h=Math.atan2(a[0],-a[2]);this.mat.rotateY(h).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var u=!this._prevMat.equals(this.mat);if((u||this.pe._mdf)&&this.comp.threeDElements){var c,f,p;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)if("3d"===(c=this.comp.threeDElements[t]).type){if(u){var d=this.mat.toCSS();(p=c.container.style).transform=d,p.webkitTransform=d}this.pe._mdf&&((f=c.perspectiveElem.style).perspective=this.pe.v+"px",f.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){var t={},e=[],r=0,n=0,i=0,o=!0,a=!1;function s(t){for(var r=0,i=t.target;r<n;)e[r].animation===i&&(e.splice(r,1),r-=1,n-=1,i.isPaused||u()),r+=1}function l(t,r){if(!t)return null;for(var i=0;i<n;){if(e[i].elem===t&&null!==e[i].elem)return e[i].animation;i+=1}var o=new AnimationItem;return c(o,t),o.setData(t,r),o}function h(){i+=1,d()}function u(){i-=1}function c(t,r){t.addEventListener("destroy",s),t.addEventListener("_active",h),t.addEventListener("_idle",u),e.push({elem:r,animation:t}),n+=1}function f(t){var s,l=t-r;for(s=0;s<n;s+=1)e[s].animation.advanceTime(l);r=t,i&&!a?window.requestAnimationFrame(f):o=!0}function p(t){r=t,window.requestAnimationFrame(f)}function d(){!a&&i&&o&&(window.requestAnimationFrame(p),o=!1)}return t.registerAnimation=l,t.loadAnimation=function(t){var e=new AnimationItem;return c(e,null),e.setParams(t),e},t.setSpeed=function(t,r){var i;for(i=0;i<n;i+=1)e[i].animation.setSpeed(t,r)},t.setDirection=function(t,r){var i;for(i=0;i<n;i+=1)e[i].animation.setDirection(t,r)},t.play=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.play(t)},t.pause=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.pause(t)},t.stop=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.stop(t)},t.togglePause=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.togglePause(t)},t.searchAnimations=function(t,e,r){var n,i=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),o=i.length;for(n=0;n<o;n+=1)r&&i[n].setAttribute("data-bm-type",r),l(i[n],t);if(e&&0===o){r||(r="svg");var a=document.getElementsByTagName("body")[0];a.innerText="";var s=createTag("div");s.style.width="100%",s.style.height="100%",s.setAttribute("data-bm-type",r),a.appendChild(s),l(s,t)}},t.resize=function(){var t;for(t=0;t<n;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,r,i){var o;for(o=0;o<n;o+=1)e[o].animation.goToAndStop(t,r,i)},t.destroy=function(t){var r;for(r=n-1;r>=0;r-=1)e[r].animation.destroy(t)},t.freeze=function(){a=!0},t.unfreeze=function(){a=!1,d()},t.setVolume=function(t,r){var i;for(i=0;i<n;i+=1)e[i].animation.setVolume(t,r)},t.mute=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.mute(t)},t.unmute=function(t){var r;for(r=0;r<n;r+=1)e[r].animation.unmute(t)},t.getRegisteredAnimations=function(){var t,r=e.length,n=[];for(t=0;t<r;t+=1)n.push(e[t].animation);return n},t}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[]};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";switch(t.animType?e=t.animType:t.renderer&&(e=t.renderer),e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.configAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(t.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.setData=function(t,e){e&&"object"!=typeof e&&(e=JSON.parse(e));var r={wrapper:t,animationData:e},n=t.attributes;r.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",r.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:"canvas";var i=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";"false"===i?r.loop=!1:"true"===i?r.loop=!0:""!==i&&(r.loop=parseInt(i,10));var o=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;r.autoplay="false"!==o,r.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,r,n=this.animationData.layers,i=n.length,o=t.layers,a=o.length;for(r=0;r<a;r+=1)for(e=0;e<i;){if(n[e].id===o[r].id){n[e]=o[r];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(i=t.assets.length,e=0;e<i;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(t.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||!0===this.isPaused&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,r=0;r<this.markers.length;r+=1)if((e=this.markers[r]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,r){if(!r||this.name===r){var n=Number(t);if(isNaN(n)){var i=this.getMarkerData(t);i&&this.goToAndStop(i.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,r){if(!r||this.name===r){var n=Number(t);if(isNaN(n)){var i=this.getMarkerData(t);i&&(i.duration?this.playSegments([i.time,i.time+i.duration],!0):this.goToAndStop(i.time,!0))}else this.goToAndStop(n,e,r);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,r=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(r=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),r&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"==typeof t[0]){var r,n=t.length;for(r=0;r<n;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;e<r;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var Expressions=function(){var t={initExpressions:function(t){var e=0,r=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0==(e-=1)&&function(){var t,e=r.length;for(t=0;t<e;t+=1)r[t].release();r.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===r.indexOf(t)&&r.push(t)}}};return t}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||"boolean"===t||"string"===t||e instanceof Number}function $bm_neg(t){var e=typeof t;if("number"===e||"boolean"===e||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){var r,n=t.length,i=[];for(r=0;r<n;r+=1)i[r]=-t[r];return i}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var r=typeof t,n=typeof e;if("string"===r||"string"===n)return t+e;if(isNumerable(r,t)&&isNumerable(n,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]+=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,o=t.length,a=e.length,s=[];i<o||i<a;)("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?s[i]=t[i]+e[i]:s[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return s}return 0}var add=sum;function sub(t,e){var r=typeof t,n=typeof e;if(isNumerable(r,t)&&isNumerable(n,e))return"string"===r&&(t=parseInt(t,10)),"string"===n&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]-=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var i=0,o=t.length,a=e.length,s=[];i<o||i<a;)("number"==typeof t[i]||t[i]instanceof Number)&&("number"==typeof e[i]||e[i]instanceof Number)?s[i]=t[i]-e[i]:s[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return s}return 0}function mul(t,e){var r,n,i,o=typeof t,a=typeof e;if(isNumerable(o,t)&&isNumerable(a,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(i=t.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t[n]*e;return r}if(isNumerable(o,t)&&$bm_isInstanceOfArray(e)){for(i=e.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t*e[n];return r}return 0}function div(t,e){var r,n,i,o=typeof t,a=typeof e;if(isNumerable(o,t)&&isNumerable(a,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(a,e)){for(i=t.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t[n]/e;return r}if(isNumerable(o,t)&&$bm_isInstanceOfArray(e)){for(i=e.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=t/e[n];return r}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t,10)),"string"==typeof e&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,r){if(e>r){var n=r;r=e,e=n}return Math.min(Math.max(t,e),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);var r;e||(e=helperLengthArray);var n=Math.min(t.length,e.length),i=0;for(r=0;r<n;r+=1)i+=Math.pow(e[r]-t[r],2);return Math.sqrt(i)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,r,n=t[0],i=t[1],o=t[2],a=Math.max(n,i,o),s=Math.min(n,i,o),l=(a+s)/2;if(a===s)e=0,r=0;else{var h=a-s;switch(r=l>.5?h/(2-a-s):h/(a+s),a){case n:e=(i-o)/h+(i<o?6:0);break;case i:e=(o-n)/h+2;break;case o:e=(n-i)/h+4}e/=6}return[e,r,l,t[3]]}function hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function hslToRgb(t){var e,r,n,i=t[0],o=t[1],a=t[2];if(0===o)e=a,n=a,r=a;else{var s=a<.5?a*(1+o):a+o-a*o,l=2*a-s;e=hue2rgb(l,s,i+1/3),r=hue2rgb(l,s,i),n=hue2rgb(l,s,i-1/3)}return[e,r,n,t[3]]}function linear(t,e,r,n,i){if(void 0!==n&&void 0!==i||(n=e,i=r,e=0,r=1),r<e){var o=r;r=e,e=o}if(t<=e)return n;if(t>=r)return i;var a,s=r===e?0:(t-e)/(r-e);if(!n.length)return n+(i-n)*s;var l=n.length,h=createTypedArray("float32",l);for(a=0;a<l;a+=1)h[a]=n[a]+(i[a]-n[a])*s;return h}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var r,n=e.length;t||(t=createTypedArray("float32",n));var i=createTypedArray("float32",n),o=BMMath.random();for(r=0;r<n;r+=1)i[r]=t[r]+o*(e[r]-t[r]);return i}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,r,n){var i,o=t.length,a=shapePool.newElement();a.setPathData(!!n,o);var s,l,h=[0,0];for(i=0;i<o;i+=1)s=e&&e[i]?e[i]:h,l=r&&r[i]?r[i]:h,a.setTripleAt(t[i][0],t[i][1],l[0]+t[i][0],l[1]+t[i][1],s[0]+t[i][0],s[1]+t[i][1],i,!0);return a}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){var r,n,i=this.pv.length?this.pv.length:1,o=createTypedArray("float32",i),a=Math.floor(5*time);for(r=0,n=0;r<a;){for(n=0;n<i;n+=1)o[n]+=-e+2*e*BMMath.random();r+=1}var s=5*time,l=s-Math.floor(s),h=createTypedArray("float32",i);if(i>1){for(n=0;n<i;n+=1)h[n]=this.pv[n]+o[n]+(-e+2*e*BMMath.random())*l;return h}return this.pv+o[0]+(-e+2*e*BMMath.random())*l}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var r=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],n=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,n,0]}function easeOut(t,e,r,n,i){return applyEase(easeOutBez,t,e,r,n,i)}function easeIn(t,e,r,n,i){return applyEase(easeInBez,t,e,r,n,i)}function ease(t,e,r,n,i){return applyEase(easeInOutBez,t,e,r,n,i)}function applyEase(t,e,r,n,i,o){void 0===i?(i=r,o=n):e=(e-r)/(n-r),e>1?e=1:e<0&&(e=0);var a=t(e);if($bm_isInstanceOfArray(i)){var s,l=i.length,h=createTypedArray("float32",l);for(s=0;s<l;s+=1)h[s]=(o[s]-i[s])*a+i[s];return h}return(o-i)*a+i}function nearestKey(t){var e,r,n,i=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,n=data.k[0].t;else{for(e=0;e<i-1;e+=1){if(t===data.k[e].t){r=e+1,n=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(r=e+2,n=data.k[e+1].t):(r=e+1,n=data.k[e].t);break}}-1===r&&(r=e+1,n=data.k[e].t)}else r=0,n=0;var o={};return o.index=r,o.time=n/elem.comp.globalData.frameRate,o}function key(t){var e,r,n;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var i=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(n=i.length,r=0;r<n;r+=1)e[r]=i[r],e.value[r]=i[r];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(t,e,r){e.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(t,e,r).bind(r)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),r=this.getValueAtTime(t+-.01),n=0;if(e.length){var i;for(i=0;i<e.length;i+=1)n+=Math.pow(r[i]-e[i],2);n=100*Math.sqrt(n)}else n=0;return n},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,r,n=this.getValueAtTime(t),i=this.getValueAtTime(t+-.001);if(n.length)for(e=createTypedArray("float32",n.length),r=0;r<n.length;r+=1)e[r]=(i[r]-n[r])/-.001;else e=(i-n)/-.001;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};!function(){function t(t,e,r){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var n,i,o,a,s,l=this.comp.renderedFrame,h=this.keyframes,u=h[h.length-1].t;if(l<=u)return this.pv;if(r?i=u-(n=e?Math.abs(u-this.elem.comp.globalData.frameRate*e):Math.max(0,u-this.elem.data.ip)):((!e||e>h.length-1)&&(e=h.length-1),n=u-(i=h[h.length-1-e].t)),"pingpong"===t){if(Math.floor((l-i)/n)%2!=0)return this.getValueAtTime((n-(l-i)%n+i)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(i/this.comp.globalData.frameRate,0),f=this.getValueAtTime(u/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-i)%n+i)/this.comp.globalData.frameRate,0),d=Math.floor((l-i)/n);if(this.pv.length){for(a=(s=new Array(c.length)).length,o=0;o<a;o+=1)s[o]=(f[o]-c[o])*d+p[o];return s}return(f-c)*d+p}if("continue"===t){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),v=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(s=new Array(m.length)).length,o=0;o<a;o+=1)s[o]=m[o]+(m[o]-v[o])*((l-u)/this.comp.globalData.frameRate)/5e-4;return s}return m+(l-u)/.001*(m-v)}}return this.getValueAtTime(((l-i)%n+i)/this.comp.globalData.frameRate,0)}function e(t,e,r){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var n,i,o,a,s,l=this.comp.renderedFrame,h=this.keyframes,u=h[0].t;if(l>=u)return this.pv;if(r?i=u+(n=e?Math.abs(this.elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-u)):((!e||e>h.length-1)&&(e=h.length-1),n=(i=h[e].t)-u),"pingpong"===t){if(Math.floor((u-l)/n)%2==0)return this.getValueAtTime(((u-l)%n+u)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(u/this.comp.globalData.frameRate,0),f=this.getValueAtTime(i/this.comp.globalData.frameRate,0),p=this.getValueAtTime((n-(u-l)%n+u)/this.comp.globalData.frameRate,0),d=Math.floor((u-l)/n)+1;if(this.pv.length){for(a=(s=new Array(c.length)).length,o=0;o<a;o+=1)s[o]=p[o]-(f[o]-c[o])*d;return s}return p-(f-c)*d}if("continue"===t){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),v=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(s=new Array(m.length)).length,o=0;o<a;o+=1)s[o]=m[o]+(m[o]-v[o])*(u-l)/.001;return s}return m+(m-v)*(u-l)/.001}}return this.getValueAtTime((n-((u-l)%n+u))/this.comp.globalData.frameRate,0)}function r(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var r,n,i=this.comp.renderedFrame/this.comp.globalData.frameRate,o=i-t,a=e>1?(i+t-o)/(e-1):1,s=0,l=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;s<e;){if(n=this.getValueAtTime(o+s*a),this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]+=n[l];else r+=n;s+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]/=e;else r/=e;return r}function n(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e=this._transformCachingAtTime.v;if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var r=this.a.getValueAtTime(t);e.translate(-r[0]*this.a.mult,-r[1]*this.a.mult,r[2]*this.a.mult)}if(this.appliedTransformations<2){var n=this.s.getValueAtTime(t);e.scale(n[0]*this.s.mult,n[1]*this.s.mult,n[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var i=this.sk.getValueAtTime(t),o=this.sa.getValueAtTime(t);e.skewFromAxis(-i*this.sk.mult,o*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var a=this.r.getValueAtTime(t);e.rotate(-a*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var s=this.rz.getValueAtTime(t),l=this.ry.getValueAtTime(t),h=this.rx.getValueAtTime(t),u=this.or.getValueAtTime(t);e.rotateZ(-s*this.rz.mult).rotateY(l*this.ry.mult).rotateX(h*this.rx.mult).rotateZ(-u[2]*this.or.mult).rotateY(u[1]*this.or.mult).rotateX(u[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var c=this.px.getValueAtTime(t),f=this.py.getValueAtTime(t);if(this.data.p.z){var p=this.pz.getValueAtTime(t);e.translate(c*this.px.mult,f*this.py.mult,-p*this.pz.mult)}else e.translate(c*this.px.mult,f*this.py.mult,0)}else{var d=this.p.getValueAtTime(t);e.translate(d[0]*this.p.mult,d[1]*this.p.mult,-d[2]*this.p.mult)}return e}function i(){return this.v.clone(new Matrix)}var o=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,r){var a=o(t,e,r);return a.dynamicProperties.length?a.getValueAtTime=n.bind(a):a.getValueAtTime=i.bind(a),a.setGroupProperty=expressionHelpers.setGroupProperty,a};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(n,i,o,s,l){var h=a(n,i,o,s,l);h.kf?h.getValueAtTime=expressionHelpers.getValueAtTime.bind(h):h.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(h),h.setGroupProperty=expressionHelpers.setGroupProperty,h.loopOut=t,h.loopIn=e,h.smooth=r,h.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(h),h.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(h),h.numKeys=1===i.a?i.k.length:0,h.propertyIndex=i.ix;var u=0;return 0!==o&&(u=createTypedArray("float32",1===i.a?i.k[0].s.length:i.k.length)),h._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:u},expressionHelpers.searchExpressions(n,i,h),h.k&&l.addDynamicProperty(h),h};var s=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function h(){}h.prototype={vertices:function(t,e){this.k&&this.getValue();var r,n=this.v;void 0!==e&&(n=this.getValueAtTime(e,0));var i=n._length,o=n[t],a=n.v,s=createSizedArray(i);for(r=0;r<i;r+=1)s[r]="i"===t||"o"===t?[o[r][0]-a[r][0],o[r][1]-a[r][1]]:[o[r][0],o[r][1]];return s},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var n,i=this._segmentsLength,o=i.lengths,a=i.totalLength*t,s=0,l=o.length,h=0;s<l;){if(h+o[s].addedLength>a){var u=s,c=r.c&&s===l-1?0:s+1,f=(a-h)/o[s].addedLength;n=bez.getPointInSegment(r.v[u],r.v[c],r.o[u],r.i[c],f,o[s]);break}h+=o[s].addedLength,s+=1}return n||(n=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),n},vectorOnPath:function(t,e,r){1==t?t=this.v.c:0==t&&(t=.999);var n=this.pointOnPath(t,e),i=this.pointOnPath(t+.001,e),o=i[0]-n[0],a=i[1]-n[1],s=Math.sqrt(Math.pow(o,2)+Math.pow(a,2));return 0===s?[0,0]:"tangent"===r?[o/s,a/s]:[-a/s,o/s]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([h],s),extendPrototype([h],l),l.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var u=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,r,n,i){var o=u(t,e,r,n,i);return o.propertyIndex=e.ix,o.lock=!1,3===r?expressionHelpers.searchExpressions(t,e.pt,o):4===r&&expressionHelpers.searchExpressions(t,e.ks,o),o.k&&t.addDynamicProperty(o),o}}(),TextProperty.prototype.getExpressionValue=function(t,e){var r=this.calculateExpression(e);if(t.t!==r){var n={};return this.copyData(n,t),n.t=r.toString(),n.__complete=!1,n}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null};var ShapePathInterface=function(t,e,r){var n=e.sh;function i(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?i.path:null}var o=propertyGroupFactory(i,r);return n.setGroupProperty(PropertyInterface("Path",o)),Object.defineProperties(i,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:r}}),i},propertyGroupFactory=function(t,e){return function(r){return(r=void 0===r?1:r)<=0?t:e(r-1)}},PropertyInterface=function(t,e){var r={_name:t};return function(t){return(t=void 0===t?1:t)<=0?r:e(t-1)}},ShapeExpressionInterface=function(){function t(t,o,c){var f,p=[],d=t?t.length:0;for(f=0;f<d;f+=1)"gr"===t[f].ty?p.push(e(t[f],o[f],c)):"fl"===t[f].ty?p.push(r(t[f],o[f],c)):"st"===t[f].ty?p.push(n(t[f],o[f],c)):"tm"===t[f].ty?p.push(i(t[f],o[f],c)):"tr"===t[f].ty||("el"===t[f].ty?p.push(a(t[f],o[f],c)):"sr"===t[f].ty?p.push(s(t[f],o[f],c)):"sh"===t[f].ty?p.push(ShapePathInterface(t[f],o[f],c)):"rc"===t[f].ty?p.push(l(t[f],o[f],c)):"rd"===t[f].ty?p.push(h(t[f],o[f],c)):"rp"===t[f].ty&&p.push(u(t[f],o[f],c)));return p}function e(e,r,n){var i=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return i.content;default:return i.transform}};i.propertyGroup=propertyGroupFactory(i,n);var a=function(e,r,n){var i,a=function(t){for(var e=0,r=i.length;e<r;){if(i[e]._name===t||i[e].mn===t||i[e].propertyIndex===t||i[e].ix===t||i[e].ind===t)return i[e];e+=1}return"number"==typeof t?i[t-1]:null};a.propertyGroup=propertyGroupFactory(a,n),i=t(e.it,r.it,a.propertyGroup),a.numProperties=i.length;var s=o(e.it[e.it.length-1],r.it[r.it.length-1],a.propertyGroup);return a.transform=s,a.propertyIndex=e.cix,a._name=e.nm,a}(e,r,i.propertyGroup),s=o(e.it[e.it.length-1],r.it[r.it.length-1],i.propertyGroup);return i.content=a,i.transform=s,Object.defineProperty(i,"_name",{get:function(){return e.nm}}),i.numProperties=e.np,i.propertyIndex=e.ix,i.nm=e.nm,i.mn=e.mn,i}function r(t,e,r){function n(t){return"Color"===t||"color"===t?n.color:"Opacity"===t||"opacity"===t?n.opacity:null}return Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",r)),e.o.setGroupProperty(PropertyInterface("Opacity",r)),n}function n(t,e,r){var n,i=propertyGroupFactory(h,r),o=propertyGroupFactory(l,i);function a(r){Object.defineProperty(l,t.d[r].nm,{get:ExpressionPropertyInterface(e.d.dataProps[r].p)})}var s=t.d?t.d.length:0,l={};for(n=0;n<s;n+=1)a(n),e.d.dataProps[n].p.setGroupProperty(o);function h(t){return"Color"===t||"color"===t?h.color:"Opacity"===t||"opacity"===t?h.opacity:"Stroke Width"===t||"stroke width"===t?h.strokeWidth:null}return Object.defineProperties(h,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return l}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),e.w.setGroupProperty(PropertyInterface("Stroke Width",i)),h}function i(t,e,r){function n(e){return e===t.e.ix||"End"===e||"end"===e?n.end:e===t.s.ix?n.start:e===t.o.ix?n.offset:null}var i=propertyGroupFactory(n,r);return n.propertyIndex=t.ix,e.s.setGroupProperty(PropertyInterface("Start",i)),e.e.setGroupProperty(PropertyInterface("End",i)),e.o.setGroupProperty(PropertyInterface("Offset",i)),n.propertyIndex=t.ix,n.propertyGroup=r,Object.defineProperties(n,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),n.mn=t.mn,n}function o(t,e,r){function n(e){return t.a.ix===e||"Anchor Point"===e?n.anchorPoint:t.o.ix===e||"Opacity"===e?n.opacity:t.p.ix===e||"Position"===e?n.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?n.rotation:t.s.ix===e||"Scale"===e?n.scale:t.sk&&t.sk.ix===e||"Skew"===e?n.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?n.skewAxis:null}var i=propertyGroupFactory(n,r);return e.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",i)),e.transform.mProps.p.setGroupProperty(PropertyInterface("Position",i)),e.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",i)),e.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",i)),e.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",i)),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",i)),e.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",i))),e.transform.op.setGroupProperty(PropertyInterface("Opacity",i)),Object.defineProperties(n,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),n.ty="tr",n.mn=t.mn,n.propertyGroup=r,n}function a(t,e,r){function n(e){return t.p.ix===e?n.position:t.s.ix===e?n.size:null}var i=propertyGroupFactory(n,r);n.propertyIndex=t.ix;var o="tm"===e.sh.ty?e.sh.prop:e.sh;return o.s.setGroupProperty(PropertyInterface("Size",i)),o.p.setGroupProperty(PropertyInterface("Position",i)),Object.defineProperties(n,{size:{get:ExpressionPropertyInterface(o.s)},position:{get:ExpressionPropertyInterface(o.p)},_name:{value:t.nm}}),n.mn=t.mn,n}function s(t,e,r){function n(e){return t.p.ix===e?n.position:t.r.ix===e?n.rotation:t.pt.ix===e?n.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?n.outerRadius:t.os.ix===e?n.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?n.innerRoundness:null:n.innerRadius}var i=propertyGroupFactory(n,r),o="tm"===e.sh.ty?e.sh.prop:e.sh;return n.propertyIndex=t.ix,o.or.setGroupProperty(PropertyInterface("Outer Radius",i)),o.os.setGroupProperty(PropertyInterface("Outer Roundness",i)),o.pt.setGroupProperty(PropertyInterface("Points",i)),o.p.setGroupProperty(PropertyInterface("Position",i)),o.r.setGroupProperty(PropertyInterface("Rotation",i)),t.ir&&(o.ir.setGroupProperty(PropertyInterface("Inner Radius",i)),o.is.setGroupProperty(PropertyInterface("Inner Roundness",i))),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(o.p)},rotation:{get:ExpressionPropertyInterface(o.r)},points:{get:ExpressionPropertyInterface(o.pt)},outerRadius:{get:ExpressionPropertyInterface(o.or)},outerRoundness:{get:ExpressionPropertyInterface(o.os)},innerRadius:{get:ExpressionPropertyInterface(o.ir)},innerRoundness:{get:ExpressionPropertyInterface(o.is)},_name:{value:t.nm}}),n.mn=t.mn,n}function l(t,e,r){function n(e){return t.p.ix===e?n.position:t.r.ix===e?n.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?n.size:null}var i=propertyGroupFactory(n,r),o="tm"===e.sh.ty?e.sh.prop:e.sh;return n.propertyIndex=t.ix,o.p.setGroupProperty(PropertyInterface("Position",i)),o.s.setGroupProperty(PropertyInterface("Size",i)),o.r.setGroupProperty(PropertyInterface("Rotation",i)),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(o.p)},roundness:{get:ExpressionPropertyInterface(o.r)},size:{get:ExpressionPropertyInterface(o.s)},_name:{value:t.nm}}),n.mn=t.mn,n}function h(t,e,r){function n(e){return t.r.ix===e||"Round Corners 1"===e?n.radius:null}var i=propertyGroupFactory(n,r),o=e;return n.propertyIndex=t.ix,o.rd.setGroupProperty(PropertyInterface("Radius",i)),Object.defineProperties(n,{radius:{get:ExpressionPropertyInterface(o.rd)},_name:{value:t.nm}}),n.mn=t.mn,n}function u(t,e,r){function n(e){return t.c.ix===e||"Copies"===e?n.copies:t.o.ix===e||"Offset"===e?n.offset:null}var i=propertyGroupFactory(n,r),o=e;return n.propertyIndex=t.ix,o.c.setGroupProperty(PropertyInterface("Copies",i)),o.o.setGroupProperty(PropertyInterface("Offset",i)),Object.defineProperties(n,{copies:{get:ExpressionPropertyInterface(o.c)},offset:{get:ExpressionPropertyInterface(o.o)},_name:{value:t.nm}}),n.mn=t.mn,n}return function(e,r,n){var i;function o(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?n:i[t-1];for(var e=0,r=i.length;e<r;){if(i[e]._name===t)return i[e];e+=1}return null}return o.propertyGroup=propertyGroupFactory(o,(function(){return n})),i=t(e,r,o.propertyGroup),o.numProperties=i.length,o._name="Contents",o}}(),TextExpressionInterface=function(t){var e;function r(t){switch(t){case"ADBE Text Document":return r.sourceText;default:return null}}return Object.defineProperty(r,"sourceText",{get:function(){t.textProperty.getValue();var r=t.textProperty.currentData.t;return void 0!==r&&(t.textProperty.currentData.t=void 0,(e=new String(r)).value=r||new String(r)),e}}),r},LayerExpressionInterface=function(){function t(t){var e=new Matrix;return void 0!==t?this._elem.finalTransform.mProp.getValueAtTime(t).clone(e):this._elem.finalTransform.mProp.applyToMatrix(e),e}function e(t,e){var r=this.getMatrix(e);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.applyPoint(r,t)}function r(t,e){var r=this.getMatrix(e);return this.applyPoint(r,t)}function n(t,e){var r=this.getMatrix(e);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.invertPoint(r,t)}function i(t,e){var r=this.getMatrix(e);return this.invertPoint(r,t)}function o(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t)}return t.applyToPointArray(e[0],e[1],e[2]||0)}function a(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t)}return t.inversePoint(e)}function s(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var r,n=this._elem.hierarchy.length;for(r=0;r<n;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function l(){return[1,1,1,1]}return function(h){var u;function c(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return c.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return u;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return c.effect;case"ADBE Text Properties":return c.textInterface;default:return null}}c.getMatrix=t,c.invertPoint=a,c.applyPoint=o,c.toWorld=r,c.toWorldVec=e,c.fromWorld=i,c.fromWorldVec=n,c.toComp=r,c.fromComp=s,c.sampleImage=l,c.sourceRectAtTime=h.sourceRectAtTime.bind(h),c._elem=h;var f=getDescriptor(u=TransformExpressionInterface(h.finalTransform.mProp),"anchorPoint");return Object.defineProperties(c,{hasParent:{get:function(){return h.hierarchy.length}},parent:{get:function(){return h.hierarchy[0].layerInterface}},rotation:getDescriptor(u,"rotation"),scale:getDescriptor(u,"scale"),position:getDescriptor(u,"position"),opacity:getDescriptor(u,"opacity"),anchorPoint:f,anchor_point:f,transform:{get:function(){return u}},active:{get:function(){return h.isInRange}}}),c.startTime=h.data.st,c.index=h.data.ind,c.source=h.data.refId,c.height=0===h.data.ty?h.data.h:100,c.width=0===h.data.ty?h.data.w:100,c.inPoint=h.data.ip/h.comp.globalData.frameRate,c.outPoint=h.data.op/h.comp.globalData.frameRate,c._name=h.data.nm,c.registerMaskInterface=function(t){c.mask=new MaskManagerInterface(t,h)},c.registerEffectsInterface=function(t){c.effect=t},c}}(),FootageInterface=(dataInterfaceFactory=function(t){function e(t){return"Outline"===t?e.outlineInterface():null}return e._name="Outline",e.outlineInterface=function(t){var e="",r=t.getFootageData();function n(t){if(r[t])return e=t,"object"==typeof(r=r[t])?n:r;var i=t.indexOf(e);if(-1!==i){var o=parseInt(t.substr(i+e.length),10);return"object"==typeof(r=r[o])?n:r}return""}return function(){return e="",r=t.getFootageData(),n}}(t),e},function(t){function e(t){return"Data"===t?e.dataInterface:null}return e._name="Data",e.dataInterface=dataInterfaceFactory(t),e}),dataInterfaceFactory,CompExpressionInterface=function(t){function e(e){for(var r=0,n=t.layers.length;r<n;){if(t.layers[r].nm===e||t.layers[r].ind===e)return t.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e},TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var r,n,i,o;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?o=ExpressionPropertyInterface(t.p):(r=ExpressionPropertyInterface(t.px),n=ExpressionPropertyInterface(t.py),t.pz&&(i=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?o():[r(),n(),i?i():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,r=this.compositions.length;e<r;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){function t(r,n,i,o){function a(t){for(var e=r.ef,n=0,i=e.length;n<i;){if(t===e[n].nm||t===e[n].mn||t===e[n].ix)return 5===e[n].ty?h[n]:h[n]();n+=1}throw new Error}var s,l=propertyGroupFactory(a,i),h=[],u=r.ef.length;for(s=0;s<u;s+=1)5===r.ef[s].ty?h.push(t(r.ef[s],n.effectElements[s],n.effectElements[s].propertyGroup,o)):h.push(e(n.effectElements[s],r.ef[s].ty,o,l));return"ADBE Color Control"===r.mn&&Object.defineProperty(a,"color",{get:function(){return h[0]()}}),Object.defineProperties(a,{numProperties:{get:function(){return r.np}},_name:{value:r.nm},propertyGroup:{value:l}}),a.enabled=0!==r.en,a.active=a.enabled,a}function e(t,e,r,n){var i=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",n)),function(){return 10===e?r.comp.compInterface(t.p.v):i()}}return{createEffectsInterface:function(e,r){if(e.effectsManager){var n,i=[],o=e.data.ef,a=e.effectsManager.effectElements.length;for(n=0;n<a;n+=1)i.push(t(o[n],e.effectsManager.effectElements[n],r,e));var s=e.data.ef||[],l=function(t){for(n=0,a=s.length;n<a;){if(t===s[n].nm||t===s[n].mn||t===s[n].ix)return i[n];n+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return s.length}}),l}return null}}}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e){var r,n=createSizedArray(e.viewData.length),i=e.viewData.length;for(r=0;r<i;r+=1)n[r]=new t(e.viewData[r],e.masksProperties[r]);return function(t){for(r=0;r<i;){if(e.masksProperties[r].nm===t)return n[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function r(t,e,r){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(n){if(!t.numKeys)return 0;var i;i="s"in e.keyframes[n-1]?e.keyframes[n-1].s:"e"in e.keyframes[n-2]?e.keyframes[n-2].e:e.keyframes[n-2].s;var o="unidimensional"===r?new Number(i):Object.assign({},i);return o.time=e.keyframes[n-1].t/e.elem.comp.globalData.frameRate,o.value="unidimensional"===r?i[0]:i,o},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function n(){return t}return function(i){return i?"unidimensional"===i.propType?function(e){e&&"pv"in e||(e=t);var n=1/e.mult,i=e.pv*n,o=new Number(i);return o.value=i,r(o,e,"unidimensional"),function(){return e.k&&e.getValue(),i=e.v*n,o.value!==i&&((o=new Number(i)).value=i,r(o,e,"unidimensional")),o}}(i):function(t){t&&"pv"in t||(t=e);var n=1/t.mult,i=t.data&&t.data.l||t.pv.length,o=createTypedArray("float32",i),a=createTypedArray("float32",i);return o.value=a,r(o,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<i;e+=1)a[e]=t.v[e]*n,o[e]=a[e];return o}}(i):n}}();function SliderEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function AngleEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function ColorEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function PointEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function LayerIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function MaskIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function CheckboxEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var r,n=t.ef||[];this.effectElements=[];var i,o=n.length;for(r=0;r<o;r+=1)i=new GroupEffect(n[r],e),this.effectElements.push(i)}function GroupEffect(t,e){this.init(t,e)}!function(){var t=TextSelectorProp.getTextSelectorProp;TextSelectorProp.getTextSelectorProp=function(e,r,n){return 1===r.t?new TextExpressionSelectorPropFactory(e,r,n):t(e,r,n)}}(),extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){var r;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var n,i=this.data.ef.length,o=this.data.ef;for(r=0;r<i;r+=1){switch(n=null,o[r].ty){case 0:n=new SliderEffect(o[r],e,this);break;case 1:n=new AngleEffect(o[r],e,this);break;case 2:n=new ColorEffect(o[r],e,this);break;case 3:n=new PointEffect(o[r],e,this);break;case 4:case 7:n=new CheckboxEffect(o[r],e,this);break;case 10:n=new LayerIndexEffect(o[r],e,this);break;case 11:n=new MaskIndexEffect(o[r],e,this);break;case 5:n=new EffectsManager(o[r],e,this);break;default:n=new NoValueEffect(o[r],e,this)}n&&this.effectElements.push(n)}};var lottie={};function setLocationHref(t){locationHref=t}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){subframeEnabled=t}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;default:case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),r=0;r<e.length;r+=1){var n=e[r].split("=");if(decodeURIComponent(n[0])==t)return decodeURIComponent(n[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.__getFactory=getFactory,lottie.version="5.7.8";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="",queryString;if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src.replace(/^[^\?]+\??/,""),renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie}))})),PlayerState,PlayerEvent,t;function parseSrc(t){if("object"==typeof t)return t;try{return JSON.parse(t)}catch(t){}try{return new URL(t).toString()}catch(t){}return t}t=PlayerState||(PlayerState={}),t.Loading="loading",t.Playing="playing",t.Paused="paused",t.Stopped="stopped",t.Frozen="frozen",t.Error="error",function(t){t.Load="load",t.Error="error",t.Ready="ready",t.Play="play",t.Pause="pause",t.Stop="stop",t.Freeze="freeze",t.Loop="loop",t.Complete="complete",t.Frame="frame"}(PlayerEvent||(PlayerEvent={}));var defaultOptions={clearCanvas:!1,hideOnTransparent:!0,progressiveLoad:!0},Player=function(t){function e(e){var r=t.call(this,e)||this;return r.container=null,r.handleBgChange=function(t){r.setState({background:t})},r.triggerDownload=function(t,e){var r=document.createElement("a");r.href=t,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)},r.snapshot=function(t){var e;void 0===t&&(t=!0);var n=r.props.id?r.props.id:"lottie",i=document.getElementById(n);if("svg"===r.props.renderer){if(i){var o=i.querySelector("svg");if(o){var a=(new XMLSerializer).serializeToString(o);e="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a)}}t&&r.triggerDownload(e,"snapshot.svg")}else if("canvas"===r.props.renderer){if(i){var s=i.querySelector("canvas");s&&(e=s.toDataURL("image/png"))}t&&r.triggerDownload(e,"snapshot.png")}return e},"undefined"!=typeof window&&(window.lottie=lottie),r.state={animationData:null,background:"transparent",containerRef:react__WEBPACK_IMPORTED_MODULE_0__.createRef(),debug:!0,instance:null,playerState:PlayerState.Loading,seeker:0},r}return __extends(e,t),e.getDerivedStateFromProps=function(t,e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(r){return t.background!==e.background?[2,{background:t.background}]:[2,null]}))}))},e.prototype.componentDidMount=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,this.createLottie()];case 1:return t.sent(),[2]}}))}))},e.prototype.componentWillUnmount=function(){this.state.instance&&this.state.instance.destroy()},e.prototype.componentDidUpdate=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return this.props.src===t.src?[3,2]:(this.state.instance&&this.state.instance.destroy(),[4,this.createLottie()]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.render=function(){var t=this,e=this.props,r=e.children,n=e.loop,i=e.style,o=e.onBackgroundChange,a=e.className,s=this.state,l=s.animationData,h=s.instance,u=s.playerState,c=s.seeker,f=s.debug,p=s.background;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-player-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:this.props.id?this.props.id:"lottie",ref:function(e){return t.container=e},style:__assign({background:p,margin:"0 auto",outline:"none",overflow:"hidden"},i),className:a}),react__WEBPACK_IMPORTED_MODULE_0__.Children.map(r,(function(e){return react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(e)?react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(e,{animationData:l,background:p,debug:f,instance:h,loop:n,pause:function(){return t.pause()},play:function(){return t.play()},playerState:u,seeker:c,setBackground:function(e){t.setState({background:e}),"function"==typeof o&&o(e)},setSeeker:function(e,r){return t.setSeeker(e,r)},stop:function(){return t.stop()},toggleDebug:function(){return t.toggleDebug()},setLoop:function(e){return t.setLoop(e)},colorChangedEvent:function(e){t.handleBgChange(e)},snapshot:function(){t.snapshot()}}):null})))},e.prototype.toggleDebug=function(){this.setState({debug:!this.state.debug})},e.prototype.createLottie=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,r,n,i,o,a,s,l,h,u,c,f,p,d=this;return __generator(this,(function(m){switch(m.label){case 0:if(t=this.props,e=t.autoplay,r=t.direction,n=t.loop,i=t.lottieRef,o=t.renderer,a=t.speed,s=t.src,l=t.background,h=t.rendererSettings,u=t.hover,c=this.state.instance,!s||!this.container)return[2];m.label=1;case 1:return m.trys.push([1,5,,6]),"string"!=typeof(f=parseSrc(s))?[3,4]:[4,fetch(f)];case 2:return[4,m.sent().json()];case 3:f=m.sent(),m.label=4;case 4:return c&&c.destroy(),p=lottie.loadAnimation({rendererSettings:h||defaultOptions,animationData:f,autoplay:e||!1,container:this.container,loop:n||!1,renderer:o}),a&&lottie.setSpeed(a),this.setState({animationData:f}),p.addEventListener("enterFrame",(function(){d.triggerEvent(PlayerEvent.Frame),d.setState({seeker:Math.floor(p.currentFrame)})})),p.addEventListener("DOMLoaded",(function(){d.triggerEvent(PlayerEvent.Load)})),p.addEventListener("data_ready",(function(){d.triggerEvent(PlayerEvent.Ready)})),p.addEventListener("data_failed",(function(){d.setState({playerState:PlayerState.Error})})),p.addEventListener("loopComplete",(function(){d.triggerEvent(PlayerEvent.Loop)})),p.addEventListener("complete",(function(){d.triggerEvent(PlayerEvent.Complete),d.setState({playerState:PlayerState.Paused}),d.props.keepLastFrame&&!d.props.loop||d.setSeeker(0)})),this.container.addEventListener("mouseenter",(function(){u&&d.state.playerState!==PlayerState.Playing&&(d.props.keepLastFrame&&d.stop(),d.play())})),this.container.addEventListener("mouseleave",(function(){u&&d.state.playerState===PlayerState.Playing&&d.stop()})),a&&this.setPlayerSpeed(a),r&&this.setPlayerDirection(r),l&&this.setState({background:l}),this.setState({instance:p},(function(){"function"==typeof i&&i(p),e&&d.play()})),[3,6];case 5:return m.sent(),this.setState({playerState:PlayerState.Error}),[3,6];case 6:return[2]}}))}))},e.prototype.play=function(){var t=this.state.instance;t&&(this.triggerEvent(PlayerEvent.Play),t.play(),this.setState({playerState:PlayerState.Playing}))},e.prototype.pause=function(){var t=this.state.instance;t&&(this.triggerEvent(PlayerEvent.Pause),t.pause(),this.setState({playerState:PlayerState.Paused}))},e.prototype.stop=function(){var t=this.state.instance;t&&(this.triggerEvent(PlayerEvent.Stop),t.stop(),this.setState({playerState:PlayerState.Stopped}))},e.prototype.setPlayerSpeed=function(t){var e=this.state.instance;e&&e.setSpeed(t)},e.prototype.setPlayerDirection=function(t){var e=this.state.instance;e&&e.setDirection(t)},e.prototype.setSeeker=function(t,e){void 0===e&&(e=!1);var r=this.state,n=r.instance,i=r.playerState;n&&(e&&i===PlayerState.Playing?n.goToAndPlay(t,!0):(n.goToAndStop(t,!0),this.triggerEvent(PlayerEvent.Pause),this.setState({playerState:PlayerState.Paused})))},e.prototype.setLoop=function(t){var e=this.state.instance;e&&(e.loop=t,this.setState({instance:e}))},e.prototype.triggerEvent=function(t){var e=this.props.onEvent;e&&e(t)},e.defaultProps={loop:!1},e}(react__WEBPACK_IMPORTED_MODULE_0__.Component);function styleInject(t,e){void 0===e&&(e={});var r=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===r&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var css_248z=".lf-progress {\n  -webkit-appearance: none;\n  -moz-apperance: none;\n  width: 100%;\n  /* margin: 0 10px; */\n  height: 4px;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.lf-progress:focus {\n  outline: none;\n  border: none;\n}\n.lf-progress::-moz-range-track {\n  cursor: pointer;\n  background: none;\n  border: none;\n  outline: none;\n}\n.lf-progress::-webkit-slider-thumb {\n  -webkit-appearance: none !important;\n  height: 13px;\n  width: 13px;\n  border: 0;\n  border-radius: 50%;\n  background: #0fccce;\n  cursor: pointer;\n}\n.lf-progress::-moz-range-thumb {\n  -moz-appearance: none !important;\n  height: 13px;\n  width: 13px;\n  border: 0;\n  border-radius: 50%;\n  background: #0fccce;\n  cursor: pointer;\n}\n.lf-progress::-ms-track {\n  width: 100%;\n  height: 3px;\n  cursor: pointer;\n  background: transparent;\n  border-color: transparent;\n  color: transparent;\n}\n.lf-progress::-ms-fill-lower {\n  background: #ccc;\n  border-radius: 3px;\n}\n.lf-progress::-ms-fill-upper {\n  background: #ccc;\n  border-radius: 3px;\n}\n.lf-progress::-ms-thumb {\n  border: 0;\n  height: 15px;\n  width: 15px;\n  border-radius: 50%;\n  background: #0fccce;\n  cursor: pointer;\n}\n.lf-progress:focus::-ms-fill-lower {\n  background: #ccc;\n}\n.lf-progress:focus::-ms-fill-upper {\n  background: #ccc;\n}\n.lf-player-container :focus {\n  outline: 0;\n}\n.lf-popover {\n  position: relative;\n}\n\n.lf-popover-content {\n  display: inline-block;\n  position: absolute;\n  opacity: 1;\n  visibility: visible;\n  transform: translate(0, -10px);\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);\n}\n\n.lf-popover-content.hidden {\n  opacity: 0;\n  visibility: hidden;\n  transform: translate(0, 0px);\n}\n\n.lf-player-btn-container {\n  display: flex;\n  align-items: center;\n}\n.lf-player-btn {\n  cursor: pointer;\n  fill: #999;\n  width: 14px;\n}\n\n.lf-player-btn.active {\n  fill: #555;\n}\n\n.lf-popover {\n  position: relative;\n}\n\n.lf-popover-content {\n  display: inline-block;\n  position: absolute;\n  background-color: #ffffff;\n  opacity: 1;\n\n  transform: translate(0, -10px);\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);\n  padding: 10px;\n}\n\n.lf-popover-content.hidden {\n  opacity: 0;\n  visibility: hidden;\n  transform: translate(0, 0px);\n}\n\n.lf-arrow {\n  position: absolute;\n  z-index: -1;\n  content: '';\n  bottom: -9px;\n  border-style: solid;\n  border-width: 10px 10px 0px 10px;\n}\n\n.lf-left-align,\n.lf-left-align .lfarrow {\n  left: 0;\n  right: unset;\n}\n\n.lf-right-align,\n.lf-right-align .lf-arrow {\n  right: 0;\n  left: unset;\n}\n\n.lf-text-input {\n  border: 1px #ccc solid;\n  border-radius: 5px;\n  padding: 3px;\n  width: 60px;\n  margin: 0;\n}\n\n.lf-color-picker {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  height: 90px;\n}\n\n.lf-color-selectors {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.lf-color-component {\n  display: flex;\n  flex-direction: row;\n  font-size: 12px;\n  align-items: center;\n  justify-content: center;\n}\n\n.lf-color-component strong {\n  width: 40px;\n}\n\n.lf-color-component input[type='range'] {\n  margin: 0 0 0 10px;\n}\n\n.lf-color-component input[type='number'] {\n  width: 50px;\n  margin: 0 0 0 10px;\n}\n\n.lf-color-preview {\n  font-size: 12px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  padding-left: 5px;\n}\n\n.lf-preview {\n  height: 60px;\n  width: 60px;\n}\n\n.lf-popover-snapshot {\n  width: 150px;\n}\n.lf-popover-snapshot h5 {\n  margin: 5px 0 10px 0;\n  font-size: 0.75rem;\n}\n.lf-popover-snapshot a {\n  display: block;\n  text-decoration: none;\n}\n.lf-popover-snapshot a:before {\n  content: '⥼';\n  margin-right: 5px;\n}\n.lf-popover-snapshot .lf-note {\n  display: block;\n  margin-top: 10px;\n  color: #999;\n}\n.lf-player-controls > div {\n  margin-right: 5px;\n  margin-left: 5px;\n}\n.lf-player-controls > div:first-child {\n  margin-left: 0px;\n}\n.lf-player-controls > div:last-child {\n  margin-right: 0px;\n}\n",stylesheet=".lf-progress {\n  -webkit-appearance: none;\n  -moz-apperance: none;\n  width: 100%;\n  /* margin: 0 10px; */\n  height: 4px;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.lf-progress:focus {\n  outline: none;\n  border: none;\n}\n.lf-progress::-moz-range-track {\n  cursor: pointer;\n  background: none;\n  border: none;\n  outline: none;\n}\n.lf-progress::-webkit-slider-thumb {\n  -webkit-appearance: none !important;\n  height: 13px;\n  width: 13px;\n  border: 0;\n  border-radius: 50%;\n  background: #0fccce;\n  cursor: pointer;\n}\n.lf-progress::-moz-range-thumb {\n  -moz-appearance: none !important;\n  height: 13px;\n  width: 13px;\n  border: 0;\n  border-radius: 50%;\n  background: #0fccce;\n  cursor: pointer;\n}\n.lf-progress::-ms-track {\n  width: 100%;\n  height: 3px;\n  cursor: pointer;\n  background: transparent;\n  border-color: transparent;\n  color: transparent;\n}\n.lf-progress::-ms-fill-lower {\n  background: #ccc;\n  border-radius: 3px;\n}\n.lf-progress::-ms-fill-upper {\n  background: #ccc;\n  border-radius: 3px;\n}\n.lf-progress::-ms-thumb {\n  border: 0;\n  height: 15px;\n  width: 15px;\n  border-radius: 50%;\n  background: #0fccce;\n  cursor: pointer;\n}\n.lf-progress:focus::-ms-fill-lower {\n  background: #ccc;\n}\n.lf-progress:focus::-ms-fill-upper {\n  background: #ccc;\n}\n.lf-player-container :focus {\n  outline: 0;\n}\n.lf-popover {\n  position: relative;\n}\n\n.lf-popover-content {\n  display: inline-block;\n  position: absolute;\n  opacity: 1;\n  visibility: visible;\n  transform: translate(0, -10px);\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);\n}\n\n.lf-popover-content.hidden {\n  opacity: 0;\n  visibility: hidden;\n  transform: translate(0, 0px);\n}\n\n.lf-player-btn-container {\n  display: flex;\n  align-items: center;\n}\n.lf-player-btn {\n  cursor: pointer;\n  fill: #999;\n  width: 14px;\n}\n\n.lf-player-btn.active {\n  fill: #555;\n}\n\n.lf-popover {\n  position: relative;\n}\n\n.lf-popover-content {\n  display: inline-block;\n  position: absolute;\n  background-color: #ffffff;\n  opacity: 1;\n\n  transform: translate(0, -10px);\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);\n  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);\n  padding: 10px;\n}\n\n.lf-popover-content.hidden {\n  opacity: 0;\n  visibility: hidden;\n  transform: translate(0, 0px);\n}\n\n.lf-arrow {\n  position: absolute;\n  z-index: -1;\n  content: '';\n  bottom: -9px;\n  border-style: solid;\n  border-width: 10px 10px 0px 10px;\n}\n\n.lf-left-align,\n.lf-left-align .lfarrow {\n  left: 0;\n  right: unset;\n}\n\n.lf-right-align,\n.lf-right-align .lf-arrow {\n  right: 0;\n  left: unset;\n}\n\n.lf-text-input {\n  border: 1px #ccc solid;\n  border-radius: 5px;\n  padding: 3px;\n  width: 60px;\n  margin: 0;\n}\n\n.lf-color-picker {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  height: 90px;\n}\n\n.lf-color-selectors {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.lf-color-component {\n  display: flex;\n  flex-direction: row;\n  font-size: 12px;\n  align-items: center;\n  justify-content: center;\n}\n\n.lf-color-component strong {\n  width: 40px;\n}\n\n.lf-color-component input[type='range'] {\n  margin: 0 0 0 10px;\n}\n\n.lf-color-component input[type='number'] {\n  width: 50px;\n  margin: 0 0 0 10px;\n}\n\n.lf-color-preview {\n  font-size: 12px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  padding-left: 5px;\n}\n\n.lf-preview {\n  height: 60px;\n  width: 60px;\n}\n\n.lf-popover-snapshot {\n  width: 150px;\n}\n.lf-popover-snapshot h5 {\n  margin: 5px 0 10px 0;\n  font-size: 0.75rem;\n}\n.lf-popover-snapshot a {\n  display: block;\n  text-decoration: none;\n}\n.lf-popover-snapshot a:before {\n  content: '⥼';\n  margin-right: 5px;\n}\n.lf-popover-snapshot .lf-note {\n  display: block;\n  margin-top: 10px;\n  color: #999;\n}\n.lf-player-controls > div {\n  margin-right: 5px;\n  margin-left: 5px;\n}\n.lf-player-controls > div:first-child {\n  margin-left: 0px;\n}\n.lf-player-controls > div:last-child {\n  margin-right: 0px;\n}\n";styleInject(css_248z);var ColorPicker=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={red:0,green:0,blue:0,rgba:null,hex:"#000000",colorComponents:[]},e.handleChange=function(t,r){if("r"===t){var n="#"+(256|r).toString(16).slice(1)+(256|e.state.green).toString(16).slice(1)+(256|e.state.blue).toString(16).slice(1);e.setState({hex:n})}else"g"===t?(n="#"+(256|e.state.red).toString(16).slice(1)+(256|r).toString(16).slice(1)+(256|e.state.blue).toString(16).slice(1),e.setState({hex:n})):"b"===t&&(n="#"+(256|e.state.red).toString(16).slice(1)+(256|e.state.green).toString(16).slice(1)+(256|r).toString(16).slice(1),e.setState({hex:n}))},e.parseColor=function(t){var r;if("string"==typeof t){if("#"===t[0]){var n=4===t.length?[t.slice(1,2),t.slice(2,3),t.slice(3,4)].map((function(t){return parseInt(""+t+t,16)})):[t.slice(1,3),t.slice(3,5),t.slice(5,7)].map((function(t){return parseInt(t,16)}));e.setState({colorComponents:n})}else t.startsWith("rgb")&&void 0!==(n=null===(r=t.match(/\d+/g))||void 0===r?void 0:r.map((function(t){return parseInt(t)})))&&e.setState({colorComponents:n});e.state.colorComponents.length&&(e.setState({red:e.state.colorComponents[0]}),e.setState({green:e.state.colorComponents[1]}),e.setState({blue:e.state.colorComponents[2]}))}},e}return __extends(e,t),e.prototype.componentDidUpdate=function(t,e){return this.props.colorChangedEvent&&this.state.hex!==e.hex&&this.props.colorChangedEvent(this.state.hex),!0},e.prototype.render=function(){var t=this;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-color-picker"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-color-selectors"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-color-component"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,"Red"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"range",min:"0",max:"255",value:this.state.red,onChange:function(e){t.setState({red:e.target.value}),t.handleChange("r",e.target.value)}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.red,onChange:function(e){t.setState({red:e.target.value}),t.handleChange("r",e.target.value)}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-color-component"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,"Green"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"range",min:"0",max:"255",value:this.state.green,onChange:function(e){t.setState({green:e.target.value}),t.handleChange("g",e.target.value)}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.green,onChange:function(e){t.setState({green:e.target.value}),t.handleChange("g",e.target.value)}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-color-component"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,"Blue"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"range",min:"0",max:"255",value:this.state.blue,onChange:function(e){t.setState({blue:e.target.value}),t.handleChange("b",e.target.value)}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{className:"lf-text-input",type:"number",min:"0",max:"255",value:this.state.blue,onChange:function(e){t.setState({blue:e.target.value}),t.handleChange("b",e.target.value)}}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-color-preview"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-preview",style:{background:"rgb("+this.state.red+", "+this.state.green+", "+this.state.blue+")"}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{className:"lf-text-input",type:"text",value:this.state.hex,onChange:function(e){t.setState({hex:e.target.value}),t.parseColor(e.target.value)}}))))},e}(react__WEBPACK_IMPORTED_MODULE_0__.Component),Popover=function(t){var e=t.children,r=t.icon,n=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),i=n[0],o=n[1],a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),s=a[0],l=a[1],h=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),u=h[0],c=h[1],f=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),p=f[0],d=f[1];return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(i&&s){var t=i.getBoundingClientRect(),e=s.getBoundingClientRect(),r=t.left+e.width>window.innerWidth?-1:0;c(r)}}),[u,s,i]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-popover",onMouseOver:function(){d(!0)},onMouseLeave:function(){d(!1)},ref:function(t){o(t)}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:" lf-player-btn"},r),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-popover-content",ref:function(t){l(t)},style:{bottom:"22px",right:"0px",zIndex:2,visibility:p?"visible":"hidden"}},e))},Seeker=function(t){function e(e){var r=t.call(this,e)||this;return r.inputRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef(),r.handleChange=function(){return function(t){var e=t.target.value,n=Math.floor(e/100*r.props.max);r.props.onChange(n)}},r.state={value:0},r}return __extends(e,t),e.prototype.render=function(){var t=this.props.value/this.props.max*100,e={backgroundImage:"-webkit-gradient(linear, left top, right top, color-stop("+t+"%, rgba(15, 204, 206, 0.4)), color-stop("+t+"%, #DAE1E7))"},r={position:"absolute",left:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"},n={position:"absolute",right:0,marginTop:"8px",width:"20px",display:"block",border:"0px",backgroundColor:this.props.darkTheme?"#505050":"rgb(218, 225, 231)",color:this.props.darkTheme?"#B9B9B9":"#555",padding:"2px",textAlign:"center",borderRadius:"3px",fontSize:"8px",fontWeight:"bold"};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginRight:"5px",marginLeft:"5px",position:"relative"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{ref:this.inputRef,id:"track",className:"lf-progress",name:"progress",type:"range",min:"0",max:"100",step:"0.1",value:t,onInput:this.handleChange(),onChange:this.handleChange(),style:e}),this.props.showLabels&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:r},this.props.min),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:n},this.props.max)))},e}(react__WEBPACK_IMPORTED_MODULE_0__.Component),ControlButtonStyle={display:"inline-flex",cursor:"pointer"},Controls=function(t){function e(e){var r=t.call(this,e)||this;return r.state={activeFrame:0,mouseDown:!1},r}return __extends(e,t),e.prototype.render=function(){var t=this,e=this.props,r=e.instance,n=e.playerState,i=e.seeker,o=e.setLoop,a=e.setSeeker,s=e.play,l=e.pause,h=e.stop,u=e.visible,c=e.buttons;if(!r)return null;if(!u)return null;var f=!c||c.includes("play"),p=!c||c.includes("stop"),d=!c||c.includes("repeat"),m=!c||c.includes("frame"),v=!c||c.includes("background"),y=!c||c.includes("snapshot"),g={width:14,height:14,viewBox:"0 0 24 24"},_=Math.round(r.currentFrame);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lf-player-controls",style:{display:"flex",justifyContent:"space-between",height:"60px",alignItems:"center",backgroundColor:this.props.transparentTheme?"transparent":this.props.darkTheme?"#3C3C3C":"#ffffff",paddingLeft:"10px",paddingRight:"10px"}},f&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{role:"button",tabIndex:0,onClick:function(){n===PlayerState.Playing?"function"==typeof l&&l():"function"==typeof s&&s()},onKeyDown:function(){n===PlayerState.Playing?"function"==typeof l&&l():"function"==typeof s&&s()},className:"lf-player-btn",style:ControlButtonStyle},n===PlayerState.Playing?react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",__assign({},g),react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"14",y:".5"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{height:"22.9",rx:"1.9",width:"7.6",x:"2",y:".5"})):react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",__assign({},g),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M2 3.4C2 1.9 3.5 1 4.8 1.8l16.5 9.6c1.2.7 1.2 2.5 0 3.2L4.8 24.2C3.5 25 2 24.1 2 22.6V3.4z"}))),p&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{tabIndex:0,role:"button",onClick:function(){return h&&h()},onKeyDown:function(){return h&&h()},className:n===PlayerState.Stopped?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",__assign({},g),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M2 3.667A1.67 1.67 0 0 1 3.667 2h16.666A1.67 1.67 0 0 1 22 3.667v16.666A1.67 1.67 0 0 1 20.333\n            22H3.667A1.67 1.67 0 0 1 2 20.333z"}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(Seeker,{min:0,step:1,max:r?r.totalFrames:1,value:i||0,onChange:function(e){a&&t.setState({activeFrame:e},(function(){a(e,!1)}))},onChangeEnd:function(e){a&&t.setState({activeFrame:e},(function(){a(e,!1)}))},showLabels:this.props.showLabels,darkTheme:this.props.darkTheme}),m&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{role:"button",className:"lf-player-btn-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{style:{outline:"none",border:this.props.darkTheme?"1px #505050 solid":"1px #ccc solid",borderRadius:"3px",width:"40px",textAlign:"center",backgroundColor:this.props.darkTheme?"#505050":"#ffffff",color:this.props.darkTheme?"#B9B9B9":"#999",fontSize:"0.7rem",padding:"0",fontFamily:"inherit"},type:"text",value:_,readOnly:!0})),d&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{role:"button",tabIndex:0,onClick:function(){r&&o&&o(!r.loop)},onKeyDown:function(){r&&o&&o(!r.loop)},className:r.loop?"lf-player-btn active":"lf-player-btn",style:ControlButtonStyle},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",__assign({},g),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M12.5 16.8137h-.13v1.8939h4.9696c3.6455 0 6.6113-2.9658 6.6113-6.6116\n            0-3.64549-2.9658-6.61131-6.6113-6.61131-.5231 0-.947.42391-.947.94696 0 .52304.4239.94696.947.94696 2.6011 0\n            4.7174 2.11634 4.7174 4.71739 0 2.6014-2.1166 4.7177-4.7174 4.7177H12.5zM13.6025\n            5.61469v-.13H7.48137C3.83582 5.48469.87 8.45051.87 12.096c0 3.6509 3.17269 6.6117 6.81304 6.6117.52304 0\n            .94696-.424.94696-.947 0-.5231-.42392-.947-.94696-.947-2.60804 0-4.91907-2.1231-4.91907-4.7176 0-2.60115\n            2.11634-4.71744 4.7174-4.71744h6.12113V5.61469z",stroke:"#8795A1",strokeWidth:".26"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M11.1482\n            2.20355h0l-.001-.00116c-.3412-.40061-.9405-.44558-1.33668-.0996h-.00001c-.39526.34519-.43936.94795-.09898\n            1.34767l2.51487 3.03683-2.51894 3.06468c-.33872.40088-.29282 1.00363.10347\n            1.34723l.08517-.0982-.08517.0982c.17853.1549.39807.2308.61647.2308.2671 0 .5328-.114.72-.3347h0l.0011-.0014\n            3.0435-3.68655.0006-.00068c.3035-.35872.3025-.88754-.0019-1.24526l-3.0425-3.65786zM13.9453\n            21.7965h0l.001.0011c.3413.4006.9407.4456 1.337.0996h0c.3953-.3452.4395-.9479.099-1.3477l-2.5154-3.0368\n            2.5195-3.0647c.3388-.4008.2929-1.0036-.1035-1.3472l-.0852.0982.0852-.0982c-.1786-.1549-.3981-.2308-.6166-.2308-.2671\n            0-.5329.114-.7202.3347h0l-.0011.0014-3.0442\n            3.6865c-.0001.0003-.0003.0005-.0005.0007-.3036.3587-.3027.8876.0019 1.2453l3.0431 3.6579z",fill:"#8795A1",stroke:"#8795A1",strokeWidth:".26"}))),v&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(Popover,{icon:react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",__assign({},g),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M12 3.1L6.1 8.6a7.6 7.6 0 00-2.2 4 7.2 7.2 0 00.4 4.4 7.9 7.9 0 003 3.5 8.7 8.7 0 004.7 1.3c1.6 0\n            3.2-.5 4.6-1.3s2.4-2 3-3.5a7.2 7.2 0 00.5-4.5 7.6 7.6 0 00-2.2-4L12 3.2zM12 0l7.5 7a9.8 9.8 0 013 5.1\n            9.3 9.3 0 01-.6 5.8c-.9 1.8-2.2 3.3-4 4.4A11.2 11.2 0 0112 24a11.2 11.2 0\n            01-6-1.7c-1.7-1-3-2.6-3.9-4.4a9.3 9.3 0 01-.6-5.8c.4-2 1.5-3.7 3-5L12 0zM6 14h12c0 1.5-.7 3-1.8 4s-2.6\n            1.6-4.2 1.6S9 19 7.8 18s-1.7-2.5-1.7-4z"}))},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{slot:"content",className:"lf-popover popover-background"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ColorPicker,{colorChangedEvent:this.props.colorChangedEvent}))),y&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(Popover,{icon:react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",__assign({},g),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{clipRule:"evenodd",d:"M0 3.01A2.983 2.983 0 012.983.027H16.99a2.983 2.983 0 012.983 2.983v14.008a2.982 2.982 0 01-2.983\n              2.983H2.983A2.983 2.983 0 010 17.018zm2.983-.941a.941.941 0 00-.942.94v14.01c0\n              .52.422.94.942.94H16.99a.94.94 0 00.941-.94V3.008a.941.941 0 00-.94-.94H2.981z",fillRule:"evenodd"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M12.229 7.945l-2.07 4.598-2.586-2.605-2.414 2.758v2.146h9.656V11.93z"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:"7.444",cy:"6.513",r:"2.032"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9.561 23.916h11.25a2.929 2.929 0 002.926-2.927V9.954a1.06 1.06 0 10-2.122 0v11.035a.805.805 0\n              01-.803.804H9.562a1.061 1.061 0 100 2.123z",stroke:"#8795a1",strokeWidth:".215"}))},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{slot:"content",className:"lf-popover lf-popover-snapshot",onWheel:function(t){a&&a(_+(t.deltaY>0?-1:1),!1)}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h5",null,"Frame ",_),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download SVG"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{cursor:"pointer",color:"#0FCCCE"},onClick:this.props.snapshot},"Download PNG"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"lf-note"},"Scroll with mousewheel to find exact frame"))))},e}(react__WEBPACK_IMPORTED_MODULE_0__.Component)}).call(this,__webpack_require__("yLpj"))},uGsb:function(t,e,r){var n,i,o,a,s,l,h,u;t.exports=(u=r("Ib8C"),r("MlIO"),r("1uat"),i=(n=u).x64,o=i.Word,a=i.WordArray,s=n.algo,l=s.SHA512,h=s.SHA384=l.extend({_doReset:function(){this._hash=new a.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var t=l._doFinalize.call(this);return t.sigBytes-=16,t}}),n.SHA384=l._createHelper(h),n.HmacSHA384=l._createHmacHelper(h),u.SHA384)},uGxW:function(t,e,r){var n;t.exports=(n=r("Ib8C"),r("OLod"),n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)},viRO:function(t,e,r){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r("MgzW"),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,h=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(t,e,r){this.props=t,this.context=e,this.refs=_,this.updater=r||g}function x(){}function w(t,e,r){this.props=t,this.context=e,this.refs=_,this.updater=r||g}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=b.prototype;var T=w.prototype=new x;T.constructor=w,n(T,b.prototype),T.isPureReactComponent=!0;var S={current:null},E=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,r){var n,i={},a=null,s=null;if(null!=e)for(n in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)E.call(e,n)&&!M.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var h=Array(l),u=0;u<l;u++)h[u]=arguments[u+2];i.children=h}if(t&&t.defaultProps)for(n in l=t.defaultProps)void 0===i[n]&&(i[n]=l[n]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:S.current}}function A(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}var P=/\/+/g,k=[];function O(t,e,r,n){if(k.length){var i=k.pop();return i.result=t,i.keyPrefix=e,i.func=r,i.context=n,i.count=0,i}return{result:t,keyPrefix:e,func:r,context:n,count:0}}function D(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>k.length&&k.push(t)}function I(t,e,r){return null==t?0:function t(e,r,n,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case o:case a:l=!0}}if(l)return n(i,e,""===r?"."+R(e,0):r),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var h=0;h<e.length;h++){var u=r+R(s=e[h],h);l+=t(s,u,n,i)}else if(null===e||"object"!=typeof e?u=null:u="function"==typeof(u=v&&e[v]||e["@@iterator"])?u:null,"function"==typeof u)for(e=u.call(e),h=0;!(s=e.next()).done;)l+=t(s=s.value,u=r+R(s,h++),n,i);else if("object"===s)throw n=""+e,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return l}(t,"",e,r)}function R(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function F(t,e){t.func.call(t.context,e,t.count++)}function L(t,e,r){var n=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?N(t,n,r,(function(t){return t})):null!=t&&(A(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(P,"$&/")+"/")+r)),n.push(t))}function N(t,e,r,n,i){var o="";null!=r&&(o=(""+r).replace(P,"$&/")+"/"),I(t,L,e=O(e,o,n,i)),D(e)}var B={current:null};function z(){var t=B.current;if(null===t)throw Error(y(321));return t}var j={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:n};e.Children={map:function(t,e,r){if(null==t)return t;var n=[];return N(t,n,null,e,r),n},forEach:function(t,e,r){if(null==t)return t;I(t,F,e=O(null,null,e,r)),D(e)},count:function(t){return I(t,(function(){return null}),null)},toArray:function(t){var e=[];return N(t,e,null,(function(t){return t})),e},only:function(t){if(!A(t))throw Error(y(143));return t}},e.Component=b,e.Fragment=s,e.Profiler=h,e.PureComponent=w,e.StrictMode=l,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,e.cloneElement=function(t,e,r){if(null==t)throw Error(y(267,t));var i=n({},t.props),a=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=S.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(u in e)E.call(e,u)&&!M.hasOwnProperty(u)&&(i[u]=void 0===e[u]&&void 0!==h?h[u]:e[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){h=Array(u);for(var c=0;c<u;c++)h[c]=arguments[c+2];i.children=h}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:c,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:t},t.Consumer=t},e.createElement=C,e.createFactory=function(t){var e=C.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return z().useCallback(t,e)},e.useContext=function(t,e){return z().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return z().useEffect(t,e)},e.useImperativeHandle=function(t,e,r){return z().useImperativeHandle(t,e,r)},e.useLayoutEffect=function(t,e){return z().useLayoutEffect(t,e)},e.useMemo=function(t,e){return z().useMemo(t,e)},e.useReducer=function(t,e,r){return z().useReducer(t,e,r)},e.useRef=function(t){return z().useRef(t)},e.useState=function(t){return z().useState(t)},e.version="16.14.0"},w7YG:function(t,e,r){var n;t.exports=(n=r("Ib8C"),r("ETIr"),r("cv67"),r("K3mO"),r("OLod"),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=r.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var o=0;i<256;i++){var a=i%r,s=e[a>>>2]>>>24-a%4*8&255;o=(o+n[i]+s)%256;var l=n[i];n[i]=n[o],n[o]=l}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[r],t[r]=o,n|=t[(t[e]+t[r])%256]<<24-8*i}return this._i=e,this._j=r,n}t.RC4=e._createHelper(i);var a=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});t.RC4Drop=e._createHelper(a)}(),n.RC4)},wTVA:function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},wZgz:function(t,e,r){var n;t.exports=(n=r("Ib8C"),r("ETIr"),r("cv67"),r("K3mO"),r("OLod"),function(){var t=n,e=t.lib.BlockCipher,r=t.algo,i=[],o=[],a=[],s=[],l=[],h=[],u=[],c=[],f=[],p=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,n=0;for(e=0;e<256;e++){var d=n^n<<1^n<<2^n<<3^n<<4;d=d>>>8^255&d^99,i[r]=d,o[d]=r;var m=t[r],v=t[m],y=t[v],g=257*t[d]^16843008*d;a[r]=g<<24|g>>>8,s[r]=g<<16|g>>>16,l[r]=g<<8|g>>>24,h[r]=g,g=16843009*y^65537*v^257*m^16843008*r,u[d]=g<<24|g>>>8,c[d]=g<<16|g>>>16,f[d]=g<<8|g>>>24,p[d]=g,r?(r=m^t[t[t[y^m]]],n^=t[t[n]]):r=n=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],m=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],a=0;a<n;a++)a<r?o[a]=e[a]:(h=o[a-1],a%r?r>6&&a%r==4&&(h=i[h>>>24]<<24|i[h>>>16&255]<<16|i[h>>>8&255]<<8|i[255&h]):(h=i[(h=h<<8|h>>>24)>>>24]<<24|i[h>>>16&255]<<16|i[h>>>8&255]<<8|i[255&h],h^=d[a/r|0]<<24),o[a]=o[a-r]^h);for(var s=this._invKeySchedule=[],l=0;l<n;l++){if(a=n-l,l%4)var h=o[a];else h=o[a-4];s[l]=l<4||a<=4?h:u[i[h>>>24]]^c[i[h>>>16&255]]^f[i[h>>>8&255]]^p[i[255&h]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,l,h,i)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,u,c,f,p,o),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,i,o,a,s){for(var l=this._nRounds,h=t[e]^r[0],u=t[e+1]^r[1],c=t[e+2]^r[2],f=t[e+3]^r[3],p=4,d=1;d<l;d++){var m=n[h>>>24]^i[u>>>16&255]^o[c>>>8&255]^a[255&f]^r[p++],v=n[u>>>24]^i[c>>>16&255]^o[f>>>8&255]^a[255&h]^r[p++],y=n[c>>>24]^i[f>>>16&255]^o[h>>>8&255]^a[255&u]^r[p++],g=n[f>>>24]^i[h>>>16&255]^o[u>>>8&255]^a[255&c]^r[p++];h=m,u=v,c=y,f=g}m=(s[h>>>24]<<24|s[u>>>16&255]<<16|s[c>>>8&255]<<8|s[255&f])^r[p++],v=(s[u>>>24]<<24|s[c>>>16&255]<<16|s[f>>>8&255]<<8|s[255&h])^r[p++],y=(s[c>>>24]<<24|s[f>>>16&255]<<16|s[h>>>8&255]<<8|s[255&u])^r[p++],g=(s[f>>>24]<<24|s[h>>>16&255]<<16|s[u>>>8&255]<<8|s[255&c])^r[p++],t[e]=m,t[e+1]=v,t[e+2]=y,t[e+3]=g},keySize:8});t.AES=e._createHelper(m)}(),n.AES)},wbyO:function(t,e,r){var n,i,o;t.exports=(o=r("Ib8C"),i=(n=o).lib.WordArray,n.enc.Base64url={stringify:function(t,e=!0){var r=t.words,n=t.sigBytes,i=e?this._safe_map:this._map;t.clamp();for(var o=[],a=0;a<n;a+=3)for(var s=(r[a>>>2]>>>24-a%4*8&255)<<16|(r[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|r[a+2>>>2]>>>24-(a+2)%4*8&255,l=0;l<4&&a+.75*l<n;l++)o.push(i.charAt(s>>>6*(3-l)&63));var h=i.charAt(64);if(h)for(;o.length%4;)o.push(h);return o.join("")},parse:function(t,e=!0){var r=t.length,n=e?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<n.length;a++)o[n.charCodeAt(a)]=a}var s=n.charAt(64);if(s){var l=t.indexOf(s);-1!==l&&(r=l)}return function(t,e,r){for(var n=[],o=0,a=0;a<e;a++)if(a%4){var s=r[t.charCodeAt(a-1)]<<a%4*2,l=r[t.charCodeAt(a)]>>>6-a%4*2,h=s|l;n[o>>>2]|=h<<24-o%4*8,o++}return i.create(n,o)}(t,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},o.enc.Base64url)},wkBT:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},yLpj:function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},yXPU:function(t,e){function r(t,e,r,n,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(n,i)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,l,"next",t)}function l(t){r(a,i,o,s,l,"throw",t)}s(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},yl30:function(t,e,r){"use strict";
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r("q1tI"),i=r("MgzW"),o=r("QCnb");function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));function s(t,e,r,n,i,o,a,s,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(t){this.onError(t)}}var l=!1,h=null,u=!1,c=null,f={onError:function(t){l=!0,h=t}};function p(t,e,r,n,i,o,a,u,c){l=!1,h=null,s.apply(f,arguments)}var d=null,m=null,v=null;function y(t,e,r){var n=t.type||"unknown-event";t.currentTarget=v(r),function(t,e,r,n,i,o,s,f,d){if(p.apply(this,arguments),l){if(!l)throw Error(a(198));var m=h;l=!1,h=null,u||(u=!0,c=m)}}(n,e,void 0,t),t.currentTarget=null}var g=null,_={};function b(){if(g)for(var t in _){var e=_[t],r=g.indexOf(t);if(!(-1<r))throw Error(a(96,t));if(!w[r]){if(!e.extractEvents)throw Error(a(97,t));for(var n in w[r]=e,r=e.eventTypes){var i=void 0,o=r[n],s=e,l=n;if(T.hasOwnProperty(l))throw Error(a(99,l));T[l]=o;var h=o.phasedRegistrationNames;if(h){for(i in h)h.hasOwnProperty(i)&&x(h[i],s,l);i=!0}else o.registrationName?(x(o.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(a(98,n,t))}}}}function x(t,e,r){if(S[t])throw Error(a(100,t));S[t]=e,E[t]=e.eventTypes[r].dependencies}var w=[],T={},S={},E={};function M(t){var e,r=!1;for(e in t)if(t.hasOwnProperty(e)){var n=t[e];if(!_.hasOwnProperty(e)||_[e]!==n){if(_[e])throw Error(a(102,e));_[e]=n,r=!0}}r&&b()}var C=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),A=null,P=null,k=null;function O(t){if(t=m(t)){if("function"!=typeof A)throw Error(a(280));var e=t.stateNode;e&&(e=d(e),A(t.stateNode,t.type,e))}}function D(t){P?k?k.push(t):k=[t]:P=t}function I(){if(P){var t=P,e=k;if(k=P=null,O(t),e)for(t=0;t<e.length;t++)O(e[t])}}function R(t,e){return t(e)}function F(t,e,r,n,i){return t(e,r,n,i)}function L(){}var N=R,B=!1,z=!1;function j(){null===P&&null===k||(L(),I())}function V(t,e,r){if(z)return t(e,r);z=!0;try{return N(t,e,r)}finally{z=!1,j()}}var U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,H={},G={};function Y(t,e,r,n,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o}var X={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){X[t]=new Y(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];X[e]=new Y(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){X[t]=new Y(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){X[t]=new Y(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){X[t]=new Y(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){X[t]=new Y(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){X[t]=new Y(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){X[t]=new Y(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){X[t]=new Y(t,5,!1,t.toLowerCase(),null,!1)}));var q=/[\-:]([a-z])/g;function K(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(q,K);X[e]=new Y(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(q,K);X[e]=new Y(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(q,K);X[e]=new Y(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){X[t]=new Y(t,1,!1,t.toLowerCase(),null,!1)})),X.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){X[t]=new Y(t,1,!1,t.toLowerCase(),null,!0)}));var Z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(t,e,r,n){var i=X.hasOwnProperty(e)?X[e]:null;(null!==i?0===i.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,r,n){if(null==e||function(t,e,r,n){if(null!==r&&0===r.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,r,i,n)&&(r=null),n||null===i?function(t){return!!W.call(G,t)||!W.call(H,t)&&(U.test(t)?G[t]=!0:(H[t]=!0,!1))}(e)&&(null===r?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=null===r?3!==i.type&&"":r:(e=i.attributeName,n=i.attributeNamespace,null===r?t.removeAttribute(e):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}Z.hasOwnProperty("ReactCurrentDispatcher")||(Z.ReactCurrentDispatcher={current:null}),Z.hasOwnProperty("ReactCurrentBatchConfig")||(Z.ReactCurrentBatchConfig={suspense:null});var $=/^(.*)[\\\/]/,Q="function"==typeof Symbol&&Symbol.for,tt=Q?Symbol.for("react.element"):60103,et=Q?Symbol.for("react.portal"):60106,rt=Q?Symbol.for("react.fragment"):60107,nt=Q?Symbol.for("react.strict_mode"):60108,it=Q?Symbol.for("react.profiler"):60114,ot=Q?Symbol.for("react.provider"):60109,at=Q?Symbol.for("react.context"):60110,st=Q?Symbol.for("react.concurrent_mode"):60111,lt=Q?Symbol.for("react.forward_ref"):60112,ht=Q?Symbol.for("react.suspense"):60113,ut=Q?Symbol.for("react.suspense_list"):60120,ct=Q?Symbol.for("react.memo"):60115,ft=Q?Symbol.for("react.lazy"):60116,pt=Q?Symbol.for("react.block"):60121,dt="function"==typeof Symbol&&Symbol.iterator;function mt(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=dt&&t[dt]||t["@@iterator"])?t:null}function vt(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case rt:return"Fragment";case et:return"Portal";case it:return"Profiler";case nt:return"StrictMode";case ht:return"Suspense";case ut:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case at:return"Context.Consumer";case ot:return"Context.Provider";case lt:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ct:return vt(t.type);case pt:return vt(t.render);case ft:if(t=1===t._status?t._result:null)return vt(t)}return null}function yt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break t;default:var n=t._debugOwner,i=t._debugSource,o=vt(t.type);r=null,n&&(r=vt(n.type)),n=o,o="",i?o=" (at "+i.fileName.replace($,"")+":"+i.lineNumber+")":r&&(o=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+o}e+=r,t=t.return}while(t);return e}function gt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function _t(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function bt(t){t._valueTracker||(t._valueTracker=function(t){var e=_t(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){n=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function xt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=_t(t)?t.checked?"true":"false":t.value),(t=n)!==r&&(e.setValue(t),!0)}function wt(t,e){var r=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:t._wrapperState.initialChecked})}function Tt(t,e){var r=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;r=gt(null!=e.value?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function St(t,e){null!=(e=e.checked)&&J(t,"checked",e,!1)}function Et(t,e){St(t,e);var r=gt(e.value),n=e.type;if(null!=r)"number"===n?(0===r&&""===t.value||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?Ct(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ct(t,e.type,gt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Mt(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}""!==(r=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==r&&(t.name=r)}function Ct(t,e,r){"number"===e&&t.ownerDocument.activeElement===t||(null==r?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function At(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return n.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Pt(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+gt(r),e=null,i=0;i<t.length;i++){if(t[i].value===r)return t[i].selected=!0,void(n&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function kt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ot(t,e){var r=e.value;if(null==r){if(r=e.children,e=e.defaultValue,null!=r){if(null!=e)throw Error(a(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(a(93));r=r[0]}e=r}null==e&&(e=""),r=e}t._wrapperState={initialValue:gt(r)}}function Dt(t,e){var r=gt(e.value),n=gt(e.defaultValue);null!=r&&((r=""+r)!==t.value&&(t.value=r),null==e.defaultValue&&t.defaultValue!==r&&(t.defaultValue=r)),null!=n&&(t.defaultValue=""+n)}function It(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Rt="http://www.w3.org/1999/xhtml",Ft="http://www.w3.org/2000/svg";function Lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Lt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Bt,zt=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction((function(){return t(e,r)}))}:t}((function(t,e){if(t.namespaceURI!==Ft||"innerHTML"in t)t.innerHTML=e;else{for((Bt=Bt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function jt(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&3===r.nodeType)return void(r.nodeValue=e)}t.textContent=e}function Vt(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ut={animationend:Vt("Animation","AnimationEnd"),animationiteration:Vt("Animation","AnimationIteration"),animationstart:Vt("Animation","AnimationStart"),transitionend:Vt("Transition","TransitionEnd")},Wt={},Ht={};function Gt(t){if(Wt[t])return Wt[t];if(!Ut[t])return t;var e,r=Ut[t];for(e in r)if(r.hasOwnProperty(e)&&e in Ht)return Wt[t]=r[e];return t}C&&(Ht=document.createElement("div").style,"AnimationEvent"in window||(delete Ut.animationend.animation,delete Ut.animationiteration.animation,delete Ut.animationstart.animation),"TransitionEvent"in window||delete Ut.transitionend.transition);var Yt=Gt("animationend"),Xt=Gt("animationiteration"),qt=Gt("animationstart"),Kt=Gt("transitionend"),Zt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jt=new("function"==typeof WeakMap?WeakMap:Map);function $t(t){var e=Jt.get(t);return void 0===e&&(e=new Map,Jt.set(t,e)),e}function Qt(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).effectTag)&&(r=e.return),t=e.return}while(t)}return 3===e.tag?r:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Qt(t)!==t)throw Error(a(188))}function re(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Qt(t)))throw Error(a(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return ee(i),t;if(o===n)return ee(i),e;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ne(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ie(t,e,r){Array.isArray(t)?t.forEach(e,r):t&&e.call(r,t)}var oe=null;function ae(t){if(t){var e=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(e))for(var n=0;n<e.length&&!t.isPropagationStopped();n++)y(t,e[n],r[n]);else e&&y(t,e,r);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function se(t){if(null!==t&&(oe=ne(oe,t)),t=oe,oe=null,t){if(ie(t,ae),oe)throw Error(a(95));if(u)throw t=c,u=!1,c=null,t}}function le(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function he(t){if(!C)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}var ue=[];function ce(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ue.length&&ue.push(t)}function fe(t,e,r,n){if(ue.length){var i=ue.pop();return i.topLevelType=t,i.eventSystemFlags=n,i.nativeEvent=e,i.targetInst=r,i}return{topLevelType:t,eventSystemFlags:n,nativeEvent:e,targetInst:r,ancestors:[]}}function pe(t){var e=t.targetInst,r=e;do{if(!r){t.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(e=r.tag)&&6!==e||t.ancestors.push(r),r=Mr(n)}while(r);for(r=0;r<t.ancestors.length;r++){e=t.ancestors[r];var i=le(t.nativeEvent);n=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===r&&(a|=64);for(var s=null,l=0;l<w.length;l++){var h=w[l];h&&(h=h.extractEvents(n,e,o,i,a))&&(s=ne(s,h))}se(s)}}function de(t,e,r){if(!r.has(t)){switch(t){case"scroll":qe(e,"scroll",!0);break;case"focus":case"blur":qe(e,"focus",!0),qe(e,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":he(t)&&qe(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Zt.indexOf(t)&&Xe(t,e)}r.set(t,null)}}var me,ve,ye,ge=!1,_e=[],be=null,xe=null,we=null,Te=new Map,Se=new Map,Ee=[],Me="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ce="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ae(t,e,r,n,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|r,nativeEvent:i,container:n}}function Pe(t,e){switch(t){case"focus":case"blur":be=null;break;case"dragenter":case"dragleave":xe=null;break;case"mouseover":case"mouseout":we=null;break;case"pointerover":case"pointerout":Te.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Se.delete(e.pointerId)}}function ke(t,e,r,n,i,o){return null===t||t.nativeEvent!==o?(t=Ae(e,r,n,i,o),null!==e&&(null!==(e=Cr(e))&&ve(e)),t):(t.eventSystemFlags|=n,t)}function Oe(t){var e=Mr(t.target);if(null!==e){var r=Qt(e);if(null!==r)if(13===(e=r.tag)){if(null!==(e=te(r)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){ye(r)}))}else if(3===e&&r.stateNode.hydrate)return void(t.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}t.blockedOn=null}function De(t){if(null!==t.blockedOn)return!1;var e=$e(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var r=Cr(e);return null!==r&&ve(r),t.blockedOn=e,!1}return!0}function Ie(t,e,r){De(t)&&r.delete(e)}function Re(){for(ge=!1;0<_e.length;){var t=_e[0];if(null!==t.blockedOn){null!==(t=Cr(t.blockedOn))&&me(t);break}var e=$e(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:_e.shift()}null!==be&&De(be)&&(be=null),null!==xe&&De(xe)&&(xe=null),null!==we&&De(we)&&(we=null),Te.forEach(Ie),Se.forEach(Ie)}function Fe(t,e){t.blockedOn===e&&(t.blockedOn=null,ge||(ge=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Re)))}function Le(t){function e(e){return Fe(e,t)}if(0<_e.length){Fe(_e[0],t);for(var r=1;r<_e.length;r++){var n=_e[r];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==be&&Fe(be,t),null!==xe&&Fe(xe,t),null!==we&&Fe(we,t),Te.forEach(e),Se.forEach(e),r=0;r<Ee.length;r++)(n=Ee[r]).blockedOn===t&&(n.blockedOn=null);for(;0<Ee.length&&null===(r=Ee[0]).blockedOn;)Oe(r),null===r.blockedOn&&Ee.shift()}var Ne={},Be=new Map,ze=new Map,je=["abort","abort",Yt,"animationEnd",Xt,"animationIteration",qt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Kt,"transitionEnd","waiting","waiting"];function Ve(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[n],eventPriority:e},ze.set(n,e),Be.set(n,o),Ne[i]=o}}Ve("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ve("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ve(je,2);for(var Ue="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<Ue.length;We++)ze.set(Ue[We],0);var He=o.unstable_UserBlockingPriority,Ge=o.unstable_runWithPriority,Ye=!0;function Xe(t,e){qe(e,t,!1)}function qe(t,e,r){var n=ze.get(e);switch(void 0===n?2:n){case 0:n=Ke.bind(null,e,1,t);break;case 1:n=Ze.bind(null,e,1,t);break;default:n=Je.bind(null,e,1,t)}r?t.addEventListener(e,n,!0):t.addEventListener(e,n,!1)}function Ke(t,e,r,n){B||L();var i=Je,o=B;B=!0;try{F(i,t,e,r,n)}finally{(B=o)||j()}}function Ze(t,e,r,n){Ge(He,Je.bind(null,t,e,r,n))}function Je(t,e,r,n){if(Ye)if(0<_e.length&&-1<Me.indexOf(t))t=Ae(null,t,e,r,n),_e.push(t);else{var i=$e(t,e,r,n);if(null===i)Pe(t,n);else if(-1<Me.indexOf(t))t=Ae(i,t,e,r,n),_e.push(t);else if(!function(t,e,r,n,i){switch(e){case"focus":return be=ke(be,t,e,r,n,i),!0;case"dragenter":return xe=ke(xe,t,e,r,n,i),!0;case"mouseover":return we=ke(we,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Te.set(o,ke(Te.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Se.set(o,ke(Se.get(o)||null,t,e,r,n,i)),!0}return!1}(i,t,e,r,n)){Pe(t,n),t=fe(t,n,null,e);try{V(pe,t)}finally{ce(t)}}}}function $e(t,e,r,n){if(null!==(r=Mr(r=le(n)))){var i=Qt(r);if(null===i)r=null;else{var o=i.tag;if(13===o){if(null!==(r=te(i)))return r;r=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}t=fe(t,n,r,e);try{V(pe,t)}finally{ce(t)}return null}var Qe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tr=["Webkit","ms","Moz","O"];function er(t,e,r){return null==e||"boolean"==typeof e||""===e?"":r||"number"!=typeof e||0===e||Qe.hasOwnProperty(t)&&Qe[t]?(""+e).trim():e+"px"}function rr(t,e){for(var r in t=t.style,e)if(e.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=er(r,e[r],n);"float"===r&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}Object.keys(Qe).forEach((function(t){tr.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qe[e]=Qe[t]}))}));var nr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ir(t,e){if(e){if(nr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(a(62,""))}}function or(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ar=Rt;function sr(t,e){var r=$t(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=E[e];for(var n=0;n<e.length;n++)de(e[n],t,r)}function lr(){}function hr(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function ur(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cr(t,e){var r,n=ur(t);for(t=0;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=ur(n)}}function fr(){for(var t=window,e=hr();e instanceof t.HTMLIFrameElement;){try{var r="string"==typeof e.contentWindow.location.href}catch(t){r=!1}if(!r)break;e=hr((t=e.contentWindow).document)}return e}function pr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var dr=null,mr=null;function vr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function yr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var gr="function"==typeof setTimeout?setTimeout:void 0,_r="function"==typeof clearTimeout?clearTimeout:void 0;function br(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function xr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var r=t.data;if("$"===r||"$!"===r||"$?"===r){if(0===e)return t;e--}else"/$"===r&&e++}t=t.previousSibling}return null}var wr=Math.random().toString(36).slice(2),Tr="__reactInternalInstance$"+wr,Sr="__reactEventHandlers$"+wr,Er="__reactContainere$"+wr;function Mr(t){var e=t[Tr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Er]||r[Tr]){if(r=e.alternate,null!==e.child||null!==r&&null!==r.child)for(t=xr(t);null!==t;){if(r=t[Tr])return r;t=xr(t)}return e}r=(t=r).parentNode}return null}function Cr(t){return!(t=t[Tr]||t[Er])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Ar(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function Pr(t){return t[Sr]||null}function kr(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Or(t,e){var r=t.stateNode;if(!r)return null;var n=d(r);if(!n)return null;r=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(r&&"function"!=typeof r)throw Error(a(231,e,typeof r));return r}function Dr(t,e,r){(e=Or(t,r.dispatchConfig.phasedRegistrationNames[e]))&&(r._dispatchListeners=ne(r._dispatchListeners,e),r._dispatchInstances=ne(r._dispatchInstances,t))}function Ir(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,r=[];e;)r.push(e),e=kr(e);for(e=r.length;0<e--;)Dr(r[e],"captured",t);for(e=0;e<r.length;e++)Dr(r[e],"bubbled",t)}}function Rr(t,e,r){t&&r&&r.dispatchConfig.registrationName&&(e=Or(t,r.dispatchConfig.registrationName))&&(r._dispatchListeners=ne(r._dispatchListeners,e),r._dispatchInstances=ne(r._dispatchInstances,t))}function Fr(t){t&&t.dispatchConfig.registrationName&&Rr(t._targetInst,null,t)}function Lr(t){ie(t,Ir)}var Nr=null,Br=null,zr=null;function jr(){if(zr)return zr;var t,e,r=Br,n=r.length,i="value"in Nr?Nr.value:Nr.textContent,o=i.length;for(t=0;t<n&&r[t]===i[t];t++);var a=n-t;for(e=1;e<=a&&r[n-e]===i[o-e];e++);return zr=i.slice(t,1<e?1-e:void 0)}function Vr(){return!0}function Ur(){return!1}function Wr(t,e,r,n){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=r,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Vr:Ur,this.isPropagationStopped=Ur,this}function Hr(t,e,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,r,n),i}return new this(t,e,r,n)}function Gr(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Yr(t){t.eventPool=[],t.getPooled=Hr,t.release=Gr}i(Wr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){this.isPersistent=Vr},isPersistent:Ur,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Ur,this._dispatchInstances=this._dispatchListeners=null}}),Wr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wr.extend=function(t){function e(){}function r(){return n.apply(this,arguments)}var n=this;e.prototype=n.prototype;var o=new e;return i(o,r.prototype),r.prototype=o,r.prototype.constructor=r,r.Interface=i({},n.Interface,t),r.extend=n.extend,Yr(r),r},Yr(Wr);var Xr=Wr.extend({data:null}),qr=Wr.extend({data:null}),Kr=[9,13,27,32],Zr=C&&"CompositionEvent"in window,Jr=null;C&&"documentMode"in document&&(Jr=document.documentMode);var $r=C&&"TextEvent"in window&&!Jr,Qr=C&&(!Zr||Jr&&8<Jr&&11>=Jr),tn=String.fromCharCode(32),en={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rn=!1;function nn(t,e){switch(t){case"keyup":return-1!==Kr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function on(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var an=!1;var sn={eventTypes:en,extractEvents:function(t,e,r,n){var i;if(Zr)t:{switch(t){case"compositionstart":var o=en.compositionStart;break t;case"compositionend":o=en.compositionEnd;break t;case"compositionupdate":o=en.compositionUpdate;break t}o=void 0}else an?nn(t,r)&&(o=en.compositionEnd):"keydown"===t&&229===r.keyCode&&(o=en.compositionStart);return o?(Qr&&"ko"!==r.locale&&(an||o!==en.compositionStart?o===en.compositionEnd&&an&&(i=jr()):(Br="value"in(Nr=n)?Nr.value:Nr.textContent,an=!0)),o=Xr.getPooled(o,e,r,n),i?o.data=i:null!==(i=on(r))&&(o.data=i),Lr(o),i=o):i=null,(t=$r?function(t,e){switch(t){case"compositionend":return on(e);case"keypress":return 32!==e.which?null:(rn=!0,tn);case"textInput":return(t=e.data)===tn&&rn?null:t;default:return null}}(t,r):function(t,e){if(an)return"compositionend"===t||!Zr&&nn(t,e)?(t=jr(),zr=Br=Nr=null,an=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qr&&"ko"!==e.locale?null:e.data;default:return null}}(t,r))?((e=qr.getPooled(en.beforeInput,e,r,n)).data=t,Lr(e)):e=null,null===i?e:null===e?i:[i,e]}},ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!ln[t.type]:"textarea"===e}var un={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function cn(t,e,r){return(t=Wr.getPooled(un.change,t,e,r)).type="change",D(r),Lr(t),t}var fn=null,pn=null;function dn(t){se(t)}function mn(t){if(xt(Ar(t)))return t}function vn(t,e){if("change"===t)return e}var yn=!1;function gn(){fn&&(fn.detachEvent("onpropertychange",_n),pn=fn=null)}function _n(t){if("value"===t.propertyName&&mn(pn))if(t=cn(pn,t,le(t)),B)se(t);else{B=!0;try{R(dn,t)}finally{B=!1,j()}}}function bn(t,e,r){"focus"===t?(gn(),pn=r,(fn=e).attachEvent("onpropertychange",_n)):"blur"===t&&gn()}function xn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return mn(pn)}function wn(t,e){if("click"===t)return mn(e)}function Tn(t,e){if("input"===t||"change"===t)return mn(e)}C&&(yn=he("input")&&(!document.documentMode||9<document.documentMode));var Sn={eventTypes:un,_isInputEventSupported:yn,extractEvents:function(t,e,r,n){var i=e?Ar(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=vn;else if(hn(i))if(yn)a=Tn;else{a=xn;var s=bn}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=wn);if(a&&(a=a(t,e)))return cn(a,r,n);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Ct(i,"number",i.value)}},En=Wr.extend({view:null,detail:null}),Mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Mn[t])&&!!e[t]}function An(){return Cn}var Pn=0,kn=0,On=!1,Dn=!1,In=En.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:An,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Pn;return Pn=t.screenX,On?"mousemove"===t.type?t.screenX-e:0:(On=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=kn;return kn=t.screenY,Dn?"mousemove"===t.type?t.screenY-e:0:(Dn=!0,0)}}),Rn=In.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Fn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ln={eventTypes:Fn,extractEvents:function(t,e,r,n,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0==(32&i)&&(r.relatedTarget||r.fromElement)||!a&&!o)return null;(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=e,null!==(e=(e=r.relatedTarget||r.toElement)?Mr(e):null)&&(e!==Qt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var s=In,l=Fn.mouseLeave,h=Fn.mouseEnter,u="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=Rn,l=Fn.pointerLeave,h=Fn.pointerEnter,u="pointer");if(t=null==a?o:Ar(a),o=null==e?o:Ar(e),(l=s.getPooled(l,a,r,n)).type=u+"leave",l.target=t,l.relatedTarget=o,(r=s.getPooled(h,e,r,n)).type=u+"enter",r.target=o,r.relatedTarget=t,u=e,(n=a)&&u)t:{for(h=u,a=0,t=s=n;t;t=kr(t))a++;for(t=0,e=h;e;e=kr(e))t++;for(;0<a-t;)s=kr(s),a--;for(;0<t-a;)h=kr(h),t--;for(;a--;){if(s===h||s===h.alternate)break t;s=kr(s),h=kr(h)}s=null}else s=null;for(h=s,s=[];n&&n!==h&&(null===(a=n.alternate)||a!==h);)s.push(n),n=kr(n);for(n=[];u&&u!==h&&(null===(a=u.alternate)||a!==h);)n.push(u),u=kr(u);for(u=0;u<s.length;u++)Rr(s[u],"bubbled",l);for(u=n.length;0<u--;)Rr(n[u],"captured",r);return 0==(64&i)?[l]:[l,r]}};var Nn="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},Bn=Object.prototype.hasOwnProperty;function zn(t,e){if(Nn(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Bn.call(e,r[n])||!Nn(t[r[n]],e[r[n]]))return!1;return!0}var jn=C&&"documentMode"in document&&11>=document.documentMode,Vn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Un=null,Wn=null,Hn=null,Gn=!1;function Yn(t,e){var r=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Gn||null==Un||Un!==hr(r)?null:("selectionStart"in(r=Un)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Hn&&zn(Hn,r)?null:(Hn=r,(t=Wr.getPooled(Vn.select,Wn,t,e)).type="select",t.target=Un,Lr(t),t))}var Xn={eventTypes:Vn,extractEvents:function(t,e,r,n,i,o){if(!(o=!(i=o||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){t:{i=$t(i),o=E.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?Ar(e):window,t){case"focus":(hn(i)||"true"===i.contentEditable)&&(Un=i,Wn=e,Hn=null);break;case"blur":Hn=Wn=Un=null;break;case"mousedown":Gn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Gn=!1,Yn(r,n);case"selectionchange":if(jn)break;case"keydown":case"keyup":return Yn(r,n)}return null}},qn=Wr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Kn=Wr.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zn=En.extend({relatedTarget:null});function Jn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var $n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ti=En.extend({key:function(t){if(t.key){var e=$n[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Jn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Qn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:An,charCode:function(t){return"keypress"===t.type?Jn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Jn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ei=In.extend({dataTransfer:null}),ri=En.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:An}),ni=Wr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=In.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Ne,extractEvents:function(t,e,r,n){var i=Be.get(t);if(!i)return null;switch(t){case"keypress":if(0===Jn(r))return null;case"keydown":case"keyup":t=ti;break;case"blur":case"focus":t=Zn;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ei;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=ri;break;case Yt:case Xt:case qt:t=qn;break;case Kt:t=ni;break;case"scroll":t=En;break;case"wheel":t=ii;break;case"copy":case"cut":case"paste":t=Kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Rn;break;default:t=Wr}return Lr(e=t.getPooled(i,e,r,n)),e}};if(g)throw Error(a(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),d=Pr,m=Cr,v=Ar,M({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Ln,ChangeEventPlugin:Sn,SelectEventPlugin:Xn,BeforeInputEventPlugin:sn});var ai=[],si=-1;function li(t){0>si||(t.current=ai[si],ai[si]=null,si--)}function hi(t,e){si++,ai[si]=t.current,t.current=e}var ui={},ci={current:ui},fi={current:!1},pi=ui;function di(t,e){var r=t.type.contextTypes;if(!r)return ui;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=e[i];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function mi(t){return null!=(t=t.childContextTypes)}function vi(){li(fi),li(ci)}function yi(t,e,r){if(ci.current!==ui)throw Error(a(168));hi(ci,e),hi(fi,r)}function gi(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in t))throw Error(a(108,vt(e)||"Unknown",o));return i({},r,{},n)}function _i(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ui,pi=ci.current,hi(ci,t),hi(fi,fi.current),!0}function bi(t,e,r){var n=t.stateNode;if(!n)throw Error(a(169));r?(t=gi(t,e,pi),n.__reactInternalMemoizedMergedChildContext=t,li(fi),li(ci),hi(ci,t)):li(fi),hi(fi,r)}var xi=o.unstable_runWithPriority,wi=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Si=o.unstable_requestPaint,Ei=o.unstable_now,Mi=o.unstable_getCurrentPriorityLevel,Ci=o.unstable_ImmediatePriority,Ai=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,ki=o.unstable_LowPriority,Oi=o.unstable_IdlePriority,Di={},Ii=o.unstable_shouldYield,Ri=void 0!==Si?Si:function(){},Fi=null,Li=null,Ni=!1,Bi=Ei(),zi=1e4>Bi?Ei:function(){return Ei()-Bi};function ji(){switch(Mi()){case Ci:return 99;case Ai:return 98;case Pi:return 97;case ki:return 96;case Oi:return 95;default:throw Error(a(332))}}function Vi(t){switch(t){case 99:return Ci;case 98:return Ai;case 97:return Pi;case 96:return ki;case 95:return Oi;default:throw Error(a(332))}}function Ui(t,e){return t=Vi(t),xi(t,e)}function Wi(t,e,r){return t=Vi(t),wi(t,e,r)}function Hi(t){return null===Fi?(Fi=[t],Li=wi(Ci,Yi)):Fi.push(t),Di}function Gi(){if(null!==Li){var t=Li;Li=null,Ti(t)}Yi()}function Yi(){if(!Ni&&null!==Fi){Ni=!0;var t=0;try{var e=Fi;Ui(99,(function(){for(;t<e.length;t++){var r=e[t];do{r=r(!0)}while(null!==r)}})),Fi=null}catch(e){throw null!==Fi&&(Fi=Fi.slice(t+1)),wi(Ci,Gi),e}finally{Ni=!1}}}function Xi(t,e,r){return 1073741821-(1+((1073741821-t+e/10)/(r/=10)|0))*r}function qi(t,e){if(t&&t.defaultProps)for(var r in e=i({},e),t=t.defaultProps)void 0===e[r]&&(e[r]=t[r]);return e}var Ki={current:null},Zi=null,Ji=null,$i=null;function Qi(){$i=Ji=Zi=null}function to(t){var e=Ki.current;li(Ki),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var r=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==r&&r.childExpirationTime<e&&(r.childExpirationTime=e);else{if(!(null!==r&&r.childExpirationTime<e))break;r.childExpirationTime=e}t=t.return}}function ro(t,e){Zi=t,$i=Ji=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(ka=!0),t.firstContext=null)}function no(t,e){if($i!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||($i=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Ji){if(null===Zi)throw Error(a(308));Ji=e,Zi.dependencies={expirationTime:0,firstContext:e,responders:null}}else Ji=Ji.next=e;return t._currentValue}var io=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function so(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function lo(t,e){if(null!==(t=t.updateQueue)){var r=(t=t.shared).pending;null===r?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function ho(t,e){var r=t.alternate;null!==r&&ao(r,t),null===(r=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=r.next,r.next=e)}function uo(t,e,r,n){var o=t.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=t.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var h=o.baseState,u=0,c=null,f=null,p=null;if(null!==l)for(var d=l;;){if((s=d.expirationTime)<n){var m={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(f=p=m,c=h):p=p.next=m,s>u&&(u=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),ol(s,d.suspenseConfig);t:{var v=t,y=d;switch(s=e,m=r,y.tag){case 1:if("function"==typeof(v=y.payload)){h=v.call(m,h,s);break t}h=v;break t;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null==(s="function"==typeof(v=y.payload)?v.call(m,h,s):v))break t;h=i({},h,s);break t;case 2:io=!0}}null!==d.callback&&(t.effectTag|=32,null===(s=o.effects)?o.effects=[d]:s.push(d))}if(null===(d=d.next)||d===l){if(null===(s=o.shared.pending))break;d=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===p?c=h:p.next=f,o.baseState=c,o.baseQueue=p,al(u),t.expirationTime=u,t.memoizedState=h}}function co(t,e,r){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(null!==i){if(n.callback=null,n=i,i=r,"function"!=typeof n)throw Error(a(191,n));n.call(i)}}}var fo=Z.ReactCurrentBatchConfig,po=(new n.Component).refs;function mo(t,e,r,n){r=null==(r=r(n,e=t.memoizedState))?e:i({},e,r),t.memoizedState=r,0===t.expirationTime&&(t.updateQueue.baseState=r)}var vo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Qt(t)===t},enqueueSetState:function(t,e,r){t=t._reactInternalFiber;var n=Ys(),i=fo.suspense;(i=so(n=Xs(n,t,i),i)).payload=e,null!=r&&(i.callback=r),lo(t,i),qs(t,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternalFiber;var n=Ys(),i=fo.suspense;(i=so(n=Xs(n,t,i),i)).tag=1,i.payload=e,null!=r&&(i.callback=r),lo(t,i),qs(t,n)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var r=Ys(),n=fo.suspense;(n=so(r=Xs(r,t,n),n)).tag=2,null!=e&&(n.callback=e),lo(t,n),qs(t,r)}};function yo(t,e,r,n,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!zn(r,n)||!zn(i,o))}function go(t,e,r){var n=!1,i=ui,o=e.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=mi(e)?pi:ci.current,o=(n=null!=(n=e.contextTypes))?di(t,i):ui),e=new e(r,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=vo,t.stateNode=e,e._reactInternalFiber=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function _o(t,e,r,n){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,n),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&vo.enqueueReplaceState(e,e.state,null)}function bo(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=po,oo(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=mi(e)?pi:ci.current,i.context=di(t,o)),uo(t,r,i,n),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(mo(t,e,o,r),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&vo.enqueueReplaceState(i,i.state,null),uo(t,r,i,n),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.effectTag|=4)}var xo=Array.isArray;function wo(t,e,r){if(null!==(t=r.ref)&&"function"!=typeof t&&"object"!=typeof t){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=n.refs;e===po&&(e=n.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!=typeof t)throw Error(a(284));if(!r._owner)throw Error(a(290,t))}return t}function To(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function So(t){function e(e,r){if(t){var n=e.lastEffect;null!==n?(n.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!t)return null;for(;null!==n;)e(r,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Ml(t,e)).index=0,t.sibling=null,t}function o(e,r,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<r?(e.effectTag=2,r):n:(e.effectTag=2,r):r}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,r,n){return null===e||6!==e.tag?((e=Pl(r,t.mode,n)).return=t,e):((e=i(e,r)).return=t,e)}function h(t,e,r,n){return null!==e&&e.elementType===r.type?((n=i(e,r.props)).ref=wo(t,e,r),n.return=t,n):((n=Cl(r.type,r.key,r.props,null,t.mode,n)).ref=wo(t,e,r),n.return=t,n)}function u(t,e,r,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==r.containerInfo||e.stateNode.implementation!==r.implementation?((e=kl(r,t.mode,n)).return=t,e):((e=i(e,r.children||[])).return=t,e)}function c(t,e,r,n,o){return null===e||7!==e.tag?((e=Al(r,t.mode,n,o)).return=t,e):((e=i(e,r)).return=t,e)}function f(t,e,r){if("string"==typeof e||"number"==typeof e)return(e=Pl(""+e,t.mode,r)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case tt:return(r=Cl(e.type,e.key,e.props,null,t.mode,r)).ref=wo(t,null,e),r.return=t,r;case et:return(e=kl(e,t.mode,r)).return=t,e}if(xo(e)||mt(e))return(e=Al(e,t.mode,r,null)).return=t,e;To(t,e)}return null}function p(t,e,r,n){var i=null!==e?e.key:null;if("string"==typeof r||"number"==typeof r)return null!==i?null:l(t,e,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case tt:return r.key===i?r.type===rt?c(t,e,r.props.children,n,i):h(t,e,r,n):null;case et:return r.key===i?u(t,e,r,n):null}if(xo(r)||mt(r))return null!==i?null:c(t,e,r,n,null);To(t,r)}return null}function d(t,e,r,n,i){if("string"==typeof n||"number"==typeof n)return l(e,t=t.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case tt:return t=t.get(null===n.key?r:n.key)||null,n.type===rt?c(e,t,n.props.children,i,n.key):h(e,t,n,i);case et:return u(e,t=t.get(null===n.key?r:n.key)||null,n,i)}if(xo(n)||mt(n))return c(e,t=t.get(r)||null,n,i,null);To(e,n)}return null}function m(i,a,s,l){for(var h=null,u=null,c=a,m=a=0,v=null;null!==c&&m<s.length;m++){c.index>m?(v=c,c=null):v=c.sibling;var y=p(i,c,s[m],l);if(null===y){null===c&&(c=v);break}t&&c&&null===y.alternate&&e(i,c),a=o(y,a,m),null===u?h=y:u.sibling=y,u=y,c=v}if(m===s.length)return r(i,c),h;if(null===c){for(;m<s.length;m++)null!==(c=f(i,s[m],l))&&(a=o(c,a,m),null===u?h=c:u.sibling=c,u=c);return h}for(c=n(i,c);m<s.length;m++)null!==(v=d(c,i,m,s[m],l))&&(t&&null!==v.alternate&&c.delete(null===v.key?m:v.key),a=o(v,a,m),null===u?h=v:u.sibling=v,u=v);return t&&c.forEach((function(t){return e(i,t)})),h}function v(i,s,l,h){var u=mt(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var c=u=null,m=s,v=s=0,y=null,g=l.next();null!==m&&!g.done;v++,g=l.next()){m.index>v?(y=m,m=null):y=m.sibling;var _=p(i,m,g.value,h);if(null===_){null===m&&(m=y);break}t&&m&&null===_.alternate&&e(i,m),s=o(_,s,v),null===c?u=_:c.sibling=_,c=_,m=y}if(g.done)return r(i,m),u;if(null===m){for(;!g.done;v++,g=l.next())null!==(g=f(i,g.value,h))&&(s=o(g,s,v),null===c?u=g:c.sibling=g,c=g);return u}for(m=n(i,m);!g.done;v++,g=l.next())null!==(g=d(m,i,v,g.value,h))&&(t&&null!==g.alternate&&m.delete(null===g.key?v:g.key),s=o(g,s,v),null===c?u=g:c.sibling=g,c=g);return t&&m.forEach((function(t){return e(i,t)})),u}return function(t,n,o,l){var h="object"==typeof o&&null!==o&&o.type===rt&&null===o.key;h&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case tt:t:{for(u=o.key,h=n;null!==h;){if(h.key===u){switch(h.tag){case 7:if(o.type===rt){r(t,h.sibling),(n=i(h,o.props.children)).return=t,t=n;break t}break;default:if(h.elementType===o.type){r(t,h.sibling),(n=i(h,o.props)).ref=wo(t,h,o),n.return=t,t=n;break t}}r(t,h);break}e(t,h),h=h.sibling}o.type===rt?((n=Al(o.props.children,t.mode,l,o.key)).return=t,t=n):((l=Cl(o.type,o.key,o.props,null,t.mode,l)).ref=wo(t,n,o),l.return=t,t=l)}return s(t);case et:t:{for(h=o.key;null!==n;){if(n.key===h){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(t,n.sibling),(n=i(n,o.children||[])).return=t,t=n;break t}r(t,n);break}e(t,n),n=n.sibling}(n=kl(o,t.mode,l)).return=t,t=n}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==n&&6===n.tag?(r(t,n.sibling),(n=i(n,o)).return=t,t=n):(r(t,n),(n=Pl(o,t.mode,l)).return=t,t=n),s(t);if(xo(o))return m(t,n,o,l);if(mt(o))return v(t,n,o,l);if(u&&To(t,o),void 0===o&&!h)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return r(t,n)}}var Eo=So(!0),Mo=So(!1),Co={},Ao={current:Co},Po={current:Co},ko={current:Co};function Oo(t){if(t===Co)throw Error(a(174));return t}function Do(t,e){switch(hi(ko,e),hi(Po,t),hi(Ao,Co),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nt(null,"");break;default:e=Nt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}li(Ao),hi(Ao,e)}function Io(){li(Ao),li(Po),li(ko)}function Ro(t){Oo(ko.current);var e=Oo(Ao.current),r=Nt(e,t.type);e!==r&&(hi(Po,t),hi(Ao,r))}function Fo(t){Po.current===t&&(li(Ao),li(Po))}var Lo={current:0};function No(t){for(var e=t;null!==e;){if(13===e.tag){var r=e.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Bo(t,e){return{responder:t,props:e}}var zo=Z.ReactCurrentDispatcher,jo=Z.ReactCurrentBatchConfig,Vo=0,Uo=null,Wo=null,Ho=null,Go=!1;function Yo(){throw Error(a(321))}function Xo(t,e){if(null===e)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Nn(t[r],e[r]))return!1;return!0}function qo(t,e,r,n,i,o){if(Vo=o,Uo=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,zo.current=null===t||null===t.memoizedState?ya:ga,t=r(n,i),e.expirationTime===Vo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Ho=Wo=null,e.updateQueue=null,zo.current=_a,t=r(n,i)}while(e.expirationTime===Vo)}if(zo.current=va,e=null!==Wo&&null!==Wo.next,Vo=0,Ho=Wo=Uo=null,Go=!1,e)throw Error(a(300));return t}function Ko(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ho?Uo.memoizedState=Ho=t:Ho=Ho.next=t,Ho}function Zo(){if(null===Wo){var t=Uo.alternate;t=null!==t?t.memoizedState:null}else t=Wo.next;var e=null===Ho?Uo.memoizedState:Ho.next;if(null!==e)Ho=e,Wo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Wo=t).memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},null===Ho?Uo.memoizedState=Ho=t:Ho=Ho.next=t}return Ho}function Jo(t,e){return"function"==typeof e?e(t):e}function $o(t){var e=Zo(),r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=t;var n=Wo,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var l=s=o=null,h=i;do{var u=h.expirationTime;if(u<Vo){var c={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null};null===l?(s=l=c,o=n):l=l.next=c,u>Uo.expirationTime&&(Uo.expirationTime=u,al(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,action:h.action,eagerReducer:h.eagerReducer,eagerState:h.eagerState,next:null}),ol(u,h.suspenseConfig),n=h.eagerReducer===t?h.eagerState:t(n,h.action);h=h.next}while(null!==h&&h!==i);null===l?o=n:l.next=s,Nn(n,e.memoizedState)||(ka=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function Qo(t){var e=Zo(),r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);Nn(o,e.memoizedState)||(ka=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function ta(t){var e=Ko();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:t}).dispatch=ma.bind(null,Uo,t),[e.memoizedState,t]}function ea(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},null===(e=Uo.updateQueue)?(e={lastEffect:null},Uo.updateQueue=e,e.lastEffect=t.next=t):null===(r=e.lastEffect)?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function ra(){return Zo().memoizedState}function na(t,e,r,n){var i=Ko();Uo.effectTag|=t,i.memoizedState=ea(1|e,r,void 0,void 0===n?null:n)}function ia(t,e,r,n){var i=Zo();n=void 0===n?null:n;var o=void 0;if(null!==Wo){var a=Wo.memoizedState;if(o=a.destroy,null!==n&&Xo(n,a.deps))return void ea(e,r,o,n)}Uo.effectTag|=t,i.memoizedState=ea(1|e,r,o,n)}function oa(t,e){return na(516,4,t,e)}function aa(t,e){return ia(516,4,t,e)}function sa(t,e){return ia(4,2,t,e)}function la(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ha(t,e,r){return r=null!=r?r.concat([t]):null,ia(4,2,la.bind(null,e,t),r)}function ua(){}function ca(t,e){return Ko().memoizedState=[t,void 0===e?null:e],t}function fa(t,e){var r=Zo();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&Xo(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function pa(t,e){var r=Zo();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&Xo(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function da(t,e,r){var n=ji();Ui(98>n?98:n,(function(){t(!0)})),Ui(97<n?97:n,(function(){var n=jo.suspense;jo.suspense=void 0===e?null:e;try{t(!1),r()}finally{jo.suspense=n}}))}function ma(t,e,r){var n=Ys(),i=fo.suspense;i={expirationTime:n=Xs(n,t,i),suspenseConfig:i,action:r,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===Uo||null!==o&&o===Uo)Go=!0,i.expirationTime=Vo,Uo.expirationTime=Vo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,r);if(i.eagerReducer=o,i.eagerState=s,Nn(s,a))return}catch(t){}qs(t,n)}}var va={readContext:no,useCallback:Yo,useContext:Yo,useEffect:Yo,useImperativeHandle:Yo,useLayoutEffect:Yo,useMemo:Yo,useReducer:Yo,useRef:Yo,useState:Yo,useDebugValue:Yo,useResponder:Yo,useDeferredValue:Yo,useTransition:Yo},ya={readContext:no,useCallback:ca,useContext:no,useEffect:oa,useImperativeHandle:function(t,e,r){return r=null!=r?r.concat([t]):null,na(4,2,la.bind(null,e,t),r)},useLayoutEffect:function(t,e){return na(4,2,t,e)},useMemo:function(t,e){var r=Ko();return e=void 0===e?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ko();return e=void 0!==r?r(e):e,n.memoizedState=n.baseState=e,t=(t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ma.bind(null,Uo,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},Ko().memoizedState=t},useState:ta,useDebugValue:ua,useResponder:Bo,useDeferredValue:function(t,e){var r=ta(t),n=r[0],i=r[1];return oa((function(){var r=jo.suspense;jo.suspense=void 0===e?null:e;try{i(t)}finally{jo.suspense=r}}),[t,e]),n},useTransition:function(t){var e=ta(!1),r=e[0];return e=e[1],[ca(da.bind(null,e,t),[e,t]),r]}},ga={readContext:no,useCallback:fa,useContext:no,useEffect:aa,useImperativeHandle:ha,useLayoutEffect:sa,useMemo:pa,useReducer:$o,useRef:ra,useState:function(){return $o(Jo)},useDebugValue:ua,useResponder:Bo,useDeferredValue:function(t,e){var r=$o(Jo),n=r[0],i=r[1];return aa((function(){var r=jo.suspense;jo.suspense=void 0===e?null:e;try{i(t)}finally{jo.suspense=r}}),[t,e]),n},useTransition:function(t){var e=$o(Jo),r=e[0];return e=e[1],[fa(da.bind(null,e,t),[e,t]),r]}},_a={readContext:no,useCallback:fa,useContext:no,useEffect:aa,useImperativeHandle:ha,useLayoutEffect:sa,useMemo:pa,useReducer:Qo,useRef:ra,useState:function(){return Qo(Jo)},useDebugValue:ua,useResponder:Bo,useDeferredValue:function(t,e){var r=Qo(Jo),n=r[0],i=r[1];return aa((function(){var r=jo.suspense;jo.suspense=void 0===e?null:e;try{i(t)}finally{jo.suspense=r}}),[t,e]),n},useTransition:function(t){var e=Qo(Jo),r=e[0];return e=e[1],[fa(da.bind(null,e,t),[e,t]),r]}},ba=null,xa=null,wa=!1;function Ta(t,e){var r=Sl(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function Sa(t,e){switch(t.tag){case 5:var r=t.type;return null!==(e=1!==e.nodeType||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Ea(t){if(wa){var e=xa;if(e){var r=e;if(!Sa(t,e)){if(!(e=br(r.nextSibling))||!Sa(t,e))return t.effectTag=-1025&t.effectTag|2,wa=!1,void(ba=t);Ta(ba,r)}ba=t,xa=br(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,wa=!1,ba=t}}function Ma(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ba=t}function Ca(t){if(t!==ba)return!1;if(!wa)return Ma(t),wa=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!yr(e,t.memoizedProps))for(e=xa;e;)Ta(t,e),e=br(e.nextSibling);if(Ma(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var r=t.data;if("/$"===r){if(0===e){xa=br(t.nextSibling);break t}e--}else"$"!==r&&"$!"!==r&&"$?"!==r||e++}t=t.nextSibling}xa=null}}else xa=ba?br(t.stateNode.nextSibling):null;return!0}function Aa(){xa=ba=null,wa=!1}var Pa=Z.ReactCurrentOwner,ka=!1;function Oa(t,e,r,n){e.child=null===t?Mo(e,null,r,n):Eo(e,t.child,r,n)}function Da(t,e,r,n,i){r=r.render;var o=e.ref;return ro(e,i),n=qo(t,e,r,n,o,i),null===t||ka?(e.effectTag|=1,Oa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),qa(t,e,i))}function Ia(t,e,r,n,i,o){if(null===t){var a=r.type;return"function"!=typeof a||El(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((t=Cl(r.type,null,n,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ra(t,e,a,n,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(r=null!==(r=r.compare)?r:zn)(i,n)&&t.ref===e.ref)?qa(t,e,o):(e.effectTag|=1,(t=Ml(a,n)).ref=e.ref,t.return=e,e.child=t)}function Ra(t,e,r,n,i,o){return null!==t&&zn(t.memoizedProps,n)&&t.ref===e.ref&&(ka=!1,i<o)?(e.expirationTime=t.expirationTime,qa(t,e,o)):La(t,e,r,n,o)}function Fa(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.effectTag|=128)}function La(t,e,r,n,i){var o=mi(r)?pi:ci.current;return o=di(e,o),ro(e,i),r=qo(t,e,r,n,o,i),null===t||ka?(e.effectTag|=1,Oa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),qa(t,e,i))}function Na(t,e,r,n,i){if(mi(r)){var o=!0;_i(e)}else o=!1;if(ro(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),go(e,r,n),bo(e,r,n,i),n=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,h=r.contextType;"object"==typeof h&&null!==h?h=no(h):h=di(e,h=mi(r)?pi:ci.current);var u=r.getDerivedStateFromProps,c="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==h)&&_o(e,a,n,h),io=!1;var f=e.memoizedState;a.state=f,uo(e,n,a,i),l=e.memoizedState,s!==n||f!==l||fi.current||io?("function"==typeof u&&(mo(e,r,u,n),l=e.memoizedState),(s=io||yo(e,r,s,n,f,l,h))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=h,n=s):("function"==typeof a.componentDidMount&&(e.effectTag|=4),n=!1)}else a=e.stateNode,ao(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:qi(e.type,s),l=a.context,"object"==typeof(h=r.contextType)&&null!==h?h=no(h):h=di(e,h=mi(r)?pi:ci.current),(c="function"==typeof(u=r.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==h)&&_o(e,a,n,h),io=!1,l=e.memoizedState,a.state=l,uo(e,n,a,i),f=e.memoizedState,s!==n||l!==f||fi.current||io?("function"==typeof u&&(mo(e,r,u,n),f=e.memoizedState),(u=io||yo(e,r,s,n,l,f,h))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,f,h),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,f,h)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=n,e.memoizedState=f),a.props=n,a.state=f,a.context=h,n=u):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),n=!1);return Ba(t,e,r,n,o,i)}function Ba(t,e,r,n,i,o){Fa(t,e);var a=0!=(64&e.effectTag);if(!n&&!a)return i&&bi(e,r,!1),qa(t,e,o);n=e.stateNode,Pa.current=e;var s=a&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return e.effectTag|=1,null!==t&&a?(e.child=Eo(e,t.child,null,o),e.child=Eo(e,null,s,o)):Oa(t,e,s,o),e.memoizedState=n.state,i&&bi(e,r,!0),e.child}function za(t){var e=t.stateNode;e.pendingContext?yi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&yi(0,e.context,!1),Do(t,e.containerInfo)}var ja,Va,Ua,Wa={dehydrated:null,retryTime:0};function Ha(t,e,r){var n,i=e.mode,o=e.pendingProps,a=Lo.current,s=!1;if((n=0!=(64&e.effectTag))||(n=0!=(2&a)&&(null===t||null!==t.memoizedState)),n?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),hi(Lo,1&a),null===t){if(void 0!==o.fallback&&Ea(e),s){if(s=o.fallback,(o=Al(null,i,0,null)).return=e,0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(r=Al(s,i,r,null)).return=e,o.sibling=r,e.memoizedState=Wa,e.child=o,r}return i=o.children,e.memoizedState=null,e.child=Mo(e,null,i,r)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(r=Ml(t,t.pendingProps)).return=e,0==(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(r.child=s;null!==s;)s.return=r,s=s.sibling;return(i=Ml(i,o)).return=e,r.sibling=i,r.childExpirationTime=0,e.memoizedState=Wa,e.child=r,i}return r=Eo(e,t.child,o.children,r),e.memoizedState=null,e.child=r}if(t=t.child,s){if(s=o.fallback,(o=Al(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(r=Al(s,i,r,null)).return=e,o.sibling=r,r.effectTag|=2,o.childExpirationTime=0,e.memoizedState=Wa,e.child=o,r}return e.memoizedState=null,e.child=Eo(e,t,o.children,r)}function Ga(t,e){t.expirationTime<e&&(t.expirationTime=e);var r=t.alternate;null!==r&&r.expirationTime<e&&(r.expirationTime=e),eo(t.return,e)}function Ya(t,e,r,n,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Xa(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Oa(t,e,n.children,r),0!=(2&(n=Lo.current)))n=1&n|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ga(t,r);else if(19===t.tag)Ga(t,r);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(hi(Lo,n),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;null!==r;)null!==(t=r.alternate)&&null===No(t)&&(i=r),r=r.sibling;null===(r=i)?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Ya(e,!1,i,r,o,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===No(t)){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Ya(e,!0,r,null,o,e.lastEffect);break;case"together":Ya(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function qa(t,e,r){null!==t&&(e.dependencies=t.dependencies);var n=e.expirationTime;if(0!==n&&al(n),e.childExpirationTime<r)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(r=Ml(t=e.child,t.pendingProps),e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=Ml(t,t.pendingProps)).return=e;r.sibling=null}return e.child}function Ka(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Za(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(e.type)&&vi(),null;case 3:return Io(),li(fi),li(ci),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||!Ca(e)||(e.effectTag|=4),null;case 5:Fo(e),r=Oo(ko.current);var o=e.type;if(null!==t&&null!=e.stateNode)Va(t,e,o,n,r),t.ref!==e.ref&&(e.effectTag|=128);else{if(!n){if(null===e.stateNode)throw Error(a(166));return null}if(t=Oo(Ao.current),Ca(e)){n=e.stateNode,o=e.type;var s=e.memoizedProps;switch(n[Tr]=e,n[Sr]=s,o){case"iframe":case"object":case"embed":Xe("load",n);break;case"video":case"audio":for(t=0;t<Zt.length;t++)Xe(Zt[t],n);break;case"source":Xe("error",n);break;case"img":case"image":case"link":Xe("error",n),Xe("load",n);break;case"form":Xe("reset",n),Xe("submit",n);break;case"details":Xe("toggle",n);break;case"input":Tt(n,s),Xe("invalid",n),sr(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",n),sr(r,"onChange");break;case"textarea":Ot(n,s),Xe("invalid",n),sr(r,"onChange")}for(var l in ir(o,s),t=null,s)if(s.hasOwnProperty(l)){var h=s[l];"children"===l?"string"==typeof h?n.textContent!==h&&(t=["children",h]):"number"==typeof h&&n.textContent!==""+h&&(t=["children",""+h]):S.hasOwnProperty(l)&&null!=h&&sr(r,l)}switch(o){case"input":bt(n),Mt(n,s,!0);break;case"textarea":bt(n),It(n);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(n.onclick=lr)}r=t,e.updateQueue=r,null!==r&&(e.effectTag|=4)}else{switch(l=9===r.nodeType?r:r.ownerDocument,t===ar&&(t=Lt(o)),t===ar?"script"===o?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof n.is?t=l.createElement(o,{is:n.is}):(t=l.createElement(o),"select"===o&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,o),t[Tr]=e,t[Sr]=n,ja(t,e),e.stateNode=t,l=or(o,n),o){case"iframe":case"object":case"embed":Xe("load",t),h=n;break;case"video":case"audio":for(h=0;h<Zt.length;h++)Xe(Zt[h],t);h=n;break;case"source":Xe("error",t),h=n;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),h=n;break;case"form":Xe("reset",t),Xe("submit",t),h=n;break;case"details":Xe("toggle",t),h=n;break;case"input":Tt(t,n),h=wt(t,n),Xe("invalid",t),sr(r,"onChange");break;case"option":h=At(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},h=i({},n,{value:void 0}),Xe("invalid",t),sr(r,"onChange");break;case"textarea":Ot(t,n),h=kt(t,n),Xe("invalid",t),sr(r,"onChange");break;default:h=n}ir(o,h);var u=h;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?rr(t,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&zt(t,c):"children"===s?"string"==typeof c?("textarea"!==o||""!==c)&&jt(t,c):"number"==typeof c&&jt(t,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?null!=c&&sr(r,s):null!=c&&J(t,s,c,l))}switch(o){case"input":bt(t),Mt(t,n,!1);break;case"textarea":bt(t),It(t);break;case"option":null!=n.value&&t.setAttribute("value",""+gt(n.value));break;case"select":t.multiple=!!n.multiple,null!=(r=n.value)?Pt(t,!!n.multiple,r,!1):null!=n.defaultValue&&Pt(t,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof h.onClick&&(t.onclick=lr)}vr(o,n)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Ua(0,e,t.memoizedProps,n);else{if("string"!=typeof n&&null===e.stateNode)throw Error(a(166));r=Oo(ko.current),Oo(Ao.current),Ca(e)?(r=e.stateNode,n=e.memoizedProps,r[Tr]=e,r.nodeValue!==n&&(e.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Tr]=e,e.stateNode=r)}return null;case 13:return li(Lo),n=e.memoizedState,0!=(64&e.effectTag)?(e.expirationTime=r,e):(r=null!==n,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Ca(e):(n=null!==(o=t.memoizedState),r||null===o||null!==(o=t.child.sibling)&&(null!==(s=e.firstEffect)?(e.firstEffect=o,o.nextEffect=s):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),r&&!n&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Lo.current)?Cs===bs&&(Cs=xs):(Cs!==bs&&Cs!==xs||(Cs=ws),0!==Ds&&null!==Ss&&(Il(Ss,Ms),Rl(Ss,Ds)))),(r||n)&&(e.effectTag|=4),null);case 4:return Io(),null;case 10:return to(e),null;case 17:return mi(e.type)&&vi(),null;case 19:if(li(Lo),null===(n=e.memoizedState))return null;if(o=0!=(64&e.effectTag),null===(s=n.rendering)){if(o)Ka(n,!1);else if(Cs!==bs||null!==t&&0!=(64&t.effectTag))for(s=e.child;null!==s;){if(null!==(t=No(s))){for(e.effectTag|=64,Ka(n,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===n.lastEffect&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=e.child;null!==n;)s=r,(o=n).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;return hi(Lo,1&Lo.current|2),e.child}s=s.sibling}}else{if(!o)if(null!==(t=No(s))){if(e.effectTag|=64,o=!0,null!==(r=t.updateQueue)&&(e.updateQueue=r,e.effectTag|=4),Ka(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate)return null!==(e=e.lastEffect=n.lastEffect)&&(e.nextEffect=null),null}else 2*zi()-n.renderingStartTime>n.tailExpiration&&1<r&&(e.effectTag|=64,o=!0,Ka(n,!1),e.expirationTime=e.childExpirationTime=r-1);n.isBackwards?(s.sibling=e.child,e.child=s):(null!==(r=n.last)?r.sibling=s:e.child=s,n.last=s)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=zi()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=zi(),r.sibling=null,e=Lo.current,hi(Lo,o?1&e|2:1&e),r):null}throw Error(a(156,e.tag))}function Ja(t){switch(t.tag){case 1:mi(t.type)&&vi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Io(),li(fi),li(ci),0!=(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return Fo(t),null;case 13:return li(Lo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return li(Lo),null;case 4:return Io(),null;case 10:return to(t),null;default:return null}}function $a(t,e){return{value:t,source:e,stack:yt(e)}}ja=function(t,e){for(var r=e.child;null!==r;){if(5===r.tag||6===r.tag)t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Va=function(t,e,r,n,o){var a=t.memoizedProps;if(a!==n){var s,l,h=e.stateNode;switch(Oo(Ao.current),t=null,r){case"input":a=wt(h,a),n=wt(h,n),t=[];break;case"option":a=At(h,a),n=At(h,n),t=[];break;case"select":a=i({},a,{value:void 0}),n=i({},n,{value:void 0}),t=[];break;case"textarea":a=kt(h,a),n=kt(h,n),t=[];break;default:"function"!=typeof a.onClick&&"function"==typeof n.onClick&&(h.onclick=lr)}for(s in ir(r,n),r=null,a)if(!n.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in h=a[s])h.hasOwnProperty(l)&&(r||(r={}),r[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in n){var u=n[s];if(h=null!=a?a[s]:void 0,n.hasOwnProperty(s)&&u!==h&&(null!=u||null!=h))if("style"===s)if(h){for(l in h)!h.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in u)u.hasOwnProperty(l)&&h[l]!==u[l]&&(r||(r={}),r[l]=u[l])}else r||(t||(t=[]),t.push(s,r)),r=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,h=h?h.__html:void 0,null!=u&&h!==u&&(t=t||[]).push(s,u)):"children"===s?h===u||"string"!=typeof u&&"number"!=typeof u||(t=t||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(S.hasOwnProperty(s)?(null!=u&&sr(o,s),t||h===u||(t=[])):(t=t||[]).push(s,u))}r&&(t=t||[]).push("style",r),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},Ua=function(t,e,r,n){r!==n&&(e.effectTag|=4)};var Qa="function"==typeof WeakSet?WeakSet:Set;function ts(t,e){var r=e.source,n=e.stack;null===n&&null!==r&&(n=yt(r)),null!==r&&vt(r.type),e=e.value,null!==t&&1===t.tag&&vt(t.type);try{console.error(e)}catch(t){setTimeout((function(){throw t}))}}function es(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){gl(t,e)}else e.current=null}function rs(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var r=t.memoizedProps,n=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?r:qi(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ns(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var r=e=e.next;do{if((r.tag&t)===t){var n=r.destroy;r.destroy=void 0,void 0!==n&&n()}r=r.next}while(r!==e)}}function is(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function os(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:return void is(3,r);case 1:if(t=r.stateNode,4&r.effectTag)if(null===e)t.componentDidMount();else{var n=r.elementType===r.type?e.memoizedProps:qi(r.type,e.memoizedProps);t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=r.updateQueue)&&co(r,e,t));case 3:if(null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}co(r,e,t)}return;case 5:return t=r.stateNode,void(null===e&&4&r.effectTag&&vr(r.type,r.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&Le(r)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(t,e,r){switch("function"==typeof wl&&wl(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t.next;Ui(97<r?97:r,(function(){var t=n;do{var r=t.destroy;if(void 0!==r){var i=e;try{r()}catch(t){gl(i,t)}}t=t.next}while(t!==n)}))}break;case 1:es(e),"function"==typeof(r=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){gl(t,e)}}(e,r);break;case 5:es(e);break;case 4:us(t,e,r)}}function ss(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&ss(e)}function ls(t){return 5===t.tag||3===t.tag||4===t.tag}function hs(t){t:{for(var e=t.return;null!==e;){if(ls(e)){var r=e;break t}e=e.return}throw Error(a(160))}switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:e=e.containerInfo,n=!0;break;default:throw Error(a(161))}16&r.effectTag&&(jt(e,""),r.effectTag&=-17);t:e:for(r=t;;){for(;null===r.sibling;){if(null===r.return||ls(r.return)){r=null;break t}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue e;if(null===r.child||4===r.tag)continue e;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break t}}n?function t(e,r,n){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,r?8===n.nodeType?n.parentNode.insertBefore(e,r):n.insertBefore(e,r):(8===n.nodeType?(r=n.parentNode).insertBefore(e,n):(r=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==r.onclick||(r.onclick=lr));else if(4!==i&&null!==(e=e.child))for(t(e,r,n),e=e.sibling;null!==e;)t(e,r,n),e=e.sibling}(t,r,e):function t(e,r,n){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,r?n.insertBefore(e,r):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(t(e,r,n),e=e.sibling;null!==e;)t(e,r,n),e=e.sibling}(t,r,e)}function us(t,e,r){for(var n,i,o=e,s=!1;;){if(!s){s=o.return;t:for(;;){if(null===s)throw Error(a(160));switch(n=s.stateNode,s.tag){case 5:i=!1;break t;case 3:case 4:n=n.containerInfo,i=!0;break t}s=s.return}s=!0}if(5===o.tag||6===o.tag){t:for(var l=t,h=o,u=r,c=h;;)if(as(l,c,u),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===h)break t;for(;null===c.sibling;){if(null===c.return||c.return===h)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(l=n,h=o.stateNode,8===l.nodeType?l.parentNode.removeChild(h):l.removeChild(h)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(t,o,r),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function cs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void ns(3,e);case 1:return;case 5:var r=e.stateNode;if(null!=r){var n=e.memoizedProps,i=null!==t?t.memoizedProps:n;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(r[Sr]=n,"input"===t&&"radio"===n.type&&null!=n.name&&St(r,n),or(t,i),e=or(t,n),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?rr(r,l):"dangerouslySetInnerHTML"===s?zt(r,l):"children"===s?jt(r,l):J(r,s,l,e)}switch(t){case"input":Et(r,n);break;case"textarea":Dt(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(t=n.value)?Pt(r,!!n.multiple,t,!1):e!==!!n.multiple&&(null!=n.defaultValue?Pt(r,!!n.multiple,n.defaultValue,!0):Pt(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Le(e.containerInfo)));case 12:return;case 13:if(r=e,null===e.memoizedState?n=!1:(n=!0,r=e.child,Rs=zi()),null!==r)t:for(t=r;;){if(5===t.tag)o=t.stateNode,n?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=null!=(i=t.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=er("display",i));else if(6===t.tag)t.stateNode.nodeValue=n?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===r)break;for(;null===t.sibling;){if(null===t.return||t.return===r)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void fs(e);case 19:return void fs(e);case 17:return}throw Error(a(163))}function fs(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var r=t.stateNode;null===r&&(r=t.stateNode=new Qa),e.forEach((function(e){var n=bl.bind(null,t,e);r.has(e)||(r.add(e),e.then(n,n))}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function ds(t,e,r){(r=so(r,null)).tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ls||(Ls=!0,Ns=n),ts(t,e)},r}function ms(t,e,r){(r=so(r,null)).tag=3;var n=t.type.getDerivedStateFromError;if("function"==typeof n){var i=e.value;r.payload=function(){return ts(t,e),n(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===Bs?Bs=new Set([this]):Bs.add(this),ts(t,e));var r=e.stack;this.componentDidCatch(e.value,{componentStack:null!==r?r:""})}),r}var vs,ys=Math.ceil,gs=Z.ReactCurrentDispatcher,_s=Z.ReactCurrentOwner,bs=0,xs=3,ws=4,Ts=0,Ss=null,Es=null,Ms=0,Cs=bs,As=null,Ps=1073741823,ks=1073741823,Os=null,Ds=0,Is=!1,Rs=0,Fs=null,Ls=!1,Ns=null,Bs=null,zs=!1,js=null,Vs=90,Us=null,Ws=0,Hs=null,Gs=0;function Ys(){return 0!=(48&Ts)?1073741821-(zi()/10|0):0!==Gs?Gs:Gs=1073741821-(zi()/10|0)}function Xs(t,e,r){if(0==(2&(e=e.mode)))return 1073741823;var n=ji();if(0==(4&e))return 99===n?1073741823:1073741822;if(0!=(16&Ts))return Ms;if(null!==r)t=Xi(t,0|r.timeoutMs||5e3,250);else switch(n){case 99:t=1073741823;break;case 98:t=Xi(t,150,100);break;case 97:case 96:t=Xi(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==Ss&&t===Ms&&--t,t}function qs(t,e){if(50<Ws)throw Ws=0,Hs=null,Error(a(185));if(null!==(t=Ks(t,e))){var r=ji();1073741823===e?0!=(8&Ts)&&0==(48&Ts)?Qs(t):(Js(t),0===Ts&&Gi()):Js(t),0==(4&Ts)||98!==r&&99!==r||(null===Us?Us=new Map([[t,e]]):(void 0===(r=Us.get(t))||r>e)&&Us.set(t,e))}}function Ks(t,e){t.expirationTime<e&&(t.expirationTime=e);var r=t.alternate;null!==r&&r.expirationTime<e&&(r.expirationTime=e);var n=t.return,i=null;if(null===n&&3===t.tag)i=t.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<e&&(n.childExpirationTime=e),null!==r&&r.childExpirationTime<e&&(r.childExpirationTime=e),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(Ss===i&&(al(e),Cs===ws&&Il(i,Ms)),Rl(i,e)),i}function Zs(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Dl(t,e=t.firstPendingTime))return e;var r=t.lastPingedTime;return 2>=(t=r>(t=t.nextKnownPendingLevel)?r:t)&&e!==t?0:t}function Js(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Hi(Qs.bind(null,t));else{var e=Zs(t),r=t.callbackNode;if(0===e)null!==r&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var n=Ys();if(1073741823===e?n=99:1===e||2===e?n=95:n=0>=(n=10*(1073741821-e)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=n)return;r!==Di&&Ti(r)}t.callbackExpirationTime=e,t.callbackPriority=n,e=1073741823===e?Hi(Qs.bind(null,t)):Wi(n,$s.bind(null,t),{timeout:10*(1073741821-e)-zi()}),t.callbackNode=e}}}function $s(t,e){if(Gs=0,e)return Fl(t,e=Ys()),Js(t),null;var r=Zs(t);if(0!==r){if(e=t.callbackNode,0!=(48&Ts))throw Error(a(327));if(ml(),t===Ss&&r===Ms||rl(t,r),null!==Es){var n=Ts;Ts|=16;for(var i=il();;)try{ll();break}catch(e){nl(t,e)}if(Qi(),Ts=n,gs.current=i,1===Cs)throw e=As,rl(t,r),Il(t,r),Js(t),e;if(null===Es)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=r,n=Cs,Ss=null,n){case bs:case 1:throw Error(a(345));case 2:Fl(t,2<r?2:r);break;case xs:if(Il(t,r),r===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=cl(i)),1073741823===Ps&&10<(i=Rs+500-zi())){if(Is){var o=t.lastPingedTime;if(0===o||o>=r){t.lastPingedTime=r,rl(t,r);break}}if(0!==(o=Zs(t))&&o!==r)break;if(0!==n&&n!==r){t.lastPingedTime=n;break}t.timeoutHandle=gr(fl.bind(null,t),i);break}fl(t);break;case ws:if(Il(t,r),r===(n=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=cl(i)),Is&&(0===(i=t.lastPingedTime)||i>=r)){t.lastPingedTime=r,rl(t,r);break}if(0!==(i=Zs(t))&&i!==r)break;if(0!==n&&n!==r){t.lastPingedTime=n;break}if(1073741823!==ks?n=10*(1073741821-ks)-zi():1073741823===Ps?n=0:(n=10*(1073741821-Ps)-5e3,0>(n=(i=zi())-n)&&(n=0),(r=10*(1073741821-r)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ys(n/1960))-n)&&(n=r)),10<n){t.timeoutHandle=gr(fl.bind(null,t),n);break}fl(t);break;case 5:if(1073741823!==Ps&&null!==Os){o=Ps;var s=Os;if(0>=(n=0|s.busyMinDurationMs)?n=0:(i=0|s.busyDelayMs,n=(o=zi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+n-o),10<n){Il(t,r),t.timeoutHandle=gr(fl.bind(null,t),n);break}}fl(t);break;default:throw Error(a(329))}if(Js(t),t.callbackNode===e)return $s.bind(null,t)}}return null}function Qs(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!=(48&Ts))throw Error(a(327));if(ml(),t===Ss&&e===Ms||rl(t,e),null!==Es){var r=Ts;Ts|=16;for(var n=il();;)try{sl();break}catch(e){nl(t,e)}if(Qi(),Ts=r,gs.current=n,1===Cs)throw r=As,rl(t,e),Il(t,e),Js(t),r;if(null!==Es)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ss=null,fl(t),Js(t)}return null}function tl(t,e){var r=Ts;Ts|=1;try{return t(e)}finally{0===(Ts=r)&&Gi()}}function el(t,e){var r=Ts;Ts&=-2,Ts|=8;try{return t(e)}finally{0===(Ts=r)&&Gi()}}function rl(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var r=t.timeoutHandle;if(-1!==r&&(t.timeoutHandle=-1,_r(r)),null!==Es)for(r=Es.return;null!==r;){var n=r;switch(n.tag){case 1:null!=(n=n.type.childContextTypes)&&vi();break;case 3:Io(),li(fi),li(ci);break;case 5:Fo(n);break;case 4:Io();break;case 13:case 19:li(Lo);break;case 10:to(n)}r=r.return}Ss=t,Es=Ml(t.current,null),Ms=e,Cs=bs,As=null,ks=Ps=1073741823,Os=null,Ds=0,Is=!1}function nl(t,e){for(;;){try{if(Qi(),zo.current=va,Go)for(var r=Uo.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}if(Vo=0,Ho=Wo=Uo=null,Go=!1,null===Es||null===Es.return)return Cs=1,As=e,Es=null;t:{var i=t,o=Es.return,a=Es,s=e;if(e=Ms,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var h=a.alternate;h?(a.updateQueue=h.updateQueue,a.memoizedState=h.memoizedState,a.expirationTime=h.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!=(1&Lo.current),c=o;do{var f;if(f=13===c.tag){var p=c.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var d=c.memoizedProps;f=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!u)}}if(f){var m=c.updateQueue;if(null===m){var v=new Set;v.add(l),c.updateQueue=v}else m.add(l);if(0==(2&c.mode)){if(c.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=so(1073741823,null);y.tag=2,lo(a,y)}a.expirationTime=1073741823;break t}s=void 0,a=e;var g=i.pingCache;if(null===g?(g=i.pingCache=new ps,s=new Set,g.set(l,s)):void 0===(s=g.get(l))&&(s=new Set,g.set(l,s)),!s.has(a)){s.add(a);var _=_l.bind(null,i,l,a);l.then(_,_)}c.effectTag|=4096,c.expirationTime=e;break t}c=c.return}while(null!==c);s=Error((vt(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+yt(a))}5!==Cs&&(Cs=2),s=$a(s,a),c=o;do{switch(c.tag){case 3:l=s,c.effectTag|=4096,c.expirationTime=e,ho(c,ds(c,l,e));break t;case 1:l=s;var b=c.type,x=c.stateNode;if(0==(64&c.effectTag)&&("function"==typeof b.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Bs||!Bs.has(x)))){c.effectTag|=4096,c.expirationTime=e,ho(c,ms(c,l,e));break t}}c=c.return}while(null!==c)}Es=ul(Es)}catch(t){e=t;continue}break}}function il(){var t=gs.current;return gs.current=va,null===t?va:t}function ol(t,e){t<Ps&&2<t&&(Ps=t),null!==e&&t<ks&&2<t&&(ks=t,Os=e)}function al(t){t>Ds&&(Ds=t)}function sl(){for(;null!==Es;)Es=hl(Es)}function ll(){for(;null!==Es&&!Ii();)Es=hl(Es)}function hl(t){var e=vs(t.alternate,t,Ms);return t.memoizedProps=t.pendingProps,null===e&&(e=ul(t)),_s.current=null,e}function ul(t){Es=t;do{var e=Es.alternate;if(t=Es.return,0==(2048&Es.effectTag)){if(e=Za(e,Es,Ms),1===Ms||1!==Es.childExpirationTime){for(var r=0,n=Es.child;null!==n;){var i=n.expirationTime,o=n.childExpirationTime;i>r&&(r=i),o>r&&(r=o),n=n.sibling}Es.childExpirationTime=r}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Es.firstEffect),null!==Es.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Es.firstEffect),t.lastEffect=Es.lastEffect),1<Es.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Es:t.firstEffect=Es,t.lastEffect=Es))}else{if(null!==(e=Ja(Es)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Es.sibling))return e;Es=t}while(null!==Es);return Cs===bs&&(Cs=5),null}function cl(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function fl(t){var e=ji();return Ui(99,pl.bind(null,t,e)),null}function pl(t,e){do{ml()}while(null!==js);if(0!=(48&Ts))throw Error(a(327));var r=t.finishedWork,n=t.finishedExpirationTime;if(null===r)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,r===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=cl(r);if(t.firstPendingTime=i,n<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:n<=t.firstSuspendedTime&&(t.firstSuspendedTime=n-1),n<=t.lastPingedTime&&(t.lastPingedTime=0),n<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ss&&(Es=Ss=null,Ms=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){var o=Ts;Ts|=32,_s.current=null,dr=Ye;var s=fr();if(pr(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{var h=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(h&&0!==h.rangeCount){l=h.anchorNode;var u=h.anchorOffset,c=h.focusNode;h=h.focusOffset;try{l.nodeType,c.nodeType}catch(t){l=null;break t}var f=0,p=-1,d=-1,m=0,v=0,y=s,g=null;e:for(;;){for(var _;y!==l||0!==u&&3!==y.nodeType||(p=f+u),y!==c||0!==h&&3!==y.nodeType||(d=f+h),3===y.nodeType&&(f+=y.nodeValue.length),null!==(_=y.firstChild);)g=y,y=_;for(;;){if(y===s)break e;if(g===l&&++m===u&&(p=f),g===c&&++v===h&&(d=f),null!==(_=y.nextSibling))break;g=(y=g).parentNode}y=_}l=-1===p||-1===d?null:{start:p,end:d}}else l=null}l=l||{start:0,end:0}}else l=null;mr={activeElementDetached:null,focusedElem:s,selectionRange:l},Ye=!1,Fs=i;do{try{dl()}catch(t){if(null===Fs)throw Error(a(330));gl(Fs,t),Fs=Fs.nextEffect}}while(null!==Fs);Fs=i;do{try{for(s=t,l=e;null!==Fs;){var b=Fs.effectTag;if(16&b&&jt(Fs.stateNode,""),128&b){var x=Fs.alternate;if(null!==x){var w=x.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&b){case 2:hs(Fs),Fs.effectTag&=-3;break;case 6:hs(Fs),Fs.effectTag&=-3,cs(Fs.alternate,Fs);break;case 1024:Fs.effectTag&=-1025;break;case 1028:Fs.effectTag&=-1025,cs(Fs.alternate,Fs);break;case 4:cs(Fs.alternate,Fs);break;case 8:us(s,u=Fs,l),ss(u)}Fs=Fs.nextEffect}}catch(t){if(null===Fs)throw Error(a(330));gl(Fs,t),Fs=Fs.nextEffect}}while(null!==Fs);if(w=mr,x=fr(),b=w.focusedElem,l=w.selectionRange,x!==b&&b&&b.ownerDocument&&function t(e,r){return!(!e||!r)&&(e===r||(!e||3!==e.nodeType)&&(r&&3===r.nodeType?t(e,r.parentNode):"contains"in e?e.contains(r):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(r))))}(b.ownerDocument.documentElement,b)){null!==l&&pr(b)&&(x=l.start,void 0===(w=l.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!w.extend&&s>l&&(u=l,l=s,s=u),u=cr(b,s),c=cr(b,l),u&&c&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==c.node||w.focusOffset!==c.offset)&&((x=x.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),s>l?(w.addRange(x),w.extend(c.node,c.offset)):(x.setEnd(c.node,c.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ye=!!dr,mr=dr=null,t.current=r,Fs=i;do{try{for(b=t;null!==Fs;){var T=Fs.effectTag;if(36&T&&os(b,Fs.alternate,Fs),128&T){x=void 0;var S=Fs.ref;if(null!==S){var E=Fs.stateNode;switch(Fs.tag){case 5:x=E;break;default:x=E}"function"==typeof S?S(x):S.current=x}}Fs=Fs.nextEffect}}catch(t){if(null===Fs)throw Error(a(330));gl(Fs,t),Fs=Fs.nextEffect}}while(null!==Fs);Fs=null,Ri(),Ts=o}else t.current=r;if(zs)zs=!1,js=t,Vs=e;else for(Fs=i;null!==Fs;)e=Fs.nextEffect,Fs.nextEffect=null,Fs=e;if(0===(e=t.firstPendingTime)&&(Bs=null),1073741823===e?t===Hs?Ws++:(Ws=0,Hs=t):Ws=0,"function"==typeof xl&&xl(r.stateNode,n),Js(t),Ls)throw Ls=!1,t=Ns,Ns=null,t;return 0!=(8&Ts)||Gi(),null}function dl(){for(;null!==Fs;){var t=Fs.effectTag;0!=(256&t)&&rs(Fs.alternate,Fs),0==(512&t)||zs||(zs=!0,Wi(97,(function(){return ml(),null}))),Fs=Fs.nextEffect}}function ml(){if(90!==Vs){var t=97<Vs?97:Vs;return Vs=90,Ui(t,vl)}}function vl(){if(null===js)return!1;var t=js;if(js=null,0!=(48&Ts))throw Error(a(331));var e=Ts;for(Ts|=32,t=t.current.firstEffect;null!==t;){try{var r=t;if(0!=(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:ns(5,r),is(5,r)}}catch(e){if(null===t)throw Error(a(330));gl(t,e)}r=t.nextEffect,t.nextEffect=null,t=r}return Ts=e,Gi(),!0}function yl(t,e,r){lo(t,e=ds(t,e=$a(r,e),1073741823)),null!==(t=Ks(t,1073741823))&&Js(t)}function gl(t,e){if(3===t.tag)yl(t,t,e);else for(var r=t.return;null!==r;){if(3===r.tag){yl(r,t,e);break}if(1===r.tag){var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Bs||!Bs.has(n))){lo(r,t=ms(r,t=$a(e,t),1073741823)),null!==(r=Ks(r,1073741823))&&Js(r);break}}r=r.return}}function _l(t,e,r){var n=t.pingCache;null!==n&&n.delete(e),Ss===t&&Ms===r?Cs===ws||Cs===xs&&1073741823===Ps&&zi()-Rs<500?rl(t,Ms):Is=!0:Dl(t,r)&&(0!==(e=t.lastPingedTime)&&e<r||(t.lastPingedTime=r,Js(t)))}function bl(t,e){var r=t.stateNode;null!==r&&r.delete(e),0===(e=0)&&(e=Xs(e=Ys(),t,null)),null!==(t=Ks(t,e))&&Js(t)}vs=function(t,e,r){var n=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||fi.current)ka=!0;else{if(n<r){switch(ka=!1,e.tag){case 3:za(e),Aa();break;case 5:if(Ro(e),4&e.mode&&1!==r&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:mi(e.type)&&_i(e);break;case 4:Do(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value,i=e.type._context,hi(Ki,i._currentValue),i._currentValue=n;break;case 13:if(null!==e.memoizedState)return 0!==(n=e.child.childExpirationTime)&&n>=r?Ha(t,e,r):(hi(Lo,1&Lo.current),null!==(e=qa(t,e,r))?e.sibling:null);hi(Lo,1&Lo.current);break;case 19:if(n=e.childExpirationTime>=r,0!=(64&t.effectTag)){if(n)return Xa(t,e,r);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),hi(Lo,Lo.current),!n)return null}return qa(t,e,r)}ka=!1}}else ka=!1;switch(e.expirationTime=0,e.tag){case 2:if(n=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=di(e,ci.current),ro(e,r),i=qo(null,e,n,t,i,r),e.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,mi(n)){var o=!0;_i(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(e);var s=n.getDerivedStateFromProps;"function"==typeof s&&mo(e,n,s,t),i.updater=vo,e.stateNode=i,i._reactInternalFiber=e,bo(e,n,t,r),e=Ba(null,e,n,!0,o,r)}else e.tag=0,Oa(null,e,i,r),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"==typeof t)return El(t)?1:0;if(null!=t){if((t=t.$$typeof)===lt)return 11;if(t===ct)return 14}return 2}(i),t=qi(i,t),o){case 0:e=La(null,e,i,t,r);break t;case 1:e=Na(null,e,i,t,r);break t;case 11:e=Da(null,e,i,t,r);break t;case 14:e=Ia(null,e,i,qi(i.type,t),n,r);break t}throw Error(a(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,La(t,e,n,i=e.elementType===n?i:qi(n,i),r);case 1:return n=e.type,i=e.pendingProps,Na(t,e,n,i=e.elementType===n?i:qi(n,i),r);case 3:if(za(e),n=e.updateQueue,null===t||null===n)throw Error(a(282));if(n=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ao(t,e),uo(e,n,null,r),(n=e.memoizedState.element)===i)Aa(),e=qa(t,e,r);else{if((i=e.stateNode.hydrate)&&(xa=br(e.stateNode.containerInfo.firstChild),ba=e,i=wa=!0),i)for(r=Mo(e,null,n,r),e.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Oa(t,e,n,r),Aa();e=e.child}return e;case 5:return Ro(e),null===t&&Ea(e),n=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,yr(n,i)?s=null:null!==o&&yr(n,o)&&(e.effectTag|=16),Fa(t,e),4&e.mode&&1!==r&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Oa(t,e,s,r),e=e.child),e;case 6:return null===t&&Ea(e),null;case 13:return Ha(t,e,r);case 4:return Do(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Eo(e,null,n,r):Oa(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,Da(t,e,n,i=e.elementType===n?i:qi(n,i),r);case 7:return Oa(t,e,e.pendingProps,r),e.child;case 8:case 12:return Oa(t,e,e.pendingProps.children,r),e.child;case 10:t:{n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var l=e.type._context;if(hi(Ki,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Nn(l,o)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!fi.current){e=qa(t,e,r);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var h=l.dependencies;if(null!==h){s=l.child;for(var u=h.firstContext;null!==u;){if(u.context===n&&0!=(u.observedBits&o)){1===l.tag&&((u=so(r,null)).tag=2,lo(l,u)),l.expirationTime<r&&(l.expirationTime=r),null!==(u=l.alternate)&&u.expirationTime<r&&(u.expirationTime=r),eo(l.return,r),h.expirationTime<r&&(h.expirationTime=r);break}u=u.next}}else s=10===l.tag&&l.type===e.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===e){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Oa(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=(o=e.pendingProps).children,ro(e,r),n=n(i=no(i,o.unstable_observedBits)),e.effectTag|=1,Oa(t,e,n,r),e.child;case 14:return o=qi(i=e.type,e.pendingProps),Ia(t,e,i,o=qi(i.type,o),n,r);case 15:return Ra(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qi(n,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,mi(n)?(t=!0,_i(e)):t=!1,ro(e,r),go(e,n,i),bo(e,n,i,r),Ba(null,e,n,!0,t,r);case 19:return Xa(t,e,r)}throw Error(a(156,e.tag))};var xl=null,wl=null;function Tl(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Sl(t,e,r,n){return new Tl(t,e,r,n)}function El(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ml(t,e){var r=t.alternate;return null===r?((r=Sl(t.tag,e,t.key,t.mode)).elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=t.childExpirationTime,r.expirationTime=t.expirationTime,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Cl(t,e,r,n,i,o){var s=2;if(n=t,"function"==typeof t)El(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case rt:return Al(r.children,i,o,e);case st:s=8,i|=7;break;case nt:s=8,i|=1;break;case it:return(t=Sl(12,r,e,8|i)).elementType=it,t.type=it,t.expirationTime=o,t;case ht:return(t=Sl(13,r,e,i)).type=ht,t.elementType=ht,t.expirationTime=o,t;case ut:return(t=Sl(19,r,e,i)).elementType=ut,t.expirationTime=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case ot:s=10;break t;case at:s=9;break t;case lt:s=11;break t;case ct:s=14;break t;case ft:s=16,n=null;break t;case pt:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Sl(s,r,e,i)).elementType=t,e.type=n,e.expirationTime=o,e}function Al(t,e,r,n){return(t=Sl(7,t,n,e)).expirationTime=r,t}function Pl(t,e,r){return(t=Sl(6,t,null,e)).expirationTime=r,t}function kl(t,e,r){return(e=Sl(4,null!==t.children?t.children:[],t.key,e)).expirationTime=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ol(t,e,r){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Dl(t,e){var r=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==r&&r>=e&&t<=e}function Il(t,e){var r=t.firstSuspendedTime,n=t.lastSuspendedTime;r<e&&(t.firstSuspendedTime=e),(n>e||0===r)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Rl(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var r=t.firstSuspendedTime;0!==r&&(e>=r?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Fl(t,e){var r=t.lastExpiredTime;(0===r||r>e)&&(t.lastExpiredTime=e)}function Ll(t,e,r,n){var i=e.current,o=Ys(),s=fo.suspense;o=Xs(o,i,s);t:if(r){e:{if(Qt(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(a(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(a(171))}if(1===r.tag){var h=r.type;if(mi(h)){r=gi(r,h,l);break t}}r=l}else r=ui;return null===e.context?e.context=r:e.pendingContext=r,(e=so(o,s)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),lo(i,e),qs(i,o),o}function Nl(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Bl(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function zl(t,e){Bl(t,e),(t=t.alternate)&&Bl(t,e)}function jl(t,e,r){var n=new Ol(t,e,r=null!=r&&!0===r.hydrate),i=Sl(3,null,null,2===e?7:1===e?3:0);n.current=i,i.stateNode=n,oo(i),t[Er]=n.current,r&&0!==e&&function(t,e){var r=$t(e);Me.forEach((function(t){de(t,e,r)})),Ce.forEach((function(t){de(t,e,r)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=n}function Vl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Ul(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var t=Nl(a);s.call(t)}}Ll(e,a,t,i)}else{if(o=r._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new jl(t,0,e?{hydrate:!0}:void 0)}(r,n),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var t=Nl(a);l.call(t)}}el((function(){Ll(e,a,t,i)}))}return Nl(a)}function Wl(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==n?null:""+n,children:t,containerInfo:e,implementation:r}}function Hl(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vl(e))throw Error(a(200));return Wl(t,e,null,r)}jl.prototype.render=function(t){Ll(t,this._internalRoot,null,null)},jl.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ll(null,t,null,(function(){e[Er]=null}))},me=function(t){if(13===t.tag){var e=Xi(Ys(),150,100);qs(t,e),zl(t,e)}},ve=function(t){13===t.tag&&(qs(t,3),zl(t,3))},ye=function(t){if(13===t.tag){var e=Ys();qs(t,e=Xs(e,t,null)),zl(t,e)}},A=function(t,e,r){switch(e){case"input":if(Et(t,r),e=r.name,"radio"===r.type&&null!=e){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Pr(n);if(!i)throw Error(a(90));xt(n),Et(n,i)}}}break;case"textarea":Dt(t,r);break;case"select":null!=(e=r.value)&&Pt(t,!!r.multiple,e,!1)}},R=tl,F=function(t,e,r,n,i){var o=Ts;Ts|=4;try{return Ui(98,t.bind(null,e,r,n,i))}finally{0===(Ts=o)&&Gi()}},L=function(){0==(49&Ts)&&(function(){if(null!==Us){var t=Us;Us=null,t.forEach((function(t,e){Fl(e,t),Js(e)})),Gi()}}(),ml())},N=function(t,e){var r=Ts;Ts|=2;try{return t(e)}finally{0===(Ts=r)&&Gi()}};var Gl,Yl,Xl={Events:[Cr,Ar,Pr,M,T,Lr,function(t){ie(t,Fr)},D,I,Je,se,ml,{current:!1}]};Yl=(Gl={findFiberByHostInstance:Mr,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var r=e.inject(t);xl=function(t){try{e.onCommitFiberRoot(r,t,void 0,64==(64&t.current.effectTag))}catch(t){}},wl=function(t){try{e.onCommitFiberUnmount(r,t)}catch(t){}}}catch(t){}}(i({},Gl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=re(t))?null:t.stateNode},findFiberByHostInstance:function(t){return Yl?Yl(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xl,e.createPortal=Hl,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=re(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!=(48&Ts))throw Error(a(187));var r=Ts;Ts|=1;try{return Ui(99,t.bind(null,e))}finally{Ts=r,Gi()}},e.hydrate=function(t,e,r){if(!Vl(e))throw Error(a(200));return Ul(null,t,e,!0,r)},e.render=function(t,e,r){if(!Vl(e))throw Error(a(200));return Ul(null,t,e,!1,r)},e.unmountComponentAtNode=function(t){if(!Vl(t))throw Error(a(40));return!!t._reactRootContainer&&(el((function(){Ul(null,null,t,!1,(function(){t._reactRootContainer=null,t[Er]=null}))})),!0)},e.unstable_batchedUpdates=tl,e.unstable_createPortal=function(t,e){return Hl(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Vl(r))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return Ul(t,e,r,!1,n)},e.version="16.14.0"},zgwS:function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return h})),r.d(e,"d",(function(){return l})),r.d(e,"e",(function(){return u}));var n=r("Yb6r"),i=r("gK8M");r("9pWt");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function o(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))}function a(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function s(t,e,r,o,a,s,l){return void 0===e&&(e={}),void 0===r&&(r="get"),void 0===o&&(o={}),void 0===a&&(a="form"),void 0===s&&(s=!1),new Promise((function(h,u){var c;if(window.XMLHttpRequest?c=new XMLHttpRequest:window.ActiveXObject?c=new window.ActiveXObject(void 0):alert("no xhr"),null!=c){e&&(e=JSON.parse(JSON.stringify(e)));var f="GET"===r.toUpperCase(),p=void 0,d=Date.now();switch(a){case"form":o["Content-Type"]="application/x-www-form-urlencoded",e._t=d,p=function(t,e,r){t&&Object.keys(t).length>0&&("function"==typeof e?t.sign=e(t,r):e&&(t.sign=function(t,e){var r=Object.keys(t);r.sort();for(var i=[],o=0,a=r;o<a.length;o++){var s=a[o];i.push(s+"="+t[s])}i.push("key="+e);var l=i.join("&");return Object(n.g)(l)}(t,r)));return Object(n.h)(t)}(e,s,l);break;case"json":o["Content-Type"]="application/json",p=JSON.stringify(e);break;case"plain":o["Content-Type"]="text/plain",p=e}var m=t,v=window.url_process;for(var y in v&&(m=v(m)),m=f?Object(n.k)(m,p):Object(n.k)(m,"_t="+d),c.timeout=1e4,c.open(r,m,!0),o)c.setRequestHeader(y,o[y]);c.responseType="text",c.onreadystatechange=function(){4==c.readyState&&200==c.status&&h(c.response)},c.onerror=function(){u(new i.a({code:i.b.NET_ERROR,message:"网络错误，请检查网络是否通畅"}))},c.onloadend=function(){var e=c.status;if(200!==e){var r=i.b.NET_ERROR,n="网络错误，请检查网络是否通畅";switch(e){case 404:n=t+" 404 (Not Found)";break;case 429:n="活动太火爆了，请稍后再试~";try{n=JSON.parse(c.response).message}catch(t){}r=i.b.CALL_LIMITING}u(new i.a({code:r,message:n,payload:{code:e,response:c.response}}))}},c.ontimeout=function(){u(new i.a(i.b.REQUEST_TIMEOUT,"请求超时"))},f?c.send():c.send(p)}}))}function l(t,e){void 0===e&&(e={}),e._t=Date.now();var r=Object(n.k)(t,Object(n.h)(e));return Object(n.a)(r)}function h(t,e,r,n,l,h,u,c){return void 0===r&&(r="get"),void 0===l&&(l=!0),void 0===h&&(h=!1),o(this,void 0,void 0,(function(){var o,f;return a(this,(function(a){switch(a.label){case 0:return[4,s(t,e,r,n,c,h,u)];case 1:o=a.sent();try{f=JSON.parse(o)}catch(t){throw new i.a(i.b.INVALID_RESPONSE)}if(l){if(f.success)return[2,f.data];throw new i.a(f)}return[2,f]}}))}))}function u(t,e,r,n,o,a,s,l){void 0===n&&(n=10),void 0===o&&(o=500),void 0===a&&(a="get"),void 0===l&&(l=!0);for(var u,c=Promise.resolve(),f=0;f<n;f++)c=(c=c.then(p)).then((function(){return new Promise((function(t){return setTimeout(t,o)}))}));return c.then((function(){throw new i.a(i.b.POLLING_TIMEOUT,"轮询超时")}),(function(t){if("success"===t){if(l){if(u.success)return u.data;throw new i.a(u)}return u}throw t}));function p(){return h(e,r,a,s,!1).then((function(e){if(t(e))return u=e,Promise.reject("success")}),(function(t){return Promise.reject(t)}))}}function c(t){var e=t.uri,r=t.params,n=t.method,i=t.headers,o=t.justData,a=t.secret,s=t.secretKey,l=t.requestContentType;return h.apply(null,[e,r,n,i,o,a,s,l])}}}]);
//# sourceMappingURL=vendors.77368443.js.map