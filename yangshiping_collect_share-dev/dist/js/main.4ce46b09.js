(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+2NO":function(e,t,n){},0:function(e,t){},"1TcJ":function(e,t,n){var r=n("LboF"),o=n("OKvg");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},"63/5":function(e,t){e.exports={OUTPUT_DIR:"dist",SOURCE_DIR:"src",TEMP_DIR:"./.temp",ENTRY:"src/app.jsx",TEMPLATE:"./public/index.html",API_MOCK:!0,PX2REM:!0,IMAGE_Q1:.6,IMAGE_Q2:.8,RES_PATH:"//yun.duiba.com.cn/spark/v2/temp_base/1642677119263/",RES_PATH_PROD:"//yun.duiba.com.cn/spark/v2/temp_base/1642677119263",JS_PATH_PROD:"https://yun.duiba.com.cn/spark/v2/temp_base/1643113481092/js"}},"8TUu":function(e,t,n){var r=n("LboF"),o=n("Ftvq");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},AYSt:function(e,t,n){var r=n("LboF"),o=n("R1gu");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},BoQS:function(e,t,n){var r=n("LboF"),o=n("djXm");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},Ftvq:function(e,t,n){},Jt83:function(e,t,n){},OKvg:function(e,t,n){},Ougq:function(e,t,n){var r=n("LboF"),o=n("Jt83");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},R1gu:function(e,t,n){},Wo54:function(e,t,n){var r=n("LboF"),o=n("qWHt");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},djXm:function(e,t,n){},k7yg:function(e,t,n){"use strict";n.r(t);var r=n("lSNA"),o=n.n(r),a=n("lwsE"),c=n.n(a),s=n("W8MJ"),i=n.n(s),u=n("7W2i"),l=n.n(u),p=n("a1gu"),f=n.n(p),d=n("Nsbk"),h=n.n(d),g=n("q1tI"),v=n.n(g),m=n("i8i4"),y=n.n(m),b=n("TyAF"),O=(n("mPlr"),n("yXPU")),P=n.n(O),k=n("o0o1"),w=n.n(k),j=n("aFzQ"),R=n("cDf5"),E=n.n(R),x={getRule:"projectRule.query",doJoin:{uri:"join.do",method:"post"}},I=n("Wgss"),L=n("zgwS"),_=n("cj9Y"),D=n("bCyt");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B={user_type:D.b?"0":"1",is_from_share:D.a?"0":"1"},N=function(e){var t={},n=function(n){var r=function(e){if("string"==typeof e)return{uri:e,method:"get"};if("object"===E()(e)){var t=e.uri,n=e.method,r=void 0===n?"get":n,o=e.headers,a=e.withToken,c=e.secret,s=e.secretKey,i=e.contentType;return{uri:t,method:r,headers:o,withToken:a,secret:c,secretKey:s,contentType:void 0===i?"form":i}}console.error("getRequestParams: 传参有误")}(e[n]),o=r.method,a=r.uri,c=r.headers,s=r.withToken,i=r.secret,u=r.secretKey,l=r.contentType;t[n]=P()(w.a.mark((function e(){var t,n,r,p,f,d=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:{},n=d.length>1?d[1]:void 0,!s){e.next=13;break}return e.prev=3,e.next=6,Object(I.a)();case 6:r=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),Object(_.a)("星速台token获取失败，***请补全该处理逻辑***"),e.abrupt("return");case 13:return p=T(T({},c),n),s&&r&&(t.token=r),t=T(T({},t),B),e.next=18,Object(L.c)(a,t,o,p,!1,i,u,l).catch((function(e){Object(_.a)((e.message||"网络异常")+" ***请补全该处理逻辑***")}));case 18:if(!(f=e.sent)){e.next=22;break}return f.success||Object(_.a)((f.message||"接口错误")+" ***请补全该处理逻辑***"),e.abrupt("return",f);case 22:case"end":return e.stop()}}),e,null,[[3,9]])})))};for(var r in e)n(r);return t}(T({},x));var C=n("Yb6r");n("J4zp");var S={give:{title:"送你一张雪花卡，一起来助力冬奥！",content:"玩转雪花卡 大奖拿不停",thumbnail:"https://yun.duiba.com.cn/aurora/assets/59265f2e498bdeb603c2b120e7af2feb68e5b7ef.png",url:""},share:{title:"我在集雪花卡，快来助我一臂之力",content:"玩转雪花，奖品多多，就差你啦！",thumbnail:"https://yun.duiba.com.cn/aurora/assets/59265f2e498bdeb603c2b120e7af2feb68e5b7ef.png",url:""},ask:{title:"快送我一张雪花卡 让我赢大奖吧！",content:"快送我一张雪花卡 让我赢大奖吧！",thumbnail:"https://yun.duiba.com.cn/aurora/assets/59265f2e498bdeb603c2b120e7af2feb68e5b7ef.png",url:""}};function A(e){var t=window.location.search,n=t.slice(1).match(new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"));return t.length?n&&n[2]:null}var F=Object(j.l)({ruleInfo:"",curPage:"homePage",setRule:function(e){this.ruleInfo=e},changePage:function(e,t){this.curPage=e,t&&t()},initRule:function(){var e=this;return P()(w.a.mark((function t(){var n,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.getRule();case 2:n=t.sent,r=n.data,e.setRule(r);case 5:case"end":return t.stop()}}),t)})))()},goDeepLink:function(){var e={type:A("type"),shareCode:A("shareCode"),spId:A("spId"),spCode:A("spCode"),userId:A("userId")},t="https://m.yangshipin.cn/static/duiba.html?redirect="+encodeURIComponent("".concat(location.origin,"/projectx/").concat(CFG.projectId,"/index.html?appID=").concat(CFG.appID,"&").concat(Object(C.h)(e)));window.location.href=t}}),J=(n("8TUu"),n("RIqP")),H=n.n(J),U={},q=Object(j.l)({popList:[],pushPop:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.popList.length){var r,o=this.popList.slice();o.push({key:e,data:t,isMulti:n}),o=o.sort((function(e,t){return(U[t.key]?U[t.key]:10)-(U[e.key]?U[e.key]:10)})),this.popList.clear(),(r=this.popList).push.apply(r,H()(o))}else this.popList.push({key:e,data:t,isMulti:n})},closePop:function(e){if(e){var t,n=this.popList.slice();n=n.filter((function(t){return t.key!=e})),this.popList.clear(),(t=this.popList).push.apply(t,H()(n))}else this.popList.shift()},closePopAll:function(){this.popList.clear()}}),X=n("PJYZ"),G=n.n(X);n("AYSt");function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var z=function(e){l()(n,e);var t=W(n);function n(){var e;c()(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),o()(G()(e),"goDeepLink",(function(){F.goDeepLink()})),e}return i()(n,[{key:"render",value:function(){var e=this;return v.a.createElement("div",{className:"shareModal"},v.a.createElement("div",{className:"helpbtn md24",onClick:function(){e.goDeepLink()}}))}}]),n}(g.Component),K=n("63/5");n("Ougq");function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var Q,Z=function(e){l()(n,e);var t=Y(n);function n(e){var r;return c()(this,n),r=t.call(this,e),o()(G()(r),"goUrl",(function(){F.goDeepLink()})),r}return i()(n,[{key:"render",value:function(){var e=this,t=this.props.popData;return v.a.createElement("div",{className:"askcard"},v.a.createElement("div",{className:"askcardImage"},v.a.createElement("img",{src:K.RES_PATH+"card/".concat(null==t?void 0:t.spId,".png")})),v.a.createElement("div",{className:"sendbtn md23",onClick:function(){e.goUrl()}}))}}]),n}(g.Component);n("1TcJ");function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var ee={sharemodal:z,askcard:Z,givecard:function(e){l()(n,e);var t=$(n);function n(e){var r;return c()(this,n),r=t.call(this,e),o()(G()(r),"goUrl",(function(){F.goDeepLink()})),r}return i()(n,[{key:"render",value:function(){var e=this,t=this.props.popData;return v.a.createElement("div",{className:"giveCardModal"},v.a.createElement("div",{className:"givecard"},v.a.createElement("img",{src:K.RES_PATH+"card/".concat(null==t?void 0:t.spId,".png")})),v.a.createElement("div",{className:"btn md22",onClick:function(){e.goUrl()}}))}}]),n}(g.Component)},te=Object(b.a)(Q=function(e){l()(n,e);var t=V(n);function n(e){return c()(this,n),t.call(this,e)}return i()(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t,n,r,o=Object(j.p)(q.popList);if(!o.length)return document.body.style.overflow="auto",v.a.createElement("section",null);if(o.length>1&&1==o[o.length-1].isMulti){var a=o[o.length-1];n=ee[a.key],r=a.data}var c=o[0];return e=ee[c.key],t=c.data,(e||n)&&(document.body.style.overflow="hidden"),v.a.createElement("section",{className:"modal-hoc-bg",style:{zIndex:q.popList.length?1e3:-1,display:q.popList.length?"block":"none"}},e&&v.a.createElement(e,{popData:t}),n&&v.a.createElement("section",{className:"modal-hoc-bg",style:{zIndex:q.popList.length?1e3:-1,display:q.popList.length?"block":"none"}},v.a.createElement(n,{popData:r})))}}]),n}(g.Component))||Q,ne=n("/2d7"),re=CFG.appID,oe="202."+CFG.projectId+".0.0",ae=[22,23,24].map((function(e,t){return{ele:".md".concat(e),data:{dpm:"".concat(re,".110.").concat(e,".1"),dcm:oe,domain:"//embedlog.duiba.com.cn",appId:re},once:!1}})),ce=(n("BoQS"),n("FatH")),se=n("cM7G"),ie=n("HlzF");function ue(e,t,n){return new Promise((function(r){var o=e.length,a=-1,c=0,s={},i=function(){var t=P()(w.a.mark((function t(){var u,l,p;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c>=o)){t.next=5;break}0==o&&n&&n(1),r(s),t.next=18;break;case 5:if(!(++a>=o)){t.next=8;break}return t.abrupt("return");case 8:return u=e[a],l=K.RES_PATH+e[a],t.next=12,le(l);case 12:(p=t.sent)||console.warn("加载异常",l),s[u]=p,c++,n&&n(c/o),i();case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t=t||1;for(var u=0;u<t;u++)i()}))}function le(e){return pe.apply(this,arguments)}function pe(){return(pe=P()(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.split(".").pop(),e.t0=!0,e.next=e.t0===/png|jpg|jpeg/.test(n)?4:e.t0===/svga/.test(n)?7:e.t0===/spi/.test(n)?10:e.t0===/json/.test(n)?13:e.t0===/mp3|wav/.test(n)?16:19;break;case 4:return e.next=6,fe(t);case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,de(t);case 9:return e.abrupt("return",e.sent);case 10:return e.next=12,he(t);case 12:return e.abrupt("return",e.sent);case 13:return e.next=15,ge(t);case 15:return e.abrupt("return",e.sent);case 16:return e.next=18,ve(t);case 18:return e.abrupt("return",e.sent);case 19:return console.warn("非法资源",t),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){return new Promise((function(t){var n=new Image;n.onload=function(){return t(n)},n.onerror=function(n){console.warn("load",e,n),t(!1)},n.crossOrigin="Anonymous",n.src=e}))}function de(e){return new Promise((function(t){Object(ce.a)(e).then((function(e){return t(e[0])})).catch((function(n){console.warn("load",e,n),t(!1)}))}))}function he(e){return new Promise((function(t){se.b(e,(function(e){t(e)}),(function(n){console.warn("load",e,n),t(!1)}))}))}function ge(e){return new Promise((function(t){se.a.loadJson((function(n,r){n?t(r):(console.warn("load fail",e),t(!1))}),e)}))}function ve(e){return new Promise((function(t){var n=new ie.Howl({src:e,onload:function(){return t(n)},onloaderror:function(n){console.warn("load fail",e,n),t(!1)}})}))}var me,ye=n("lo2X");function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var Oe,Pe=Object(b.a)(me=function(e){l()(n,e);var t=be(n);function n(e){var r;return c()(this,n),r=t.call(this,e),o()(G()(r),"preloadAssetInit",P()(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue(ye.preLoadImg,3,(function(e){return r.onLoadingProgress(e)})).then((function(){setTimeout((function(){ue(ye.asyncLoadImg,1)}),5e3)}));case 1:case"end":return e.stop()}}),e)})))),o()(G()(r),"onLoadingProgress",(function(e){var t=Math.floor(100*e);r.isEvenLoad?r.setEvenProgress(t):r.setProgress(t)})),o()(G()(r),"setProgress",(function(e){r.progressBar.style.transform="translateX(".concat(e-100,"%)"),100==e&&setTimeout((function(){r.props.changePage&&F.changePage(r.props.changePage)}),500)})),o()(G()(r),"setEvenProgress",(function(e){r.intervalId&&clearInterval(r.intervalId);var t=r.curPercentage;r.intervalId=setInterval((function(){if(t>=e)return clearInterval(r.intervalId),void(100==e&&r.props.changePage&&F.changePage(r.props.changePage));t+=1,r.curPercentage=t,r.progressBar.style.transform="translateX(".concat(t-100,"%)")}),10)})),r.curPercentage=0,r.intervalId="",r.isEvenLoad=!0,r}return i()(n,[{key:"componentDidMount",value:function(){this.preloadAssetInit()}},{key:"render",value:function(){var e=this;return v.a.createElement("div",{className:"loading "},v.a.createElement("span",{className:"bg174"}),v.a.createElement("div",{className:"progressBar"},v.a.createElement("span",{className:"atBottom"}),v.a.createElement("span",{className:"loadingBg"},v.a.createElement("span",{className:"above",ref:function(t){return e.progressBar=t}}))),v.a.createElement("span",{className:"inLoad"},"加载中···"))}}]),n}(v.a.Component))||me,ke=(n("Wo54"),n("RMBI"));function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var Ee,xe=Object(b.a)(Oe=function(e){l()(r,e);var t,n=Re(r);function r(e){return c()(this,r),n.call(this,e)}return i()(r,[{key:"componentDidMount",value:(t=P()(w.a.mark((function e(){var t,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ke.b)([ke.a],(function(e){console.info("成功")}));case 2:t=A("type")||"share",Object(ke.c)(je(je({},S[t]),{},{url:location.href})),n=A("type")||"share",r=A("spId")||"","share"===n?q.pushPop("sharemodal"):"give"===n?q.pushPop("givecard",{spId:r}):"ask"===n&&q.pushPop("askcard",{spId:r});case 7:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return v.a.createElement("div",{className:"homePage"})}}]),r}(v.a.Component))||Oe;function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}Object(ne.a)({show:ae,click:ae});var De={loading:v.a.createElement(Pe,null),homePage:v.a.createElement(xe,null)},Me=Object(b.a)(Ee=function(e){l()(n,e);var t=_e(n);function n(){return c()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=F.curPage;return v.a.createElement("div",null,Le(Le({},De[e]),{},{props:{changePage:"homePage"}}),v.a.createElement(te,null))}}]),n}(g.Component))||Ee;y.a.render(v.a.createElement(Me,null),document.getElementById("root"))},lo2X:function(e){e.exports=JSON.parse('{"preLoadImg":["loading/bg174.png","loading/上面.png","loading/底部173.png"],"asyncLoadImg":["askcard/askbg.png","askcard/card.png","askcard/sendbtn.png","askcard/snow.png","card/sp_1.png","card/sp_2.png","card/sp_3.png","card/sp_4.png","givecard/givecardbg.png","givecard/receivebtn.png","givecard/snow.png","sharemodal/bg.png","sharemodal/helpbtn.png","sharemodal/sharebg.png"]}')},mPlr:function(e,t,n){var r=n("LboF"),o=n("+2NO");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},qWHt:function(e,t,n){}},[["k7yg",1,2]]]);
//# sourceMappingURL=main.4ce46b09.js.map